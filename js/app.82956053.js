(function(){"use strict";var t={6217:function(t,e,a){a.d(e,{db:function(){return oe}});var i=a(9242),n=a(3396),o=a(7139);const l={class:"navbar navbar-expand-lg navbar-light bg-light"},r={class:"container-fluid"},s={key:0,class:"navbar-nav me-auto mb-2 mb-lg-0"},d={class:"nav-item dropdown"},c=(0,n._)("a",{class:"nav-link dropdown-toggle",href:"#",id:"navbarDropdown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},[(0,n._)("span",{class:"material-icons"}," account_circle ")],-1),u={class:"dropdown-menu","aria-labelledby":"navbarDropdown"},p=(0,n._)("li",null,[(0,n._)("hr",{class:"dropdown-divider"})],-1),h={key:1,class:"navbar-nav me-auto mb-2 mb-lg-0"},m={class:"nav-item dropdown"},g=(0,n._)("a",{class:"nav-link dropdown-toggle",href:"#",id:"navbarDropdown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},[(0,n._)("span",{class:"material-icons"}," account_circle ")],-1),v={class:"dropdown-menu","aria-labelledby":"navbarDropdown"},f={class:"dropdown-item"},b=(0,n._)("li",null,[(0,n._)("hr",{class:"dropdown-divider"})],-1),w={class:"collapse navbar-collapse",id:"navbarSupportedContent"},_=(0,n._)("ul",{class:"navbar-nav me-auto mb-2 mb-lg-0"},null,-1),y={class:"d-flex"},D=(0,n._)("div",{class:"jumbotron main-background",id:"header"},[(0,n._)("h1",{class:"display-4"},"Weht's Blog"),(0,n._)("hr",{class:"my-4"})],-1);function x(t,e,a,x,k,T){const S=(0,n.up)("SideBar"),U=(0,n.up)("router-view"),C=(0,n.up)("blogFooter");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("nav",l,[(0,n._)("div",r,[""==this.userName?((0,n.wg)(),(0,n.iD)("ul",s,[(0,n._)("li",d,[c,(0,n._)("ul",u,[(0,n._)("li",null,[(0,n._)("a",{class:"dropdown-item",onClick:e[0]||(e[0]=(...t)=>T.CheckUser&&T.CheckUser(...t))},"로그인")]),p,(0,n._)("li",null,[(0,n._)("a",{class:"dropdown-item",id:"drit1",onClick:e[1]||(e[1]=t=>(T.signInWithGoogle(),T.CheckUser()))},"구글로그인")])])])])):((0,n.wg)(),(0,n.iD)("ul",h,[(0,n._)("li",m,[g,(0,n._)("ul",v,[(0,n._)("li",null,[(0,n._)("a",f,"Hello! "+(0,o.zw)(this.userName),1)]),b,(0,n._)("li",null,[(0,n._)("a",{class:"dropdown-item",id:"drit2",onClick:e[2]||(e[2]=(...t)=>T.signOut&&T.signOut(...t))},"로그아웃")])])])])),(0,n._)("div",w,[_,(0,n._)("form",y,[(0,n.wy)((0,n._)("input",{class:"form-control me-2",placeholder:"Search Title","onUpdate:modelValue":e[3]||(e[3]=t=>k.searchData=t)},null,512),[[i.nr,k.searchData]])]),(0,n._)("button",{class:"btn btn-outline-success",onClick:e[4]||(e[4]=(...t)=>T.searchText&&T.searchText(...t))},"Search")])])]),D,(0,n.Wm)(S),(0,n.Wm)(U,{fireData:k.fireData,userUid:k.userUid},null,8,["fireData","userUid"]),(0,n.Wm)(C)],64)}const k={class:"menu"},T=(0,n._)("div",null,"메뉴",-1),S=[T],U=(0,n._)("input",{type:"checkbox",id:"expand-menu",name:"expand-menu"},null,-1),C={id:"sideBar"},O=(0,n._)("div",null,"프로필",-1),z=(0,n._)("div",null,"글쓰기",-1),Z=(0,n._)("li",null,[(0,n._)("a",{href:"/",class:"item"},[(0,n._)("div",null,"홈 / 글목록")])],-1),H=(0,n._)("div",null,"TOP",-1),L=[H];function j(t,e,a,i,o,l){const r=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("div",k,[(0,n._)("label",{for:"expand-menu",onClick:e[0]||(e[0]=(...e)=>t.sideToggle&&t.sideToggle(...e))},S),U,(0,n._)("ul",C,[(0,n._)("li",null,[(0,n.Wm)(r,{to:"/profile",class:"item"},{default:(0,n.w5)((()=>[O])),_:1})]),(0,n._)("li",null,[(0,n.Wm)(r,{to:"/write",class:"item"},{default:(0,n.w5)((()=>[z])),_:1})]),Z,(0,n._)("li",null,[(0,n._)("a",{class:"item",onClick:e[1]||(e[1]=(...t)=>l.goToTop&&l.goToTop(...t))},L)])])])}var G={name:"sideBar",methods:{goToTop(){window.scrollTo(0,0)}}},M=a(89);const P=(0,M.Z)(G,[["render",j]]);var W=P;const I={class:"site-footer"},E=(0,n.uE)('<div class="container"><div class="row"><div class="footer-text"><h6>About</h6><p class="text-justify">이 사이트는 vue와 firebase로 만들어져 있습니다</p></div></div><hr></div><div class="container"><div class="row"><div class="col-md-8 col-sm-6 col-xs-12"><p class="copyright-text">This site was created in 2022 Project start date 2.28 ~ 3.12</p></div></div></div>',2),N=[E];function F(t,e,a,i,o,l){return(0,n.wg)(),(0,n.iD)("footer",I,N)}var $={name:"blogFooter"};const A=(0,M.Z)($,[["render",F]]);var B=A,R=(a(2443),a(4275)),Y={name:"App",data(){return{cnt:!0,loading:!1,userName:"",fireData:[],searchData:"",userUid:""}},components:{SideBar:W,blogFooter:B},methods:{sideToggle(){var t=document.getElementById("sideBar");1==this.cnt?(t.style.display="block",this.cnt=!1):(t.style.display="none",this.cnt=!0)},testFirebase(){oe.collection("user").get().then((t=>{t.forEach((t=>{console.log(t.data())}))}))},signInWithGoogle(){var t=new R.Z.auth.GoogleAuthProvider;console.log(t),this.loading=!0;try{var e=R.Z.auth().signInWithPopup(t);console.log(e)}finally{this.loading=!1}},CheckUser(){R.Z.auth().onAuthStateChanged((t=>{if(t){localStorage.setItem("user",JSON.stringify(t));var e=localStorage.getItem("user");this.userName=JSON.parse(e).displayName,this.userUid=JSON.parse(e).uid}}))},signOut(){R.Z.auth().signOut().then((()=>{alert("로그아웃되었습니다"),this.userName=""}))},CheckData(){oe.collection("post").orderBy("date","asc").get().then((t=>{t.forEach((t=>{this.fireData.push({title:t.data().title,content:t.data().content,img:t.data().imgURL,date:t.data().date,id:t.id,storageURL:t.data().storageURL,uid:this.userUid})}))}))},searchText(){let t=this.fireData,e=t.filter((t=>new RegExp(this.searchData,"i").test(t.title)));console.log(e),this.fireData=e}},mounted(){this.CheckUser(),this.CheckData()}};const V=(0,M.Z)(Y,[["render",x]]);var q=V,J=(a(4059),a(8937),a(678));const K={class:"mainPosition"},Q=(0,n._)("div",{class:"mainTitle"},"Home / List",-1),X={class:"container"},tt={class:"row"},et={class:"card"},at={class:"image-box"},it=["src"],nt={class:"card-body"},ot={class:"card-title"},lt={class:"card-text"};function rt(t,e,a,i,l,r){const s=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("div",K,[Q,(0,n._)("div",X,[(0,n._)("div",tt,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.fireData,((t,e)=>((0,n.wg)(),(0,n.iD)("div",{class:"col-6",key:e},[(0,n._)("div",et,[(0,n.Wm)(s,{to:{path:"/detail/"+e}},{default:(0,n.w5)((()=>[(0,n._)("div",at,[(0,n._)("img",{src:a.fireData[e].img,alt:"https://via.placeholder.com/600"},null,8,it)]),(0,n._)("div",nt,[(0,n._)("h5",ot,(0,o.zw)(a.fireData[e].title),1),(0,n._)("p",lt,(0,o.zw)(a.fireData[e].date),1)])])),_:2},1032,["to"])])])))),128))])])])}var st={name:"mainPage",data(){return{}},props:{fireData:Array},methods:{mainData(){oe.collection("post").get().then((t=>{t.forEach((t=>{console.log(t.data())}))}))}}};const dt=(0,M.Z)(st,[["render",rt]]);var ct=dt;const ut=(0,n._)("h1",{id:"writeHead"},"블로그 글 작성",-1),pt={class:"input-group mb-3"},ht=(0,n._)("span",{class:"input-group-text",id:"inputGroup-sizing-default"},"제목",-1),mt=(0,n._)("div",{id:"editor"},null,-1),gt=(0,n._)("input",{type:"file",id:"image",accept:"image/*"},null,-1);function vt(t,e,a,o,l,r){return(0,n.wg)(),(0,n.iD)(n.HY,null,[ut,(0,n._)("div",pt,[ht,(0,n.wy)((0,n._)("input",{type:"text",class:"form-control",id:"inputGroup-sizing-default2","aria-label":"Sizing example input","aria-describedby":"inputGroup-sizing-default","onUpdate:modelValue":e[0]||(e[0]=t=>l.title=t)},null,512),[[i.nr,l.title]])]),mt,gt,(0,n._)("button",{class:"btn btn-primary",id:"sub",onClick:e[1]||(e[1]=(...t)=>r.subData&&r.subData(...t))},"작성완료")],64)}var ft=a(6691),bt=(a(4036),a(3812),{name:"editorWrite",data(){return{editor:null,localDisplayuid:"",title:""}},mounted(){this.editor=new ft.ZP({el:document.querySelector("#editor"),height:"500px",width:"auto",initialEditType:"wysiwyg",hooks:{}})},methods:{subData(){console.log(this.editor.getHTML());const t=R.Z.storage();var e=document.querySelector("#image").files[0],a=t.ref().child("image/"+e.name).put(e);a.on("state_changed",null,(t=>{console.error("실패사유는",t)}),(()=>{a.snapshot.ref.getDownloadURL().then((t=>{console.log("업로드된 경로는",t);var a=localStorage.getItem("user");this.localDisplayuid=JSON.parse(a).uid;var i={content:this.editor.getHTML(),date:(new Date).getFullYear()+"-"+((new Date).getMonth()+1)+"-"+(new Date).getDate()+" "+(new Date).getHours()+":"+(new Date).getMinutes(),title:this.title,imgURL:t,storageURL:"image/"+e.name,uid:this.localDisplayuid};oe.collection("post").add(i).then((()=>{alert("등록에 성공했습니다"),window.location.href="/"})).catch((t=>{console.log(t)}))}))}))}}});const wt=(0,M.Z)(bt,[["render",vt]]);var _t=wt;const yt={class:"container mt-5 mb-3"},Dt=(0,n.uE)('<div class="row"><div class="col-md-4"></div><div class="col-md-4"><div class="card p-3 mb-2"><div class="d-flex justify-content-between"><div class="d-flex flex-row align-items-center"><div class="icon"><i class="material-icons"></i></div><div class="ms-2 c-details"><h6 class="mb-0">weht</h6><span>3.12</span></div></div><div class="badge"><span>frontend</span></div></div><div class="mt-5"><h3 class="heading">Github<br><a href="https://github.com/weht">https://github.com/weht</a></h3><div class="mt-5"><div class="mt-3"><span class="text1">vue + firebase <span class="text2">project</span></span></div><div class="mt-4"></div></div><div class="mt-4"></div></div><div class="mt-4"></div></div><div class="mt-4"></div></div><div class="mt-4"></div></div><div class="mt-5"></div>',2),xt=[Dt];function kt(t,e,a,i,o,l){return(0,n.wg)(),(0,n.iD)("div",yt,xt)}var Tt={name:"wehtProfile"};const St=(0,M.Z)(Tt,[["render",kt]]);var Ut=St;const Ct={class:"input-group mb-3"},Ot=(0,n._)("span",{class:"input-group-text",id:"inputGroup-sizing-default"},"제목",-1),zt=(0,n._)("label",{for:"exampleFormControlTextarea1",class:"form-label"},"썸네일용 사진",-1),Zt={class:"col-6"},Ht={class:"thumbnail-box"},Lt={class:"image-box"},jt=["src"],Gt={class:"mb-3"},Mt=(0,n._)("label",{for:"exampleFormControlTextarea1",class:"form-label"},"내용",-1),Pt=["innerHTML"],Wt=(0,n._)("button",{class:"btn btn-secondary",id:"retouch"},"수정",-1);function It(t,e,a,o,l,r){const s=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",Ct,[Ot,(0,n.wy)((0,n._)("input",{type:"text",class:"form-control",id:"inputGroup-sizing-default2","aria-label":"Sizing example input","aria-describedby":"inputGroup-sizing-default","onUpdate:modelValue":e[0]||(e[0]=t=>l.title=t),readonly:""},null,512),[[i.nr,l.title]])]),zt,(0,n._)("div",Zt,[(0,n._)("div",Ht,[(0,n._)("div",Lt,[(0,n._)("img",{src:a.fireData[this.$route.params.id].img,alt:""},null,8,jt)])])]),(0,n._)("div",Gt,[Mt,(0,n._)("p",{innerHTML:l.content},null,8,Pt)]),(0,n.Wm)(s,{to:{path:"/retouch/"+this.$route.params.id}},{default:(0,n.w5)((()=>[Wt])),_:1},8,["to"]),(0,n._)("button",{class:"btn btn-danger",id:"delete",onClick:e[1]||(e[1]=(...t)=>r.deleteData&&r.deleteData(...t))},"삭제"),(0,n.wy)((0,n._)("input",{type:"hidden",id:"hiddenNumber","onUpdate:modelValue":e[2]||(e[2]=t=>this.$route.params.id=t)},null,512),[[i.nr,this.$route.params.id]])],64)}var Et={name:"blogDetail",props:{fireData:Array,userUid:String},data(){return{viewer:null,title:"",content:""}},mounted(){this.checkData()},methods:{checkData(){setTimeout((()=>{this.content=this.fireData[this.$route.params.id].content,this.title=this.fireData[this.$route.params.id].title}),900)},deleteData(){oe.collection("post").doc(this.fireData[this.$route.params.id].id).delete().then((()=>{const t=R.Z.storage();t.ref().child(this.fireData[this.$route.params.id].storageURL).delete(),alert("현재 포스트 삭제를 완료했습니다"),window.location.href="/"}))},hideButton(){var t=localStorage.getItem("user");this.userUid!=JSON.parse(t).uid&&(document.querySelector("#retouch").style.display="none",document.querySelector("#delete").style.display="none")}}};const Nt=(0,M.Z)(Et,[["render",It]]);var Ft=Nt;const $t=(0,n._)("h1",{id:"writeHead"},"블로그 글 수정",-1),At={class:"input-group mb-3"},Bt=(0,n._)("span",{class:"input-group-text",id:"inputGroup-sizing-default"},"제목",-1),Rt=(0,n._)("div",{id:"editor"},null,-1),Yt=(0,n._)("input",{type:"file",id:"image",accept:"image/*"},null,-1);function Vt(t,e,a,o,l,r){return(0,n.wg)(),(0,n.iD)(n.HY,null,[$t,(0,n._)("div",At,[Bt,(0,n.wy)((0,n._)("input",{type:"text",class:"form-control",id:"inputGroup-sizing-default2","aria-label":"Sizing example input","aria-describedby":"inputGroup-sizing-default","onUpdate:modelValue":e[0]||(e[0]=t=>l.title=t)},null,512),[[i.nr,l.title]])]),Rt,Yt,(0,n._)("button",{class:"btn btn-primary",id:"sub",onClick:e[1]||(e[1]=(...t)=>r.updateData&&r.updateData(...t))},"수정완료")],64)}var qt={name:"editorWrite",data(){return{editor:null,localDisplayuid:"",title:"",content:""}},props:{fireData:Array},mounted(){this.checkData(),setTimeout((()=>{this.editor=new ft.ZP({el:document.querySelector("#editor"),height:"500px",width:"auto",initialEditType:"wysiwyg",initialValue:this.content,hooks:{}})}),900)},methods:{updateData(){const t=R.Z.storage();var e=document.querySelector("#image").files[0],a=t.ref().child("image/"+e.name).put(e);a.on("state_changed",null,(t=>{console.error("실패사유는",t)}),(()=>{a.snapshot.ref.getDownloadURL().then((t=>{var e={content:this.editor.getHTML(),date:(new Date).getFullYear()+"-"+((new Date).getMonth()+1)+"-"+(new Date).getDate()+" "+(new Date).getHours()+":"+(new Date).getMinutes(),title:this.title,imgURL:t};console.log("업로드된 경로는",t),oe.collection("post").doc(this.fireData[this.$route.params.id].id).update(e).then((()=>{alert("업데이트에 성공했습니다"),window.location.href="/"})).catch((t=>console.log(t)))}))}))},checkData(){setTimeout((()=>{this.content=this.fireData[this.$route.params.id].content,this.title=this.fireData[this.$route.params.id].title}),900)},onEditorChange(){this.editor.setHTML(this.content)}}};const Jt=(0,M.Z)(qt,[["render",Vt]]);var Kt=Jt;const Qt=[{path:"/",component:ct},{path:"/write",component:_t},{path:"/profile",component:Ut},{path:"/detail/:id",component:Ft},{path:"/retouch/:id",component:Kt}],Xt=(0,J.p7)({history:(0,J.PO)(),routes:Qt});var te=Xt,ee=a(9749);const ae=(0,ee.MT)({state(){return{}},mutations:{}});var ie=ae;const ne={apiKey:"AIzaSyD61u1CIVdFgwU_fiGzsyWYeFmJ9zA5c4E",authDomain:"vueblogweht.firebaseapp.com",projectId:"vueblogweht",storageBucket:"vueblogweht.appspot.com",messagingSenderId:"723170776369",appId:"1:723170776369:web:337620607e1802a5ed4c10"};R.Z.initializeApp(ne);const oe=R.Z.firestore();(0,i.ri)(q).use(te).use(ie).mount("#app")}},e={};function a(i){var n=e[i];if(void 0!==n)return n.exports;var o=e[i]={id:i,loaded:!1,exports:{}};return t[i].call(o.exports,o,o.exports,a),o.loaded=!0,o.exports}a.m=t,function(){var t=[];a.O=function(e,i,n,o){if(!i){var l=1/0;for(c=0;c<t.length;c++){i=t[c][0],n=t[c][1],o=t[c][2];for(var r=!0,s=0;s<i.length;s++)(!1&o||l>=o)&&Object.keys(a.O).every((function(t){return a.O[t](i[s])}))?i.splice(s--,1):(r=!1,o<l&&(l=o));if(r){t.splice(c--,1);var d=n();void 0!==d&&(e=d)}}return e}o=o||0;for(var c=t.length;c>0&&t[c-1][2]>o;c--)t[c]=t[c-1];t[c]=[i,n,o]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var i in e)a.o(e,i)&&!a.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){a.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){var t={143:0};a.O.j=function(e){return 0===t[e]};var e=function(e,i){var n,o,l=i[0],r=i[1],s=i[2],d=0;if(l.some((function(e){return 0!==t[e]}))){for(n in r)a.o(r,n)&&(a.m[n]=r[n]);if(s)var c=s(a)}for(e&&e(i);d<l.length;d++)o=l[d],a.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return a.O(c)},i=self["webpackChunkwehtbloggggg"]=self["webpackChunkwehtbloggggg"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var i=a.O(void 0,[998],(function(){return a(6217)}));i=a.O(i)})();
//# sourceMappingURL=app.82956053.js.map