(self["webpackChunkwehtbloggggg"]=self["webpackChunkwehtbloggggg"]||[]).push([[998],{9662:function(t,e,n){var r=n(7854),i=n(614),o=n(6330),s=r.TypeError;t.exports=function(t){if(i(t))return t;throw s(o(t)+" is not a function")}},6077:function(t,e,n){var r=n(7854),i=n(614),o=r.String,s=r.TypeError;t.exports=function(t){if("object"==typeof t||i(t))return t;throw s("Can't set "+o(t)+" as a prototype")}},1223:function(t,e,n){var r=n(5112),i=n(30),o=n(3070),s=r("unscopables"),a=Array.prototype;void 0==a[s]&&o.f(a,s,{configurable:!0,value:i(null)}),t.exports=function(t){a[s][t]=!0}},5787:function(t,e,n){var r=n(7854),i=n(7976),o=r.TypeError;t.exports=function(t,e){if(i(e,t))return t;throw o("Incorrect invocation")}},9670:function(t,e,n){var r=n(7854),i=n(111),o=r.String,s=r.TypeError;t.exports=function(t){if(i(t))return t;throw s(o(t)+" is not an object")}},4019:function(t){t.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},260:function(t,e,n){"use strict";var r,i,o,s=n(4019),a=n(9781),u=n(7854),c=n(614),l=n(111),h=n(2597),f=n(648),p=n(6330),d=n(8880),m=n(1320),v=n(3070).f,g=n(7976),y=n(9518),b=n(7674),w=n(5112),k=n(9711),_=u.Int8Array,T=_&&_.prototype,E=u.Uint8ClampedArray,C=E&&E.prototype,x=_&&y(_),S=T&&y(T),I=Object.prototype,A=u.TypeError,N=w("toStringTag"),O=k("TYPED_ARRAY_TAG"),D=k("TYPED_ARRAY_CONSTRUCTOR"),M=s&&!!b&&"Opera"!==f(u.opera),R=!1,L={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},P={BigInt64Array:8,BigUint64Array:8},F=function(t){if(!l(t))return!1;var e=f(t);return"DataView"===e||h(L,e)||h(P,e)},j=function(t){if(!l(t))return!1;var e=f(t);return h(L,e)||h(P,e)},B=function(t){if(j(t))return t;throw A("Target is not a typed array")},V=function(t){if(c(t)&&(!b||g(x,t)))return t;throw A(p(t)+" is not a typed array constructor")},U=function(t,e,n,r){if(a){if(n)for(var i in L){var o=u[i];if(o&&h(o.prototype,t))try{delete o.prototype[t]}catch(s){try{o.prototype[t]=e}catch(c){}}}S[t]&&!n||m(S,t,n?e:M&&T[t]||e,r)}},q=function(t,e,n){var r,i;if(a){if(b){if(n)for(r in L)if(i=u[r],i&&h(i,t))try{delete i[t]}catch(o){}if(x[t]&&!n)return;try{return m(x,t,n?e:M&&x[t]||e)}catch(o){}}for(r in L)i=u[r],!i||i[t]&&!n||m(i,t,e)}};for(r in L)i=u[r],o=i&&i.prototype,o?d(o,D,i):M=!1;for(r in P)i=u[r],o=i&&i.prototype,o&&d(o,D,i);if((!M||!c(x)||x===Function.prototype)&&(x=function(){throw A("Incorrect invocation")},M))for(r in L)u[r]&&b(u[r],x);if((!M||!S||S===I)&&(S=x.prototype,M))for(r in L)u[r]&&b(u[r].prototype,S);if(M&&y(C)!==S&&b(C,S),a&&!h(S,N))for(r in R=!0,v(S,N,{get:function(){return l(this)?this[O]:void 0}}),L)u[r]&&d(u[r],O,r);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:M,TYPED_ARRAY_CONSTRUCTOR:D,TYPED_ARRAY_TAG:R&&O,aTypedArray:B,aTypedArrayConstructor:V,exportTypedArrayMethod:U,exportTypedArrayStaticMethod:q,isView:F,isTypedArray:j,TypedArray:x,TypedArrayPrototype:S}},1318:function(t,e,n){var r=n(5656),i=n(1400),o=n(6244),s=function(t){return function(e,n,s){var a,u=r(e),c=o(u),l=i(s,c);if(t&&n!=n){while(c>l)if(a=u[l++],a!=a)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===n)return t||l||0;return!t&&-1}};t.exports={includes:s(!0),indexOf:s(!1)}},206:function(t,e,n){var r=n(1702);t.exports=r([].slice)},4326:function(t,e,n){var r=n(1702),i=r({}.toString),o=r("".slice);t.exports=function(t){return o(i(t),8,-1)}},648:function(t,e,n){var r=n(7854),i=n(1694),o=n(614),s=n(4326),a=n(5112),u=a("toStringTag"),c=r.Object,l="Arguments"==s(function(){return arguments}()),h=function(t,e){try{return t[e]}catch(n){}};t.exports=i?s:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=h(e=c(t),u))?n:l?s(e):"Object"==(r=s(e))&&o(e.callee)?"Arguments":r}},7741:function(t,e,n){var r=n(1702),i=r("".replace),o=function(t){return String(Error(t).stack)}("zxcasd"),s=/\n\s*at [^:]*:[^\n]*/,a=s.test(o);t.exports=function(t,e){if(a&&"string"==typeof t)while(e--)t=i(t,s,"");return t}},9920:function(t,e,n){var r=n(2597),i=n(3887),o=n(1236),s=n(3070);t.exports=function(t,e,n){for(var a=i(e),u=s.f,c=o.f,l=0;l<a.length;l++){var h=a[l];r(t,h)||n&&r(n,h)||u(t,h,c(e,h))}}},8544:function(t,e,n){var r=n(7293);t.exports=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},8880:function(t,e,n){var r=n(9781),i=n(3070),o=n(9114);t.exports=r?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},9114:function(t){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},9781:function(t,e,n){var r=n(7293);t.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},317:function(t,e,n){var r=n(7854),i=n(111),o=r.document,s=i(o)&&i(o.createElement);t.exports=function(t){return s?o.createElement(t):{}}},3678:function(t){t.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},6833:function(t,e,n){var r=n(8113);t.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},5268:function(t,e,n){var r=n(4326),i=n(7854);t.exports="process"==r(i.process)},8113:function(t,e,n){var r=n(5005);t.exports=r("navigator","userAgent")||""},7392:function(t,e,n){var r,i,o=n(7854),s=n(8113),a=o.process,u=o.Deno,c=a&&a.versions||u&&u.version,l=c&&c.v8;l&&(r=l.split("."),i=r[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&s&&(r=s.match(/Edge\/(\d+)/),(!r||r[1]>=74)&&(r=s.match(/Chrome\/(\d+)/),r&&(i=+r[1]))),t.exports=i},748:function(t){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2914:function(t,e,n){var r=n(7293),i=n(9114);t.exports=!r((function(){var t=Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",i(1,7)),7!==t.stack)}))},2109:function(t,e,n){var r=n(7854),i=n(1236).f,o=n(8880),s=n(1320),a=n(3505),u=n(9920),c=n(4705);t.exports=function(t,e){var n,l,h,f,p,d,m=t.target,v=t.global,g=t.stat;if(l=v?r:g?r[m]||a(m,{}):(r[m]||{}).prototype,l)for(h in e){if(p=e[h],t.noTargetGet?(d=i(l,h),f=d&&d.value):f=l[h],n=c(v?h:m+(g?".":"#")+h,t.forced),!n&&void 0!==f){if(typeof p==typeof f)continue;u(p,f)}(t.sham||f&&f.sham)&&o(p,"sham",!0),s(l,h,p,t)}}},7293:function(t){t.exports=function(t){try{return!!t()}catch(e){return!0}}},2104:function(t,e,n){var r=n(4374),i=Function.prototype,o=i.apply,s=i.call;t.exports="object"==typeof Reflect&&Reflect.apply||(r?s.bind(o):function(){return s.apply(o,arguments)})},9974:function(t,e,n){var r=n(1702),i=n(9662),o=n(4374),s=r(r.bind);t.exports=function(t,e){return i(t),void 0===e?t:o?s(t,e):function(){return t.apply(e,arguments)}}},4374:function(t,e,n){var r=n(7293);t.exports=!r((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},6916:function(t,e,n){var r=n(4374),i=Function.prototype.call;t.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},6530:function(t,e,n){var r=n(9781),i=n(2597),o=Function.prototype,s=r&&Object.getOwnPropertyDescriptor,a=i(o,"name"),u=a&&"something"===function(){}.name,c=a&&(!r||r&&s(o,"name").configurable);t.exports={EXISTS:a,PROPER:u,CONFIGURABLE:c}},1702:function(t,e,n){var r=n(4374),i=Function.prototype,o=i.bind,s=i.call,a=r&&o.bind(s,s);t.exports=r?function(t){return t&&a(t)}:function(t){return t&&function(){return s.apply(t,arguments)}}},5005:function(t,e,n){var r=n(7854),i=n(614),o=function(t){return i(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?o(r[t]):r[t]&&r[t][e]}},8173:function(t,e,n){var r=n(9662);t.exports=function(t,e){var n=t[e];return null==n?void 0:r(n)}},7854:function(t,e,n){var r=function(t){return t&&t.Math==Math&&t};t.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},2597:function(t,e,n){var r=n(1702),i=n(7908),o=r({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return o(i(t),e)}},3501:function(t){t.exports={}},490:function(t,e,n){var r=n(5005);t.exports=r("document","documentElement")},4664:function(t,e,n){var r=n(9781),i=n(7293),o=n(317);t.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},8361:function(t,e,n){var r=n(7854),i=n(1702),o=n(7293),s=n(4326),a=r.Object,u=i("".split);t.exports=o((function(){return!a("z").propertyIsEnumerable(0)}))?function(t){return"String"==s(t)?u(t,""):a(t)}:a},9587:function(t,e,n){var r=n(614),i=n(111),o=n(7674);t.exports=function(t,e,n){var s,a;return o&&r(s=e.constructor)&&s!==n&&i(a=s.prototype)&&a!==n.prototype&&o(t,a),t}},2788:function(t,e,n){var r=n(1702),i=n(614),o=n(5465),s=r(Function.toString);i(o.inspectSource)||(o.inspectSource=function(t){return s(t)}),t.exports=o.inspectSource},8340:function(t,e,n){var r=n(111),i=n(8880);t.exports=function(t,e){r(e)&&"cause"in e&&i(t,"cause",e.cause)}},9909:function(t,e,n){var r,i,o,s=n(8536),a=n(7854),u=n(1702),c=n(111),l=n(8880),h=n(2597),f=n(5465),p=n(6200),d=n(3501),m="Object already initialized",v=a.TypeError,g=a.WeakMap,y=function(t){return o(t)?i(t):r(t,{})},b=function(t){return function(e){var n;if(!c(e)||(n=i(e)).type!==t)throw v("Incompatible receiver, "+t+" required");return n}};if(s||f.state){var w=f.state||(f.state=new g),k=u(w.get),_=u(w.has),T=u(w.set);r=function(t,e){if(_(w,t))throw new v(m);return e.facade=t,T(w,t,e),e},i=function(t){return k(w,t)||{}},o=function(t){return _(w,t)}}else{var E=p("state");d[E]=!0,r=function(t,e){if(h(t,E))throw new v(m);return e.facade=t,l(t,E,e),e},i=function(t){return h(t,E)?t[E]:{}},o=function(t){return h(t,E)}}t.exports={set:r,get:i,has:o,enforce:y,getterFor:b}},614:function(t){t.exports=function(t){return"function"==typeof t}},4705:function(t,e,n){var r=n(7293),i=n(614),o=/#|\.prototype\./,s=function(t,e){var n=u[a(t)];return n==l||n!=c&&(i(e)?r(e):!!e)},a=s.normalize=function(t){return String(t).replace(o,".").toLowerCase()},u=s.data={},c=s.NATIVE="N",l=s.POLYFILL="P";t.exports=s},111:function(t,e,n){var r=n(614);t.exports=function(t){return"object"==typeof t?null!==t:r(t)}},1913:function(t){t.exports=!1},2190:function(t,e,n){var r=n(7854),i=n(5005),o=n(614),s=n(7976),a=n(3307),u=r.Object;t.exports=a?function(t){return"symbol"==typeof t}:function(t){var e=i("Symbol");return o(e)&&s(e.prototype,u(t))}},6244:function(t,e,n){var r=n(7466);t.exports=function(t){return r(t.length)}},133:function(t,e,n){var r=n(7392),i=n(7293);t.exports=!!Object.getOwnPropertySymbols&&!i((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},8536:function(t,e,n){var r=n(7854),i=n(614),o=n(2788),s=r.WeakMap;t.exports=i(s)&&/native code/.test(o(s))},6277:function(t,e,n){var r=n(1340);t.exports=function(t,e){return void 0===t?arguments.length<2?"":e:r(t)}},30:function(t,e,n){var r,i=n(9670),o=n(6048),s=n(748),a=n(3501),u=n(490),c=n(317),l=n(6200),h=">",f="<",p="prototype",d="script",m=l("IE_PROTO"),v=function(){},g=function(t){return f+d+h+t+f+"/"+d+h},y=function(t){t.write(g("")),t.close();var e=t.parentWindow.Object;return t=null,e},b=function(){var t,e=c("iframe"),n="java"+d+":";return e.style.display="none",u.appendChild(e),e.src=String(n),t=e.contentWindow.document,t.open(),t.write(g("document.F=Object")),t.close(),t.F},w=function(){try{r=new ActiveXObject("htmlfile")}catch(e){}w="undefined"!=typeof document?document.domain&&r?y(r):b():y(r);var t=s.length;while(t--)delete w[p][s[t]];return w()};a[m]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(v[p]=i(t),n=new v,v[p]=null,n[m]=t):n=w(),void 0===e?n:o.f(n,e)}},6048:function(t,e,n){var r=n(9781),i=n(3353),o=n(3070),s=n(9670),a=n(5656),u=n(1956);e.f=r&&!i?Object.defineProperties:function(t,e){s(t);var n,r=a(e),i=u(e),c=i.length,l=0;while(c>l)o.f(t,n=i[l++],r[n]);return t}},3070:function(t,e,n){var r=n(7854),i=n(9781),o=n(4664),s=n(3353),a=n(9670),u=n(4948),c=r.TypeError,l=Object.defineProperty,h=Object.getOwnPropertyDescriptor,f="enumerable",p="configurable",d="writable";e.f=i?s?function(t,e,n){if(a(t),e=u(e),a(n),"function"===typeof t&&"prototype"===e&&"value"in n&&d in n&&!n[d]){var r=h(t,e);r&&r[d]&&(t[e]=n.value,n={configurable:p in n?n[p]:r[p],enumerable:f in n?n[f]:r[f],writable:!1})}return l(t,e,n)}:l:function(t,e,n){if(a(t),e=u(e),a(n),o)try{return l(t,e,n)}catch(r){}if("get"in n||"set"in n)throw c("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},1236:function(t,e,n){var r=n(9781),i=n(6916),o=n(5296),s=n(9114),a=n(5656),u=n(4948),c=n(2597),l=n(4664),h=Object.getOwnPropertyDescriptor;e.f=r?h:function(t,e){if(t=a(t),e=u(e),l)try{return h(t,e)}catch(n){}if(c(t,e))return s(!i(o.f,t,e),t[e])}},8006:function(t,e,n){var r=n(6324),i=n(748),o=i.concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},5181:function(t,e){e.f=Object.getOwnPropertySymbols},9518:function(t,e,n){var r=n(7854),i=n(2597),o=n(614),s=n(7908),a=n(6200),u=n(8544),c=a("IE_PROTO"),l=r.Object,h=l.prototype;t.exports=u?l.getPrototypeOf:function(t){var e=s(t);if(i(e,c))return e[c];var n=e.constructor;return o(n)&&e instanceof n?n.prototype:e instanceof l?h:null}},7976:function(t,e,n){var r=n(1702);t.exports=r({}.isPrototypeOf)},6324:function(t,e,n){var r=n(1702),i=n(2597),o=n(5656),s=n(1318).indexOf,a=n(3501),u=r([].push);t.exports=function(t,e){var n,r=o(t),c=0,l=[];for(n in r)!i(a,n)&&i(r,n)&&u(l,n);while(e.length>c)i(r,n=e[c++])&&(~s(l,n)||u(l,n));return l}},1956:function(t,e,n){var r=n(6324),i=n(748);t.exports=Object.keys||function(t){return r(t,i)}},5296:function(t,e){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);e.f=i?function(t){var e=r(this,t);return!!e&&e.enumerable}:n},7674:function(t,e,n){var r=n(1702),i=n(9670),o=n(6077);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{t=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),t(n,[]),e=n instanceof Array}catch(s){}return function(n,r){return i(n),o(r),e?t(n,r):n.__proto__=r,n}}():void 0)},2140:function(t,e,n){var r=n(7854),i=n(6916),o=n(614),s=n(111),a=r.TypeError;t.exports=function(t,e){var n,r;if("string"===e&&o(n=t.toString)&&!s(r=i(n,t)))return r;if(o(n=t.valueOf)&&!s(r=i(n,t)))return r;if("string"!==e&&o(n=t.toString)&&!s(r=i(n,t)))return r;throw a("Can't convert object to primitive value")}},3887:function(t,e,n){var r=n(5005),i=n(1702),o=n(8006),s=n(5181),a=n(9670),u=i([].concat);t.exports=r("Reflect","ownKeys")||function(t){var e=o.f(a(t)),n=s.f;return n?u(e,n(t)):e}},1320:function(t,e,n){var r=n(7854),i=n(614),o=n(2597),s=n(8880),a=n(3505),u=n(2788),c=n(9909),l=n(6530).CONFIGURABLE,h=c.get,f=c.enforce,p=String(String).split("String");(t.exports=function(t,e,n,u){var c,h=!!u&&!!u.unsafe,d=!!u&&!!u.enumerable,m=!!u&&!!u.noTargetGet,v=u&&void 0!==u.name?u.name:e;i(n)&&("Symbol("===String(v).slice(0,7)&&(v="["+String(v).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!o(n,"name")||l&&n.name!==v)&&s(n,"name",v),c=f(n),c.source||(c.source=p.join("string"==typeof v?v:""))),t!==r?(h?!m&&t[e]&&(d=!0):delete t[e],d?t[e]=n:s(t,e,n)):d?t[e]=n:a(e,n)})(Function.prototype,"toString",(function(){return i(this)&&h(this).source||u(this)}))},4488:function(t,e,n){var r=n(7854),i=r.TypeError;t.exports=function(t){if(void 0==t)throw i("Can't call method on "+t);return t}},3505:function(t,e,n){var r=n(7854),i=Object.defineProperty;t.exports=function(t,e){try{i(r,t,{value:e,configurable:!0,writable:!0})}catch(n){r[t]=e}return e}},6200:function(t,e,n){var r=n(2309),i=n(9711),o=r("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},5465:function(t,e,n){var r=n(7854),i=n(3505),o="__core-js_shared__",s=r[o]||i(o,{});t.exports=s},2309:function(t,e,n){var r=n(1913),i=n(5465);(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.21.1",mode:r?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.21.1/LICENSE",source:"https://github.com/zloirock/core-js"})},261:function(t,e,n){var r,i,o,s,a=n(7854),u=n(2104),c=n(9974),l=n(614),h=n(2597),f=n(7293),p=n(490),d=n(206),m=n(317),v=n(8053),g=n(6833),y=n(5268),b=a.setImmediate,w=a.clearImmediate,k=a.process,_=a.Dispatch,T=a.Function,E=a.MessageChannel,C=a.String,x=0,S={},I="onreadystatechange";try{r=a.location}catch(M){}var A=function(t){if(h(S,t)){var e=S[t];delete S[t],e()}},N=function(t){return function(){A(t)}},O=function(t){A(t.data)},D=function(t){a.postMessage(C(t),r.protocol+"//"+r.host)};b&&w||(b=function(t){v(arguments.length,1);var e=l(t)?t:T(t),n=d(arguments,1);return S[++x]=function(){u(e,void 0,n)},i(x),x},w=function(t){delete S[t]},y?i=function(t){k.nextTick(N(t))}:_&&_.now?i=function(t){_.now(N(t))}:E&&!g?(o=new E,s=o.port2,o.port1.onmessage=O,i=c(s.postMessage,s)):a.addEventListener&&l(a.postMessage)&&!a.importScripts&&r&&"file:"!==r.protocol&&!f(D)?(i=D,a.addEventListener("message",O,!1)):i=I in m("script")?function(t){p.appendChild(m("script"))[I]=function(){p.removeChild(this),A(t)}}:function(t){setTimeout(N(t),0)}),t.exports={set:b,clear:w}},1400:function(t,e,n){var r=n(9303),i=Math.max,o=Math.min;t.exports=function(t,e){var n=r(t);return n<0?i(n+e,0):o(n,e)}},5656:function(t,e,n){var r=n(8361),i=n(4488);t.exports=function(t){return r(i(t))}},9303:function(t){var e=Math.ceil,n=Math.floor;t.exports=function(t){var r=+t;return r!==r||0===r?0:(r>0?n:e)(r)}},7466:function(t,e,n){var r=n(9303),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},7908:function(t,e,n){var r=n(7854),i=n(4488),o=r.Object;t.exports=function(t){return o(i(t))}},4590:function(t,e,n){var r=n(7854),i=n(3002),o=r.RangeError;t.exports=function(t,e){var n=i(t);if(n%e)throw o("Wrong offset");return n}},3002:function(t,e,n){var r=n(7854),i=n(9303),o=r.RangeError;t.exports=function(t){var e=i(t);if(e<0)throw o("The argument can't be less than 0");return e}},7593:function(t,e,n){var r=n(7854),i=n(6916),o=n(111),s=n(2190),a=n(8173),u=n(2140),c=n(5112),l=r.TypeError,h=c("toPrimitive");t.exports=function(t,e){if(!o(t)||s(t))return t;var n,r=a(t,h);if(r){if(void 0===e&&(e="default"),n=i(r,t,e),!o(n)||s(n))return n;throw l("Can't convert object to primitive value")}return void 0===e&&(e="number"),u(t,e)}},4948:function(t,e,n){var r=n(7593),i=n(2190);t.exports=function(t){var e=r(t,"string");return i(e)?e:e+""}},1694:function(t,e,n){var r=n(5112),i=r("toStringTag"),o={};o[i]="z",t.exports="[object z]"===String(o)},1340:function(t,e,n){var r=n(7854),i=n(648),o=r.String;t.exports=function(t){if("Symbol"===i(t))throw TypeError("Cannot convert a Symbol value to a string");return o(t)}},6330:function(t,e,n){var r=n(7854),i=r.String;t.exports=function(t){try{return i(t)}catch(e){return"Object"}}},9711:function(t,e,n){var r=n(1702),i=0,o=Math.random(),s=r(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+s(++i+o,36)}},3307:function(t,e,n){var r=n(133);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3353:function(t,e,n){var r=n(9781),i=n(7293);t.exports=r&&i((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},8053:function(t,e,n){var r=n(7854),i=r.TypeError;t.exports=function(t,e){if(t<e)throw i("Not enough arguments");return t}},5112:function(t,e,n){var r=n(7854),i=n(2309),o=n(2597),s=n(9711),a=n(133),u=n(3307),c=i("wks"),l=r.Symbol,h=l&&l["for"],f=u?l:l&&l.withoutSetter||s;t.exports=function(t){if(!o(c,t)||!a&&"string"!=typeof c[t]){var e="Symbol."+t;a&&o(l,t)?c[t]=l[t]:c[t]=u&&h?h(e):f(e)}return c[t]}},9191:function(t,e,n){"use strict";var r=n(5005),i=n(2597),o=n(8880),s=n(7976),a=n(7674),u=n(9920),c=n(9587),l=n(6277),h=n(8340),f=n(7741),p=n(2914),d=n(1913);t.exports=function(t,e,n,m){var v=m?2:1,g=t.split("."),y=g[g.length-1],b=r.apply(null,g);if(b){var w=b.prototype;if(!d&&i(w,"cause")&&delete w.cause,!n)return b;var k=r("Error"),_=e((function(t,e){var n=l(m?e:t,void 0),r=m?new b(t):new b;return void 0!==n&&o(r,"message",n),p&&o(r,"stack",f(r.stack,2)),this&&s(w,this)&&c(r,this,_),arguments.length>v&&h(r,arguments[v]),r}));if(_.prototype=w,"Error"!==y&&(a?a(_,k):u(_,k,{name:!0})),u(_,b),!d)try{w.name!==y&&o(w,"name",y),w.constructor=_}catch(T){}return _}}},2262:function(t,e,n){"use strict";var r=n(2109),i=n(7908),o=n(6244),s=n(9303),a=n(1223);r({target:"Array",proto:!0},{at:function(t){var e=i(this),n=o(e),r=s(t),a=r>=0?r:n+r;return a<0||a>=n?void 0:e[a]}}),a("at")},1703:function(t,e,n){var r=n(2109),i=n(7854),o=n(2104),s=n(9191),a="WebAssembly",u=i[a],c=7!==Error("e",{cause:7}).cause,l=function(t,e){var n={};n[t]=s(t,e,c),r({global:!0,forced:c},n)},h=function(t,e){if(u&&u[t]){var n={};n[t]=s(a+"."+t,e,c),r({target:a,stat:!0,forced:c},n)}};l("Error",(function(t){return function(e){return o(t,this,arguments)}})),l("EvalError",(function(t){return function(e){return o(t,this,arguments)}})),l("RangeError",(function(t){return function(e){return o(t,this,arguments)}})),l("ReferenceError",(function(t){return function(e){return o(t,this,arguments)}})),l("SyntaxError",(function(t){return function(e){return o(t,this,arguments)}})),l("TypeError",(function(t){return function(e){return o(t,this,arguments)}})),l("URIError",(function(t){return function(e){return o(t,this,arguments)}})),h("CompileError",(function(t){return function(e){return o(t,this,arguments)}})),h("LinkError",(function(t){return function(e){return o(t,this,arguments)}})),h("RuntimeError",(function(t){return function(e){return o(t,this,arguments)}}))},4506:function(t,e,n){"use strict";var r=n(2109),i=n(1702),o=n(4488),s=n(9303),a=n(1340),u=n(7293),c=i("".charAt),l=u((function(){return"\ud842"!=="𠮷".at(-2)}));r({target:"String",proto:!0,forced:l},{at:function(t){var e=a(o(this)),n=e.length,r=s(t),i=r>=0?r:n+r;return i<0||i>=n?void 0:c(e,i)}})},8675:function(t,e,n){"use strict";var r=n(260),i=n(6244),o=n(9303),s=r.aTypedArray,a=r.exportTypedArrayMethod;a("at",(function(t){var e=s(this),n=i(e),r=o(t),a=r>=0?r:n+r;return a<0||a>=n?void 0:e[a]}))},3462:function(t,e,n){"use strict";var r=n(7854),i=n(6916),o=n(260),s=n(6244),a=n(4590),u=n(7908),c=n(7293),l=r.RangeError,h=r.Int8Array,f=h&&h.prototype,p=f&&f.set,d=o.aTypedArray,m=o.exportTypedArrayMethod,v=!c((function(){var t=new Uint8ClampedArray(2);return i(p,t,{length:1,0:3},1),3!==t[1]})),g=v&&o.NATIVE_ARRAY_BUFFER_VIEWS&&c((function(){var t=new h(2);return t.set(1),t.set("2",1),0!==t[0]||2!==t[1]}));m("set",(function(t){d(this);var e=a(arguments.length>1?arguments[1]:void 0,1),n=u(t);if(v)return i(p,this,n,e);var r=this.length,o=s(n),c=0;if(o+e>r)throw l("Wrong length");while(c<o)this[e+c]=n[c++]}),!v||g)},2801:function(t,e,n){"use strict";var r=n(2109),i=n(5005),o=n(9114),s=n(3070).f,a=n(2597),u=n(5787),c=n(9587),l=n(6277),h=n(3678),f=n(7741),p=n(1913),d="DOMException",m=i("Error"),v=i(d),g=function(){u(this,y);var t=arguments.length,e=l(t<1?void 0:arguments[0]),n=l(t<2?void 0:arguments[1],"Error"),r=new v(e,n),i=m(e);return i.name=d,s(r,"stack",o(1,f(i.stack,1))),c(r,this,g),r},y=g.prototype=v.prototype,b="stack"in m(d),w="stack"in new v(1,2),k=b&&!w;r({global:!0,forced:p||k},{DOMException:k?g:v});var _=i(d),T=_.prototype;if(T.constructor!==_)for(var E in p||s(T,"constructor",o(1,_)),h)if(a(h,E)){var C=h[E],x=C.s;a(_,x)||s(_,x,o(6,C.c))}},4633:function(t,e,n){var r=n(2109),i=n(7854),o=n(261),s=!i.setImmediate||!i.clearImmediate;r({global:!0,bind:!0,enumerable:!0,forced:s},{setImmediate:o.set,clearImmediate:o.clear})},4552:function(t,e,n){"use strict";var r,i,o=n(2900),s=n(9658),a=n(8914),u=n(7e3),c=(r={},r["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.LL("app","Firebase",c),h="@firebase/app",f="0.6.24",p="@firebase/analytics",d="@firebase/app-check",m="@firebase/auth",v="@firebase/database",g="@firebase/functions",y="@firebase/installations",b="@firebase/messaging",w="@firebase/performance",k="@firebase/remote-config",_="@firebase/storage",T="@firebase/firestore",E="firebase-wrapper",C="[DEFAULT]",x=(i={},i[h]="fire-core",i[p]="fire-analytics",i[d]="fire-app-check",i[m]="fire-auth",i[v]="fire-rtdb",i[g]="fire-fn",i[y]="fire-iid",i[b]="fire-fcm",i[w]="fire-perf",i[k]="fire-rc",i[_]="fire-gcs",i[T]="fire-fst",i["fire-js"]="fire-js",i[E]="fire-js-all",i),S=new u.Yd("@firebase/app"),I=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=(0,s.p$)(t),this.container=new a.H0(e.name),this._addComponent(new a.wA("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(t){return r._addComponent(t)}))}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){var n;void 0===e&&(e=C),this.checkDestroyed_();var r=this.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=C),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){S.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();I.prototype.name&&I.prototype.options||I.prototype.delete||console.log("dc");var A="8.6.5";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N(t){var e={},n=new Map,r={__esModule:!0,initializeApp:c,app:o,registerVersion:p,setLogLevel:u.Ub,onLog:d,apps:null,SDK_VERSION:A,INTERNAL:{registerComponent:f,removeApp:i,components:n,useAsService:m}};function i(t){delete e[t]}function o(t){if(t=t||C,!(0,s.r3)(e,t))throw l.create("no-app",{appName:t});return e[t]}function c(n,i){if(void 0===i&&(i={}),"object"!==typeof i||null===i){var o=i;i={name:o}}var a=i;void 0===a.name&&(a.name=C);var u=a.name;if("string"!==typeof u||!u)throw l.create("bad-app-name",{appName:String(u)});if((0,s.r3)(e,u))throw l.create("duplicate-app",{appName:u});var c=new t(n,a,r);return e[u]=c,c}function h(){return Object.keys(e).map((function(t){return e[t]}))}function f(i){var a=i.name;if(n.has(a))return S.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===i.type?r[a]:null;if(n.set(a,i),"PUBLIC"===i.type){var u=function(t){if(void 0===t&&(t=o()),"function"!==typeof t[a])throw l.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==i.serviceProps&&(0,s.ZB)(u,i.serviceProps),r[a]=u,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,a);return n.apply(this,i.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++){var f=h[c];e[f]._addComponent(i)}return"PUBLIC"===i.type?r[a]:null}function p(t,e,n){var r,i=null!==(r=x[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&s&&u.push("and"),s&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void S.warn(u.join(" "))}f(new a.wA(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))}function d(t,e){if(null!==t&&"function"!==typeof t)throw l.create("invalid-log-argument");(0,u.Am)(t,e)}function m(t,e){if("serverAuth"===e)return null;var n=e;return n}return r["default"]=r,Object.defineProperty(r,"apps",{get:h}),o["App"]=t,r}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O(){var t=N(I);function e(e){(0,s.ZB)(t,e)}return t.INTERNAL=(0,o.pi)((0,o.pi)({},t.INTERNAL),{createFirebaseNamespace:O,extendNamespace:e,createSubscribe:s.ne,ErrorFactory:s.LL,deepExtend:s.ZB}),t}var D=O(),M=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){var t=this.container.getProviders();return t.map((function(t){if(R(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R(t){var e=t.getComponent();return"VERSION"===(null===e||void 0===e?void 0:e.type)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L(t,e){t.INTERNAL.registerComponent(new a.wA("platform-logger",(function(t){return new M(t)}),"PRIVATE")),t.registerVersion(h,f,e),t.registerVersion("fire-js","")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if((0,s.jU)()&&void 0!==self.firebase){S.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var P=self.firebase.SDK_VERSION;P&&P.indexOf("LITE")>=0&&S.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var F=D.initializeApp;D.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(0,s.UG)()&&S.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),F.apply(void 0,t)};var j=D;L(j),e["Z"]=j},8914:function(t,e,n){"use strict";n.d(e,{H0:function(){return l},wA:function(){return o}});n(1703);var r=n(2900),i=n(9658),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),s="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Set}return t.prototype.get=function(t){void 0===t&&(t=s);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.BH;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e,n,r=null!==(e=null===t||void 0===t?void 0:t.identifier)&&void 0!==e?e:s,i=null!==(n=null===t||void 0===t?void 0:t.optional)&&void 0!==n&&n,o=this.normalizeInstanceIdentifier(r);if(!this.isInitialized(o)&&!this.shouldAutoInitialize()){if(i)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:o})}catch(a){if(i)return null;throw a}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(c(t))try{this.getOrInitializeService({instanceIdentifier:s})}catch(p){}try{for(var i=(0,r.XA)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=(0,r.CR)(o.value,2),u=a[0],l=a[1],h=this.normalizeInstanceIdentifier(u);try{var f=this.getOrInitializeService({instanceIdentifier:h});l.resolve(f)}catch(p){}}}catch(d){e={error:d}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=s),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return(0,r.mG)(this,void 0,void 0,(function(){var t;return(0,r.Jh)(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all((0,r.ev)((0,r.ev)([],(0,r.CR)(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))),(0,r.CR)(t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()})))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=s),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var i=t.instanceIdentifier,o=void 0===i?s:i,a=t.options,u=void 0===a?{}:a,c=this.normalizeInstanceIdentifier(o);if(this.isInitialized(c))throw Error(this.name+"("+c+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var l=this.getOrInitializeService({instanceIdentifier:c,options:u});try{for(var h=(0,r.XA)(this.instancesDeferred.entries()),f=h.next();!f.done;f=h.next()){var p=(0,r.CR)(f.value,2),d=p[0],m=p[1],v=this.normalizeInstanceIdentifier(d);c===v&&m.resolve(l)}}catch(g){e={error:g}}finally{try{f&&!f.done&&(n=h.return)&&n.call(h)}finally{if(e)throw e.error}}return this.invokeOnInitCallbacks(l,c),l},t.prototype.onInit=function(t){var e=this;return this.onInitCallbacks.add(t),function(){e.onInitCallbacks.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,i;try{for(var o=(0,r.XA)(this.onInitCallbacks),s=o.next();!s.done;s=o.next()){var a=s.value;try{a(t,e)}catch(u){}}}catch(c){n={error:c}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e=t.instanceIdentifier,n=t.options,r=void 0===n?{}:n,i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:u(e),options:r}),this.instances.set(e,i),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch(o){}return i||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:s:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}();function u(t){return t===s?void 0:t}function c(t){return"EAGER"===t.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var l=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){var e=this.getProvider(t.name);e.isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},7e3:function(t,e,n){"use strict";n.d(e,{Am:function(){return p},Ub:function(){return f},Yd:function(){return h},in:function(){return o}});var r;n(1703);
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
function i(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var o,s=[];(function(t){t[t["DEBUG"]=0]="DEBUG",t[t["VERBOSE"]=1]="VERBOSE",t[t["INFO"]=2]="INFO",t[t["WARN"]=3]="WARN",t[t["ERROR"]=4]="ERROR",t[t["SILENT"]=5]="SILENT"})(o||(o={}));var a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=(r={},r[o.DEBUG]="log",r[o.VERBOSE]="log",r[o.INFO]="info",r[o.WARN]="warn",r[o.ERROR]="error",r),l=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,i(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,s.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"===typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!==typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,o.DEBUG],t)),this._logHandler.apply(this,i([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,o.VERBOSE],t)),this._logHandler.apply(this,i([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,o.INFO],t)),this._logHandler.apply(this,i([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,o.WARN],t)),this._logHandler.apply(this,i([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,o.ERROR],t)),this._logHandler.apply(this,i([this,o.ERROR],t))},t}();function f(t){s.forEach((function(e){e.setLogLevel(t)}))}function p(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var a=i.map((function(t){if(null==t)return null;if("string"===typeof t)return t;if("number"===typeof t||"boolean"===typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!==r&&void 0!==r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=s;r<i.length;r++){var u=i[r];n(u)}}},9658:function(t,e,n){"use strict";n.d(e,{BH:function(){return l},LL:function(){return T},Mn:function(){return w},Sg:function(){return h},UG:function(){return d},ZB:function(){return u},ZR:function(){return _},b$:function(){return g},d:function(){return y},jU:function(){return m},m9:function(){return O},ne:function(){return S},p$:function(){return a},r3:function(){return x},ru:function(){return v},uI:function(){return p},w1:function(){return b},z$:function(){return f}});n(1703),n(2801);var r=n(2900),i=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296===(64512&i)&&r+1<t.length&&56320===(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},o=function(t){var e=[],n=0,r=0;while(n<t.length){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){o=t[n++];var s=t[n++],a=t[n++],u=((7&i)<<18|(63&o)<<12|(63&s)<<6|63&a)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{o=t[n++],s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")},s={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=o>>2,h=(3&o)<<4|a>>4,f=(15&a)<<2|c>>6,p=63&c;u||(p=64,s||(f=64)),r.push(n[l],n[h],n[f],n[p])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(i(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):o(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length,a=s?n[t.charAt(i)]:0;++i;var u=i<t.length,c=u?n[t.charAt(i)]:64;++i;var l=i<t.length,h=l?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==c||null==h)throw Error();var f=o<<2|a>>4;if(r.push(f),64!==c){var p=a<<4&240|c>>2;if(r.push(p),64!==h){var d=c<<6&192|h;r.push(d)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function a(t){return u(void 0,t)}function u(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:var n=e;return new Date(n.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var r in e)e.hasOwnProperty(r)&&c(r)&&(t[r]=u(t[r],e[r]));return t}function c(t){return"__proto__"!==t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var l=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"===typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},i=e||"demo-project",o=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var u=(0,r.pi)({iss:"https://securetoken.google.com/"+i,aud:i,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t),c="";return[s.encodeString(JSON.stringify(n),!1),s.encodeString(JSON.stringify(u),!1),c].join(".")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f(){return"undefined"!==typeof navigator&&"string"===typeof navigator["userAgent"]?navigator["userAgent"]:""}function p(){return"undefined"!==typeof window&&!!(window["cordova"]||window["phonegap"]||window["PhoneGap"])&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(f())}function d(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(t){return!1}}function m(){return"object"===typeof self&&self.self===self}function v(){var t="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof t&&void 0!==t.id}function g(){return"object"===typeof navigator&&"ReactNative"===navigator["product"]}function y(){return f().indexOf("Electron/")>=0}function b(){var t=f();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function w(){return f().indexOf("MSAppHost/")>=0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var k="FirebaseError",_=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name=k,Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,T.prototype.create),o}return(0,r.ZT)(e,t),e}(Error),T=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?E(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new _(i,a,r);return u},t}();function E(t,e){return t.replace(C,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var C=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function x(t,e){return Object.prototype.hasOwnProperty.call(t,e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
(function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"===typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,s,a=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^u&(c^l),s=1518500249):(o=u^c^l,s=1859775393):r<60?(o=u&c|l&(u|c),s=2400959708):(o=u^c^l,s=3395469782);i=(a<<5|a>>>27)+o+h+s+n[r]&4294967295;h=l,l=c,c=4294967295&(u<<30|u>>>2),u=a,a=i}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;while(r<e){if(0===o)while(r<=n)this.compress_(t,r),r+=this.blockSize;if("string"===typeof t){while(r<e)if(i[o]=t.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}else while(r<e)if(i[o]=t[r],++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t}})();function S(t,e){var n=new I(t,e);return n.subscribe.bind(n)}var I=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");r=A(t,["next","error","complete"])?t:{next:t,error:e,complete:n},void 0===r.next&&(r.next=N),void 0===r.error&&(r.error=N),void 0===r.complete&&(r.complete=N);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function A(t,e){if("object"!==typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&"function"===typeof t[i])return!0}return!1}function N(){}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function O(t){return t&&t._delegate?t._delegate:t}},6691:function(t,e,n){"use strict";n.d(e,{ZP:function(){return dit}});n(1703);function r(t){this.content=t}r.prototype={constructor:r,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return-1==e?void 0:this.content[e+1]},update:function(t,e,n){var i=n&&n!=t?this.remove(n):this,o=i.find(t),s=i.content.slice();return-1==o?s.push(n||t,e):(s[o+1]=e,n&&(s[o]=n)),new r(s)},remove:function(t){var e=this.find(t);if(-1==e)return this;var n=this.content.slice();return n.splice(e,2),new r(n)},addToStart:function(t,e){return new r([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new r(n)},addBefore:function(t,e,n){var i=this.remove(e),o=i.content.slice(),s=i.find(t);return o.splice(-1==s?o.length:s,0,e,n),new r(o)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=r.from(t),t.size?new r(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=r.from(t),t.size?new r(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=r.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},get size(){return this.content.length>>1}},r.from=function(t){if(t instanceof r)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new r(e)};var i=r,o=i;function s(t,e,n){for(var r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;var i=t.child(r),o=e.child(r);if(i!=o){if(!i.sameMarkup(o))return n;if(i.isText&&i.text!=o.text){for(var a=0;i.text[a]==o.text[a];a++)n++;return n}if(i.content.size||o.content.size){var u=s(i.content,o.content,n+1);if(null!=u)return u}n+=i.nodeSize}else n+=i.nodeSize}}function a(t,e,n,r){for(var i=t.childCount,o=e.childCount;;){if(0==i||0==o)return i==o?null:{a:n,b:r};var s=t.child(--i),u=e.child(--o),c=s.nodeSize;if(s!=u){if(!s.sameMarkup(u))return{a:n,b:r};if(s.isText&&s.text!=u.text){var l=0,h=Math.min(s.text.length,u.text.length);while(l<h&&s.text[s.text.length-l-1]==u.text[u.text.length-l-1])l++,n--,r--;return{a:n,b:r}}if(s.content.size||u.content.size){var f=a(s.content,u.content,n-1,r-1);if(f)return f}n-=c,r-=c}else n-=c,r-=c}}var u=function(t,e){if(this.content=t,this.size=e||0,null==e)for(var n=0;n<t.length;n++)this.size+=t[n].nodeSize},c={firstChild:{configurable:!0},lastChild:{configurable:!0},childCount:{configurable:!0}};u.prototype.nodesBetween=function(t,e,n,r,i){void 0===r&&(r=0);for(var o=0,s=0;s<e;o++){var a=this.content[o],u=s+a.nodeSize;if(u>t&&!1!==n(a,r+s,i,o)&&a.content.size){var c=s+1;a.nodesBetween(Math.max(0,t-c),Math.min(a.content.size,e-c),n,r+c)}s=u}},u.prototype.descendants=function(t){this.nodesBetween(0,this.size,t)},u.prototype.textBetween=function(t,e,n,r){var i="",o=!0;return this.nodesBetween(t,e,(function(s,a){s.isText?(i+=s.text.slice(Math.max(t,a)-a,e-a),o=!n):s.isLeaf&&r?(i+="function"===typeof r?r(s):r,o=!n):!o&&s.isBlock&&(i+=n,o=!0)}),0),i},u.prototype.append=function(t){if(!t.size)return this;if(!this.size)return t;var e=this.lastChild,n=t.firstChild,r=this.content.slice(),i=0;for(e.isText&&e.sameMarkup(n)&&(r[r.length-1]=e.withText(e.text+n.text),i=1);i<t.content.length;i++)r.push(t.content[i]);return new u(r,this.size+t.size)},u.prototype.cut=function(t,e){if(null==e&&(e=this.size),0==t&&e==this.size)return this;var n=[],r=0;if(e>t)for(var i=0,o=0;o<e;i++){var s=this.content[i],a=o+s.nodeSize;a>t&&((o<t||a>e)&&(s=s.isText?s.cut(Math.max(0,t-o),Math.min(s.text.length,e-o)):s.cut(Math.max(0,t-o-1),Math.min(s.content.size,e-o-1))),n.push(s),r+=s.nodeSize),o=a}return new u(n,r)},u.prototype.cutByIndex=function(t,e){return t==e?u.empty:0==t&&e==this.content.length?this:new u(this.content.slice(t,e))},u.prototype.replaceChild=function(t,e){var n=this.content[t];if(n==e)return this;var r=this.content.slice(),i=this.size+e.nodeSize-n.nodeSize;return r[t]=e,new u(r,i)},u.prototype.addToStart=function(t){return new u([t].concat(this.content),this.size+t.nodeSize)},u.prototype.addToEnd=function(t){return new u(this.content.concat(t),this.size+t.nodeSize)},u.prototype.eq=function(t){if(this.content.length!=t.content.length)return!1;for(var e=0;e<this.content.length;e++)if(!this.content[e].eq(t.content[e]))return!1;return!0},c.firstChild.get=function(){return this.content.length?this.content[0]:null},c.lastChild.get=function(){return this.content.length?this.content[this.content.length-1]:null},c.childCount.get=function(){return this.content.length},u.prototype.child=function(t){var e=this.content[t];if(!e)throw new RangeError("Index "+t+" out of range for "+this);return e},u.prototype.maybeChild=function(t){return this.content[t]},u.prototype.forEach=function(t){for(var e=0,n=0;e<this.content.length;e++){var r=this.content[e];t(r,n,e),n+=r.nodeSize}},u.prototype.findDiffStart=function(t,e){return void 0===e&&(e=0),s(this,t,e)},u.prototype.findDiffEnd=function(t,e,n){return void 0===e&&(e=this.size),void 0===n&&(n=t.size),a(this,t,e,n)},u.prototype.findIndex=function(t,e){if(void 0===e&&(e=-1),0==t)return h(0,t);if(t==this.size)return h(this.content.length,t);if(t>this.size||t<0)throw new RangeError("Position "+t+" outside of fragment ("+this+")");for(var n=0,r=0;;n++){var i=this.child(n),o=r+i.nodeSize;if(o>=t)return o==t||e>0?h(n+1,o):h(n,r);r=o}},u.prototype.toString=function(){return"<"+this.toStringInner()+">"},u.prototype.toStringInner=function(){return this.content.join(", ")},u.prototype.toJSON=function(){return this.content.length?this.content.map((function(t){return t.toJSON()})):null},u.fromJSON=function(t,e){if(!e)return u.empty;if(!Array.isArray(e))throw new RangeError("Invalid input for Fragment.fromJSON");return new u(e.map(t.nodeFromJSON))},u.fromArray=function(t){if(!t.length)return u.empty;for(var e,n=0,r=0;r<t.length;r++){var i=t[r];n+=i.nodeSize,r&&i.isText&&t[r-1].sameMarkup(i)?(e||(e=t.slice(0,r)),e[e.length-1]=i.withText(e[e.length-1].text+i.text)):e&&e.push(i)}return new u(e||t,n)},u.from=function(t){if(!t)return u.empty;if(t instanceof u)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new u([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))},Object.defineProperties(u.prototype,c);var l={index:0,offset:0};function h(t,e){return l.index=t,l.offset=e,l}function f(t,e){if(t===e)return!0;if(!t||"object"!=typeof t||!e||"object"!=typeof e)return!1;var n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(var r=0;r<t.length;r++)if(!f(t[r],e[r]))return!1}else{for(var i in t)if(!(i in e)||!f(t[i],e[i]))return!1;for(var o in e)if(!(o in t))return!1}return!0}u.empty=new u([],0);var p=function(t,e){this.type=t,this.attrs=e};function d(t){var e=Error.call(this,t);return e.__proto__=d.prototype,e}p.prototype.addToSet=function(t){for(var e,n=!1,r=0;r<t.length;r++){var i=t[r];if(this.eq(i))return t;if(this.type.excludes(i.type))e||(e=t.slice(0,r));else{if(i.type.excludes(this.type))return t;!n&&i.type.rank>this.type.rank&&(e||(e=t.slice(0,r)),e.push(this),n=!0),e&&e.push(i)}}return e||(e=t.slice()),n||e.push(this),e},p.prototype.removeFromSet=function(t){for(var e=0;e<t.length;e++)if(this.eq(t[e]))return t.slice(0,e).concat(t.slice(e+1));return t},p.prototype.isInSet=function(t){for(var e=0;e<t.length;e++)if(this.eq(t[e]))return!0;return!1},p.prototype.eq=function(t){return this==t||this.type==t.type&&f(this.attrs,t.attrs)},p.prototype.toJSON=function(){var t={type:this.type.name};for(var e in this.attrs){t.attrs=this.attrs;break}return t},p.fromJSON=function(t,e){if(!e)throw new RangeError("Invalid input for Mark.fromJSON");var n=t.marks[e.type];if(!n)throw new RangeError("There is no mark type "+e.type+" in this schema");return n.create(e.attrs)},p.sameSet=function(t,e){if(t==e)return!0;if(t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].eq(e[n]))return!1;return!0},p.setFrom=function(t){if(!t||0==t.length)return p.none;if(t instanceof p)return[t];var e=t.slice();return e.sort((function(t,e){return t.type.rank-e.type.rank})),e},p.none=[],d.prototype=Object.create(Error.prototype),d.prototype.constructor=d,d.prototype.name="ReplaceError";var m=function(t,e,n){this.content=t,this.openStart=e,this.openEnd=n},v={size:{configurable:!0}};function g(t,e,n){var r=t.findIndex(e),i=r.index,o=r.offset,s=t.maybeChild(i),a=t.findIndex(n),u=a.index,c=a.offset;if(o==e||s.isText){if(c!=n&&!t.child(u).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(i!=u)throw new RangeError("Removing non-flat range");return t.replaceChild(i,s.copy(g(s.content,e-o-1,n-o-1)))}function y(t,e,n,r){var i=t.findIndex(e),o=i.index,s=i.offset,a=t.maybeChild(o);if(s==e||a.isText)return r&&!r.canReplace(o,o,n)?null:t.cut(0,e).append(n).append(t.cut(e));var u=y(a.content,e-s-1,n);return u&&t.replaceChild(o,a.copy(u))}function b(t,e,n){if(n.openStart>t.depth)throw new d("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new d("Inconsistent open depths");return w(t,e,n,0)}function w(t,e,n,r){var i=t.index(r),o=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){var s=w(t,e,n,r+1);return o.copy(o.content.replaceChild(i,s))}if(n.content.size){if(n.openStart||n.openEnd||t.depth!=r||e.depth!=r){var a=I(n,t),u=a.start,c=a.end;return C(o,x(t,u,c,e,r))}var l=t.parent,h=l.content;return C(l,h.cut(0,t.parentOffset).append(n.content).append(h.cut(e.parentOffset)))}return C(o,S(t,e,r))}function k(t,e){if(!e.type.compatibleContent(t.type))throw new d("Cannot join "+e.type.name+" onto "+t.type.name)}function _(t,e,n){var r=t.node(n);return k(r,e.node(n)),r}function T(t,e){var n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function E(t,e,n,r){var i=(e||t).node(n),o=0,s=e?e.index(n):i.childCount;t&&(o=t.index(n),t.depth>n?o++:t.textOffset&&(T(t.nodeAfter,r),o++));for(var a=o;a<s;a++)T(i.child(a),r);e&&e.depth==n&&e.textOffset&&T(e.nodeBefore,r)}function C(t,e){if(!t.type.validContent(e))throw new d("Invalid content for node "+t.type.name);return t.copy(e)}function x(t,e,n,r,i){var o=t.depth>i&&_(t,e,i+1),s=r.depth>i&&_(n,r,i+1),a=[];return E(null,t,i,a),o&&s&&e.index(i)==n.index(i)?(k(o,s),T(C(o,x(t,e,n,r,i+1)),a)):(o&&T(C(o,S(t,e,i+1)),a),E(e,n,i,a),s&&T(C(s,S(n,r,i+1)),a)),E(r,null,i,a),new u(a)}function S(t,e,n){var r=[];if(E(null,t,n,r),t.depth>n){var i=_(t,e,n+1);T(C(i,S(t,e,n+1)),r)}return E(e,null,n,r),new u(r)}function I(t,e){for(var n=e.depth-t.openStart,r=e.node(n),i=r.copy(t.content),o=n-1;o>=0;o--)i=e.node(o).copy(u.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}v.size.get=function(){return this.content.size-this.openStart-this.openEnd},m.prototype.insertAt=function(t,e){var n=y(this.content,t+this.openStart,e,null);return n&&new m(n,this.openStart,this.openEnd)},m.prototype.removeBetween=function(t,e){return new m(g(this.content,t+this.openStart,e+this.openStart),this.openStart,this.openEnd)},m.prototype.eq=function(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd},m.prototype.toString=function(){return this.content+"("+this.openStart+","+this.openEnd+")"},m.prototype.toJSON=function(){if(!this.content.size)return null;var t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t},m.fromJSON=function(t,e){if(!e)return m.empty;var n=e.openStart||0,r=e.openEnd||0;if("number"!=typeof n||"number"!=typeof r)throw new RangeError("Invalid input for Slice.fromJSON");return new m(u.fromJSON(t,e.content),n,r)},m.maxOpen=function(t,e){void 0===e&&(e=!0);for(var n=0,r=0,i=t.firstChild;i&&!i.isLeaf&&(e||!i.type.spec.isolating);i=i.firstChild)n++;for(var o=t.lastChild;o&&!o.isLeaf&&(e||!o.type.spec.isolating);o=o.lastChild)r++;return new m(t,n,r)},Object.defineProperties(m.prototype,v),m.empty=new m(u.empty,0,0);var A=function(t,e,n){this.pos=t,this.path=e,this.depth=e.length/3-1,this.parentOffset=n},N={parent:{configurable:!0},doc:{configurable:!0},textOffset:{configurable:!0},nodeAfter:{configurable:!0},nodeBefore:{configurable:!0}};A.prototype.resolveDepth=function(t){return null==t?this.depth:t<0?this.depth+t:t},N.parent.get=function(){return this.node(this.depth)},N.doc.get=function(){return this.node(0)},A.prototype.node=function(t){return this.path[3*this.resolveDepth(t)]},A.prototype.index=function(t){return this.path[3*this.resolveDepth(t)+1]},A.prototype.indexAfter=function(t){return t=this.resolveDepth(t),this.index(t)+(t!=this.depth||this.textOffset?1:0)},A.prototype.start=function(t){return t=this.resolveDepth(t),0==t?0:this.path[3*t-1]+1},A.prototype.end=function(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size},A.prototype.before=function(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]},A.prototype.after=function(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]+this.path[3*t].nodeSize},N.textOffset.get=function(){return this.pos-this.path[this.path.length-1]},N.nodeAfter.get=function(){var t=this.parent,e=this.index(this.depth);if(e==t.childCount)return null;var n=this.pos-this.path[this.path.length-1],r=t.child(e);return n?t.child(e).cut(n):r},N.nodeBefore.get=function(){var t=this.index(this.depth),e=this.pos-this.path[this.path.length-1];return e?this.parent.child(t).cut(0,e):0==t?null:this.parent.child(t-1)},A.prototype.posAtIndex=function(t,e){e=this.resolveDepth(e);for(var n=this.path[3*e],r=0==e?0:this.path[3*e-1]+1,i=0;i<t;i++)r+=n.child(i).nodeSize;return r},A.prototype.marks=function(){var t=this.parent,e=this.index();if(0==t.content.size)return p.none;if(this.textOffset)return t.child(e).marks;var n=t.maybeChild(e-1),r=t.maybeChild(e);if(!n){var i=n;n=r,r=i}for(var o=n.marks,s=0;s<o.length;s++)!1!==o[s].type.spec.inclusive||r&&o[s].isInSet(r.marks)||(o=o[s--].removeFromSet(o));return o},A.prototype.marksAcross=function(t){var e=this.parent.maybeChild(this.index());if(!e||!e.isInline)return null;for(var n=e.marks,r=t.parent.maybeChild(t.index()),i=0;i<n.length;i++)!1!==n[i].type.spec.inclusive||r&&n[i].isInSet(r.marks)||(n=n[i--].removeFromSet(n));return n},A.prototype.sharedDepth=function(t){for(var e=this.depth;e>0;e--)if(this.start(e)<=t&&this.end(e)>=t)return e;return 0},A.prototype.blockRange=function(t,e){if(void 0===t&&(t=this),t.pos<this.pos)return t.blockRange(this);for(var n=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);n>=0;n--)if(t.pos<=this.end(n)&&(!e||e(this.node(n))))return new R(this,t,n)},A.prototype.sameParent=function(t){return this.pos-this.parentOffset==t.pos-t.parentOffset},A.prototype.max=function(t){return t.pos>this.pos?t:this},A.prototype.min=function(t){return t.pos<this.pos?t:this},A.prototype.toString=function(){for(var t="",e=1;e<=this.depth;e++)t+=(t?"/":"")+this.node(e).type.name+"_"+this.index(e-1);return t+":"+this.parentOffset},A.resolve=function(t,e){if(!(e>=0&&e<=t.content.size))throw new RangeError("Position "+e+" out of range");for(var n=[],r=0,i=e,o=t;;){var s=o.content.findIndex(i),a=s.index,u=s.offset,c=i-u;if(n.push(o,a,r+u),!c)break;if(o=o.child(a),o.isText)break;i=c-1,r+=u+1}return new A(e,n,i)},A.resolveCached=function(t,e){for(var n=0;n<O.length;n++){var r=O[n];if(r.pos==e&&r.doc==t)return r}var i=O[D]=A.resolve(t,e);return D=(D+1)%M,i},Object.defineProperties(A.prototype,N);var O=[],D=0,M=12,R=function(t,e,n){this.$from=t,this.$to=e,this.depth=n},L={start:{configurable:!0},end:{configurable:!0},parent:{configurable:!0},startIndex:{configurable:!0},endIndex:{configurable:!0}};L.start.get=function(){return this.$from.before(this.depth+1)},L.end.get=function(){return this.$to.after(this.depth+1)},L.parent.get=function(){return this.$from.node(this.depth)},L.startIndex.get=function(){return this.$from.index(this.depth)},L.endIndex.get=function(){return this.$to.indexAfter(this.depth)},Object.defineProperties(R.prototype,L);var P=Object.create(null),F=function(t,e,n,r){this.type=t,this.attrs=e,this.content=n||u.empty,this.marks=r||p.none},j={nodeSize:{configurable:!0},childCount:{configurable:!0},textContent:{configurable:!0},firstChild:{configurable:!0},lastChild:{configurable:!0},isBlock:{configurable:!0},isTextblock:{configurable:!0},inlineContent:{configurable:!0},isInline:{configurable:!0},isText:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};j.nodeSize.get=function(){return this.isLeaf?1:2+this.content.size},j.childCount.get=function(){return this.content.childCount},F.prototype.child=function(t){return this.content.child(t)},F.prototype.maybeChild=function(t){return this.content.maybeChild(t)},F.prototype.forEach=function(t){this.content.forEach(t)},F.prototype.nodesBetween=function(t,e,n,r){void 0===r&&(r=0),this.content.nodesBetween(t,e,n,r,this)},F.prototype.descendants=function(t){this.nodesBetween(0,this.content.size,t)},j.textContent.get=function(){return this.textBetween(0,this.content.size,"")},F.prototype.textBetween=function(t,e,n,r){return this.content.textBetween(t,e,n,r)},j.firstChild.get=function(){return this.content.firstChild},j.lastChild.get=function(){return this.content.lastChild},F.prototype.eq=function(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)},F.prototype.sameMarkup=function(t){return this.hasMarkup(t.type,t.attrs,t.marks)},F.prototype.hasMarkup=function(t,e,n){return this.type==t&&f(this.attrs,e||t.defaultAttrs||P)&&p.sameSet(this.marks,n||p.none)},F.prototype.copy=function(t){return void 0===t&&(t=null),t==this.content?this:new this.constructor(this.type,this.attrs,t,this.marks)},F.prototype.mark=function(t){return t==this.marks?this:new this.constructor(this.type,this.attrs,this.content,t)},F.prototype.cut=function(t,e){return 0==t&&e==this.content.size?this:this.copy(this.content.cut(t,e))},F.prototype.slice=function(t,e,n){if(void 0===e&&(e=this.content.size),void 0===n&&(n=!1),t==e)return m.empty;var r=this.resolve(t),i=this.resolve(e),o=n?0:r.sharedDepth(e),s=r.start(o),a=r.node(o),u=a.content.cut(r.pos-s,i.pos-s);return new m(u,r.depth-o,i.depth-o)},F.prototype.replace=function(t,e,n){return b(this.resolve(t),this.resolve(e),n)},F.prototype.nodeAt=function(t){for(var e=this;;){var n=e.content.findIndex(t),r=n.index,i=n.offset;if(e=e.maybeChild(r),!e)return null;if(i==t||e.isText)return e;t-=i+1}},F.prototype.childAfter=function(t){var e=this.content.findIndex(t),n=e.index,r=e.offset;return{node:this.content.maybeChild(n),index:n,offset:r}},F.prototype.childBefore=function(t){if(0==t)return{node:null,index:0,offset:0};var e=this.content.findIndex(t),n=e.index,r=e.offset;if(r<t)return{node:this.content.child(n),index:n,offset:r};var i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}},F.prototype.resolve=function(t){return A.resolveCached(this,t)},F.prototype.resolveNoCache=function(t){return A.resolve(this,t)},F.prototype.rangeHasMark=function(t,e,n){var r=!1;return e>t&&this.nodesBetween(t,e,(function(t){return n.isInSet(t.marks)&&(r=!0),!r})),r},j.isBlock.get=function(){return this.type.isBlock},j.isTextblock.get=function(){return this.type.isTextblock},j.inlineContent.get=function(){return this.type.inlineContent},j.isInline.get=function(){return this.type.isInline},j.isText.get=function(){return this.type.isText},j.isLeaf.get=function(){return this.type.isLeaf},j.isAtom.get=function(){return this.type.isAtom},F.prototype.toString=function(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);var t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),V(this.marks,t)},F.prototype.contentMatchAt=function(t){var e=this.type.contentMatch.matchFragment(this.content,0,t);if(!e)throw new Error("Called contentMatchAt on a node with invalid content");return e},F.prototype.canReplace=function(t,e,n,r,i){void 0===n&&(n=u.empty),void 0===r&&(r=0),void 0===i&&(i=n.childCount);var o=this.contentMatchAt(t).matchFragment(n,r,i),s=o&&o.matchFragment(this.content,e);if(!s||!s.validEnd)return!1;for(var a=r;a<i;a++)if(!this.type.allowsMarks(n.child(a).marks))return!1;return!0},F.prototype.canReplaceWith=function(t,e,n,r){if(r&&!this.type.allowsMarks(r))return!1;var i=this.contentMatchAt(t).matchType(n),o=i&&i.matchFragment(this.content,e);return!!o&&o.validEnd},F.prototype.canAppend=function(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)},F.prototype.check=function(){if(!this.type.validContent(this.content))throw new RangeError("Invalid content for node "+this.type.name+": "+this.content.toString().slice(0,50));for(var t=p.none,e=0;e<this.marks.length;e++)t=this.marks[e].addToSet(t);if(!p.sameSet(t,this.marks))throw new RangeError("Invalid collection of marks for node "+this.type.name+": "+this.marks.map((function(t){return t.type.name})));this.content.forEach((function(t){return t.check()}))},F.prototype.toJSON=function(){var t={type:this.type.name};for(var e in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map((function(t){return t.toJSON()}))),t},F.fromJSON=function(t,e){if(!e)throw new RangeError("Invalid input for Node.fromJSON");var n=null;if(e.marks){if(!Array.isArray(e.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=e.marks.map(t.markFromJSON)}if("text"==e.type){if("string"!=typeof e.text)throw new RangeError("Invalid text node in JSON");return t.text(e.text,n)}var r=u.fromJSON(t,e.content);return t.nodeType(e.type).create(e.attrs,r,n)},Object.defineProperties(F.prototype,j);var B=function(t){function e(e,n,r,i){if(t.call(this,e,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={textContent:{configurable:!0},nodeSize:{configurable:!0}};return e.prototype.toString=function(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):V(this.marks,JSON.stringify(this.text))},n.textContent.get=function(){return this.text},e.prototype.textBetween=function(t,e){return this.text.slice(t,e)},n.nodeSize.get=function(){return this.text.length},e.prototype.mark=function(t){return t==this.marks?this:new e(this.type,this.attrs,this.text,t)},e.prototype.withText=function(t){return t==this.text?this:new e(this.type,this.attrs,t,this.marks)},e.prototype.cut=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.text.length),0==t&&e==this.text.length?this:this.withText(this.text.slice(t,e))},e.prototype.eq=function(t){return this.sameMarkup(t)&&this.text==t.text},e.prototype.toJSON=function(){var e=t.prototype.toJSON.call(this);return e.text=this.text,e},Object.defineProperties(e.prototype,n),e}(F);function V(t,e){for(var n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}var U=function(t){this.validEnd=t,this.next=[],this.wrapCache=[]},q={inlineContent:{configurable:!0},defaultType:{configurable:!0},edgeCount:{configurable:!0}};U.parse=function(t,e){var n=new H(t,e);if(null==n.next)return U.empty;var r=$(n);n.next&&n.err("Unexpected trailing text");var i=et(Y(r));return nt(i,n),i},U.prototype.matchType=function(t){for(var e=0;e<this.next.length;e+=2)if(this.next[e]==t)return this.next[e+1];return null},U.prototype.matchFragment=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=t.childCount);for(var r=this,i=e;r&&i<n;i++)r=r.matchType(t.child(i).type);return r},q.inlineContent.get=function(){var t=this.next[0];return!!t&&t.isInline},q.defaultType.get=function(){for(var t=0;t<this.next.length;t+=2){var e=this.next[t];if(!e.isText&&!e.hasRequiredAttrs())return e}},U.prototype.compatible=function(t){for(var e=0;e<this.next.length;e+=2)for(var n=0;n<t.next.length;n+=2)if(this.next[e]==t.next[n])return!0;return!1},U.prototype.fillBefore=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=0);var r=[this];function i(o,s){var a=o.matchFragment(t,n);if(a&&(!e||a.validEnd))return u.from(s.map((function(t){return t.createAndFill()})));for(var c=0;c<o.next.length;c+=2){var l=o.next[c],h=o.next[c+1];if(!l.isText&&!l.hasRequiredAttrs()&&-1==r.indexOf(h)){r.push(h);var f=i(h,s.concat(l));if(f)return f}}}return i(this,[])},U.prototype.findWrapping=function(t){for(var e=0;e<this.wrapCache.length;e+=2)if(this.wrapCache[e]==t)return this.wrapCache[e+1];var n=this.computeWrapping(t);return this.wrapCache.push(t,n),n},U.prototype.computeWrapping=function(t){var e=Object.create(null),n=[{match:this,type:null,via:null}];while(n.length){var r=n.shift(),i=r.match;if(i.matchType(t)){for(var o=[],s=r;s.type;s=s.via)o.push(s.type);return o.reverse()}for(var a=0;a<i.next.length;a+=2){var u=i.next[a];u.isLeaf||u.hasRequiredAttrs()||u.name in e||r.type&&!i.next[a+1].validEnd||(n.push({match:u.contentMatch,type:u,via:r}),e[u.name]=!0)}}},q.edgeCount.get=function(){return this.next.length>>1},U.prototype.edge=function(t){var e=t<<1;if(e>=this.next.length)throw new RangeError("There's no "+t+"th edge in this content match");return{type:this.next[e],next:this.next[e+1]}},U.prototype.toString=function(){var t=[];function e(n){t.push(n);for(var r=1;r<n.next.length;r+=2)-1==t.indexOf(n.next[r])&&e(n.next[r])}return e(this),t.map((function(e,n){for(var r=n+(e.validEnd?"*":" ")+" ",i=0;i<e.next.length;i+=2)r+=(i?", ":"")+e.next[i].name+"->"+t.indexOf(e.next[i+1]);return r})).join("\n")},Object.defineProperties(U.prototype,q),U.empty=new U(!0);var H=function(t,e){this.string=t,this.nodeTypes=e,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()},z={next:{configurable:!0}};function $(t){var e=[];do{e.push(G(t))}while(t.eat("|"));return 1==e.length?e[0]:{type:"choice",exprs:e}}function G(t){var e=[];do{e.push(W(t))}while(t.next&&")"!=t.next&&"|"!=t.next);return 1==e.length?e[0]:{type:"seq",exprs:e}}function W(t){for(var e=Q(t);;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else{if(!t.eat("{"))break;e=J(t,e)}return e}function K(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");var e=Number(t.next);return t.pos++,e}function J(t,e){var n=K(t),r=n;return t.eat(",")&&(r="}"!=t.next?K(t):-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function X(t,e){var n=t.nodeTypes,r=n[e];if(r)return[r];var i=[];for(var o in n){var s=n[o];s.groups.indexOf(e)>-1&&i.push(s)}return 0==i.length&&t.err("No node type or group '"+e+"' found"),i}function Q(t){if(t.eat("(")){var e=$(t);return t.eat(")")||t.err("Missing closing paren"),e}if(!/\W/.test(t.next)){var n=X(t,t.next).map((function(e){return null==t.inline?t.inline=e.isInline:t.inline!=e.isInline&&t.err("Mixing inline and block content"),{type:"name",value:e}}));return t.pos++,1==n.length?n[0]:{type:"choice",exprs:n}}t.err("Unexpected token '"+t.next+"'")}function Y(t){var e=[[]];return i(o(t,0),n()),e;function n(){return e.push([])-1}function r(t,n,r){var i={term:r,to:n};return e[t].push(i),i}function i(t,e){t.forEach((function(t){return t.to=e}))}function o(t,e){if("choice"==t.type)return t.exprs.reduce((function(t,n){return t.concat(o(n,e))}),[]);if("seq"==t.type)for(var s=0;;s++){var a=o(t.exprs[s],e);if(s==t.exprs.length-1)return a;i(a,e=n())}else{if("star"==t.type){var u=n();return r(e,u),i(o(t.expr,u),u),[r(u)]}if("plus"==t.type){var c=n();return i(o(t.expr,e),c),i(o(t.expr,c),c),[r(c)]}if("opt"==t.type)return[r(e)].concat(o(t.expr,e));if("range"==t.type){for(var l=e,h=0;h<t.min;h++){var f=n();i(o(t.expr,l),f),l=f}if(-1==t.max)i(o(t.expr,l),l);else for(var p=t.min;p<t.max;p++){var d=n();r(l,d),i(o(t.expr,l),d),l=d}return[r(l)]}if("name"==t.type)return[r(e,null,t.value)]}}}function Z(t,e){return e-t}function tt(t,e){var n=[];return r(e),n.sort(Z);function r(e){var i=t[e];if(1==i.length&&!i[0].term)return r(i[0].to);n.push(e);for(var o=0;o<i.length;o++){var s=i[o],a=s.term,u=s.to;a||-1!=n.indexOf(u)||r(u)}}}function et(t){var e=Object.create(null);return n(tt(t,0));function n(r){var i=[];r.forEach((function(e){t[e].forEach((function(e){var n=e.term,r=e.to;if(n){var o=i.indexOf(n),s=o>-1&&i[o+1];tt(t,r).forEach((function(t){s||i.push(n,s=[]),-1==s.indexOf(t)&&s.push(t)}))}}))}));for(var o=e[r.join(",")]=new U(r.indexOf(t.length-1)>-1),s=0;s<i.length;s+=2){var a=i[s+1].sort(Z);o.next.push(i[s],e[a.join(",")]||n(a))}return o}}function nt(t,e){for(var n=0,r=[t];n<r.length;n++){for(var i=r[n],o=!i.validEnd,s=[],a=0;a<i.next.length;a+=2){var u=i.next[a],c=i.next[a+1];s.push(u.name),!o||u.isText||u.hasRequiredAttrs()||(o=!1),-1==r.indexOf(c)&&r.push(c)}o&&e.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function rt(t){var e=Object.create(null);for(var n in t){var r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function it(t,e){var n=Object.create(null);for(var r in t){var i=e&&e[r];if(void 0===i){var o=t[r];if(!o.hasDefault)throw new RangeError("No value supplied for attribute "+r);i=o.default}n[r]=i}return n}function ot(t){var e=Object.create(null);if(t)for(var n in t)e[n]=new ut(t[n]);return e}z.next.get=function(){return this.tokens[this.pos]},H.prototype.eat=function(t){return this.next==t&&(this.pos++||!0)},H.prototype.err=function(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")},Object.defineProperties(H.prototype,z);var st=function(t,e,n){this.name=t,this.schema=e,this.spec=n,this.groups=n.group?n.group.split(" "):[],this.attrs=ot(n.attrs),this.defaultAttrs=rt(this.attrs),this.contentMatch=null,this.markSet=null,this.inlineContent=null,this.isBlock=!(n.inline||"text"==t),this.isText="text"==t},at={isInline:{configurable:!0},isTextblock:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0},whitespace:{configurable:!0}};at.isInline.get=function(){return!this.isBlock},at.isTextblock.get=function(){return this.isBlock&&this.inlineContent},at.isLeaf.get=function(){return this.contentMatch==U.empty},at.isAtom.get=function(){return this.isLeaf||this.spec.atom},at.whitespace.get=function(){return this.spec.whitespace||(this.spec.code?"pre":"normal")},st.prototype.hasRequiredAttrs=function(){for(var t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1},st.prototype.compatibleContent=function(t){return this==t||this.contentMatch.compatible(t.contentMatch)},st.prototype.computeAttrs=function(t){return!t&&this.defaultAttrs?this.defaultAttrs:it(this.attrs,t)},st.prototype.create=function(t,e,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new F(this,this.computeAttrs(t),u.from(e),p.setFrom(n))},st.prototype.createChecked=function(t,e,n){if(e=u.from(e),!this.validContent(e))throw new RangeError("Invalid content for node "+this.name);return new F(this,this.computeAttrs(t),e,p.setFrom(n))},st.prototype.createAndFill=function(t,e,n){if(t=this.computeAttrs(t),e=u.from(e),e.size){var r=this.contentMatch.fillBefore(e);if(!r)return null;e=r.append(e)}var i=this.contentMatch.matchFragment(e).fillBefore(u.empty,!0);return i?new F(this,t,e.append(i),p.setFrom(n)):null},st.prototype.validContent=function(t){var e=this.contentMatch.matchFragment(t);if(!e||!e.validEnd)return!1;for(var n=0;n<t.childCount;n++)if(!this.allowsMarks(t.child(n).marks))return!1;return!0},st.prototype.allowsMarkType=function(t){return null==this.markSet||this.markSet.indexOf(t)>-1},st.prototype.allowsMarks=function(t){if(null==this.markSet)return!0;for(var e=0;e<t.length;e++)if(!this.allowsMarkType(t[e].type))return!1;return!0},st.prototype.allowedMarks=function(t){if(null==this.markSet)return t;for(var e,n=0;n<t.length;n++)this.allowsMarkType(t[n].type)?e&&e.push(t[n]):e||(e=t.slice(0,n));return e?e.length?e:p.empty:t},st.compile=function(t,e){var n=Object.create(null);t.forEach((function(t,r){return n[t]=new st(t,e,r)}));var r=e.spec.topNode||"doc";if(!n[r])throw new RangeError("Schema is missing its top node type ('"+r+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(var i in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n},Object.defineProperties(st.prototype,at);var ut=function(t){this.hasDefault=Object.prototype.hasOwnProperty.call(t,"default"),this.default=t.default},ct={isRequired:{configurable:!0}};ct.isRequired.get=function(){return!this.hasDefault},Object.defineProperties(ut.prototype,ct);var lt=function(t,e,n,r){this.name=t,this.schema=n,this.spec=r,this.attrs=ot(r.attrs),this.rank=e,this.excluded=null;var i=rt(this.attrs);this.instance=i&&new p(this,i)};lt.prototype.create=function(t){return!t&&this.instance?this.instance:new p(this,it(this.attrs,t))},lt.compile=function(t,e){var n=Object.create(null),r=0;return t.forEach((function(t,i){return n[t]=new lt(t,r++,e,i)})),n},lt.prototype.removeFromSet=function(t){for(var e=0;e<t.length;e++)t[e].type==this&&(t=t.slice(0,e).concat(t.slice(e+1)),e--);return t},lt.prototype.isInSet=function(t){for(var e=0;e<t.length;e++)if(t[e].type==this)return t[e]},lt.prototype.excludes=function(t){return this.excluded.indexOf(t)>-1};var ht=function(t){for(var e in this.spec={},t)this.spec[e]=t[e];this.spec.nodes=o.from(t.nodes),this.spec.marks=o.from(t.marks),this.nodes=st.compile(this.spec.nodes,this),this.marks=lt.compile(this.spec.marks,this);var n=Object.create(null);for(var r in this.nodes){if(r in this.marks)throw new RangeError(r+" can not be both a node and a mark");var i=this.nodes[r],s=i.spec.content||"",a=i.spec.marks;i.contentMatch=n[s]||(n[s]=U.parse(s,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.markSet="_"==a?null:a?ft(this,a.split(" ")):""!=a&&i.inlineContent?null:[]}for(var u in this.marks){var c=this.marks[u],l=c.spec.excludes;c.excluded=null==l?[c]:""==l?[]:ft(this,l.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached=Object.create(null),this.cached.wrappings=Object.create(null)};function ft(t,e){for(var n=[],r=0;r<e.length;r++){var i=e[r],o=t.marks[i],s=o;if(o)n.push(o);else for(var a in t.marks){var u=t.marks[a];("_"==i||u.spec.group&&u.spec.group.split(" ").indexOf(i)>-1)&&n.push(s=u)}if(!s)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}ht.prototype.node=function(t,e,n,r){if("string"==typeof t)t=this.nodeType(t);else{if(!(t instanceof st))throw new RangeError("Invalid node type: "+t);if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}return t.createChecked(e,n,r)},ht.prototype.text=function(t,e){var n=this.nodes.text;return new B(n,n.defaultAttrs,t,p.setFrom(e))},ht.prototype.mark=function(t,e){return"string"==typeof t&&(t=this.marks[t]),t.create(e)},ht.prototype.nodeFromJSON=function(t){return F.fromJSON(this,t)},ht.prototype.markFromJSON=function(t){return p.fromJSON(this,t)},ht.prototype.nodeType=function(t){var e=this.nodes[t];if(!e)throw new RangeError("Unknown node type: "+t);return e};var pt=function(t,e){var n=this;this.schema=t,this.rules=e,this.tags=[],this.styles=[],e.forEach((function(t){t.tag?n.tags.push(t):t.style&&n.styles.push(t)})),this.normalizeLists=!this.tags.some((function(e){if(!/^(ul|ol)\b/.test(e.tag)||!e.node)return!1;var n=t.nodes[e.node];return n.contentMatch.matchType(n)}))};pt.prototype.parse=function(t,e){void 0===e&&(e={});var n=new _t(this,e,!1);return n.addAll(t,null,e.from,e.to),n.finish()},pt.prototype.parseSlice=function(t,e){void 0===e&&(e={});var n=new _t(this,e,!0);return n.addAll(t,null,e.from,e.to),m.maxOpen(n.finish())},pt.prototype.matchTag=function(t,e,n){for(var r=n?this.tags.indexOf(n)+1:0;r<this.tags.length;r++){var i=this.tags[r];if(Ct(t,i.tag)&&(void 0===i.namespace||t.namespaceURI==i.namespace)&&(!i.context||e.matchesContext(i.context))){if(i.getAttrs){var o=i.getAttrs(t);if(!1===o)continue;i.attrs=o}return i}}},pt.prototype.matchStyle=function(t,e,n,r){for(var i=r?this.styles.indexOf(r)+1:0;i<this.styles.length;i++){var o=this.styles[i];if(!(0!=o.style.indexOf(t)||o.context&&!n.matchesContext(o.context)||o.style.length>t.length&&(61!=o.style.charCodeAt(t.length)||o.style.slice(t.length+1)!=e))){if(o.getAttrs){var s=o.getAttrs(e);if(!1===s)continue;o.attrs=s}return o}}},pt.schemaRules=function(t){var e=[];function n(t){for(var n=null==t.priority?50:t.priority,r=0;r<e.length;r++){var i=e[r],o=null==i.priority?50:i.priority;if(o<n)break}e.splice(r,0,t)}var r=function(e){var r=t.marks[e].spec.parseDOM;r&&r.forEach((function(t){n(t=St(t)),t.mark=e}))};for(var i in t.marks)r(i);var o=function(e){var r=t.nodes[s].spec.parseDOM;r&&r.forEach((function(t){n(t=St(t)),t.node=s}))};for(var s in t.nodes)o();return e},pt.fromSchema=function(t){return t.cached.domParser||(t.cached.domParser=new pt(t,pt.schemaRules(t)))};var dt={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},mt={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},vt={ol:!0,ul:!0},gt=1,yt=2,bt=4;function wt(t,e,n){return null!=e?(e?gt:0)|("full"===e?yt:0):t&&"pre"==t.whitespace?gt|yt:n&~bt}var kt=function(t,e,n,r,i,o,s){this.type=t,this.attrs=e,this.solid=i,this.match=o||(s&bt?null:t.contentMatch),this.options=s,this.content=[],this.marks=n,this.activeMarks=p.none,this.pendingMarks=r,this.stashMarks=[]};kt.prototype.findWrapping=function(t){if(!this.match){if(!this.type)return[];var e=this.type.contentMatch.fillBefore(u.from(t));if(!e){var n,r=this.type.contentMatch;return(n=r.findWrapping(t.type))?(this.match=r,n):null}this.match=this.type.contentMatch.matchFragment(e)}return this.match.findWrapping(t.type)},kt.prototype.finish=function(t){if(!(this.options&gt)){var e,n=this.content[this.content.length-1];n&&n.isText&&(e=/[ \t\r\n\u000c]+$/.exec(n.text))&&(n.text.length==e[0].length?this.content.pop():this.content[this.content.length-1]=n.withText(n.text.slice(0,n.text.length-e[0].length)))}var r=u.from(this.content);return!t&&this.match&&(r=r.append(this.match.fillBefore(u.empty,!0))),this.type?this.type.create(this.attrs,r,this.marks):r},kt.prototype.popFromStashMark=function(t){for(var e=this.stashMarks.length-1;e>=0;e--)if(t.eq(this.stashMarks[e]))return this.stashMarks.splice(e,1)[0]},kt.prototype.applyPending=function(t){for(var e=0,n=this.pendingMarks;e<n.length;e++){var r=n[e];(this.type?this.type.allowsMarkType(r.type):It(r.type,t))&&!r.isInSet(this.activeMarks)&&(this.activeMarks=r.addToSet(this.activeMarks),this.pendingMarks=r.removeFromSet(this.pendingMarks))}},kt.prototype.inlineContext=function(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!dt.hasOwnProperty(t.parentNode.nodeName.toLowerCase())};var _t=function(t,e,n){this.parser=t,this.options=e,this.isOpen=n;var r,i=e.topNode,o=wt(null,e.preserveWhitespace,0)|(n?bt:0);r=i?new kt(i.type,i.attrs,p.none,p.none,!0,e.topMatch||i.type.contentMatch,o):new kt(n?null:t.schema.topNodeType,null,p.none,p.none,!0,null,o),this.nodes=[r],this.open=0,this.find=e.findPositions,this.needsBlock=!1},Tt={top:{configurable:!0},currentPos:{configurable:!0}};function Et(t){for(var e=t.firstChild,n=null;e;e=e.nextSibling){var r=1==e.nodeType?e.nodeName.toLowerCase():null;r&&vt.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):"li"==r?n=e:r&&(n=null)}}function Ct(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function xt(t){var e,n=/\s*([\w-]+)\s*:\s*([^;]+)/g,r=[];while(e=n.exec(t))r.push(e[1],e[2].trim());return r}function St(t){var e={};for(var n in t)e[n]=t[n];return e}function It(t,e){var n=e.schema.nodes,r=function(r){var i=n[r];if(i.allowsMarkType(t)){var o=[],s=function(t){o.push(t);for(var n=0;n<t.edgeCount;n++){var r=t.edge(n),i=r.type,a=r.next;if(i==e)return!0;if(o.indexOf(a)<0&&s(a))return!0}};return s(i.contentMatch)?{v:!0}:void 0}};for(var i in n){var o=r(i);if(o)return o.v}}function At(t,e){for(var n=0;n<e.length;n++)if(t.eq(e[n]))return e[n]}Tt.top.get=function(){return this.nodes[this.open]},_t.prototype.addDOM=function(t){if(3==t.nodeType)this.addTextNode(t);else if(1==t.nodeType){var e=t.getAttribute("style"),n=e?this.readStyles(xt(e)):null,r=this.top;if(null!=n)for(var i=0;i<n.length;i++)this.addPendingMark(n[i]);if(this.addElement(t),null!=n)for(var o=0;o<n.length;o++)this.removePendingMark(n[o],r)}},_t.prototype.addTextNode=function(t){var e=t.nodeValue,n=this.top;if(n.options&yt||n.inlineContext(t)||/[^ \t\r\n\u000c]/.test(e)){if(n.options&gt)e=n.options&yt?e.replace(/\r\n?/g,"\n"):e.replace(/\r?\n|\r/g," ");else if(e=e.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(e)&&this.open==this.nodes.length-1){var r=n.content[n.content.length-1],i=t.previousSibling;(!r||i&&"BR"==i.nodeName||r.isText&&/[ \t\r\n\u000c]$/.test(r.text))&&(e=e.slice(1))}e&&this.insertNode(this.parser.schema.text(e)),this.findInText(t)}else this.findInside(t)},_t.prototype.addElement=function(t,e){var n,r=t.nodeName.toLowerCase();vt.hasOwnProperty(r)&&this.parser.normalizeLists&&Et(t);var i=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(n=this.parser.matchTag(t,this,e));if(i?i.ignore:mt.hasOwnProperty(r))this.findInside(t),this.ignoreFallback(t);else if(!i||i.skip||i.closeParent){i&&i.closeParent?this.open=Math.max(0,this.open-1):i&&i.skip.nodeType&&(t=i.skip);var o,s=this.top,a=this.needsBlock;if(dt.hasOwnProperty(r))o=!0,s.type||(this.needsBlock=!0);else if(!t.firstChild)return void this.leafFallback(t);this.addAll(t),o&&this.sync(s),this.needsBlock=a}else this.addElementByRule(t,i,!1===i.consuming?n:null)},_t.prototype.leafFallback=function(t){"BR"==t.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode("\n"))},_t.prototype.ignoreFallback=function(t){"BR"!=t.nodeName||this.top.type&&this.top.type.inlineContent||this.findPlace(this.parser.schema.text("-"))},_t.prototype.readStyles=function(t){var e=p.none;t:for(var n=0;n<t.length;n+=2)for(var r=null;;){var i=this.parser.matchStyle(t[n],t[n+1],this,r);if(!i)continue t;if(i.ignore)return null;if(e=this.parser.schema.marks[i.mark].create(i.attrs).addToSet(e),!1!==i.consuming)break;r=i}return e},_t.prototype.addElementByRule=function(t,e,n){var r,i,o,s,a=this;e.node?(i=this.parser.schema.nodes[e.node],i.isLeaf?this.insertNode(i.create(e.attrs))||this.leafFallback(t):r=this.enter(i,e.attrs,e.preserveWhitespace)):(o=this.parser.schema.marks[e.mark],s=o.create(e.attrs),this.addPendingMark(s));var u=this.top;if(i&&i.isLeaf)this.findInside(t);else if(n)this.addElement(t,n);else if(e.getContent)this.findInside(t),e.getContent(t,this.parser.schema).forEach((function(t){return a.insertNode(t)}));else{var c=e.contentElement;"string"==typeof c?c=t.querySelector(c):"function"==typeof c&&(c=c(t)),c||(c=t),this.findAround(t,c,!0),this.addAll(c,r)}r&&(this.sync(u),this.open--),s&&this.removePendingMark(s,u)},_t.prototype.addAll=function(t,e,n,r){for(var i=n||0,o=n?t.childNodes[n]:t.firstChild,s=null==r?null:t.childNodes[r];o!=s;o=o.nextSibling,++i)this.findAtPoint(t,i),this.addDOM(o),e&&dt.hasOwnProperty(o.nodeName.toLowerCase())&&this.sync(e);this.findAtPoint(t,i)},_t.prototype.findPlace=function(t){for(var e,n,r=this.open;r>=0;r--){var i=this.nodes[r],o=i.findWrapping(t);if(o&&(!e||e.length>o.length)&&(e=o,n=i,!o.length))break;if(i.solid)break}if(!e)return!1;this.sync(n);for(var s=0;s<e.length;s++)this.enterInner(e[s],null,!1);return!0},_t.prototype.insertNode=function(t){if(t.isInline&&this.needsBlock&&!this.top.type){var e=this.textblockFromContext();e&&this.enterInner(e)}if(this.findPlace(t)){this.closeExtra();var n=this.top;n.applyPending(t.type),n.match&&(n.match=n.match.matchType(t.type));for(var r=n.activeMarks,i=0;i<t.marks.length;i++)n.type&&!n.type.allowsMarkType(t.marks[i].type)||(r=t.marks[i].addToSet(r));return n.content.push(t.mark(r)),!0}return!1},_t.prototype.enter=function(t,e,n){var r=this.findPlace(t.create(e));return r&&this.enterInner(t,e,!0,n),r},_t.prototype.enterInner=function(t,e,n,r){this.closeExtra();var i=this.top;i.applyPending(t),i.match=i.match&&i.match.matchType(t,e);var o=wt(t,r,i.options);i.options&bt&&0==i.content.length&&(o|=bt),this.nodes.push(new kt(t,e,i.activeMarks,i.pendingMarks,n,null,o)),this.open++},_t.prototype.closeExtra=function(t){var e=this.nodes.length-1;if(e>this.open){for(;e>this.open;e--)this.nodes[e-1].content.push(this.nodes[e].finish(t));this.nodes.length=this.open+1}},_t.prototype.finish=function(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)},_t.prototype.sync=function(t){for(var e=this.open;e>=0;e--)if(this.nodes[e]==t)return void(this.open=e)},Tt.currentPos.get=function(){this.closeExtra();for(var t=0,e=this.open;e>=0;e--){for(var n=this.nodes[e].content,r=n.length-1;r>=0;r--)t+=n[r].nodeSize;e&&t++}return t},_t.prototype.findAtPoint=function(t,e){if(this.find)for(var n=0;n<this.find.length;n++)this.find[n].node==t&&this.find[n].offset==e&&(this.find[n].pos=this.currentPos)},_t.prototype.findInside=function(t){if(this.find)for(var e=0;e<this.find.length;e++)null==this.find[e].pos&&1==t.nodeType&&t.contains(this.find[e].node)&&(this.find[e].pos=this.currentPos)},_t.prototype.findAround=function(t,e,n){if(t!=e&&this.find)for(var r=0;r<this.find.length;r++)if(null==this.find[r].pos&&1==t.nodeType&&t.contains(this.find[r].node)){var i=e.compareDocumentPosition(this.find[r].node);i&(n?2:4)&&(this.find[r].pos=this.currentPos)}},_t.prototype.findInText=function(t){if(this.find)for(var e=0;e<this.find.length;e++)this.find[e].node==t&&(this.find[e].pos=this.currentPos-(t.nodeValue.length-this.find[e].offset))},_t.prototype.matchesContext=function(t){var e=this;if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);var n=t.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),o=-(r?r.depth+1:0)+(i?0:1),s=function(t,a){for(;t>=0;t--){var u=n[t];if(""==u){if(t==n.length-1||0==t)continue;for(;a>=o;a--)if(s(t-1,a))return!0;return!1}var c=a>0||0==a&&i?e.nodes[a].type:r&&a>=o?r.node(a-o).type:null;if(!c||c.name!=u&&-1==c.groups.indexOf(u))return!1;a--}return!0};return s(n.length-1,this.open)},_t.prototype.textblockFromContext=function(){var t=this.options.context;if(t)for(var e=t.depth;e>=0;e--){var n=t.node(e).contentMatchAt(t.indexAfter(e)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(var r in this.parser.schema.nodes){var i=this.parser.schema.nodes[r];if(i.isTextblock&&i.defaultAttrs)return i}},_t.prototype.addPendingMark=function(t){var e=At(t,this.top.pendingMarks);e&&this.top.stashMarks.push(e),this.top.pendingMarks=t.addToSet(this.top.pendingMarks)},_t.prototype.removePendingMark=function(t,e){for(var n=this.open;n>=0;n--){var r=this.nodes[n],i=r.pendingMarks.lastIndexOf(t);if(i>-1)r.pendingMarks=t.removeFromSet(r.pendingMarks);else{r.activeMarks=t.removeFromSet(r.activeMarks);var o=r.popFromStashMark(t);o&&r.type&&r.type.allowsMarkType(o.type)&&(r.activeMarks=o.addToSet(r.activeMarks))}if(r==e)break}},Object.defineProperties(_t.prototype,Tt);var Nt=function(t,e){this.nodes=t||{},this.marks=e||{}};function Ot(t){var e={};for(var n in t){var r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function Dt(t){return t.document||window.document}Nt.prototype.serializeFragment=function(t,e,n){var r=this;void 0===e&&(e={}),n||(n=Dt(e).createDocumentFragment());var i=n,o=null;return t.forEach((function(t){if(o||t.marks.length){o||(o=[]);var n=0,s=0;while(n<o.length&&s<t.marks.length){var a=t.marks[s];if(r.marks[a.type.name]){if(!a.eq(o[n])||!1===a.type.spec.spanning)break;n+=2,s++}else s++}while(n<o.length)i=o.pop(),o.pop();while(s<t.marks.length){var u=t.marks[s++],c=r.serializeMark(u,t.isInline,e);c&&(o.push(u,i),i.appendChild(c.dom),i=c.contentDOM||c.dom)}}i.appendChild(r.serializeNodeInner(t,e))})),n},Nt.prototype.serializeNodeInner=function(t,e){void 0===e&&(e={});var n=Nt.renderSpec(Dt(e),this.nodes[t.type.name](t)),r=n.dom,i=n.contentDOM;if(i){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");e.onContent?e.onContent(t,i,e):this.serializeFragment(t.content,e,i)}return r},Nt.prototype.serializeNode=function(t,e){void 0===e&&(e={});for(var n=this.serializeNodeInner(t,e),r=t.marks.length-1;r>=0;r--){var i=this.serializeMark(t.marks[r],t.isInline,e);i&&((i.contentDOM||i.dom).appendChild(n),n=i.dom)}return n},Nt.prototype.serializeMark=function(t,e,n){void 0===n&&(n={});var r=this.marks[t.type.name];return r&&Nt.renderSpec(Dt(n),r(t,e))},Nt.renderSpec=function(t,e,n){if(void 0===n&&(n=null),"string"==typeof e)return{dom:t.createTextNode(e)};if(null!=e.nodeType)return{dom:e};if(e.dom&&null!=e.dom.nodeType)return e;var r=e[0],i=r.indexOf(" ");i>0&&(n=r.slice(0,i),r=r.slice(i+1));var o=null,s=n?t.createElementNS(n,r):t.createElement(r),a=e[1],u=1;if(a&&"object"==typeof a&&null==a.nodeType&&!Array.isArray(a))for(var c in u=2,a)if(null!=a[c]){var l=c.indexOf(" ");l>0?s.setAttributeNS(c.slice(0,l),c.slice(l+1),a[c]):s.setAttribute(c,a[c])}for(var h=u;h<e.length;h++){var f=e[h];if(0===f){if(h<e.length-1||h>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:s,contentDOM:s}}var p=Nt.renderSpec(t,f,n),d=p.dom,m=p.contentDOM;if(s.appendChild(d),m){if(o)throw new RangeError("Multiple content holes");o=m}}return{dom:s,contentDOM:o}},Nt.fromSchema=function(t){return t.cached.domSerializer||(t.cached.domSerializer=new Nt(this.nodesFromSchema(t),this.marksFromSchema(t)))},Nt.nodesFromSchema=function(t){var e=Ot(t.nodes);return e.text||(e.text=function(t){return t.text}),e},Nt.marksFromSchema=function(t){return Ot(t.marks)};n(2801);var Mt=65535,Rt=Math.pow(2,16);function Lt(t,e){return t+e*Rt}function Pt(t){return t&Mt}function Ft(t){return(t-(t&Mt))/Rt}var jt=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=null),this.pos=t,this.deleted=e,this.recover=n},Bt=function t(e,n){if(void 0===n&&(n=!1),!e.length&&t.empty)return t.empty;this.ranges=e,this.inverted=n};Bt.prototype.recover=function(t){var e=0,n=Pt(t);if(!this.inverted)for(var r=0;r<n;r++)e+=this.ranges[3*r+2]-this.ranges[3*r+1];return this.ranges[3*n]+e+Ft(t)},Bt.prototype.mapResult=function(t,e){return void 0===e&&(e=1),this._map(t,e,!1)},Bt.prototype.map=function(t,e){return void 0===e&&(e=1),this._map(t,e,!0)},Bt.prototype._map=function(t,e,n){for(var r=0,i=this.inverted?2:1,o=this.inverted?1:2,s=0;s<this.ranges.length;s+=3){var a=this.ranges[s]-(this.inverted?r:0);if(a>t)break;var u=this.ranges[s+i],c=this.ranges[s+o],l=a+u;if(t<=l){var h=u?t==a?-1:t==l?1:e:e,f=a+r+(h<0?0:c);if(n)return f;var p=t==(e<0?a:l)?null:Lt(s/3,t-a);return new jt(f,e<0?t!=a:t!=l,p)}r+=c-u}return n?t+r:new jt(t+r)},Bt.prototype.touches=function(t,e){for(var n=0,r=Pt(e),i=this.inverted?2:1,o=this.inverted?1:2,s=0;s<this.ranges.length;s+=3){var a=this.ranges[s]-(this.inverted?n:0);if(a>t)break;var u=this.ranges[s+i],c=a+u;if(t<=c&&s==3*r)return!0;n+=this.ranges[s+o]-u}return!1},Bt.prototype.forEach=function(t){for(var e=this.inverted?2:1,n=this.inverted?1:2,r=0,i=0;r<this.ranges.length;r+=3){var o=this.ranges[r],s=o-(this.inverted?i:0),a=o+(this.inverted?0:i),u=this.ranges[r+e],c=this.ranges[r+n];t(s,s+u,a,a+c),i+=c-u}},Bt.prototype.invert=function(){return new Bt(this.ranges,!this.inverted)},Bt.prototype.toString=function(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)},Bt.offset=function(t){return 0==t?Bt.empty:new Bt(t<0?[0,-t,0]:[0,0,t])},Bt.empty=new Bt([]);var Vt=function(t,e,n,r){this.maps=t||[],this.from=n||0,this.to=null==r?this.maps.length:r,this.mirror=e};function Ut(t){var e=Error.call(this,t);return e.__proto__=Ut.prototype,e}Vt.prototype.slice=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.maps.length),new Vt(this.maps,this.mirror,t,e)},Vt.prototype.copy=function(){return new Vt(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)},Vt.prototype.appendMap=function(t,e){this.to=this.maps.push(t),null!=e&&this.setMirror(this.maps.length-1,e)},Vt.prototype.appendMapping=function(t){for(var e=0,n=this.maps.length;e<t.maps.length;e++){var r=t.getMirror(e);this.appendMap(t.maps[e],null!=r&&r<e?n+r:null)}},Vt.prototype.getMirror=function(t){if(this.mirror)for(var e=0;e<this.mirror.length;e++)if(this.mirror[e]==t)return this.mirror[e+(e%2?-1:1)]},Vt.prototype.setMirror=function(t,e){this.mirror||(this.mirror=[]),this.mirror.push(t,e)},Vt.prototype.appendMappingInverted=function(t){for(var e=t.maps.length-1,n=this.maps.length+t.maps.length;e>=0;e--){var r=t.getMirror(e);this.appendMap(t.maps[e].invert(),null!=r&&r>e?n-r-1:null)}},Vt.prototype.invert=function(){var t=new Vt;return t.appendMappingInverted(this),t},Vt.prototype.map=function(t,e){if(void 0===e&&(e=1),this.mirror)return this._map(t,e,!0);for(var n=this.from;n<this.to;n++)t=this.maps[n].map(t,e);return t},Vt.prototype.mapResult=function(t,e){return void 0===e&&(e=1),this._map(t,e,!1)},Vt.prototype._map=function(t,e,n){for(var r=!1,i=this.from;i<this.to;i++){var o=this.maps[i],s=o.mapResult(t,e);if(null!=s.recover){var a=this.getMirror(i);if(null!=a&&a>i&&a<this.to){i=a,t=this.maps[a].recover(s.recover);continue}}s.deleted&&(r=!0),t=s.pos}return n?t:new jt(t,r)},Ut.prototype=Object.create(Error.prototype),Ut.prototype.constructor=Ut,Ut.prototype.name="TransformError";var qt=function(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new Vt},Ht={before:{configurable:!0},docChanged:{configurable:!0}};function zt(){throw new Error("Override me")}Ht.before.get=function(){return this.docs.length?this.docs[0]:this.doc},qt.prototype.step=function(t){var e=this.maybeStep(t);if(e.failed)throw new Ut(e.failed);return this},qt.prototype.maybeStep=function(t){var e=t.apply(this.doc);return e.failed||this.addStep(t,e.doc),e},Ht.docChanged.get=function(){return this.steps.length>0},qt.prototype.addStep=function(t,e){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=e},Object.defineProperties(qt.prototype,Ht);var $t=Object.create(null),Gt=function(){};Gt.prototype.apply=function(t){return zt()},Gt.prototype.getMap=function(){return Bt.empty},Gt.prototype.invert=function(t){return zt()},Gt.prototype.map=function(t){return zt()},Gt.prototype.merge=function(t){return null},Gt.prototype.toJSON=function(){return zt()},Gt.fromJSON=function(t,e){if(!e||!e.stepType)throw new RangeError("Invalid input for Step.fromJSON");var n=$t[e.stepType];if(!n)throw new RangeError("No step type "+e.stepType+" defined");return n.fromJSON(t,e)},Gt.jsonID=function(t,e){if(t in $t)throw new RangeError("Duplicate use of step JSON ID "+t);return $t[t]=e,e.prototype.jsonID=t,e};var Wt=function(t,e){this.doc=t,this.failed=e};Wt.ok=function(t){return new Wt(t,null)},Wt.fail=function(t){return new Wt(null,t)},Wt.fromReplace=function(t,e,n,r){try{return Wt.ok(t.replace(e,n,r))}catch(i){if(i instanceof d)return Wt.fail(i.message);throw i}};var Kt=function(t){function e(e,n,r,i){t.call(this),this.from=e,this.to=n,this.slice=r,this.structure=!!i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t){return this.structure&&Xt(t,this.from,this.to)?Wt.fail("Structure replace would overwrite content"):Wt.fromReplace(t,this.from,this.to,this.slice)},e.prototype.getMap=function(){return new Bt([this.from,this.to-this.from,this.slice.size])},e.prototype.invert=function(t){return new e(this.from,this.from+this.slice.size,t.slice(this.from,this.to))},e.prototype.map=function(t){var n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted?null:new e(n.pos,Math.max(n.pos,r.pos),this.slice)},e.prototype.merge=function(t){if(!(t instanceof e)||t.structure||this.structure)return null;if(this.from+this.slice.size!=t.from||this.slice.openEnd||t.slice.openStart){if(t.to!=this.from||this.slice.openStart||t.slice.openEnd)return null;var n=this.slice.size+t.slice.size==0?m.empty:new m(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new e(t.from,this.to,n,this.structure)}var r=this.slice.size+t.slice.size==0?m.empty:new m(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new e(this.from,this.to+(t.to-t.from),r,this.structure)},e.prototype.toJSON=function(){var t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t},e.fromJSON=function(t,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new e(n.from,n.to,m.fromJSON(t,n.slice),!!n.structure)},e}(Gt);Gt.jsonID("replace",Kt);var Jt=function(t){function e(e,n,r,i,o,s,a){t.call(this),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=o,this.insert=s,this.structure=!!a}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t){if(this.structure&&(Xt(t,this.from,this.gapFrom)||Xt(t,this.gapTo,this.to)))return Wt.fail("Structure gap-replace would overwrite content");var e=t.slice(this.gapFrom,this.gapTo);if(e.openStart||e.openEnd)return Wt.fail("Gap is not a flat range");var n=this.slice.insertAt(this.insert,e.content);return n?Wt.fromReplace(t,this.from,this.to,n):Wt.fail("Content does not fit in gap")},e.prototype.getMap=function(){return new Bt([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])},e.prototype.invert=function(t){var n=this.gapTo-this.gapFrom;return new e(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)},e.prototype.map=function(t){var n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1),i=t.map(this.gapFrom,-1),o=t.map(this.gapTo,1);return n.deleted&&r.deleted||i<n.pos||o>r.pos?null:new e(n.pos,r.pos,i,o,this.slice,this.insert,this.structure)},e.prototype.toJSON=function(){var t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t},e.fromJSON=function(t,n){if("number"!=typeof n.from||"number"!=typeof n.to||"number"!=typeof n.gapFrom||"number"!=typeof n.gapTo||"number"!=typeof n.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new e(n.from,n.to,n.gapFrom,n.gapTo,m.fromJSON(t,n.slice),n.insert,!!n.structure)},e}(Gt);function Xt(t,e,n){var r=t.resolve(e),i=n-e,o=r.depth;while(i>0&&o>0&&r.indexAfter(o)==r.node(o).childCount)o--,i--;if(i>0){var s=r.node(o).maybeChild(r.indexAfter(o));while(i>0){if(!s||s.isLeaf)return!0;s=s.firstChild,i--}}return!1}function Qt(t,e,n){return(0==e||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function Yt(t){for(var e=t.parent,n=e.content.cutByIndex(t.startIndex,t.endIndex),r=t.depth;;--r){var i=t.$from.node(r),o=t.$from.index(r),s=t.$to.indexAfter(r);if(r<t.depth&&i.canReplace(o,s,n))return r;if(0==r||i.type.spec.isolating||!Qt(i,o,s))break}}function Zt(t,e,n,r){void 0===r&&(r=t);var i=ee(t,e),o=i&&ne(r,e);return o?i.map(te).concat({type:e,attrs:n}).concat(o.map(te)):null}function te(t){return{type:t,attrs:null}}function ee(t,e){var n=t.parent,r=t.startIndex,i=t.endIndex,o=n.contentMatchAt(r).findWrapping(e);if(!o)return null;var s=o.length?o[0]:e;return n.canReplaceWith(r,i,s)?o:null}function ne(t,e){var n=t.parent,r=t.startIndex,i=t.endIndex,o=n.child(r),s=e.contentMatch.findWrapping(o.type);if(!s)return null;for(var a=s.length?s[s.length-1]:e,u=a.contentMatch,c=r;u&&c<i;c++)u=u.matchType(n.child(c).type);return u&&u.validEnd?s:null}function re(t,e,n){var r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function ie(t,e,n,r){void 0===n&&(n=1);var i=t.resolve(e),o=i.depth-n,s=r&&r[r.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!s.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(var a=i.depth-1,u=n-2;a>o;a--,u--){var c=i.node(a),l=i.index(a);if(c.type.spec.isolating)return!1;var h=c.content.cutByIndex(l,c.childCount),f=r&&r[u]||c;if(f!=c&&(h=h.replaceChild(0,f.type.create(f.attrs))),!c.canReplace(l+1,c.childCount)||!f.type.validContent(h))return!1}var p=i.indexAfter(o),d=r&&r[0];return i.node(o).canReplaceWith(p,p,d?d.type:i.node(o+1).type)}function oe(t,e){var n=t.resolve(e),r=n.index();return se(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function se(t,e){return t&&e&&!t.isLeaf&&t.canAppend(e)}function ae(t,e,n){var r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(0==r.parentOffset)for(var i=r.depth-1;i>=0;i--){var o=r.index(i);if(r.node(i).canReplaceWith(o,o,n))return r.before(i+1);if(o>0)return null}if(r.parentOffset==r.parent.content.size)for(var s=r.depth-1;s>=0;s--){var a=r.indexAfter(s);if(r.node(s).canReplaceWith(a,a,n))return r.after(s+1);if(a<r.node(s).childCount)return null}}function ue(t,e,n){var r=t.resolve(e);if(!n.content.size)return e;for(var i=n.content,o=0;o<n.openStart;o++)i=i.firstChild.content;for(var s=1;s<=(0==n.openStart&&n.size?2:1);s++)for(var a=r.depth;a>=0;a--){var u=a==r.depth?0:r.pos<=(r.start(a+1)+r.end(a+1))/2?-1:1,c=r.index(a)+(u>0?1:0),l=r.node(a),h=!1;if(1==s)h=l.canReplace(c,c,i);else{var f=l.contentMatchAt(c).findWrapping(i.firstChild.type);h=f&&l.canReplaceWith(c,c,f[0])}if(h)return 0==u?r.pos:u<0?r.before(a+1):r.after(a+1)}return null}function ce(t,e,n){for(var r=[],i=0;i<t.childCount;i++){var o=t.child(i);o.content.size&&(o=o.copy(ce(o.content,e,o))),o.isInline&&(o=e(o,n,i)),r.push(o)}return u.fromArray(r)}Gt.jsonID("replaceAround",Jt),qt.prototype.lift=function(t,e){for(var n=t.$from,r=t.$to,i=t.depth,o=n.before(i+1),s=r.after(i+1),a=o,c=s,l=u.empty,h=0,f=i,p=!1;f>e;f--)p||n.index(f)>0?(p=!0,l=u.from(n.node(f).copy(l)),h++):a--;for(var d=u.empty,v=0,g=i,y=!1;g>e;g--)y||r.after(g+1)<r.end(g)?(y=!0,d=u.from(r.node(g).copy(d)),v++):c++;return this.step(new Jt(a,c,o,s,new m(l.append(d),h,v),l.size-h,!0))},qt.prototype.wrap=function(t,e){for(var n=u.empty,r=e.length-1;r>=0;r--){if(n.size){var i=e[r].type.contentMatch.matchFragment(n);if(!i||!i.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}n=u.from(e[r].type.create(e[r].attrs,n))}var o=t.start,s=t.end;return this.step(new Jt(o,s,o,s,new m(n,0,0),e.length,!0))},qt.prototype.setBlockType=function(t,e,n,r){var i=this;if(void 0===e&&(e=t),!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");var o=this.steps.length;return this.doc.nodesBetween(t,e,(function(t,e){if(t.isTextblock&&!t.hasMarkup(n,r)&&re(i.doc,i.mapping.slice(o).map(e),n)){i.clearIncompatible(i.mapping.slice(o).map(e,1),n);var s=i.mapping.slice(o),a=s.map(e,1),c=s.map(e+t.nodeSize,1);return i.step(new Jt(a,c,a+1,c-1,new m(u.from(n.create(r,null,t.marks)),0,0),1,!0)),!1}})),this},qt.prototype.setNodeMarkup=function(t,e,n,r){var i=this.doc.nodeAt(t);if(!i)throw new RangeError("No node at given position");e||(e=i.type);var o=e.create(n,null,r||i.marks);if(i.isLeaf)return this.replaceWith(t,t+i.nodeSize,o);if(!e.validContent(i.content))throw new RangeError("Invalid content for node type "+e.name);return this.step(new Jt(t,t+i.nodeSize,t+1,t+i.nodeSize-1,new m(u.from(o),0,0),1,!0))},qt.prototype.split=function(t,e,n){void 0===e&&(e=1);for(var r=this.doc.resolve(t),i=u.empty,o=u.empty,s=r.depth,a=r.depth-e,c=e-1;s>a;s--,c--){i=u.from(r.node(s).copy(i));var l=n&&n[c];o=u.from(l?l.type.create(l.attrs,o):r.node(s).copy(o))}return this.step(new Kt(t,t,new m(i.append(o),e,e),!0))},qt.prototype.join=function(t,e){void 0===e&&(e=1);var n=new Kt(t-e,t+e,m.empty,!0);return this.step(n)};var le=function(t){function e(e,n,r){t.call(this),this.from=e,this.to=n,this.mark=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t){var e=this,n=t.slice(this.from,this.to),r=t.resolve(this.from),i=r.node(r.sharedDepth(this.to)),o=new m(ce(n.content,(function(t,n){return t.isAtom&&n.type.allowsMarkType(e.mark.type)?t.mark(e.mark.addToSet(t.marks)):t}),i),n.openStart,n.openEnd);return Wt.fromReplace(t,this.from,this.to,o)},e.prototype.invert=function(){return new he(this.from,this.to,this.mark)},e.prototype.map=function(t){var n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new e(n.pos,r.pos,this.mark)},e.prototype.merge=function(t){if(t instanceof e&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from)return new e(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark)},e.prototype.toJSON=function(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},e.fromJSON=function(t,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new e(n.from,n.to,t.markFromJSON(n.mark))},e}(Gt);Gt.jsonID("addMark",le);var he=function(t){function e(e,n,r){t.call(this),this.from=e,this.to=n,this.mark=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t){var e=this,n=t.slice(this.from,this.to),r=new m(ce(n.content,(function(t){return t.mark(e.mark.removeFromSet(t.marks))})),n.openStart,n.openEnd);return Wt.fromReplace(t,this.from,this.to,r)},e.prototype.invert=function(){return new le(this.from,this.to,this.mark)},e.prototype.map=function(t){var n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new e(n.pos,r.pos,this.mark)},e.prototype.merge=function(t){if(t instanceof e&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from)return new e(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark)},e.prototype.toJSON=function(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},e.fromJSON=function(t,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new e(n.from,n.to,t.markFromJSON(n.mark))},e}(Gt);function fe(t,e,n,r){if(void 0===n&&(n=e),void 0===r&&(r=m.empty),e==n&&!r.size)return null;var i=t.resolve(e),o=t.resolve(n);return pe(i,o,r)?new Kt(e,n,r):new de(i,o,r).fit()}function pe(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}Gt.jsonID("removeMark",he),qt.prototype.addMark=function(t,e,n){var r=this,i=[],o=[],s=null,a=null;return this.doc.nodesBetween(t,e,(function(r,u,c){if(r.isInline){var l=r.marks;if(!n.isInSet(l)&&c.type.allowsMarkType(n.type)){for(var h=Math.max(u,t),f=Math.min(u+r.nodeSize,e),p=n.addToSet(l),d=0;d<l.length;d++)l[d].isInSet(p)||(s&&s.to==h&&s.mark.eq(l[d])?s.to=f:i.push(s=new he(h,f,l[d])));a&&a.to==h?a.to=f:o.push(a=new le(h,f,n))}}})),i.forEach((function(t){return r.step(t)})),o.forEach((function(t){return r.step(t)})),this},qt.prototype.removeMark=function(t,e,n){var r=this;void 0===n&&(n=null);var i=[],o=0;return this.doc.nodesBetween(t,e,(function(r,s){if(r.isInline){o++;var a=null;if(n instanceof lt){var u,c=r.marks;while(u=n.isInSet(c))(a||(a=[])).push(u),c=u.removeFromSet(c)}else n?n.isInSet(r.marks)&&(a=[n]):a=r.marks;if(a&&a.length)for(var l=Math.min(s+r.nodeSize,e),h=0;h<a.length;h++){for(var f=a[h],p=void 0,d=0;d<i.length;d++){var m=i[d];m.step==o-1&&f.eq(i[d].style)&&(p=m)}p?(p.to=l,p.step=o):i.push({style:f,from:Math.max(s,t),to:l,step:o})}}})),i.forEach((function(t){return r.step(new he(t.from,t.to,t.style))})),this},qt.prototype.clearIncompatible=function(t,e,n){void 0===n&&(n=e.contentMatch);for(var r=this.doc.nodeAt(t),i=[],o=t+1,s=0;s<r.childCount;s++){var a=r.child(s),c=o+a.nodeSize,l=n.matchType(a.type,a.attrs);if(l){n=l;for(var h=0;h<a.marks.length;h++)e.allowsMarkType(a.marks[h].type)||this.step(new he(o,c,a.marks[h]))}else i.push(new Kt(o,c,m.empty));o=c}if(!n.validEnd){var f=n.fillBefore(u.empty,!0);this.replace(o,o,new m(f,0,0))}for(var p=i.length-1;p>=0;p--)this.step(i[p]);return this},qt.prototype.replace=function(t,e,n){void 0===e&&(e=t),void 0===n&&(n=m.empty);var r=fe(this.doc,t,e,n);return r&&this.step(r),this},qt.prototype.replaceWith=function(t,e,n){return this.replace(t,e,new m(u.from(n),0,0))},qt.prototype.delete=function(t,e){return this.replace(t,e,m.empty)},qt.prototype.insert=function(t,e){return this.replaceWith(t,t,e)};var de=function(t,e,n){this.$to=e,this.$from=t,this.unplaced=n,this.frontier=[];for(var r=0;r<=t.depth;r++){var i=t.node(r);this.frontier.push({type:i.type,match:i.contentMatchAt(t.indexAfter(r))})}this.placed=u.empty;for(var o=t.depth;o>0;o--)this.placed=u.from(t.node(o).copy(this.placed))},me={depth:{configurable:!0}};function ve(t,e,n){return 0==e?t.cutByIndex(n):t.replaceChild(0,t.firstChild.copy(ve(t.firstChild.content,e-1,n)))}function ge(t,e,n){return 0==e?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(ge(t.lastChild.content,e-1,n)))}function ye(t,e){for(var n=0;n<e;n++)t=t.firstChild.content;return t}function be(t,e,n){if(e<=0)return t;var r=t.content;return e>1&&(r=r.replaceChild(0,be(r.firstChild,e-1,1==r.childCount?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(u.empty,!0)))),t.copy(r)}function we(t,e,n,r,i){var o=t.node(e),s=i?t.indexAfter(e):t.index(e);if(s==o.childCount&&!n.compatibleContent(o.type))return null;var a=r.fillBefore(o.content,!0,s);return a&&!ke(n,o.content,s)?a:null}function ke(t,e,n){for(var r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function _e(t,e,n,r,i){if(e<n){var o=t.firstChild;t=t.replaceChild(0,o.copy(_e(o.content,e+1,n,r,o)))}if(e>r){var s=i.contentMatchAt(0),a=s.fillBefore(t).append(t);t=a.append(s.matchFragment(a).fillBefore(u.empty,!0))}return t}function Te(t,e){for(var n=[],r=Math.min(t.depth,e.depth),i=r;i>=0;i--){var o=t.start(i);if(o<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(o==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==o-1)&&n.push(i)}return n}me.depth.get=function(){return this.frontier.length-1},de.prototype.fit=function(){while(this.unplaced.size){var t=this.findFittable();t?this.placeNodes(t):this.openMore()||this.dropNode()}var e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;var o=this.placed,s=r.depth,a=i.depth;while(s&&a&&1==o.childCount)o=o.firstChild.content,s--,a--;var u=new m(o,s,a);return e>-1?new Jt(r.pos,e,this.$to.pos,this.$to.end(),u,n):u.size||r.pos!=this.$to.pos?new Kt(r.pos,i.pos,u):void 0},de.prototype.findFittable=function(){for(var t=1;t<=2;t++)for(var e=this.unplaced.openStart;e>=0;e--){var n=void 0,r=void 0;e?(r=ye(this.unplaced.content,e-1).firstChild,n=r.content):n=this.unplaced.content;for(var i=n.firstChild,o=this.depth;o>=0;o--){var s=this.frontier[o],a=s.type,c=s.match,l=void 0,h=void 0;if(1==t&&(i?c.matchType(i.type)||(h=c.fillBefore(u.from(i),!1)):a.compatibleContent(r.type)))return{sliceDepth:e,frontierDepth:o,parent:r,inject:h};if(2==t&&i&&(l=c.findWrapping(i.type)))return{sliceDepth:e,frontierDepth:o,parent:r,wrap:l};if(r&&c.matchType(r.type))break}}},de.prototype.openMore=function(){var t=this.unplaced,e=t.content,n=t.openStart,r=t.openEnd,i=ye(e,n);return!(!i.childCount||i.firstChild.isLeaf)&&(this.unplaced=new m(e,n+1,Math.max(r,i.size+n>=e.size-r?n+1:0)),!0)},de.prototype.dropNode=function(){var t=this.unplaced,e=t.content,n=t.openStart,r=t.openEnd,i=ye(e,n);if(i.childCount<=1&&n>0){var o=e.size-n<=n+i.size;this.unplaced=new m(ve(e,n-1,1),n-1,o?n-1:r)}else this.unplaced=new m(ve(e,n,1),n,r)},de.prototype.placeNodes=function(t){var e=t.sliceDepth,n=t.frontierDepth,r=t.parent,i=t.inject,o=t.wrap;while(this.depth>n)this.closeFrontierNode();if(o)for(var s=0;s<o.length;s++)this.openFrontierNode(o[s]);var a=this.unplaced,c=r?r.content:a.content,l=a.openStart-e,h=0,f=[],p=this.frontier[n],d=p.match,v=p.type;if(i){for(var g=0;g<i.childCount;g++)f.push(i.child(g));d=d.matchFragment(i)}var y=c.size+e-(a.content.size-a.openEnd);while(h<c.childCount){var b=c.child(h),w=d.matchType(b.type);if(!w)break;h++,(h>1||0==l||b.content.size)&&(d=w,f.push(be(b.mark(v.allowedMarks(b.marks)),1==h?l:0,h==c.childCount?y:-1)))}var k=h==c.childCount;k||(y=-1),this.placed=ge(this.placed,n,u.from(f)),this.frontier[n].match=d,k&&y<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(var _=0,T=c;_<y;_++){var E=T.lastChild;this.frontier.push({type:E.type,match:E.contentMatchAt(E.childCount)}),T=E.content}this.unplaced=k?0==e?m.empty:new m(ve(a.content,e-1,1),e-1,y<0?a.openEnd:e-1):new m(ve(a.content,e,h),a.openStart,a.openEnd)},de.prototype.mustMoveInline=function(){if(!this.$to.parent.isTextblock||this.$to.end()==this.$to.pos)return-1;var t,e=this.frontier[this.depth];if(!e.type.isTextblock||!we(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;var n=this.$to,r=n.depth,i=this.$to.after(r);while(r>1&&i==this.$to.end(--r))++i;return i},de.prototype.findCloseLevel=function(t){t:for(var e=Math.min(this.depth,t.depth);e>=0;e--){var n=this.frontier[e],r=n.match,i=n.type,o=e<t.depth&&t.end(e+1)==t.pos+(t.depth-(e+1)),s=we(t,e,i,r,o);if(s){for(var a=e-1;a>=0;a--){var u=this.frontier[a],c=u.match,l=u.type,h=we(t,a,l,c,!0);if(!h||h.childCount)continue t}return{depth:e,fit:s,move:o?t.doc.resolve(t.after(e+1)):t}}}},de.prototype.close=function(t){var e=this.findCloseLevel(t);if(!e)return null;while(this.depth>e.depth)this.closeFrontierNode();e.fit.childCount&&(this.placed=ge(this.placed,e.depth,e.fit)),t=e.move;for(var n=e.depth+1;n<=t.depth;n++){var r=t.node(n),i=r.type.contentMatch.fillBefore(r.content,!0,t.index(n));this.openFrontierNode(r.type,r.attrs,i)}return t},de.prototype.openFrontierNode=function(t,e,n){var r=this.frontier[this.depth];r.match=r.match.matchType(t),this.placed=ge(this.placed,this.depth,u.from(t.create(e,n))),this.frontier.push({type:t,match:t.contentMatch})},de.prototype.closeFrontierNode=function(){var t=this.frontier.pop(),e=t.match.fillBefore(u.empty,!0);e.childCount&&(this.placed=ge(this.placed,this.frontier.length,e))},Object.defineProperties(de.prototype,me),qt.prototype.replaceRange=function(t,e,n){if(!n.size)return this.deleteRange(t,e);var r=this.doc.resolve(t),i=this.doc.resolve(e);if(pe(r,i,n))return this.step(new Kt(t,e,n));var o=Te(r,this.doc.resolve(e));0==o[o.length-1]&&o.pop();var s=-(r.depth+1);o.unshift(s);for(var a=r.depth,u=r.pos-1;a>0;a--,u--){var c=r.node(a).type.spec;if(c.defining||c.isolating)break;o.indexOf(a)>-1?s=a:r.before(a)==u&&o.splice(1,0,-a)}for(var l=o.indexOf(s),h=[],f=n.openStart,p=n.content,d=0;;d++){var v=p.firstChild;if(h.push(v),d==n.openStart)break;p=v.content}f>0&&h[f-1].type.spec.defining&&r.node(l).type!=h[f-1].type?f-=1:f>=2&&h[f-1].isTextblock&&h[f-2].type.spec.defining&&r.node(l).type!=h[f-2].type&&(f-=2);for(var g=n.openStart;g>=0;g--){var y=(g+f+1)%(n.openStart+1),b=h[y];if(b)for(var w=0;w<o.length;w++){var k=o[(w+l)%o.length],_=!0;k<0&&(_=!1,k=-k);var T=r.node(k-1),E=r.index(k-1);if(T.canReplaceWith(E,E,b.type,b.marks))return this.replace(r.before(k),_?i.after(k):e,new m(_e(n.content,0,n.openStart,y),y,n.openEnd))}}for(var C=this.steps.length,x=o.length-1;x>=0;x--){if(this.replace(t,e,n),this.steps.length>C)break;var S=o[x];S<0||(t=r.before(S),e=i.after(S))}return this},qt.prototype.replaceRangeWith=function(t,e,n){if(!n.isInline&&t==e&&this.doc.resolve(t).parent.content.size){var r=ae(this.doc,t,n.type);null!=r&&(t=e=r)}return this.replaceRange(t,e,new m(u.from(n),0,0))},qt.prototype.deleteRange=function(t,e){for(var n=this.doc.resolve(t),r=this.doc.resolve(e),i=Te(n,r),o=0;o<i.length;o++){var s=i[o],a=o==i.length-1;if(a&&0==s||n.node(s).type.contentMatch.validEnd)return this.delete(n.start(s),r.end(s));if(s>0&&(a||n.node(s-1).canReplace(n.index(s-1),r.indexAfter(s-1))))return this.delete(n.before(s),r.after(s))}for(var u=1;u<=n.depth&&u<=r.depth;u++)if(t-n.start(u)==n.depth-u&&e>n.end(u)&&r.end(u)-e!=r.depth-u)return this.delete(n.before(u),e);return this.delete(t,e)};var Ee=Object.create(null),Ce=function(t,e,n){this.ranges=n||[new Se(t.min(e),t.max(e))],this.$anchor=t,this.$head=e},xe={anchor:{configurable:!0},head:{configurable:!0},from:{configurable:!0},to:{configurable:!0},$from:{configurable:!0},$to:{configurable:!0},empty:{configurable:!0}};xe.anchor.get=function(){return this.$anchor.pos},xe.head.get=function(){return this.$head.pos},xe.from.get=function(){return this.$from.pos},xe.to.get=function(){return this.$to.pos},xe.$from.get=function(){return this.ranges[0].$from},xe.$to.get=function(){return this.ranges[0].$to},xe.empty.get=function(){for(var t=this.ranges,e=0;e<t.length;e++)if(t[e].$from.pos!=t[e].$to.pos)return!1;return!0},Ce.prototype.content=function(){return this.$from.node(0).slice(this.from,this.to,!0)},Ce.prototype.replace=function(t,e){void 0===e&&(e=m.empty);for(var n=e.content.lastChild,r=null,i=0;i<e.openEnd;i++)r=n,n=n.lastChild;for(var o=t.steps.length,s=this.ranges,a=0;a<s.length;a++){var u=s[a],c=u.$from,l=u.$to,h=t.mapping.slice(o);t.replaceRange(h.map(c.pos),h.map(l.pos),a?m.empty:e),0==a&&Le(t,o,(n?n.isInline:r&&r.isTextblock)?-1:1)}},Ce.prototype.replaceWith=function(t,e){for(var n=t.steps.length,r=this.ranges,i=0;i<r.length;i++){var o=r[i],s=o.$from,a=o.$to,u=t.mapping.slice(n),c=u.map(s.pos),l=u.map(a.pos);i?t.deleteRange(c,l):(t.replaceRangeWith(c,l,e),Le(t,n,e.isInline?-1:1))}},Ce.findFrom=function(t,e,n){var r=t.parent.inlineContent?new Ie(t):Re(t.node(0),t.parent,t.pos,t.index(),e,n);if(r)return r;for(var i=t.depth-1;i>=0;i--){var o=e<0?Re(t.node(0),t.node(i),t.before(i+1),t.index(i),e,n):Re(t.node(0),t.node(i),t.after(i+1),t.index(i)+1,e,n);if(o)return o}},Ce.near=function(t,e){return void 0===e&&(e=1),this.findFrom(t,e)||this.findFrom(t,-e)||new De(t.node(0))},Ce.atStart=function(t){return Re(t,t,0,0,1)||new De(t)},Ce.atEnd=function(t){return Re(t,t,t.content.size,t.childCount,-1)||new De(t)},Ce.fromJSON=function(t,e){if(!e||!e.type)throw new RangeError("Invalid input for Selection.fromJSON");var n=Ee[e.type];if(!n)throw new RangeError("No selection type "+e.type+" defined");return n.fromJSON(t,e)},Ce.jsonID=function(t,e){if(t in Ee)throw new RangeError("Duplicate use of selection JSON ID "+t);return Ee[t]=e,e.prototype.jsonID=t,e},Ce.prototype.getBookmark=function(){return Ie.between(this.$anchor,this.$head).getBookmark()},Object.defineProperties(Ce.prototype,xe),Ce.prototype.visible=!0;var Se=function(t,e){this.$from=t,this.$to=e},Ie=function(t){function e(e,n){void 0===n&&(n=e),t.call(this,e,n)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={$cursor:{configurable:!0}};return n.$cursor.get=function(){return this.$anchor.pos==this.$head.pos?this.$head:null},e.prototype.map=function(n,r){var i=n.resolve(r.map(this.head));if(!i.parent.inlineContent)return t.near(i);var o=n.resolve(r.map(this.anchor));return new e(o.parent.inlineContent?o:i,i)},e.prototype.replace=function(e,n){if(void 0===n&&(n=m.empty),t.prototype.replace.call(this,e,n),n==m.empty){var r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}},e.prototype.eq=function(t){return t instanceof e&&t.anchor==this.anchor&&t.head==this.head},e.prototype.getBookmark=function(){return new Ae(this.anchor,this.head)},e.prototype.toJSON=function(){return{type:"text",anchor:this.anchor,head:this.head}},e.fromJSON=function(t,n){if("number"!=typeof n.anchor||"number"!=typeof n.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new e(t.resolve(n.anchor),t.resolve(n.head))},e.create=function(t,e,n){void 0===n&&(n=e);var r=t.resolve(e);return new this(r,n==e?r:t.resolve(n))},e.between=function(n,r,i){var o=n.pos-r.pos;if(i&&!o||(i=o>=0?1:-1),!r.parent.inlineContent){var s=t.findFrom(r,i,!0)||t.findFrom(r,-i,!0);if(!s)return t.near(r,i);r=s.$head}return n.parent.inlineContent||(0==o?n=r:(n=(t.findFrom(n,-i,!0)||t.findFrom(n,i,!0)).$anchor,n.pos<r.pos!=o<0&&(n=r))),new e(n,r)},Object.defineProperties(e.prototype,n),e}(Ce);Ce.jsonID("text",Ie);var Ae=function(t,e){this.anchor=t,this.head=e};Ae.prototype.map=function(t){return new Ae(t.map(this.anchor),t.map(this.head))},Ae.prototype.resolve=function(t){return Ie.between(t.resolve(this.anchor),t.resolve(this.head))};var Ne=function(t){function e(e){var n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);t.call(this,e,r),this.node=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.map=function(n,r){var i=r.mapResult(this.anchor),o=i.deleted,s=i.pos,a=n.resolve(s);return o?t.near(a):new e(a)},e.prototype.content=function(){return new m(u.from(this.node),0,0)},e.prototype.eq=function(t){return t instanceof e&&t.anchor==this.anchor},e.prototype.toJSON=function(){return{type:"node",anchor:this.anchor}},e.prototype.getBookmark=function(){return new Oe(this.anchor)},e.fromJSON=function(t,n){if("number"!=typeof n.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new e(t.resolve(n.anchor))},e.create=function(t,e){return new this(t.resolve(e))},e.isSelectable=function(t){return!t.isText&&!1!==t.type.spec.selectable},e}(Ce);Ne.prototype.visible=!1,Ce.jsonID("node",Ne);var Oe=function(t){this.anchor=t};Oe.prototype.map=function(t){var e=t.mapResult(this.anchor),n=e.deleted,r=e.pos;return n?new Ae(r,r):new Oe(r)},Oe.prototype.resolve=function(t){var e=t.resolve(this.anchor),n=e.nodeAfter;return n&&Ne.isSelectable(n)?new Ne(e):Ce.near(e)};var De=function(t){function e(e){t.call(this,e.resolve(0),e.resolve(e.content.size))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.replace=function(e,n){if(void 0===n&&(n=m.empty),n==m.empty){e.delete(0,e.doc.content.size);var r=t.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else t.prototype.replace.call(this,e,n)},e.prototype.toJSON=function(){return{type:"all"}},e.fromJSON=function(t){return new e(t)},e.prototype.map=function(t){return new e(t)},e.prototype.eq=function(t){return t instanceof e},e.prototype.getBookmark=function(){return Me},e}(Ce);Ce.jsonID("all",De);var Me={map:function(){return this},resolve:function(t){return new De(t)}};function Re(t,e,n,r,i,o){if(e.inlineContent)return Ie.create(t,n);for(var s=r-(i>0?0:1);i>0?s<e.childCount:s>=0;s+=i){var a=e.child(s);if(a.isAtom){if(!o&&Ne.isSelectable(a))return Ne.create(t,n-(i<0?a.nodeSize:0))}else{var u=Re(t,a,n+i,i<0?a.childCount:0,i,o);if(u)return u}n+=a.nodeSize*i}}function Le(t,e,n){var r=t.steps.length-1;if(!(r<e)){var i=t.steps[r];if(i instanceof Kt||i instanceof Jt){var o,s=t.mapping.maps[r];s.forEach((function(t,e,n,r){null==o&&(o=r)})),t.setSelection(Ce.near(t.doc.resolve(o),n))}}}var Pe=1,Fe=2,je=4,Be=function(t){function e(e){t.call(this,e.doc),this.time=Date.now(),this.curSelection=e.selection,this.curSelectionFor=0,this.storedMarks=e.storedMarks,this.updated=0,this.meta=Object.create(null)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={selection:{configurable:!0},selectionSet:{configurable:!0},storedMarksSet:{configurable:!0},isGeneric:{configurable:!0},scrolledIntoView:{configurable:!0}};return n.selection.get=function(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection},e.prototype.setSelection=function(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=(this.updated|Pe)&~Fe,this.storedMarks=null,this},n.selectionSet.get=function(){return(this.updated&Pe)>0},e.prototype.setStoredMarks=function(t){return this.storedMarks=t,this.updated|=Fe,this},e.prototype.ensureMarks=function(t){return p.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this},e.prototype.addStoredMark=function(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))},e.prototype.removeStoredMark=function(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))},n.storedMarksSet.get=function(){return(this.updated&Fe)>0},e.prototype.addStep=function(e,n){t.prototype.addStep.call(this,e,n),this.updated=this.updated&~Fe,this.storedMarks=null},e.prototype.setTime=function(t){return this.time=t,this},e.prototype.replaceSelection=function(t){return this.selection.replace(this,t),this},e.prototype.replaceSelectionWith=function(t,e){var n=this.selection;return!1!==e&&(t=t.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||p.none))),n.replaceWith(this,t),this},e.prototype.deleteSelection=function(){return this.selection.replace(this),this},e.prototype.insertText=function(t,e,n){void 0===n&&(n=e);var r=this.doc.type.schema;if(null==e)return t?this.replaceSelectionWith(r.text(t),!0):this.deleteSelection();if(!t)return this.deleteRange(e,n);var i=this.storedMarks;if(!i){var o=this.doc.resolve(e);i=n==e?o.marks():o.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(e,n,r.text(t,i)),this.selection.empty||this.setSelection(Ce.near(this.selection.$to)),this},e.prototype.setMeta=function(t,e){return this.meta["string"==typeof t?t:t.key]=e,this},e.prototype.getMeta=function(t){return this.meta["string"==typeof t?t:t.key]},n.isGeneric.get=function(){for(var t in this.meta)return!1;return!0},e.prototype.scrollIntoView=function(){return this.updated|=je,this},n.scrolledIntoView.get=function(){return(this.updated&je)>0},Object.defineProperties(e.prototype,n),e}(qt);function Ve(t,e){return e&&t?t.bind(e):t}var Ue=function(t,e,n){this.name=t,this.init=Ve(e.init,n),this.apply=Ve(e.apply,n)},qe=[new Ue("doc",{init:function(t){return t.doc||t.schema.topNodeType.createAndFill()},apply:function(t){return t.doc}}),new Ue("selection",{init:function(t,e){return t.selection||Ce.atStart(e.doc)},apply:function(t){return t.selection}}),new Ue("storedMarks",{init:function(t){return t.storedMarks||null},apply:function(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new Ue("scrollToSelection",{init:function(){return 0},apply:function(t,e){return t.scrolledIntoView?e+1:e}})],He=function(t,e){var n=this;this.schema=t,this.fields=qe.concat(),this.plugins=[],this.pluginsByKey=Object.create(null),e&&e.forEach((function(t){if(n.pluginsByKey[t.key])throw new RangeError("Adding different instances of a keyed plugin ("+t.key+")");n.plugins.push(t),n.pluginsByKey[t.key]=t,t.spec.state&&n.fields.push(new Ue(t.key,t.spec.state,t))}))},ze=function(t){this.config=t},$e={schema:{configurable:!0},plugins:{configurable:!0},tr:{configurable:!0}};$e.schema.get=function(){return this.config.schema},$e.plugins.get=function(){return this.config.plugins},ze.prototype.apply=function(t){return this.applyTransaction(t).state},ze.prototype.filterTransaction=function(t,e){void 0===e&&(e=-1);for(var n=0;n<this.config.plugins.length;n++)if(n!=e){var r=this.config.plugins[n];if(r.spec.filterTransaction&&!r.spec.filterTransaction.call(r,t,this))return!1}return!0},ze.prototype.applyTransaction=function(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};for(var e=[t],n=this.applyInner(t),r=null;;){for(var i=!1,o=0;o<this.config.plugins.length;o++){var s=this.config.plugins[o];if(s.spec.appendTransaction){var a=r?r[o].n:0,u=r?r[o].state:this,c=a<e.length&&s.spec.appendTransaction.call(s,a?e.slice(a):e,u,n);if(c&&n.filterTransaction(c,o)){if(c.setMeta("appendedTransaction",t),!r){r=[];for(var l=0;l<this.config.plugins.length;l++)r.push(l<o?{state:n,n:e.length}:{state:this,n:0})}e.push(c),n=n.applyInner(c),i=!0}r&&(r[o]={state:n,n:e.length})}}if(!i)return{state:n,transactions:e}}},ze.prototype.applyInner=function(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");for(var e=new ze(this.config),n=this.config.fields,r=0;r<n.length;r++){var i=n[r];e[i.name]=i.apply(t,this[i.name],this,e)}for(var o=0;o<Ge.length;o++)Ge[o](this,t,e);return e},$e.tr.get=function(){return new Be(this)},ze.create=function(t){for(var e=new He(t.doc?t.doc.type.schema:t.schema,t.plugins),n=new ze(e),r=0;r<e.fields.length;r++)n[e.fields[r].name]=e.fields[r].init(t,n);return n},ze.prototype.reconfigure=function(t){for(var e=new He(this.schema,t.plugins),n=e.fields,r=new ze(e),i=0;i<n.length;i++){var o=n[i].name;r[o]=this.hasOwnProperty(o)?this[o]:n[i].init(t,r)}return r},ze.prototype.toJSON=function(t){var e={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(e.storedMarks=this.storedMarks.map((function(t){return t.toJSON()}))),t&&"object"==typeof t)for(var n in t){if("doc"==n||"selection"==n)throw new RangeError("The JSON fields `doc` and `selection` are reserved");var r=t[n],i=r.spec.state;i&&i.toJSON&&(e[n]=i.toJSON.call(r,this[r.key]))}return e},ze.fromJSON=function(t,e,n){if(!e)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");var r=new He(t.schema,t.plugins),i=new ze(r);return r.fields.forEach((function(r){if("doc"==r.name)i.doc=F.fromJSON(t.schema,e.doc);else if("selection"==r.name)i.selection=Ce.fromJSON(i.doc,e.selection);else if("storedMarks"==r.name)e.storedMarks&&(i.storedMarks=e.storedMarks.map(t.schema.markFromJSON));else{if(n)for(var o in n){var s=n[o],a=s.spec.state;if(s.key==r.name&&a&&a.fromJSON&&Object.prototype.hasOwnProperty.call(e,o))return void(i[r.name]=a.fromJSON.call(s,t,e[o],i))}i[r.name]=r.init(t,i)}})),i},ze.addApplyListener=function(t){Ge.push(t)},ze.removeApplyListener=function(t){var e=Ge.indexOf(t);e>-1&&Ge.splice(e,1)},Object.defineProperties(ze.prototype,$e);var Ge=[];function We(t,e,n){for(var r in t){var i=t[r];i instanceof Function?i=i.bind(e):"handleDOMEvents"==r&&(i=We(i,e,{})),n[r]=i}return n}var Ke=function(t){this.props={},t.props&&We(t.props,this,this.props),this.spec=t,this.key=t.key?t.key.key:Xe("plugin")};Ke.prototype.getState=function(t){return t[this.key]};var Je=Object.create(null);function Xe(t){return t in Je?t+"$"+ ++Je[t]:(Je[t]=0,t+"$")}var Qe=function(t){void 0===t&&(t="key"),this.key=Xe(t)};Qe.prototype.get=function(t){return t.config.pluginsByKey[this.key]},Qe.prototype.getState=function(t){return t[this.key]};var Ye={};if("undefined"!=typeof navigator&&"undefined"!=typeof document){var Ze=/Edge\/(\d+)/.exec(navigator.userAgent),tn=/MSIE \d/.test(navigator.userAgent),en=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),nn=Ye.ie=!!(tn||en||Ze);Ye.ie_version=tn?document.documentMode||6:en?+en[1]:Ze?+Ze[1]:null,Ye.gecko=!nn&&/gecko\/(\d+)/i.test(navigator.userAgent),Ye.gecko_version=Ye.gecko&&+(/Firefox\/(\d+)/.exec(navigator.userAgent)||[0,0])[1];var rn=!nn&&/Chrome\/(\d+)/.exec(navigator.userAgent);Ye.chrome=!!rn,Ye.chrome_version=rn&&+rn[1],Ye.safari=!nn&&/Apple Computer/.test(navigator.vendor),Ye.ios=Ye.safari&&(/Mobile\/\w+/.test(navigator.userAgent)||navigator.maxTouchPoints>2),Ye.mac=Ye.ios||/Mac/.test(navigator.platform),Ye.android=/Android \d/.test(navigator.userAgent),Ye.webkit="webkitFontSmoothing"in document.documentElement.style,Ye.webkit_version=Ye.webkit&&+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]}var on=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},sn=function(t){var e=t.assignedSlot||t.parentNode;return e&&11==e.nodeType?e.host:e},an=null,un=function(t,e,n){var r=an||(an=document.createRange());return r.setEnd(t,null==n?t.nodeValue.length:n),r.setStart(t,e||0),r},cn=function(t,e,n,r){return n&&(hn(t,e,n,r,-1)||hn(t,e,n,r,1))},ln=/^(img|br|input|textarea|hr)$/i;function hn(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:fn(t))){var o=t.parentNode;if(!o||1!=o.nodeType||dn(t)||ln.test(t.nodeName)||"false"==t.contentEditable)return!1;e=on(t)+(i<0?0:1),t=o}else{if(1!=t.nodeType)return!1;if(t=t.childNodes[e+(i<0?-1:0)],"false"==t.contentEditable)return!1;e=i<0?fn(t):0}}}function fn(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}function pn(t,e,n){for(var r=0==e,i=e==fn(t);r||i;){if(t==n)return!0;var o=on(t);if(t=t.parentNode,!t)return!1;r=r&&0==o,i=i&&o==fn(t)}}function dn(t){for(var e,n=t;n;n=n.parentNode)if(e=n.pmViewDesc)break;return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}var mn=function(t){var e=t.isCollapsed;return e&&Ye.chrome&&t.rangeCount&&!t.getRangeAt(0).collapsed&&(e=!1),e};function vn(t,e){var n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function gn(t){return{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function yn(t,e){return"number"==typeof t?t:t[e]}function bn(t){var e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function wn(t,e,n){for(var r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,o=t.dom.ownerDocument,s=n||t.dom;;s=sn(s)){if(!s)break;if(1==s.nodeType){var a=s==o.body||1!=s.nodeType,u=a?gn(o):bn(s),c=0,l=0;if(e.top<u.top+yn(r,"top")?l=-(u.top-e.top+yn(i,"top")):e.bottom>u.bottom-yn(r,"bottom")&&(l=e.bottom-u.bottom+yn(i,"bottom")),e.left<u.left+yn(r,"left")?c=-(u.left-e.left+yn(i,"left")):e.right>u.right-yn(r,"right")&&(c=e.right-u.right+yn(i,"right")),c||l)if(a)o.defaultView.scrollBy(c,l);else{var h=s.scrollLeft,f=s.scrollTop;l&&(s.scrollTop+=l),c&&(s.scrollLeft+=c);var p=s.scrollLeft-h,d=s.scrollTop-f;e={left:e.left-p,top:e.top-d,right:e.right-p,bottom:e.bottom-d}}if(a)break}}}function kn(t){for(var e,n,r=t.dom.getBoundingClientRect(),i=Math.max(0,r.top),o=(r.left+r.right)/2,s=i+1;s<Math.min(innerHeight,r.bottom);s+=5){var a=t.root.elementFromPoint(o,s);if(a!=t.dom&&t.dom.contains(a)){var u=a.getBoundingClientRect();if(u.top>=i-20){e=a,n=u.top;break}}}return{refDOM:e,refTop:n,stack:_n(t.dom)}}function _n(t){for(var e=[],n=t.ownerDocument;t;t=sn(t))if(e.push({dom:t,top:t.scrollTop,left:t.scrollLeft}),t==n)break;return e}function Tn(t){var e=t.refDOM,n=t.refTop,r=t.stack,i=e?e.getBoundingClientRect().top:0;En(r,0==i?0:i-n)}function En(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=r.dom,o=r.top,s=r.left;i.scrollTop!=o+e&&(i.scrollTop=o+e),i.scrollLeft!=s&&(i.scrollLeft=s)}}var Cn=null;function xn(t){if(t.setActive)return t.setActive();if(Cn)return t.focus(Cn);var e=_n(t);t.focus(null==Cn?{get preventScroll(){return Cn={preventScroll:!0},!0}}:void 0),Cn||(Cn=!1,En(e,0))}function Sn(t,e){for(var n,r,i=2e8,o=0,s=e.top,a=e.top,u=t.firstChild,c=0;u;u=u.nextSibling,c++){var l=void 0;if(1==u.nodeType)l=u.getClientRects();else{if(3!=u.nodeType)continue;l=un(u).getClientRects()}for(var h=0;h<l.length;h++){var f=l[h];if(f.top<=s&&f.bottom>=a){s=Math.max(f.bottom,s),a=Math.min(f.top,a);var p=f.left>e.left?f.left-e.left:f.right<e.left?e.left-f.right:0;if(p<i){n=u,i=p,r=p&&3==n.nodeType?{left:f.right<e.left?f.right:f.left,top:e.top}:e,1==u.nodeType&&p&&(o=c+(e.left>=(f.left+f.right)/2?1:0));continue}}!n&&(e.left>=f.right&&e.top>=f.top||e.left>=f.left&&e.top>=f.bottom)&&(o=c+1)}}return n&&3==n.nodeType?In(n,r):!n||i&&1==n.nodeType?{node:t,offset:o}:Sn(n,r)}function In(t,e){for(var n=t.nodeValue.length,r=document.createRange(),i=0;i<n;i++){r.setEnd(t,i+1),r.setStart(t,i);var o=Ln(r,1);if(o.top!=o.bottom&&An(e,o))return{node:t,offset:i+(e.left>=(o.left+o.right)/2?1:0)}}return{node:t,offset:0}}function An(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function Nn(t,e){var n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function On(t,e,n){var r=Sn(e,n),i=r.node,o=r.offset,s=-1;if(1==i.nodeType&&!i.firstChild){var a=i.getBoundingClientRect();s=a.left!=a.right&&n.left>(a.left+a.right)/2?1:-1}return t.docView.posFromDOM(i,o,s)}function Dn(t,e,n,r){for(var i=-1,o=e;;){if(o==t.dom)break;var s=t.docView.nearestDesc(o,!0);if(!s)return null;if(s.node.isBlock&&s.parent){var a=s.dom.getBoundingClientRect();if(a.left>r.left||a.top>r.top)i=s.posBefore;else{if(!(a.right<r.left||a.bottom<r.top))break;i=s.posAfter}}o=s.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n)}function Mn(t,e,n){var r=t.childNodes.length;if(r&&n.top<n.bottom)for(var i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),o=i;;){var s=t.childNodes[o];if(1==s.nodeType)for(var a=s.getClientRects(),u=0;u<a.length;u++){var c=a[u];if(An(e,c))return Mn(s,e,c)}if((o=(o+1)%r)==i)break}return t}function Rn(t,e){var n,r,i,o,s=t.dom.ownerDocument;if(s.caretPositionFromPoint)try{var a=s.caretPositionFromPoint(e.left,e.top);a&&(n=a,i=n.offsetNode,o=n.offset)}catch(v){}if(!i&&s.caretRangeFromPoint){var u=s.caretRangeFromPoint(e.left,e.top);u&&(r=u,i=r.startContainer,o=r.startOffset)}var c,l=(t.root.elementFromPoint?t.root:s).elementFromPoint(e.left,e.top+1);if(!l||!t.dom.contains(1!=l.nodeType?l.parentNode:l)){var h=t.dom.getBoundingClientRect();if(!An(e,h))return null;if(l=Mn(t.dom,e,h),!l)return null}if(Ye.safari)for(var f=l;i&&f;f=sn(f))f.draggable&&(i=o=null);if(l=Nn(l,e),i){if(Ye.gecko&&1==i.nodeType&&(o=Math.min(o,i.childNodes.length),o<i.childNodes.length)){var p,d=i.childNodes[o];"IMG"==d.nodeName&&(p=d.getBoundingClientRect()).right<=e.left&&p.bottom>e.top&&o++}i==t.dom&&o==i.childNodes.length-1&&1==i.lastChild.nodeType&&e.top>i.lastChild.getBoundingClientRect().bottom?c=t.state.doc.content.size:0!=o&&1==i.nodeType&&"BR"==i.childNodes[o-1].nodeName||(c=Dn(t,i,o,e))}null==c&&(c=On(t,l,e));var m=t.docView.nearestDesc(l,!0);return{pos:c,inside:m?m.posAtStart-m.border:-1}}function Ln(t,e){var n=t.getClientRects();return n.length?n[e<0?0:n.length-1]:t.getBoundingClientRect()}var Pn=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function Fn(t,e,n){var r=t.docView.domFromPos(e,n<0?-1:1),i=r.node,o=r.offset,s=Ye.webkit||Ye.gecko;if(3==i.nodeType){if(!s||!Pn.test(i.nodeValue)&&(n<0?o:o!=i.nodeValue.length)){var a=o,u=o,c=n<0?1:-1;return n<0&&!o?(u++,c=-1):n>=0&&o==i.nodeValue.length?(a--,c=1):n<0?a--:u++,jn(Ln(un(i,a,u),c),c<0)}var l=Ln(un(i,o,o),n);if(Ye.gecko&&o&&/\s/.test(i.nodeValue[o-1])&&o<i.nodeValue.length){var h=Ln(un(i,o-1,o-1),-1);if(h.top==l.top){var f=Ln(un(i,o,o+1),-1);if(f.top!=l.top)return jn(f,f.left<h.left)}}return l}if(!t.state.doc.resolve(e).parent.inlineContent){if(o&&(n<0||o==fn(i))){var p=i.childNodes[o-1];if(1==p.nodeType)return Bn(p.getBoundingClientRect(),!1)}if(o<fn(i)){var d=i.childNodes[o];if(1==d.nodeType)return Bn(d.getBoundingClientRect(),!0)}return Bn(i.getBoundingClientRect(),n>=0)}if(o&&(n<0||o==fn(i))){var m=i.childNodes[o-1],v=3==m.nodeType?un(m,fn(m)-(s?0:1)):1!=m.nodeType||"BR"==m.nodeName&&m.nextSibling?null:m;if(v)return jn(Ln(v,1),!1)}if(o<fn(i)){var g=i.childNodes[o];while(g.pmViewDesc&&g.pmViewDesc.ignoreForCoords)g=g.nextSibling;var y=g?3==g.nodeType?un(g,0,s?0:1):1==g.nodeType?g:null:null;if(y)return jn(Ln(y,-1),!0)}return jn(Ln(3==i.nodeType?un(i):i,-n),n>=0)}function jn(t,e){if(0==t.width)return t;var n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function Bn(t,e){if(0==t.height)return t;var n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function Vn(t,e,n){var r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}function Un(t,e,n){var r=e.selection,i="up"==n?r.$from:r.$to;return Vn(t,e,(function(){for(var e=t.docView.domFromPos(i.pos,"up"==n?-1:1),r=e.node;;){var o=t.docView.nearestDesc(r,!0);if(!o)break;if(o.node.isBlock){r=o.dom;break}r=o.dom.parentNode}for(var s=Fn(t,i.pos,1),a=r.firstChild;a;a=a.nextSibling){var u=void 0;if(1==a.nodeType)u=a.getClientRects();else{if(3!=a.nodeType)continue;u=un(a,0,a.nodeValue.length).getClientRects()}for(var c=0;c<u.length;c++){var l=u[c];if(l.bottom>l.top+1&&("up"==n?s.top-l.top>2*(l.bottom-s.top):l.bottom-s.bottom>2*(s.bottom-l.top)))return!1}}return!0}))}var qn=/[\u0590-\u08ac]/;function Hn(t,e,n){var r=e.selection,i=r.$head;if(!i.parent.isTextblock)return!1;var o=i.parentOffset,s=!o,a=o==i.parent.content.size,u=t.root.getSelection();return qn.test(i.parent.textContent)&&u.modify?Vn(t,e,(function(){var e=u.getRangeAt(0),r=u.focusNode,o=u.focusOffset,s=u.caretBidiLevel;u.modify("move",n,"character");var a=i.depth?t.docView.domAfterPos(i.before()):t.dom,c=!a.contains(1==u.focusNode.nodeType?u.focusNode:u.focusNode.parentNode)||r==u.focusNode&&o==u.focusOffset;return u.removeAllRanges(),u.addRange(e),null!=s&&(u.caretBidiLevel=s),c})):"left"==n||"backward"==n?s:a}var zn=null,$n=null,Gn=!1;function Wn(t,e,n){return zn==e&&$n==n?Gn:(zn=e,$n=n,Gn="up"==n||"down"==n?Un(t,e,n):Hn(t,e,n))}var Kn=0,Jn=1,Xn=2,Qn=3,Yn=function(t,e,n,r){this.parent=t,this.children=e,this.dom=n,n.pmViewDesc=this,this.contentDOM=r,this.dirty=Kn},Zn={size:{configurable:!0},border:{configurable:!0},posBefore:{configurable:!0},posAtStart:{configurable:!0},posAfter:{configurable:!0},posAtEnd:{configurable:!0},contentLost:{configurable:!0},domAtom:{configurable:!0},ignoreForCoords:{configurable:!0}};Yn.prototype.matchesWidget=function(){return!1},Yn.prototype.matchesMark=function(){return!1},Yn.prototype.matchesNode=function(){return!1},Yn.prototype.matchesHack=function(t){return!1},Yn.prototype.parseRule=function(){return null},Yn.prototype.stopEvent=function(){return!1},Zn.size.get=function(){for(var t=0,e=0;e<this.children.length;e++)t+=this.children[e].size;return t},Zn.border.get=function(){return 0},Yn.prototype.destroy=function(){this.parent=null,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=null);for(var t=0;t<this.children.length;t++)this.children[t].destroy()},Yn.prototype.posBeforeChild=function(t){for(var e=0,n=this.posAtStart;e<this.children.length;e++){var r=this.children[e];if(r==t)return n;n+=r.size}},Zn.posBefore.get=function(){return this.parent.posBeforeChild(this)},Zn.posAtStart.get=function(){return this.parent?this.parent.posBeforeChild(this)+this.border:0},Zn.posAfter.get=function(){return this.posBefore+this.size},Zn.posAtEnd.get=function(){return this.posAtStart+this.size-2*this.border},Yn.prototype.localPosFromDOM=function(t,e,n){if(this.contentDOM&&this.contentDOM.contains(1==t.nodeType?t:t.parentNode)){if(n<0){var r,i;if(t==this.contentDOM)r=t.childNodes[e-1];else{while(t.parentNode!=this.contentDOM)t=t.parentNode;r=t.previousSibling}while(r&&(!(i=r.pmViewDesc)||i.parent!=this))r=r.previousSibling;return r?this.posBeforeChild(i)+i.size:this.posAtStart}var o,s;if(t==this.contentDOM)o=t.childNodes[e];else{while(t.parentNode!=this.contentDOM)t=t.parentNode;o=t.nextSibling}while(o&&(!(s=o.pmViewDesc)||s.parent!=this))o=o.nextSibling;return o?this.posBeforeChild(s):this.posAtEnd}var a;if(t==this.dom&&this.contentDOM)a=e>on(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))a=2&t.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==e)for(var u=t;;u=u.parentNode){if(u==this.dom){a=!1;break}if(u.parentNode.firstChild!=u)break}if(null==a&&e==t.childNodes.length)for(var c=t;;c=c.parentNode){if(c==this.dom){a=!0;break}if(c.parentNode.lastChild!=c)break}}return(null==a?n>0:a)?this.posAtEnd:this.posAtStart},Yn.prototype.nearestDesc=function(t,e){for(var n=!0,r=t;r;r=r.parentNode){var i=this.getDesc(r);if(i&&(!e||i.node)){if(!n||!i.nodeDOM||(1==i.nodeDOM.nodeType?i.nodeDOM.contains(1==t.nodeType?t:t.parentNode):i.nodeDOM==t))return i;n=!1}}},Yn.prototype.getDesc=function(t){for(var e=t.pmViewDesc,n=e;n;n=n.parent)if(n==this)return e},Yn.prototype.posFromDOM=function(t,e,n){for(var r=t;r;r=r.parentNode){var i=this.getDesc(r);if(i)return i.localPosFromDOM(t,e,n)}return-1},Yn.prototype.descAt=function(t){for(var e=0,n=0;e<this.children.length;e++){var r=this.children[e],i=n+r.size;if(n==t&&i!=n){while(!r.border&&r.children.length)r=r.children[0];return r}if(t<i)return r.descAt(t-n-r.border);n=i}},Yn.prototype.domFromPos=function(t,e){if(!this.contentDOM)return{node:this.dom,offset:0};for(var n=0,r=0,i=0;n<this.children.length;n++){var o=this.children[n],s=i+o.size;if(s>t||o instanceof ar){r=t-i;break}i=s}if(r)return this.children[n].domFromPos(r-this.children[n].border,e);for(var a=void 0;n&&!(a=this.children[n-1]).size&&a instanceof er&&a.widget.type.side>=0;n--);if(e<=0){for(var u,c=!0;;n--,c=!1)if(u=n?this.children[n-1]:null,!u||u.dom.parentNode==this.contentDOM)break;return u&&e&&c&&!u.border&&!u.domAtom?u.domFromPos(u.size,e):{node:this.contentDOM,offset:u?on(u.dom)+1:0}}for(var l,h=!0;;n++,h=!1)if(l=n<this.children.length?this.children[n]:null,!l||l.dom.parentNode==this.contentDOM)break;return l&&h&&!l.border&&!l.domAtom?l.domFromPos(0,e):{node:this.contentDOM,offset:l?on(l.dom):this.contentDOM.childNodes.length}},Yn.prototype.parseRange=function(t,e,n){if(void 0===n&&(n=0),0==this.children.length)return{node:this.contentDOM,from:t,to:e,fromOffset:0,toOffset:this.contentDOM.childNodes.length};for(var r=-1,i=-1,o=n,s=0;;s++){var a=this.children[s],u=o+a.size;if(-1==r&&t<=u){var c=o+a.border;if(t>=c&&e<=u-a.border&&a.node&&a.contentDOM&&this.contentDOM.contains(a.contentDOM))return a.parseRange(t,e,c);t=o;for(var l=s;l>0;l--){var h=this.children[l-1];if(h.size&&h.dom.parentNode==this.contentDOM&&!h.emptyChildAt(1)){r=on(h.dom)+1;break}t-=h.size}-1==r&&(r=0)}if(r>-1&&(u>e||s==this.children.length-1)){e=u;for(var f=s+1;f<this.children.length;f++){var p=this.children[f];if(p.size&&p.dom.parentNode==this.contentDOM&&!p.emptyChildAt(-1)){i=on(p.dom);break}e+=p.size}-1==i&&(i=this.contentDOM.childNodes.length);break}o=u}return{node:this.contentDOM,from:t,to:e,fromOffset:r,toOffset:i}},Yn.prototype.emptyChildAt=function(t){if(this.border||!this.contentDOM||!this.children.length)return!1;var e=this.children[t<0?0:this.children.length-1];return 0==e.size||e.emptyChildAt(t)},Yn.prototype.domAfterPos=function(t){var e=this.domFromPos(t,0),n=e.node,r=e.offset;if(1!=n.nodeType||r==n.childNodes.length)throw new RangeError("No node after pos "+t);return n.childNodes[r]},Yn.prototype.setSelection=function(t,e,n,r){for(var i=Math.min(t,e),o=Math.max(t,e),s=0,a=0;s<this.children.length;s++){var u=this.children[s],c=a+u.size;if(i>a&&o<c)return u.setSelection(t-a-u.border,e-a-u.border,n,r);a=c}var l=this.domFromPos(t,t?-1:1),h=e==t?l:this.domFromPos(e,e?-1:1),f=n.getSelection(),p=!1;if((Ye.gecko||Ye.safari)&&t==e){var d=l.node,m=l.offset;if(3==d.nodeType){if(p=m&&"\n"==d.nodeValue[m-1],p&&m==d.nodeValue.length)for(var v=d,g=void 0;v;v=v.parentNode){if(g=v.nextSibling){"BR"==g.nodeName&&(l=h={node:g.parentNode,offset:on(g)+1});break}var y=v.pmViewDesc;if(y&&y.node&&y.node.isBlock)break}}else{var b=d.childNodes[m-1];p=b&&("BR"==b.nodeName||"false"==b.contentEditable)}}if(Ye.gecko&&f.focusNode&&f.focusNode!=h.node&&1==f.focusNode.nodeType){var w=f.focusNode.childNodes[f.focusOffset];w&&"false"==w.contentEditable&&(r=!0)}if(r||p&&Ye.safari||!cn(l.node,l.offset,f.anchorNode,f.anchorOffset)||!cn(h.node,h.offset,f.focusNode,f.focusOffset)){var k=!1;if((f.extend||t==e)&&!p){f.collapse(l.node,l.offset);try{t!=e&&f.extend(h.node,h.offset),k=!0}catch(E){if(!(E instanceof DOMException))throw E}}if(!k){if(t>e){var _=l;l=h,h=_}var T=document.createRange();T.setEnd(h.node,h.offset),T.setStart(l.node,l.offset),f.removeAllRanges(),f.addRange(T)}}},Yn.prototype.ignoreMutation=function(t){return!this.contentDOM&&"selection"!=t.type},Zn.contentLost.get=function(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)},Yn.prototype.markDirty=function(t,e){for(var n=0,r=0;r<this.children.length;r++){var i=this.children[r],o=n+i.size;if(n==o?t<=o&&e>=n:t<o&&e>n){var s=n+i.border,a=o-i.border;if(t>=s&&e<=a)return this.dirty=t==n||e==o?Xn:Jn,void(t!=s||e!=a||!i.contentLost&&i.dom.parentNode==this.contentDOM?i.markDirty(t-s,e-s):i.dirty=Qn);i.dirty=i.dom!=i.contentDOM||i.dom.parentNode!=this.contentDOM||i.children.length?Qn:Xn}n=o}this.dirty=Xn},Yn.prototype.markParentsDirty=function(){for(var t=1,e=this.parent;e;e=e.parent,t++){var n=1==t?Xn:Jn;e.dirty<n&&(e.dirty=n)}},Zn.domAtom.get=function(){return!1},Zn.ignoreForCoords.get=function(){return!1},Object.defineProperties(Yn.prototype,Zn);var tr=[],er=function(t){function e(e,n,r,i){var o,s=n.type.toDOM;if("function"==typeof s&&(s=s(r,(function(){return o?o.parent?o.parent.posBeforeChild(o):void 0:i}))),!n.type.spec.raw){if(1!=s.nodeType){var a=document.createElement("span");a.appendChild(s),s=a}s.contentEditable=!1,s.classList.add("ProseMirror-widget")}t.call(this,e,tr,s,null),this.widget=n,o=this}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={domAtom:{configurable:!0}};return e.prototype.matchesWidget=function(t){return this.dirty==Kn&&t.type.eq(this.widget.type)},e.prototype.parseRule=function(){return{ignore:!0}},e.prototype.stopEvent=function(t){var e=this.widget.spec.stopEvent;return!!e&&e(t)},e.prototype.ignoreMutation=function(t){return"selection"!=t.type||this.widget.spec.ignoreSelection},e.prototype.destroy=function(){this.widget.type.destroy(this.dom),t.prototype.destroy.call(this)},n.domAtom.get=function(){return!0},Object.defineProperties(e.prototype,n),e}(Yn),nr=function(t){function e(e,n,r,i){t.call(this,e,tr,n,null),this.textDOM=r,this.text=i}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={size:{configurable:!0}};return n.size.get=function(){return this.text.length},e.prototype.localPosFromDOM=function(t,e){return t!=this.textDOM?this.posAtStart+(e?this.size:0):this.posAtStart+e},e.prototype.domFromPos=function(t){return{node:this.textDOM,offset:t}},e.prototype.ignoreMutation=function(t){return"characterData"===t.type&&t.target.nodeValue==t.oldValue},Object.defineProperties(e.prototype,n),e}(Yn),rr=function(t){function e(e,n,r,i){t.call(this,e,[],r,i),this.mark=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.create=function(t,n,r,i){var o=i.nodeViews[n.type.name],s=o&&o(n,i,r);return s&&s.dom||(s=Nt.renderSpec(document,n.type.spec.toDOM(n,r))),new e(t,n,s.dom,s.contentDOM||s.dom)},e.prototype.parseRule=function(){return this.dirty&Qn||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}},e.prototype.matchesMark=function(t){return this.dirty!=Qn&&this.mark.eq(t)},e.prototype.markDirty=function(e,n){if(t.prototype.markDirty.call(this,e,n),this.dirty!=Kn){var r=this.parent;while(!r.node)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Kn}},e.prototype.slice=function(t,n,r){var i=e.create(this.parent,this.mark,!0,r),o=this.children,s=this.size;n<s&&(o=Cr(o,n,s,r)),t>0&&(o=Cr(o,0,t,r));for(var a=0;a<o.length;a++)o[a].parent=i;return i.children=o,i},e}(Yn),ir=function(t){function e(e,n,r,i,o,s,a,u,c){t.call(this,e,n.isLeaf?tr:[],o,s),this.nodeDOM=a,this.node=n,this.outerDeco=r,this.innerDeco=i,s&&this.updateChildren(u,c)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={size:{configurable:!0},border:{configurable:!0},domAtom:{configurable:!0}};return e.create=function(t,n,r,i,o,s){var a,u,c=o.nodeViews[n.type.name],l=c&&c(n,o,(function(){return u?u.parent?u.parent.posBeforeChild(u):void 0:s}),r,i),h=l&&l.dom,f=l&&l.contentDOM;if(n.isText)if(h){if(3!=h.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else h=document.createTextNode(n.text);else h||(a=Nt.renderSpec(document,n.type.spec.toDOM(n)),h=a.dom,f=a.contentDOM);f||n.isText||"BR"==h.nodeName||(h.hasAttribute("contenteditable")||(h.contentEditable=!1),n.type.spec.draggable&&(h.draggable=!0));var p=h;return h=mr(h,r,n),l?u=new ur(t,n,r,i,h,f,p,l,o,s+1):n.isText?new sr(t,n,r,i,h,p,o):new e(t,n,r,i,h,f,p,o,s+1)},e.prototype.parseRule=function(){var t=this;if(this.node.type.spec.reparseInView)return null;var e={node:this.node.type.name,attrs:this.node.attrs};return"pre"==this.node.type.whitespace&&(e.preserveWhitespace="full"),this.contentDOM&&!this.contentLost?e.contentElement=this.contentDOM:e.getContent=function(){return t.contentDOM?u.empty:t.node.content},e},e.prototype.matchesNode=function(t,e,n){return this.dirty==Kn&&t.eq(this.node)&&vr(e,this.outerDeco)&&n.eq(this.innerDeco)},n.size.get=function(){return this.node.nodeSize},n.border.get=function(){return this.node.isLeaf?0:1},e.prototype.updateChildren=function(t,e){var n=this,r=this.node.inlineContent,i=e,o=t.composing&&this.localCompositionInfo(t,e),s=o&&o.pos>-1?o:null,a=o&&o.pos<0,u=new yr(this,s&&s.node);kr(this.node,this.innerDeco,(function(e,o,s){e.spec.marks?u.syncToMarks(e.spec.marks,r,t):e.type.side>=0&&!s&&u.syncToMarks(o==n.node.childCount?p.none:n.node.child(o).marks,r,t),u.placeWidget(e,t,i)}),(function(e,n,s,c){var l;u.syncToMarks(e.marks,r,t),u.findNodeMatch(e,n,s,c)||a&&t.state.selection.from>i&&t.state.selection.to<i+e.nodeSize&&(l=u.findIndexWithChild(o.node))>-1&&u.updateNodeAt(e,n,s,l,t)||u.updateNextNode(e,n,s,t,c)||u.addNode(e,n,s,t,i),i+=e.nodeSize})),u.syncToMarks(tr,r,t),this.node.isTextblock&&u.addTextblockHacks(),u.destroyRest(),(u.changed||this.dirty==Xn)&&(s&&this.protectLocalComposition(t,s),cr(this.contentDOM,this.children,t),Ye.ios&&_r(this.dom))},e.prototype.localCompositionInfo=function(t,e){var n=t.state.selection,r=n.from,i=n.to;if(!(!(t.state.selection instanceof Ie)||r<e||i>e+this.node.content.size)){var o=t.root.getSelection(),s=Tr(o.focusNode,o.focusOffset);if(s&&this.dom.contains(s.parentNode)){if(this.node.inlineContent){var a=s.nodeValue,u=Er(this.node.content,a,r-e,i-e);return u<0?null:{node:s,pos:u,text:a}}return{node:s,pos:-1}}}},e.prototype.protectLocalComposition=function(t,e){var n=e.node,r=e.pos,i=e.text;if(!this.getDesc(n)){for(var o=n;;o=o.parentNode){if(o.parentNode==this.contentDOM)break;while(o.previousSibling)o.parentNode.removeChild(o.previousSibling);while(o.nextSibling)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=null)}var s=new nr(this,o,n,i);t.compositionNodes.push(s),this.children=Cr(this.children,r,r+i.length,t,s)}},e.prototype.update=function(t,e,n,r){return!(this.dirty==Qn||!t.sameMarkup(this.node))&&(this.updateInner(t,e,n,r),!0)},e.prototype.updateInner=function(t,e,n,r){this.updateOuterDeco(e),this.node=t,this.innerDeco=n,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=Kn},e.prototype.updateOuterDeco=function(t){if(!vr(t,this.outerDeco)){var e=1!=this.nodeDOM.nodeType,n=this.dom;this.dom=pr(this.dom,this.nodeDOM,fr(this.outerDeco,this.node,e),fr(t,this.node,e)),this.dom!=n&&(n.pmViewDesc=null,this.dom.pmViewDesc=this),this.outerDeco=t}},e.prototype.selectNode=function(){this.nodeDOM.classList.add("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||(this.dom.draggable=!0)},e.prototype.deselectNode=function(){this.nodeDOM.classList.remove("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||this.dom.removeAttribute("draggable")},n.domAtom.get=function(){return this.node.isAtom},Object.defineProperties(e.prototype,n),e}(Yn);function or(t,e,n,r,i){return mr(r,e,t),new ir(null,t,e,n,r,r,r,i,0)}var sr=function(t){function e(e,n,r,i,o,s,a){t.call(this,e,n,r,i,o,null,s,a)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={domAtom:{configurable:!0}};return e.prototype.parseRule=function(){var t=this.nodeDOM.parentNode;while(t&&t!=this.dom&&!t.pmIsDeco)t=t.parentNode;return{skip:t||!0}},e.prototype.update=function(t,e,n,r){return!(this.dirty==Qn||this.dirty!=Kn&&!this.inParent()||!t.sameMarkup(this.node))&&(this.updateOuterDeco(e),this.dirty==Kn&&t.text==this.node.text||t.text==this.nodeDOM.nodeValue||(this.nodeDOM.nodeValue=t.text,r.trackWrites==this.nodeDOM&&(r.trackWrites=null)),this.node=t,this.dirty=Kn,!0)},e.prototype.inParent=function(){for(var t=this.parent.contentDOM,e=this.nodeDOM;e;e=e.parentNode)if(e==t)return!0;return!1},e.prototype.domFromPos=function(t){return{node:this.nodeDOM,offset:t}},e.prototype.localPosFromDOM=function(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):t.prototype.localPosFromDOM.call(this,e,n,r)},e.prototype.ignoreMutation=function(t){return"characterData"!=t.type&&"selection"!=t.type},e.prototype.slice=function(t,n,r){var i=this.node.cut(t,n),o=document.createTextNode(i.text);return new e(this.parent,i,this.outerDeco,this.innerDeco,o,o,r)},e.prototype.markDirty=function(e,n){t.prototype.markDirty.call(this,e,n),this.dom==this.nodeDOM||0!=e&&n!=this.nodeDOM.nodeValue.length||(this.dirty=Qn)},n.domAtom.get=function(){return!1},Object.defineProperties(e.prototype,n),e}(ir),ar=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={domAtom:{configurable:!0},ignoreForCoords:{configurable:!0}};return e.prototype.parseRule=function(){return{ignore:!0}},e.prototype.matchesHack=function(t){return this.dirty==Kn&&this.dom.nodeName==t},n.domAtom.get=function(){return!0},n.ignoreForCoords.get=function(){return"IMG"==this.dom.nodeName},Object.defineProperties(e.prototype,n),e}(Yn),ur=function(t){function e(e,n,r,i,o,s,a,u,c,l){t.call(this,e,n,r,i,o,s,a,c,l),this.spec=u}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.update=function(e,n,r,i){if(this.dirty==Qn)return!1;if(this.spec.update){var o=this.spec.update(e,n,r);return o&&this.updateInner(e,n,r,i),o}return!(!this.contentDOM&&!e.isLeaf)&&t.prototype.update.call(this,e,n,r,i)},e.prototype.selectNode=function(){this.spec.selectNode?this.spec.selectNode():t.prototype.selectNode.call(this)},e.prototype.deselectNode=function(){this.spec.deselectNode?this.spec.deselectNode():t.prototype.deselectNode.call(this)},e.prototype.setSelection=function(e,n,r,i){this.spec.setSelection?this.spec.setSelection(e,n,r):t.prototype.setSelection.call(this,e,n,r,i)},e.prototype.destroy=function(){this.spec.destroy&&this.spec.destroy(),t.prototype.destroy.call(this)},e.prototype.stopEvent=function(t){return!!this.spec.stopEvent&&this.spec.stopEvent(t)},e.prototype.ignoreMutation=function(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):t.prototype.ignoreMutation.call(this,e)},e}(ir);function cr(t,e,n){for(var r=t.firstChild,i=!1,o=0;o<e.length;o++){var s=e[o],a=s.dom;if(a.parentNode==t){while(a!=r)r=gr(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(a,r);if(s instanceof rr){var u=r?r.previousSibling:t.lastChild;cr(s.contentDOM,s.children,n),r=u?u.nextSibling:t.firstChild}}while(r)r=gr(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}function lr(t){t&&(this.nodeName=t)}lr.prototype=Object.create(null);var hr=[new lr];function fr(t,e,n){if(0==t.length)return hr;for(var r=n?hr[0]:new lr,i=[r],o=0;o<t.length;o++){var s=t[o].type.attrs;if(s)for(var a in s.nodeName&&i.push(r=new lr(s.nodeName)),s){var u=s[a];null!=u&&(n&&1==i.length&&i.push(r=new lr(e.isInline?"span":"div")),"class"==a?r.class=(r.class?r.class+" ":"")+u:"style"==a?r.style=(r.style?r.style+";":"")+u:"nodeName"!=a&&(r[a]=u))}}return i}function pr(t,e,n,r){if(n==hr&&r==hr)return e;for(var i=e,o=0;o<r.length;o++){var s=r[o],a=n[o];if(o){var u=void 0;a&&a.nodeName==s.nodeName&&i!=t&&(u=i.parentNode)&&u.tagName.toLowerCase()==s.nodeName||(u=document.createElement(s.nodeName),u.pmIsDeco=!0,u.appendChild(i),a=hr[0]),i=u}dr(i,a||hr[0],s)}return i}function dr(t,e,n){for(var r in e)"class"==r||"style"==r||"nodeName"==r||r in n||t.removeAttribute(r);for(var i in n)"class"!=i&&"style"!=i&&"nodeName"!=i&&n[i]!=e[i]&&t.setAttribute(i,n[i]);if(e.class!=n.class){for(var o=e.class?e.class.split(" ").filter(Boolean):tr,s=n.class?n.class.split(" ").filter(Boolean):tr,a=0;a<o.length;a++)-1==s.indexOf(o[a])&&t.classList.remove(o[a]);for(var u=0;u<s.length;u++)-1==o.indexOf(s[u])&&t.classList.add(s[u]);0==t.classList.length&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){var c,l=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;while(c=l.exec(e.style))t.style.removeProperty(c[1])}n.style&&(t.style.cssText+=n.style)}}function mr(t,e,n){return pr(t,t,hr,fr(e,n,1!=t.nodeType))}function vr(t,e){if(t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function gr(t){var e=t.nextSibling;return t.parentNode.removeChild(t),e}var yr=function(t,e){this.top=t,this.lock=e,this.index=0,this.stack=[],this.changed=!1,this.preMatch=br(t.node.content,t)};function br(t,e){var n=e,r=n.children.length,i=t.childCount,o=new Map,s=[];t:while(i>0){for(var a=void 0;;)if(r){var u=n.children[r-1];if(!(u instanceof rr)){a=u,r--;break}n=u,r=u.children.length}else{if(n==e)break t;r=n.parent.children.indexOf(n),n=n.parent}var c=a.node;if(c){if(c!=t.child(i-1))break;--i,o.set(a,i),s.push(a)}}return{index:i,matched:o,matches:s.reverse()}}function wr(t,e){return t.type.side-e.type.side}function kr(t,e,n,r){var i=e.locals(t),o=0;if(0!=i.length)for(var s=0,a=[],u=null,c=0;;){if(s<i.length&&i[s].to==o){var l=i[s++],h=void 0;while(s<i.length&&i[s].to==o)(h||(h=[l])).push(i[s++]);if(h){h.sort(wr);for(var f=0;f<h.length;f++)n(h[f],c,!!u)}else n(l,c,!!u)}var p=void 0,d=void 0;if(u)d=-1,p=u,u=null;else{if(!(c<t.childCount))break;d=c,p=t.child(c++)}for(var m=0;m<a.length;m++)a[m].to<=o&&a.splice(m--,1);while(s<i.length&&i[s].from<=o&&i[s].to>o)a.push(i[s++]);var v=o+p.nodeSize;if(p.isText){var g=v;s<i.length&&i[s].from<g&&(g=i[s].from);for(var y=0;y<a.length;y++)a[y].to<g&&(g=a[y].to);g<v&&(u=p.cut(g-o),p=p.cut(0,g-o),v=g,d=-1)}var b=a.length?p.isInline&&!p.isLeaf?a.filter((function(t){return!t.inline})):a.slice():tr;r(p,b,e.forChild(o,p),d),o=v}else for(var w=0;w<t.childCount;w++){var k=t.child(w);r(k,i,e.forChild(o,k),w),o+=k.nodeSize}}function _r(t){if("UL"==t.nodeName||"OL"==t.nodeName){var e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function Tr(t,e){for(;;){if(3==t.nodeType)return t;if(1==t.nodeType&&e>0){if(t.childNodes.length>e&&3==t.childNodes[e].nodeType)return t.childNodes[e];t=t.childNodes[e-1],e=fn(t)}else{if(!(1==t.nodeType&&e<t.childNodes.length))return null;t=t.childNodes[e],e=0}}}function Er(t,e,n,r){for(var i=0,o=0;i<t.childCount&&o<=r;){var s=t.child(i++),a=o;if(o+=s.nodeSize,s.isText){var u=s.text;while(i<t.childCount){var c=t.child(i++);if(o+=c.nodeSize,!c.isText)break;u+=c.text}if(o>=n&&a<r){var l=u.lastIndexOf(e,r-a-1);if(l>=0&&l+e.length+a>=n)return a+l}}}return-1}function Cr(t,e,n,r,i){for(var o=[],s=0,a=0;s<t.length;s++){var u=t[s],c=a,l=a+=u.size;c>=n||l<=e?o.push(u):(c<e&&o.push(u.slice(0,e-c,r)),i&&(o.push(i),i=null),l>n&&o.push(u.slice(n-c,u.size,r)))}return o}function xr(t,e){var n=t.root.getSelection(),r=t.state.doc;if(!n.focusNode)return null;var i=t.docView.nearestDesc(n.focusNode),o=i&&0==i.size,s=t.docView.posFromDOM(n.focusNode,n.focusOffset);if(s<0)return null;var a,u,c=r.resolve(s);if(mn(n)){a=c;while(i&&!i.node)i=i.parent;if(i&&i.node.isAtom&&Ne.isSelectable(i.node)&&i.parent&&(!i.node.isInline||!pn(n.focusNode,n.focusOffset,i.dom))){var l=i.posBefore;u=new Ne(s==l?c:r.resolve(l))}}else{var h=t.docView.posFromDOM(n.anchorNode,n.anchorOffset);if(h<0)return null;a=r.resolve(h)}if(!u){var f="pointer"==e||t.state.selection.head<c.pos&&!o?1:-1;u=Fr(t,a,c,f)}return u}function Sr(t){return t.editable?t.hasFocus():Br(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function Ir(t,e){var n=t.state.selection;if(Lr(t,n),Sr(t)){if(!e&&t.mouseDown&&t.mouseDown.allowDefault&&Ye.chrome){var r=t.root.getSelection(),i=t.domObserver.currentSelection;if(r.anchorNode&&cn(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset))return t.mouseDown.delayedSelectionSync=!0,void t.domObserver.setCurSelection()}if(t.domObserver.disconnectSelection(),t.cursorWrapper)Rr(t);else{var o,s,a=n.anchor,u=n.head;!Ar||n instanceof Ie||(n.$from.parent.inlineContent||(o=Nr(t,n.from)),n.empty||n.$from.parent.inlineContent||(s=Nr(t,n.to))),t.docView.setSelection(a,u,t.root,e),Ar&&(o&&Dr(o),s&&Dr(s)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&Mr(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}yr.prototype.destroyBetween=function(t,e){if(t!=e){for(var n=t;n<e;n++)this.top.children[n].destroy();this.top.children.splice(t,e-t),this.changed=!0}},yr.prototype.destroyRest=function(){this.destroyBetween(this.index,this.top.children.length)},yr.prototype.syncToMarks=function(t,e,n){var r=0,i=this.stack.length>>1,o=Math.min(i,t.length);while(r<o&&(r==i-1?this.top:this.stack[r+1<<1]).matchesMark(t[r])&&!1!==t[r].type.spec.spanning)r++;while(r<i)this.destroyRest(),this.top.dirty=Kn,this.index=this.stack.pop(),this.top=this.stack.pop(),i--;while(i<t.length){this.stack.push(this.top,this.index+1);for(var s=-1,a=this.index;a<Math.min(this.index+3,this.top.children.length);a++)if(this.top.children[a].matchesMark(t[i])){s=a;break}if(s>-1)s>this.index&&(this.changed=!0,this.destroyBetween(this.index,s)),this.top=this.top.children[this.index];else{var u=rr.create(this.top,t[i],e,n);this.top.children.splice(this.index,0,u),this.top=u,this.changed=!0}this.index=0,i++}},yr.prototype.findNodeMatch=function(t,e,n,r){var i,o=-1;if(r>=this.preMatch.index&&(i=this.preMatch.matches[r-this.preMatch.index]).parent==this.top&&i.matchesNode(t,e,n))o=this.top.children.indexOf(i,this.index);else for(var s=this.index,a=Math.min(this.top.children.length,s+5);s<a;s++){var u=this.top.children[s];if(u.matchesNode(t,e,n)&&!this.preMatch.matched.has(u)){o=s;break}}return!(o<0)&&(this.destroyBetween(this.index,o),this.index++,!0)},yr.prototype.updateNodeAt=function(t,e,n,r,i){var o=this.top.children[r];return!!o.update(t,e,n,i)&&(this.destroyBetween(this.index,r),this.index=r+1,!0)},yr.prototype.findIndexWithChild=function(t){for(;;){var e=t.parentNode;if(!e)return-1;if(e==this.top.contentDOM){var n=t.pmViewDesc;if(n)for(var r=this.index;r<this.top.children.length;r++)if(this.top.children[r]==n)return r;return-1}t=e}},yr.prototype.updateNextNode=function(t,e,n,r,i){for(var o=this.index;o<this.top.children.length;o++){var s=this.top.children[o];if(s instanceof ir){var a=this.preMatch.matched.get(s);if(null!=a&&a!=i)return!1;var u=s.dom,c=this.lock&&(u==this.lock||1==u.nodeType&&u.contains(this.lock.parentNode))&&!(t.isText&&s.node&&s.node.isText&&s.nodeDOM.nodeValue==t.text&&s.dirty!=Qn&&vr(e,s.outerDeco));if(!c&&s.update(t,e,n,r))return this.destroyBetween(this.index,o),s.dom!=u&&(this.changed=!0),this.index++,!0;break}}return!1},yr.prototype.addNode=function(t,e,n,r,i){this.top.children.splice(this.index++,0,ir.create(this.top,t,e,n,r,i)),this.changed=!0},yr.prototype.placeWidget=function(t,e,n){var r=this.index<this.top.children.length?this.top.children[this.index]:null;if(!r||!r.matchesWidget(t)||t!=r.widget&&r.widget.type.toDOM.parentNode){var i=new er(this.top,t,e,n);this.top.children.splice(this.index++,0,i),this.changed=!0}else this.index++},yr.prototype.addTextblockHacks=function(){var t=this.top.children[this.index-1];while(t instanceof rr)t=t.children[t.children.length-1];t&&t instanceof sr&&!/\n$/.test(t.node.text)||((Ye.safari||Ye.chrome)&&t&&"false"==t.dom.contentEditable&&this.addHackNode("IMG"),this.addHackNode("BR"))},yr.prototype.addHackNode=function(t){if(this.index<this.top.children.length&&this.top.children[this.index].matchesHack(t))this.index++;else{var e=document.createElement(t);"IMG"==t&&(e.className="ProseMirror-separator"),"BR"==t&&(e.className="ProseMirror-trailingBreak"),this.top.children.splice(this.index++,0,new ar(this.top,tr,e,null)),this.changed=!0}};var Ar=Ye.safari||Ye.chrome&&Ye.chrome_version<63;function Nr(t,e){var n=t.docView.domFromPos(e,0),r=n.node,i=n.offset,o=i<r.childNodes.length?r.childNodes[i]:null,s=i?r.childNodes[i-1]:null;if(Ye.safari&&o&&"false"==o.contentEditable)return Or(o);if((!o||"false"==o.contentEditable)&&(!s||"false"==s.contentEditable)){if(o)return Or(o);if(s)return Or(s)}}function Or(t){return t.contentEditable="true",Ye.safari&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function Dr(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function Mr(t){var e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.hideSelectionGuard);var n=t.root.getSelection(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.hideSelectionGuard=function(){n.anchorNode==r&&n.anchorOffset==i||(e.removeEventListener("selectionchange",t.hideSelectionGuard),setTimeout((function(){Sr(t)&&!t.state.selection.visible||t.dom.classList.remove("ProseMirror-hideselection")}),20))})}function Rr(t){var e=t.root.getSelection(),n=document.createRange(),r=t.cursorWrapper.dom,i="IMG"==r.nodeName;i?n.setEnd(r.parentNode,on(r)+1):n.setEnd(r,0),n.collapse(!1),e.removeAllRanges(),e.addRange(n),!i&&!t.state.selection.visible&&Ye.ie&&Ye.ie_version<=11&&(r.disabled=!0,r.disabled=!1)}function Lr(t,e){if(e instanceof Ne){var n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(Pr(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else Pr(t)}function Pr(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=null)}function Fr(t,e,n,r){return t.someProp("createSelectionBetween",(function(r){return r(t,e,n)}))||Ie.between(e,n,r)}function jr(t){return(!t.editable||t.root.activeElement==t.dom)&&Br(t)}function Br(t){var e=t.root.getSelection();if(!e.anchorNode)return!1;try{return t.dom.contains(3==e.anchorNode.nodeType?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(3==e.focusNode.nodeType?e.focusNode.parentNode:e.focusNode))}catch(n){return!1}}function Vr(t){var e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.root.getSelection();return cn(e.node,e.offset,n.anchorNode,n.anchorOffset)}function Ur(t,e){var n=t.selection,r=n.$anchor,i=n.$head,o=e>0?r.max(i):r.min(i),s=o.parent.inlineContent?o.depth?t.doc.resolve(e>0?o.after():o.before()):null:o;return s&&Ce.findFrom(s,e)}function qr(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function Hr(t,e,n){var r=t.state.selection;if(!(r instanceof Ie)){if(r instanceof Ne&&r.node.isInline)return qr(t,new Ie(e>0?r.$to:r.$from));var i=Ur(t.state,e);return!!i&&qr(t,i)}if(!r.empty||n.indexOf("s")>-1)return!1;if(t.endOfTextblock(e>0?"right":"left")){var o=Ur(t.state,e);return!!(o&&o instanceof Ne)&&qr(t,o)}if(!(Ye.mac&&n.indexOf("m")>-1)){var s,a=r.$head,u=a.textOffset?null:e<0?a.nodeBefore:a.nodeAfter;if(!u||u.isText)return!1;var c=e<0?a.pos-u.nodeSize:a.pos;return!!(u.isAtom||(s=t.docView.descAt(c))&&!s.contentDOM)&&(Ne.isSelectable(u)?qr(t,new Ne(e<0?t.state.doc.resolve(a.pos-u.nodeSize):a)):!!Ye.webkit&&qr(t,new Ie(t.state.doc.resolve(e<0?c:c+u.nodeSize))))}}function zr(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}function $r(t){var e=t.pmViewDesc;return e&&0==e.size&&(t.nextSibling||"BR"!=t.nodeName)}function Gr(t){var e=t.root.getSelection(),n=e.focusNode,r=e.focusOffset;if(n){var i,o,s=!1;for(Ye.gecko&&1==n.nodeType&&r<zr(n)&&$r(n.childNodes[r])&&(s=!0);;)if(r>0){if(1!=n.nodeType)break;var a=n.childNodes[r-1];if($r(a))i=n,o=--r;else{if(3!=a.nodeType)break;n=a,r=n.nodeValue.length}}else{if(Kr(n))break;var u=n.previousSibling;while(u&&$r(u))i=n.parentNode,o=on(u),u=u.previousSibling;if(u)n=u,r=zr(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}s?Jr(t,e,n,r):i&&Jr(t,e,i,o)}}function Wr(t){var e=t.root.getSelection(),n=e.focusNode,r=e.focusOffset;if(n){for(var i,o,s=zr(n);;)if(r<s){if(1!=n.nodeType)break;var a=n.childNodes[r];if(!$r(a))break;i=n,o=++r}else{if(Kr(n))break;var u=n.nextSibling;while(u&&$r(u))i=u.parentNode,o=on(u)+1,u=u.nextSibling;if(u)n=u,r=0,s=zr(n);else{if(n=n.parentNode,n==t.dom)break;r=s=0}}i&&Jr(t,e,i,o)}}function Kr(t){var e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function Jr(t,e,n,r){if(mn(e)){var i=document.createRange();i.setEnd(n,r),i.setStart(n,r),e.removeAllRanges(),e.addRange(i)}else e.extend&&e.extend(n,r);t.domObserver.setCurSelection();var o=t.state;setTimeout((function(){t.state==o&&Ir(t)}),50)}function Xr(t,e,n){var r=t.state.selection;if(r instanceof Ie&&!r.empty||n.indexOf("s")>-1)return!1;if(Ye.mac&&n.indexOf("m")>-1)return!1;var i=r.$from,o=r.$to;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){var s=Ur(t.state,e);if(s&&s instanceof Ne)return qr(t,s)}if(!i.parent.inlineContent){var a=e<0?i:o,u=r instanceof De?Ce.near(a,e):Ce.findFrom(a,e);return!!u&&qr(t,u)}return!1}function Qr(t,e){if(!(t.state.selection instanceof Ie))return!0;var n=t.state.selection,r=n.$head,i=n.$anchor,o=n.empty;if(!r.sameParent(i))return!0;if(!o)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;var s=!r.textOffset&&(e<0?r.nodeBefore:r.nodeAfter);if(s&&!s.isText){var a=t.state.tr;return e<0?a.delete(r.pos-s.nodeSize,r.pos):a.delete(r.pos,r.pos+s.nodeSize),t.dispatch(a),!0}return!1}function Yr(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function Zr(t){if(Ye.safari&&!(t.state.selection.$head.parentOffset>0)){var e=t.root.getSelection(),n=e.focusNode,r=e.focusOffset;if(n&&1==n.nodeType&&0==r&&n.firstChild&&"false"==n.firstChild.contentEditable){var i=n.firstChild;Yr(t,i,!0),setTimeout((function(){return Yr(t,i,!1)}),20)}}}function ti(t){var e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function ei(t,e){var n=e.keyCode,r=ti(e);return 8==n||Ye.mac&&72==n&&"c"==r?Qr(t,-1)||Gr(t):46==n||Ye.mac&&68==n&&"c"==r?Qr(t,1)||Wr(t):13==n||27==n||(37==n?Hr(t,-1,r)||Gr(t):39==n?Hr(t,1,r)||Wr(t):38==n?Xr(t,-1,r)||Gr(t):40==n?Zr(t)||Xr(t,1,r)||Wr(t):r==(Ye.mac?"m":"c")&&(66==n||73==n||89==n||90==n))}function ni(t,e,n){var r=t.docView.parseRange(e,n),i=r.node,o=r.fromOffset,s=r.toOffset,a=r.from,u=r.to,c=t.root.getSelection(),l=null,h=c.anchorNode;if(h&&t.dom.contains(1==h.nodeType?h:h.parentNode)&&(l=[{node:h,offset:c.anchorOffset}],mn(c)||l.push({node:c.focusNode,offset:c.focusOffset})),Ye.chrome&&8===t.lastKeyCode)for(var f=s;f>o;f--){var p=i.childNodes[f-1],d=p.pmViewDesc;if("BR"==p.nodeName&&!d){s=f;break}if(!d||d.size)break}var m=t.state.doc,v=t.someProp("domParser")||pt.fromSchema(t.state.schema),g=m.resolve(a),y=null,b=v.parse(i,{topNode:g.parent,topMatch:g.parent.contentMatchAt(g.index()),topOpen:!0,from:o,to:s,preserveWhitespace:"pre"!=g.parent.type.whitespace||"full",editableContent:!0,findPositions:l,ruleFromNode:ri,context:g});if(l&&null!=l[0].pos){var w=l[0].pos,k=l[1]&&l[1].pos;null==k&&(k=w),y={anchor:w+a,head:k+a}}return{doc:b,sel:y,from:a,to:u}}function ri(t){var e=t.pmViewDesc;if(e)return e.parseRule();if("BR"==t.nodeName&&t.parentNode){if(Ye.safari&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){var n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}if(t.parentNode.lastChild==t||Ye.safari&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if("IMG"==t.nodeName&&t.getAttribute("mark-placeholder"))return{ignore:!0}}function ii(t,e,n,r,i){if(e<0){var o=t.lastSelectionTime>Date.now()-50?t.lastSelectionOrigin:null,s=xr(t,o);if(s&&!t.state.selection.eq(s)){var a=t.state.tr.setSelection(s);"pointer"==o?a.setMeta("pointer",!0):"key"==o&&a.scrollIntoView(),t.dispatch(a)}}else{var u=t.state.doc.resolve(e),c=u.sharedDepth(n);e=u.before(c+1),n=t.state.doc.resolve(n).after(c+1);var l=t.state.selection,h=ni(t,e,n);if(Ye.chrome&&t.cursorWrapper&&h.sel&&h.sel.anchor==t.cursorWrapper.deco.from){var f=t.cursorWrapper.deco.type.toDOM.nextSibling,p=f&&f.nodeValue?f.nodeValue.length:1;h.sel={anchor:h.sel.anchor+p,head:h.sel.anchor+p}}var d,m,v=t.state.doc,g=v.slice(h.from,h.to);8===t.lastKeyCode&&Date.now()-100<t.lastKeyCodeTime?(d=t.state.selection.to,m="end"):(d=t.state.selection.from,m="start"),t.lastKeyCode=null;var y=ci(g.content,h.doc.content,h.from,d,m);if(!y){if(!(r&&l instanceof Ie&&!l.empty&&l.$head.sameParent(l.$anchor))||t.composing||h.sel&&h.sel.anchor!=h.sel.head){if((Ye.ios&&t.lastIOSEnter>Date.now()-225||Ye.android)&&i.some((function(t){return"DIV"==t.nodeName||"P"==t.nodeName}))&&t.someProp("handleKeyDown",(function(e){return e(t,vn(13,"Enter"))})))return void(t.lastIOSEnter=0);if(h.sel){var b=oi(t,t.state.doc,h.sel);b&&!b.eq(t.state.selection)&&t.dispatch(t.state.tr.setSelection(b))}return}y={start:l.from,endA:l.to,endB:l.to}}t.domChangeCount++,t.state.selection.from<t.state.selection.to&&y.start==y.endB&&t.state.selection instanceof Ie&&(y.start>t.state.selection.from&&y.start<=t.state.selection.from+2?y.start=t.state.selection.from:y.endA<t.state.selection.to&&y.endA>=t.state.selection.to-2&&(y.endB+=t.state.selection.to-y.endA,y.endA=t.state.selection.to)),Ye.ie&&Ye.ie_version<=11&&y.endB==y.start+1&&y.endA==y.start&&y.start>h.from&&"  "==h.doc.textBetween(y.start-h.from-1,y.start-h.from+1)&&(y.start--,y.endA--,y.endB--);var w,k=h.doc.resolveNoCache(y.start-h.from),_=h.doc.resolveNoCache(y.endB-h.from),T=k.sameParent(_)&&k.parent.inlineContent;if((Ye.ios&&t.lastIOSEnter>Date.now()-225&&(!T||i.some((function(t){return"DIV"==t.nodeName||"P"==t.nodeName})))||!T&&k.pos<h.doc.content.size&&(w=Ce.findFrom(h.doc.resolve(k.pos+1),1,!0))&&w.head==_.pos)&&t.someProp("handleKeyDown",(function(e){return e(t,vn(13,"Enter"))})))t.lastIOSEnter=0;else if(t.state.selection.anchor>y.start&&ai(v,y.start,y.endA,k,_)&&t.someProp("handleKeyDown",(function(e){return e(t,vn(8,"Backspace"))})))Ye.android&&Ye.chrome&&t.domObserver.suppressSelectionUpdates();else{Ye.chrome&&Ye.android&&y.toB==y.from&&(t.lastAndroidDelete=Date.now()),Ye.android&&!T&&k.start()!=_.start()&&0==_.parentOffset&&k.depth==_.depth&&h.sel&&h.sel.anchor==h.sel.head&&h.sel.head==y.endA&&(y.endB-=2,_=h.doc.resolveNoCache(y.endB-h.from),setTimeout((function(){t.someProp("handleKeyDown",(function(e){return e(t,vn(13,"Enter"))}))}),20));var E,C,x,S,I=y.start,A=y.endA;if(T)if(k.pos==_.pos)Ye.ie&&Ye.ie_version<=11&&0==k.parentOffset&&(t.domObserver.suppressSelectionUpdates(),setTimeout((function(){return Ir(t)}),20)),E=t.state.tr.delete(I,A),C=v.resolve(y.start).marksAcross(v.resolve(y.endA));else if(y.endA==y.endB&&(S=v.resolve(y.start))&&(x=si(k.parent.content.cut(k.parentOffset,_.parentOffset),S.parent.content.cut(S.parentOffset,y.endA-S.start()))))E=t.state.tr,"add"==x.type?E.addMark(I,A,x.mark):E.removeMark(I,A,x.mark);else if(k.parent.child(k.index()).isText&&k.index()==_.index()-(_.textOffset?0:1)){var N=k.parent.textBetween(k.parentOffset,_.parentOffset);if(t.someProp("handleTextInput",(function(e){return e(t,I,A,N)})))return;E=t.state.tr.insertText(N,I,A)}if(E||(E=t.state.tr.replace(I,A,h.doc.slice(y.start-h.from,y.endB-h.from))),h.sel){var O=oi(t,E.doc,h.sel);O&&!(Ye.chrome&&Ye.android&&t.composing&&O.empty&&(y.start!=y.endB||t.lastAndroidDelete<Date.now()-100)&&(O.head==I||O.head==E.mapping.map(A)-1)||Ye.ie&&O.empty&&O.head==I)&&E.setSelection(O)}C&&E.ensureMarks(C),t.dispatch(E.scrollIntoView())}}}function oi(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:Fr(t,e.resolve(n.anchor),e.resolve(n.head))}function si(t,e){for(var n,r,i,o=t.firstChild.marks,s=e.firstChild.marks,a=o,c=s,l=0;l<s.length;l++)a=s[l].removeFromSet(a);for(var h=0;h<o.length;h++)c=o[h].removeFromSet(c);if(1==a.length&&0==c.length)r=a[0],n="add",i=function(t){return t.mark(r.addToSet(t.marks))};else{if(0!=a.length||1!=c.length)return null;r=c[0],n="remove",i=function(t){return t.mark(r.removeFromSet(t.marks))}}for(var f=[],p=0;p<e.childCount;p++)f.push(i(e.child(p)));if(u.from(f).eq(t))return{mark:r,type:n}}function ai(t,e,n,r,i){if(!r.parent.isTextblock||n-e<=i.pos-r.pos||ui(r,!0,!1)<i.pos)return!1;var o=t.resolve(e);if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;var s=t.resolve(ui(o,!0,!0));return!(!s.parent.isTextblock||s.pos>n||ui(s,!0,!1)<n)&&r.parent.content.cut(r.parentOffset).eq(s.parent.content)}function ui(t,e,n){var r=t.depth,i=e?t.end():t.pos;while(r>0&&(e||t.indexAfter(r)==t.node(r).childCount))r--,i++,e=!1;if(n){var o=t.node(r).maybeChild(t.indexAfter(r));while(o&&!o.isLeaf)o=o.firstChild,i++}return i}function ci(t,e,n,r,i){var o=t.findDiffStart(e,n);if(null==o)return null;var s=t.findDiffEnd(e,n+t.size,n+e.size),a=s.a,u=s.b;if("end"==i){var c=Math.max(0,o-Math.min(a,u));r-=a+c-o}if(a<o&&t.size<e.size){var l=r<=o&&r>=a?o-r:0;o-=l,u=o+(u-a),a=o}else if(u<o){var h=r<=o&&r>=u?o-r:0;o-=h,a=o+(a-u),u=o}return{start:o,endA:a,endB:u}}function li(t,e){var n=[],r=e.content,i=e.openStart,o=e.openEnd;while(i>1&&o>1&&1==r.childCount&&1==r.firstChild.childCount){i--,o--;var s=r.firstChild;n.push(s.type.name,s.attrs!=s.type.defaultAttrs?s.attrs:null),r=s.content}var a=t.someProp("clipboardSerializer")||Nt.fromSchema(t.state.schema),u=ki(),c=u.createElement("div");c.appendChild(a.serializeFragment(r,{document:u}));var l,h=c.firstChild;while(h&&1==h.nodeType&&(l=bi[h.nodeName.toLowerCase()])){for(var f=l.length-1;f>=0;f--){var p=u.createElement(l[f]);while(c.firstChild)p.appendChild(c.firstChild);c.appendChild(p),"tbody"!=l[f]&&(i++,o++)}h=c.firstChild}h&&1==h.nodeType&&h.setAttribute("data-pm-slice",i+" "+o+" "+JSON.stringify(n));var d=t.someProp("clipboardTextSerializer",(function(t){return t(e)}))||e.content.textBetween(0,e.content.size,"\n\n");return{dom:c,text:d}}function hi(t,e,n,r,i){var o,s,a=i.parent.type.spec.code;if(!n&&!e)return null;var c=e&&(r||a||!n);if(c){if(t.someProp("transformPastedText",(function(t){e=t(e,a||r)})),a)return e?new m(u.from(t.state.schema.text(e.replace(/\r\n?/g,"\n"))),0,0):m.empty;var l=t.someProp("clipboardTextParser",(function(t){return t(e,i,r)}));if(l)s=l;else{var h=i.marks(),f=t.state,p=f.schema,d=Nt.fromSchema(p);o=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach((function(t){var e=o.appendChild(document.createElement("p"));t&&e.appendChild(d.serializeNode(p.text(t,h)))}))}}else t.someProp("transformPastedHTML",(function(t){n=t(n)})),o=_i(n),Ye.webkit&&Ti(o);var v=o&&o.querySelector("[data-pm-slice]"),g=v&&/^(\d+) (\d+) (.*)/.exec(v.getAttribute("data-pm-slice"));if(!s){var y=t.someProp("clipboardParser")||t.someProp("domParser")||pt.fromSchema(t.state.schema);s=y.parseSlice(o,{preserveWhitespace:!(!c&&!g),context:i,ruleFromNode:function(t){if("BR"==t.nodeName&&!t.nextSibling&&t.parentNode&&!fi.test(t.parentNode.nodeName))return{ignore:!0}}})}if(g)s=Ei(yi(s,+g[1],+g[2]),g[3]);else if(s=m.maxOpen(pi(s.content,i),!0),s.openStart||s.openEnd){for(var b=0,w=0,k=s.content.firstChild;b<s.openStart&&!k.type.spec.isolating;b++,k=k.firstChild);for(var _=s.content.lastChild;w<s.openEnd&&!_.type.spec.isolating;w++,_=_.lastChild);s=yi(s,b,w)}return t.someProp("transformPasted",(function(t){s=t(s)})),s}var fi=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function pi(t,e){if(t.childCount<2)return t;for(var n=function(n){var r=e.node(n),i=r.contentMatchAt(e.index(n)),o=void 0,s=[];if(t.forEach((function(t){if(s){var e,n=i.findWrapping(t.type);if(!n)return s=null;if(e=s.length&&o.length&&mi(n,o,t,s[s.length-1],0))s[s.length-1]=e;else{s.length&&(s[s.length-1]=vi(s[s.length-1],o.length));var r=di(t,n);s.push(r),i=i.matchType(r.type,r.attrs),o=n}}})),s)return{v:u.from(s)}},r=e.depth;r>=0;r--){var i=n(r);if(i)return i.v}return t}function di(t,e,n){void 0===n&&(n=0);for(var r=e.length-1;r>=n;r--)t=e[r].create(null,u.from(t));return t}function mi(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){var o=mi(t,e,n,r.lastChild,i+1);if(o)return r.copy(r.content.replaceChild(r.childCount-1,o));var s=r.contentMatchAt(r.childCount);if(s.matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append(u.from(di(n,t,i+1))))}}function vi(t,e){if(0==e)return t;var n=t.content.replaceChild(t.childCount-1,vi(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(u.empty,!0);return t.copy(n.append(r))}function gi(t,e,n,r,i,o){var s=e<0?t.firstChild:t.lastChild,a=s.content;return i<r-1&&(a=gi(a,e,n,r,i+1,o)),i>=n&&(a=e<0?s.contentMatchAt(0).fillBefore(a,t.childCount>1||o<=i).append(a):a.append(s.contentMatchAt(s.childCount).fillBefore(u.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,s.copy(a))}function yi(t,e,n){return e<t.openStart&&(t=new m(gi(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new m(gi(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}var bi={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},wi=null;function ki(){return wi||(wi=document.implementation.createHTMLDocument("title"))}function _i(t){var e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));var n,r=ki().createElement("div"),i=/<([a-z][^>\s]+)/i.exec(t);if((n=i&&bi[i[1].toLowerCase()])&&(t=n.map((function(t){return"<"+t+">"})).join("")+t+n.map((function(t){return"</"+t+">"})).reverse().join("")),r.innerHTML=t,n)for(var o=0;o<n.length;o++)r=r.querySelector(n[o])||r;return r}function Ti(t){for(var e=t.querySelectorAll(Ye.chrome?"span:not([class]):not([style])":"span.Apple-converted-space"),n=0;n<e.length;n++){var r=e[n];1==r.childNodes.length&&" "==r.textContent&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function Ei(t,e){if(!t.size)return t;var n,r=t.content.firstChild.type.schema;try{n=JSON.parse(e)}catch(l){return t}for(var i=t.content,o=t.openStart,s=t.openEnd,a=n.length-2;a>=0;a-=2){var c=r.nodes[n[a]];if(!c||c.hasRequiredAttrs())break;i=u.from(c.create(n[a+1],i)),o++,s++}return new m(i,o,s)}var Ci={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},xi=Ye.ie&&Ye.ie_version<=11,Si=function(){this.anchorNode=this.anchorOffset=this.focusNode=this.focusOffset=null};Si.prototype.set=function(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset},Si.prototype.eq=function(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset};var Ii=function(t,e){var n=this;this.view=t,this.handleDOMChange=e,this.queue=[],this.flushingSoon=-1,this.observer=window.MutationObserver&&new window.MutationObserver((function(t){for(var e=0;e<t.length;e++)n.queue.push(t[e]);Ye.ie&&Ye.ie_version<=11&&t.some((function(t){return"childList"==t.type&&t.removedNodes.length||"characterData"==t.type&&t.oldValue.length>t.target.nodeValue.length}))?n.flushSoon():n.flush()})),this.currentSelection=new Si,xi&&(this.onCharData=function(t){n.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),n.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.suppressingSelectionUpdates=!1};Ii.prototype.flushSoon=function(){var t=this;this.flushingSoon<0&&(this.flushingSoon=window.setTimeout((function(){t.flushingSoon=-1,t.flush()}),20))},Ii.prototype.forceFlush=function(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())},Ii.prototype.start=function(){this.observer&&this.observer.observe(this.view.dom,Ci),xi&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()},Ii.prototype.stop=function(){var t=this;if(this.observer){var e=this.observer.takeRecords();if(e.length){for(var n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout((function(){return t.flush()}),20)}this.observer.disconnect()}xi&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()},Ii.prototype.connectSelection=function(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)},Ii.prototype.disconnectSelection=function(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)},Ii.prototype.suppressSelectionUpdates=function(){var t=this;this.suppressingSelectionUpdates=!0,setTimeout((function(){return t.suppressingSelectionUpdates=!1}),50)},Ii.prototype.onSelectionChange=function(){if(jr(this.view)){if(this.suppressingSelectionUpdates)return Ir(this.view);if(Ye.ie&&Ye.ie_version<=11&&!this.view.state.selection.empty){var t=this.view.root.getSelection();if(t.focusNode&&cn(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}},Ii.prototype.setCurSelection=function(){this.currentSelection.set(this.view.root.getSelection())},Ii.prototype.ignoreSelectionChange=function(t){if(0==t.rangeCount)return!0;var e=t.getRangeAt(0).commonAncestorContainer,n=this.view.docView.nearestDesc(e);return n&&n.ignoreMutation({type:"selection",target:3==e.nodeType?e.parentNode:e})?(this.setCurSelection(),!0):void 0},Ii.prototype.flush=function(){if(this.view.docView&&!(this.flushingSoon>-1)){var t=this.observer?this.observer.takeRecords():[];this.queue.length&&(t=this.queue.concat(t),this.queue.length=0);var e=this.view.root.getSelection(),n=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(e)&&Br(this.view)&&!this.ignoreSelectionChange(e),r=-1,i=-1,o=!1,s=[];if(this.view.editable)for(var a=0;a<t.length;a++){var u=this.registerMutation(t[a],s);u&&(r=r<0?u.from:Math.min(u.from,r),i=i<0?u.to:Math.max(u.to,i),u.typeOver&&(o=!0))}if(Ye.gecko&&s.length>1){var c=s.filter((function(t){return"BR"==t.nodeName}));if(2==c.length){var l=c[0],h=c[1];l.parentNode&&l.parentNode.parentNode==h.parentNode?h.remove():l.remove()}}(r>-1||n)&&(r>-1&&(this.view.docView.markDirty(r,i),Ni(this.view)),this.handleDOMChange(r,i,o,s),this.view.docView&&this.view.docView.dirty?this.view.updateState(this.view.state):this.currentSelection.eq(e)||Ir(this.view),this.currentSelection.set(e))}},Ii.prototype.registerMutation=function(t,e){if(e.indexOf(t.target)>-1)return null;var n=this.view.docView.nearestDesc(t.target);if("attributes"==t.type&&(n==this.view.docView||"contenteditable"==t.attributeName||"style"==t.attributeName&&!t.oldValue&&!t.target.getAttribute("style")))return null;if(!n||n.ignoreMutation(t))return null;if("childList"==t.type){for(var r=0;r<t.addedNodes.length;r++)e.push(t.addedNodes[r]);if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(t.target))return{from:n.posBefore,to:n.posAfter};var i=t.previousSibling,o=t.nextSibling;if(Ye.ie&&Ye.ie_version<=11&&t.addedNodes.length)for(var s=0;s<t.addedNodes.length;s++){var a=t.addedNodes[s],u=a.previousSibling,c=a.nextSibling;(!u||Array.prototype.indexOf.call(t.addedNodes,u)<0)&&(i=u),(!c||Array.prototype.indexOf.call(t.addedNodes,c)<0)&&(o=c)}var l=i&&i.parentNode==t.target?on(i)+1:0,h=n.localPosFromDOM(t.target,l,-1),f=o&&o.parentNode==t.target?on(o):t.target.childNodes.length,p=n.localPosFromDOM(t.target,f,1);return{from:h,to:p}}return"attributes"==t.type?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:{from:n.posAtStart,to:n.posAtEnd,typeOver:t.target.nodeValue==t.oldValue}};var Ai=!1;function Ni(t){Ai||(Ai=!0,"normal"==getComputedStyle(t.dom).whiteSpace&&console["warn"]("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."))}var Oi={},Di={};function Mi(t){t.shiftKey=!1,t.mouseDown=null,t.lastKeyCode=null,t.lastKeyCodeTime=0,t.lastClick={time:0,x:0,y:0,type:""},t.lastSelectionOrigin=null,t.lastSelectionTime=0,t.lastIOSEnter=0,t.lastIOSEnterFallbackTimeout=null,t.lastAndroidDelete=0,t.composing=!1,t.composingTimeout=null,t.compositionNodes=[],t.compositionEndedAt=-2e8,t.domObserver=new Ii(t,(function(e,n,r,i){return ii(t,e,n,r,i)})),t.domObserver.start(),t.domChangeCount=0,t.eventHandlers=Object.create(null);var e=function(e){var n=Oi[e];t.dom.addEventListener(e,t.eventHandlers[e]=function(e){!ji(t,e)||Fi(t,e)||!t.editable&&e.type in Di||n(t,e)})};for(var n in Oi)e(n);Ye.safari&&t.dom.addEventListener("input",(function(){return null})),Pi(t)}function Ri(t,e){t.lastSelectionOrigin=e,t.lastSelectionTime=Date.now()}function Li(t){for(var e in t.domObserver.stop(),t.eventHandlers)t.dom.removeEventListener(e,t.eventHandlers[e]);clearTimeout(t.composingTimeout),clearTimeout(t.lastIOSEnterFallbackTimeout)}function Pi(t){t.someProp("handleDOMEvents",(function(e){for(var n in e)t.eventHandlers[n]||t.dom.addEventListener(n,t.eventHandlers[n]=function(e){return Fi(t,e)})}))}function Fi(t,e){return t.someProp("handleDOMEvents",(function(n){var r=n[e.type];return!!r&&(r(t,e)||e.defaultPrevented)}))}function ji(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(var n=e.target;n!=t.dom;n=n.parentNode)if(!n||11==n.nodeType||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function Bi(t,e){Fi(t,e)||!Oi[e.type]||!t.editable&&e.type in Di||Oi[e.type](t,e)}function Vi(t){return{left:t.clientX,top:t.clientY}}function Ui(t,e){var n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function qi(t,e,n,r,i){if(-1==r)return!1;for(var o=t.state.doc.resolve(r),s=function(r){if(t.someProp(e,(function(e){return r>o.depth?e(t,n,o.nodeAfter,o.before(r),i,!0):e(t,n,o.node(r),o.before(r),i,!1)})))return{v:!0}},a=o.depth+1;a>0;a--){var u=s(a);if(u)return u.v}return!1}function Hi(t,e,n){t.focused||t.focus();var r=t.state.tr.setSelection(e);"pointer"==n&&r.setMeta("pointer",!0),t.dispatch(r)}function zi(t,e){if(-1==e)return!1;var n=t.state.doc.resolve(e),r=n.nodeAfter;return!!(r&&r.isAtom&&Ne.isSelectable(r))&&(Hi(t,new Ne(n),"pointer"),!0)}function $i(t,e){if(-1==e)return!1;var n,r,i=t.state.selection;i instanceof Ne&&(n=i.node);for(var o=t.state.doc.resolve(e),s=o.depth+1;s>0;s--){var a=s>o.depth?o.nodeAfter:o.node(s);if(Ne.isSelectable(a)){r=n&&i.$from.depth>0&&s>=i.$from.depth&&o.before(i.$from.depth+1)==i.$from.pos?o.before(i.$from.depth):o.before(s);break}}return null!=r&&(Hi(t,Ne.create(t.state.doc,r),"pointer"),!0)}function Gi(t,e,n,r,i){return qi(t,"handleClickOn",e,n,r)||t.someProp("handleClick",(function(n){return n(t,e,r)}))||(i?$i(t,n):zi(t,n))}function Wi(t,e,n,r){return qi(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",(function(n){return n(t,e,r)}))}function Ki(t,e,n,r){return qi(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",(function(n){return n(t,e,r)}))||Ji(t,n,r)}function Ji(t,e,n){if(0!=n.button)return!1;var r=t.state.doc;if(-1==e)return!!r.inlineContent&&(Hi(t,Ie.create(r,0,r.content.size),"pointer"),!0);for(var i=r.resolve(e),o=i.depth+1;o>0;o--){var s=o>i.depth?i.nodeAfter:i.node(o),a=i.before(o);if(s.inlineContent)Hi(t,Ie.create(r,a+1,a+1+s.content.size),"pointer");else{if(!Ne.isSelectable(s))continue;Hi(t,Ne.create(r,a),"pointer")}return!0}}function Xi(t){return io(t)}Di.keydown=function(t,e){if(t.shiftKey=16==e.keyCode||e.shiftKey,!Zi(t,e)&&(t.lastKeyCode=e.keyCode,t.lastKeyCodeTime=Date.now(),!Ye.android||!Ye.chrome||13!=e.keyCode))if(229!=e.keyCode&&t.domObserver.forceFlush(),!Ye.ios||13!=e.keyCode||e.ctrlKey||e.altKey||e.metaKey)t.someProp("handleKeyDown",(function(n){return n(t,e)}))||ei(t,e)?e.preventDefault():Ri(t,"key");else{var n=Date.now();t.lastIOSEnter=n,t.lastIOSEnterFallbackTimeout=setTimeout((function(){t.lastIOSEnter==n&&(t.someProp("handleKeyDown",(function(e){return e(t,vn(13,"Enter"))})),t.lastIOSEnter=0)}),200)}},Di.keyup=function(t,e){16==e.keyCode&&(t.shiftKey=!1)},Di.keypress=function(t,e){if(!(Zi(t,e)||!e.charCode||e.ctrlKey&&!e.altKey||Ye.mac&&e.metaKey))if(t.someProp("handleKeyPress",(function(n){return n(t,e)})))e.preventDefault();else{var n=t.state.selection;if(!(n instanceof Ie)||!n.$from.sameParent(n.$to)){var r=String.fromCharCode(e.charCode);t.someProp("handleTextInput",(function(e){return e(t,n.$from.pos,n.$to.pos,r)}))||t.dispatch(t.state.tr.insertText(r).scrollIntoView()),e.preventDefault()}}};var Qi=Ye.mac?"metaKey":"ctrlKey";Oi.mousedown=function(t,e){t.shiftKey=e.shiftKey;var n=Xi(t),r=Date.now(),i="singleClick";r-t.lastClick.time<500&&Ui(e,t.lastClick)&&!e[Qi]&&("singleClick"==t.lastClick.type?i="doubleClick":"doubleClick"==t.lastClick.type&&(i="tripleClick")),t.lastClick={time:r,x:e.clientX,y:e.clientY,type:i};var o=t.posAtCoords(Vi(e));o&&("singleClick"==i?(t.mouseDown&&t.mouseDown.done(),t.mouseDown=new Yi(t,o,e,n)):("doubleClick"==i?Wi:Ki)(t,o.pos,o.inside,e)?e.preventDefault():Ri(t,"pointer"))};var Yi=function(t,e,n,r){var i,o,s=this;if(this.view=t,this.startDoc=t.state.doc,this.pos=e,this.event=n,this.flushed=r,this.selectNode=n[Qi],this.allowDefault=n.shiftKey,this.delayedSelectionSync=!1,e.inside>-1)i=t.state.doc.nodeAt(e.inside),o=e.inside;else{var a=t.state.doc.resolve(e.pos);i=a.parent,o=a.depth?a.before():0}this.mightDrag=null;var u=r?null:n.target,c=u?t.docView.nearestDesc(u,!0):null;this.target=c?c.dom:null;var l=t.state,h=l.selection;(0==n.button&&i.type.spec.draggable&&!1!==i.type.spec.selectable||h instanceof Ne&&h.from<=o&&h.to>o)&&(this.mightDrag={node:i,pos:o,addAttr:this.target&&!this.target.draggable,setUneditable:this.target&&Ye.gecko&&!this.target.hasAttribute("contentEditable")}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout((function(){s.view.mouseDown==s&&s.target.setAttribute("contentEditable","false")}),20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),Ri(t,"pointer")};function Zi(t,e){return!!t.composing||!!(Ye.safari&&Math.abs(e.timeStamp-t.compositionEndedAt)<500)&&(t.compositionEndedAt=-2e8,!0)}Yi.prototype.done=function(){var t=this;this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout((function(){return Ir(t.view)})),this.view.mouseDown=null},Yi.prototype.up=function(t){if(this.done(),this.view.dom.contains(3==t.target.nodeType?t.target.parentNode:t.target)){var e=this.pos;this.view.state.doc!=this.startDoc&&(e=this.view.posAtCoords(Vi(t))),this.allowDefault||!e?Ri(this.view,"pointer"):Gi(this.view,e.pos,e.inside,t,this.selectNode)?t.preventDefault():0==t.button&&(this.flushed||Ye.safari&&this.mightDrag&&!this.mightDrag.node.isAtom||Ye.chrome&&!(this.view.state.selection instanceof Ie)&&Math.min(Math.abs(e.pos-this.view.state.selection.from),Math.abs(e.pos-this.view.state.selection.to))<=2)?(Hi(this.view,Ce.near(this.view.state.doc.resolve(e.pos)),"pointer"),t.preventDefault()):Ri(this.view,"pointer")}},Yi.prototype.move=function(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0),Ri(this.view,"pointer"),0==t.buttons&&this.done()},Oi.touchdown=function(t){Xi(t),Ri(t,"pointer")},Oi.contextmenu=function(t){return Xi(t)};var to=Ye.android?5e3:-1;function eo(t,e){clearTimeout(t.composingTimeout),e>-1&&(t.composingTimeout=setTimeout((function(){return io(t)}),e))}function no(t){t.composing&&(t.composing=!1,t.compositionEndedAt=ro());while(t.compositionNodes.length>0)t.compositionNodes.pop().markParentsDirty()}function ro(){var t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function io(t,e){if(!(Ye.android&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),no(t),e||t.docView&&t.docView.dirty){var n=xr(t);return n&&!n.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(n)):t.updateState(t.state),!0}return!1}}function oo(t,e){if(t.dom.parentNode){var n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";var r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout((function(){n.parentNode&&n.parentNode.removeChild(n),t.focus()}),50)}}Di.compositionstart=Di.compositionupdate=function(t){if(!t.composing){t.domObserver.flush();var e=t.state,n=e.selection.$from;if(e.selection.empty&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some((function(t){return!1===t.type.spec.inclusive}))))t.markCursor=t.state.storedMarks||n.marks(),io(t,!0),t.markCursor=null;else if(io(t),Ye.gecko&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length)for(var r=t.root.getSelection(),i=r.focusNode,o=r.focusOffset;i&&1==i.nodeType&&0!=o;){var s=o<0?i.lastChild:i.childNodes[o-1];if(!s)break;if(3==s.nodeType){r.collapse(s,s.nodeValue.length);break}i=s,o=-1}t.composing=!0}eo(t,to)},Di.compositionend=function(t,e){t.composing&&(t.composing=!1,t.compositionEndedAt=e.timeStamp,eo(t,20))};var so=Ye.ie&&Ye.ie_version<15||Ye.ios&&Ye.webkit_version<604;function ao(t){return 0==t.openStart&&0==t.openEnd&&1==t.content.childCount?t.content.firstChild:null}function uo(t,e){if(t.dom.parentNode){var n=t.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus(),setTimeout((function(){t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?co(t,r.value,null,e):co(t,r.textContent,r.innerHTML,e)}),50)}}function co(t,e,n,r){var i=hi(t,e,n,t.shiftKey,t.state.selection.$from);if(t.someProp("handlePaste",(function(e){return e(t,r,i||m.empty)})))return!0;if(!i)return!1;var o=ao(i),s=o?t.state.tr.replaceSelectionWith(o,t.shiftKey):t.state.tr.replaceSelection(i);return t.dispatch(s.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}Oi.copy=Di.cut=function(t,e){var n=t.state.selection,r="cut"==e.type;if(!n.empty){var i=so?null:e.clipboardData,o=n.content(),s=li(t,o),a=s.dom,u=s.text;i?(e.preventDefault(),i.clearData(),i.setData("text/html",a.innerHTML),i.setData("text/plain",u)):oo(t,a),r&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))}},Di.paste=function(t,e){if(!t.composing||Ye.android){var n=so?null:e.clipboardData;n&&co(t,n.getData("text/plain"),n.getData("text/html"),e)?e.preventDefault():uo(t,e)}};var lo=function(t,e){this.slice=t,this.move=e},ho=Ye.mac?"altKey":"ctrlKey";for(var fo in Oi.dragstart=function(t,e){var n=t.mouseDown;if(n&&n.done(),e.dataTransfer){var r=t.state.selection,i=r.empty?null:t.posAtCoords(Vi(e));if(i&&i.pos>=r.from&&i.pos<=(r instanceof Ne?r.to-1:r.to));else if(n&&n.mightDrag)t.dispatch(t.state.tr.setSelection(Ne.create(t.state.doc,n.mightDrag.pos)));else if(e.target&&1==e.target.nodeType){var o=t.docView.nearestDesc(e.target,!0);o&&o.node.type.spec.draggable&&o!=t.docView&&t.dispatch(t.state.tr.setSelection(Ne.create(t.state.doc,o.posBefore)))}var s=t.state.selection.content(),a=li(t,s),u=a.dom,c=a.text;e.dataTransfer.clearData(),e.dataTransfer.setData(so?"Text":"text/html",u.innerHTML),e.dataTransfer.effectAllowed="copyMove",so||e.dataTransfer.setData("text/plain",c),t.dragging=new lo(s,!e[ho])}},Oi.dragend=function(t){var e=t.dragging;window.setTimeout((function(){t.dragging==e&&(t.dragging=null)}),50)},Di.dragover=Di.dragenter=function(t,e){return e.preventDefault()},Di.drop=function(t,e){var n=t.dragging;if(t.dragging=null,e.dataTransfer){var r=t.posAtCoords(Vi(e));if(r){var i=t.state.doc.resolve(r.pos);if(i){var o=n&&n.slice;o?t.someProp("transformPasted",(function(t){o=t(o)})):o=hi(t,e.dataTransfer.getData(so?"Text":"text/plain"),so?null:e.dataTransfer.getData("text/html"),!1,i);var s=n&&!e[ho];if(t.someProp("handleDrop",(function(n){return n(t,e,o||m.empty,s)})))e.preventDefault();else if(o){e.preventDefault();var a=o?ue(t.state.doc,i.pos,o):i.pos;null==a&&(a=i.pos);var u=t.state.tr;s&&u.deleteSelection();var c=u.mapping.map(a),l=0==o.openStart&&0==o.openEnd&&1==o.content.childCount,h=u.doc;if(l?u.replaceRangeWith(c,c,o.content.firstChild):u.replaceRange(c,c,o),!u.doc.eq(h)){var f=u.doc.resolve(c);if(l&&Ne.isSelectable(o.content.firstChild)&&f.nodeAfter&&f.nodeAfter.sameMarkup(o.content.firstChild))u.setSelection(new Ne(f));else{var p=u.mapping.map(a);u.mapping.maps[u.mapping.maps.length-1].forEach((function(t,e,n,r){return p=r})),u.setSelection(Fr(t,f,u.doc.resolve(p)))}t.focus(),t.dispatch(u.setMeta("uiEvent","drop"))}}}}}},Oi.focus=function(t){t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout((function(){t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.root.getSelection())&&Ir(t)}),20))},Oi.blur=function(t,e){t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),e.relatedTarget&&t.dom.contains(e.relatedTarget)&&t.domObserver.currentSelection.set({}),t.focused=!1)},Oi.beforeinput=function(t,e){if(Ye.chrome&&Ye.android&&"deleteContentBackward"==e.inputType){t.domObserver.flushSoon();var n=t.domChangeCount;setTimeout((function(){if(t.domChangeCount==n&&(t.dom.blur(),t.focus(),!t.someProp("handleKeyDown",(function(e){return e(t,vn(8,"Backspace"))})))){var e=t.state.selection,r=e.$cursor;r&&r.pos>0&&t.dispatch(t.state.tr.delete(r.pos-1,r.pos).scrollIntoView())}}),50)}},Di)Oi[fo]=Di[fo];function po(t,e){if(t==e)return!0;for(var n in t)if(t[n]!==e[n])return!1;for(var r in e)if(!(r in t))return!1;return!0}var mo=function(t,e){this.spec=e||ko,this.side=this.spec.side||0,this.toDOM=t};mo.prototype.map=function(t,e,n,r){var i=t.mapResult(e.from+r,this.side<0?-1:1),o=i.pos,s=i.deleted;return s?null:new yo(o-n,o-n,this)},mo.prototype.valid=function(){return!0},mo.prototype.eq=function(t){return this==t||t instanceof mo&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&po(this.spec,t.spec))},mo.prototype.destroy=function(t){this.spec.destroy&&this.spec.destroy(t)};var vo=function(t,e){this.spec=e||ko,this.attrs=t};vo.prototype.map=function(t,e,n,r){var i=t.map(e.from+r,this.spec.inclusiveStart?-1:1)-n,o=t.map(e.to+r,this.spec.inclusiveEnd?1:-1)-n;return i>=o?null:new yo(i,o,this)},vo.prototype.valid=function(t,e){return e.from<e.to},vo.prototype.eq=function(t){return this==t||t instanceof vo&&po(this.attrs,t.attrs)&&po(this.spec,t.spec)},vo.is=function(t){return t.type instanceof vo};var go=function(t,e){this.spec=e||ko,this.attrs=t};go.prototype.map=function(t,e,n,r){var i=t.mapResult(e.from+r,1);if(i.deleted)return null;var o=t.mapResult(e.to+r,-1);return o.deleted||o.pos<=i.pos?null:new yo(i.pos-n,o.pos-n,this)},go.prototype.valid=function(t,e){var n,r=t.content.findIndex(e.from),i=r.index,o=r.offset;return o==e.from&&!(n=t.child(i)).isText&&o+n.nodeSize==e.to},go.prototype.eq=function(t){return this==t||t instanceof go&&po(this.attrs,t.attrs)&&po(this.spec,t.spec)};var yo=function(t,e,n){this.from=t,this.to=e,this.type=n},bo={spec:{configurable:!0},inline:{configurable:!0}};yo.prototype.copy=function(t,e){return new yo(t,e,this.type)},yo.prototype.eq=function(t,e){return void 0===e&&(e=0),this.type.eq(t.type)&&this.from+e==t.from&&this.to+e==t.to},yo.prototype.map=function(t,e,n){return this.type.map(t,this,e,n)},yo.widget=function(t,e,n){return new yo(t,t,new mo(e,n))},yo.inline=function(t,e,n,r){return new yo(t,e,new vo(n,r))},yo.node=function(t,e,n,r){return new yo(t,e,new go(n,r))},bo.spec.get=function(){return this.type.spec},bo.inline.get=function(){return this.type instanceof vo},Object.defineProperties(yo.prototype,bo);var wo=[],ko={},_o=function(t,e){this.local=t&&t.length?t:wo,this.children=e&&e.length?e:wo};_o.create=function(t,e){return e.length?No(e,t,0,ko):To},_o.prototype.find=function(t,e,n){var r=[];return this.findInner(null==t?0:t,null==e?1e9:e,r,0,n),r},_o.prototype.findInner=function(t,e,n,r,i){for(var o=0;o<this.local.length;o++){var s=this.local[o];s.from<=e&&s.to>=t&&(!i||i(s.spec))&&n.push(s.copy(s.from+r,s.to+r))}for(var a=0;a<this.children.length;a+=3)if(this.children[a]<e&&this.children[a+1]>t){var u=this.children[a]+1;this.children[a+2].findInner(t-u,e-u,n,r+u,i)}},_o.prototype.map=function(t,e,n){return this==To||0==t.maps.length?this:this.mapInner(t,e,0,0,n||ko)},_o.prototype.mapInner=function(t,e,n,r,i){for(var o,s=0;s<this.local.length;s++){var a=this.local[s].map(t,n,r);a&&a.type.valid(e,a)?(o||(o=[])).push(a):i.onRemove&&i.onRemove(this.local[s].spec)}return this.children.length?Co(this.children,o,t,e,n,r,i):o?new _o(o.sort(Oo)):To},_o.prototype.add=function(t,e){return e.length?this==To?_o.create(t,e):this.addInner(t,e,0):this},_o.prototype.addInner=function(t,e,n){var r,i=this,o=0;t.forEach((function(t,s){var a,u=s+n;if(a=Io(e,t,u)){r||(r=i.children.slice());while(o<r.length&&r[o]<s)o+=3;r[o]==s?r[o+2]=r[o+2].addInner(t,a,u+1):r.splice(o,0,s,s+t.nodeSize,No(a,t,u+1,ko)),o+=3}}));for(var s=xo(o?Ao(e):e,-n),a=0;a<s.length;a++)s[a].type.valid(t,s[a])||s.splice(a--,1);return new _o(s.length?this.local.concat(s).sort(Oo):this.local,r||this.children)},_o.prototype.remove=function(t){return 0==t.length||this==To?this:this.removeInner(t,0)},_o.prototype.removeInner=function(t,e){for(var n=this.children,r=this.local,i=0;i<n.length;i+=3){for(var o=void 0,s=n[i]+e,a=n[i+1]+e,u=0,c=void 0;u<t.length;u++)(c=t[u])&&c.from>s&&c.to<a&&(t[u]=null,(o||(o=[])).push(c));if(o){n==this.children&&(n=this.children.slice());var l=n[i+2].removeInner(o,s+1);l!=To?n[i+2]=l:(n.splice(i,3),i-=3)}}if(r.length)for(var h=0,f=void 0;h<t.length;h++)if(f=t[h])for(var p=0;p<r.length;p++)r[p].eq(f,e)&&(r==this.local&&(r=this.local.slice()),r.splice(p--,1));return n==this.children&&r==this.local?this:r.length||n.length?new _o(r,n):To},_o.prototype.forChild=function(t,e){if(this==To)return this;if(e.isLeaf)return _o.empty;for(var n,r,i=0;i<this.children.length;i+=3)if(this.children[i]>=t){this.children[i]==t&&(n=this.children[i+2]);break}for(var o=t+1,s=o+e.content.size,a=0;a<this.local.length;a++){var u=this.local[a];if(u.from<s&&u.to>o&&u.type instanceof vo){var c=Math.max(o,u.from)-o,l=Math.min(s,u.to)-o;c<l&&(r||(r=[])).push(u.copy(c,l))}}if(r){var h=new _o(r.sort(Oo));return n?new Eo([h,n]):h}return n||To},_o.prototype.eq=function(t){if(this==t)return!0;if(!(t instanceof _o)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(var e=0;e<this.local.length;e++)if(!this.local[e].eq(t.local[e]))return!1;for(var n=0;n<this.children.length;n+=3)if(this.children[n]!=t.children[n]||this.children[n+1]!=t.children[n+1]||!this.children[n+2].eq(t.children[n+2]))return!1;return!0},_o.prototype.locals=function(t){return Do(this.localsInner(t))},_o.prototype.localsInner=function(t){if(this==To)return wo;if(t.inlineContent||!this.local.some(vo.is))return this.local;for(var e=[],n=0;n<this.local.length;n++)this.local[n].type instanceof vo||e.push(this.local[n]);return e};var To=new _o;_o.empty=To,_o.removeOverlap=Do;var Eo=function(t){this.members=t};function Co(t,e,n,r,i,o,s){for(var a=t.slice(),u=function(t,e,n,r){for(var s=0;s<a.length;s+=3){var u=a[s+1],c=void 0;-1==u||t>u+o||(e>=a[s]+o?a[s+1]=-1:n>=i&&(c=r-n-(e-t))&&(a[s]+=c,a[s+1]+=c))}},c=0;c<n.maps.length;c++)n.maps[c].forEach(u);for(var l=!1,h=0;h<a.length;h+=3)if(-1==a[h+1]){var f=n.map(t[h]+o),p=f-i;if(p<0||p>=r.content.size){l=!0;continue}var d=n.map(t[h+1]+o,-1),m=d-i,v=r.content.findIndex(p),g=v.index,y=v.offset,b=r.maybeChild(g);if(b&&y==p&&y+b.nodeSize==m){var w=a[h+2].mapInner(n,b,f+1,t[h]+o+1,s);w!=To?(a[h]=p,a[h+1]=m,a[h+2]=w):(a[h+1]=-2,l=!0)}else l=!0}if(l){var k=So(a,t,e||[],n,i,o,s),_=No(k,r,0,s);e=_.local;for(var T=0;T<a.length;T+=3)a[T+1]<0&&(a.splice(T,3),T-=3);for(var E=0,C=0;E<_.children.length;E+=3){var x=_.children[E];while(C<a.length&&a[C]<x)C+=3;a.splice(C,0,_.children[E],_.children[E+1],_.children[E+2])}}return new _o(e&&e.sort(Oo),a)}function xo(t,e){if(!e||!t.length)return t;for(var n=[],r=0;r<t.length;r++){var i=t[r];n.push(new yo(i.from+e,i.to+e,i.type))}return n}function So(t,e,n,r,i,o,s){function a(t,e){for(var o=0;o<t.local.length;o++){var u=t.local[o].map(r,i,e);u?n.push(u):s.onRemove&&s.onRemove(t.local[o].spec)}for(var c=0;c<t.children.length;c+=3)a(t.children[c+2],t.children[c]+e+1)}for(var u=0;u<t.length;u+=3)-1==t[u+1]&&a(t[u+2],e[u]+o+1);return n}function Io(t,e,n){if(e.isLeaf)return null;for(var r=n+e.nodeSize,i=null,o=0,s=void 0;o<t.length;o++)(s=t[o])&&s.from>n&&s.to<r&&((i||(i=[])).push(s),t[o]=null);return i}function Ao(t){for(var e=[],n=0;n<t.length;n++)null!=t[n]&&e.push(t[n]);return e}function No(t,e,n,r){var i=[],o=!1;e.forEach((function(e,s){var a=Io(t,e,s+n);if(a){o=!0;var u=No(a,e,n+s+1,r);u!=To&&i.push(s,s+e.nodeSize,u)}}));for(var s=xo(o?Ao(t):t,-n).sort(Oo),a=0;a<s.length;a++)s[a].type.valid(e,s[a])||(r.onRemove&&r.onRemove(s[a].spec),s.splice(a--,1));return s.length||i.length?new _o(s,i):To}function Oo(t,e){return t.from-e.from||t.to-e.to}function Do(t){for(var e=t,n=0;n<e.length-1;n++){var r=e[n];if(r.from!=r.to)for(var i=n+1;i<e.length;i++){var o=e[i];if(o.from!=r.from){o.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,o.from),Mo(e,i,r.copy(o.from,r.to)));break}o.to!=r.to&&(e==t&&(e=t.slice()),e[i]=o.copy(o.from,r.to),Mo(e,i+1,o.copy(r.to,o.to)))}}return e}function Mo(t,e,n){while(e<t.length&&Oo(n,t[e])>0)e++;t.splice(e,0,n)}function Ro(t){var e=[];return t.someProp("decorations",(function(n){var r=n(t.state);r&&r!=To&&e.push(r)})),t.cursorWrapper&&e.push(_o.create(t.state.doc,[t.cursorWrapper.deco])),Eo.from(e)}Eo.prototype.map=function(t,e){var n=this.members.map((function(n){return n.map(t,e,ko)}));return Eo.from(n)},Eo.prototype.forChild=function(t,e){if(e.isLeaf)return _o.empty;for(var n=[],r=0;r<this.members.length;r++){var i=this.members[r].forChild(t,e);i!=To&&(i instanceof Eo?n=n.concat(i.members):n.push(i))}return Eo.from(n)},Eo.prototype.eq=function(t){if(!(t instanceof Eo)||t.members.length!=this.members.length)return!1;for(var e=0;e<this.members.length;e++)if(!this.members[e].eq(t.members[e]))return!1;return!0},Eo.prototype.locals=function(t){for(var e,n=!0,r=0;r<this.members.length;r++){var i=this.members[r].localsInner(t);if(i.length)if(e){n&&(e=e.slice(),n=!1);for(var o=0;o<i.length;o++)e.push(i[o])}else e=i}return e?Do(n?e:e.sort(Oo)):wo},Eo.from=function(t){switch(t.length){case 0:return To;case 1:return t[0];default:return new Eo(t)}};var Lo=function(t,e){this._props=e,this.state=e.state,this.directPlugins=e.plugins||[],this.directPlugins.forEach(Ho),this.dispatch=this.dispatch.bind(this),this._root=null,this.focused=!1,this.trackWrites=null,this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):t.apply?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=Bo(this),this.markCursor=null,this.cursorWrapper=null,jo(this),this.nodeViews=Uo(this),this.docView=or(this.state.doc,Fo(this),Ro(this),this.dom,this),this.lastSelectedViewDesc=null,this.dragging=null,Mi(this),this.prevDirectPlugins=[],this.pluginViews=[],this.updatePluginViews()},Po={props:{configurable:!0},root:{configurable:!0},isDestroyed:{configurable:!0}};function Fo(t){var e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),e.translate="no",t.someProp("attributes",(function(n){if("function"==typeof n&&(n=n(t.state)),n)for(var r in n)"class"==r&&(e.class+=" "+n[r]),"style"==r?e.style=(e.style?e.style+";":"")+n[r]:e[r]||"contenteditable"==r||"nodeName"==r||(e[r]=String(n[r]))})),[yo.node(0,t.state.doc.content.size,e)]}function jo(t){if(t.markCursor){var e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),t.cursorWrapper={dom:e,deco:yo.widget(t.state.selection.head,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function Bo(t){return!t.someProp("editable",(function(e){return!1===e(t.state)}))}function Vo(t,e){var n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function Uo(t){var e={};return t.someProp("nodeViews",(function(t){for(var n in t)Object.prototype.hasOwnProperty.call(e,n)||(e[n]=t[n])})),e}function qo(t,e){var n=0,r=0;for(var i in t){if(t[i]!=e[i])return!0;n++}for(var o in e)r++;return n!=r}function Ho(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}Po.props.get=function(){if(this._props.state!=this.state){var t=this._props;for(var e in this._props={},t)this._props[e]=t[e];this._props.state=this.state}return this._props},Lo.prototype.update=function(t){t.handleDOMEvents!=this._props.handleDOMEvents&&Pi(this),this._props=t,t.plugins&&(t.plugins.forEach(Ho),this.directPlugins=t.plugins),this.updateStateInner(t.state,!0)},Lo.prototype.setProps=function(t){var e={};for(var n in this._props)e[n]=this._props[n];for(var r in e.state=this.state,t)e[r]=t[r];this.update(e)},Lo.prototype.updateState=function(t){this.updateStateInner(t,this.state.plugins!=t.plugins)},Lo.prototype.updateStateInner=function(t,e){var n=this,r=this.state,i=!1,o=!1;if(t.storedMarks&&this.composing&&(no(this),o=!0),this.state=t,e){var s=Uo(this);qo(s,this.nodeViews)&&(this.nodeViews=s,i=!0),Pi(this)}this.editable=Bo(this),jo(this);var a=Ro(this),u=Fo(this),c=e?"reset":t.scrollToSelection>r.scrollToSelection?"to selection":"preserve",l=i||!this.docView.matchesNode(t.doc,u,a);!l&&t.selection.eq(r.selection)||(o=!0);var h="preserve"==c&&o&&null==this.dom.style.overflowAnchor&&kn(this);if(o){this.domObserver.stop();var f=l&&(Ye.ie||Ye.chrome)&&!this.composing&&!r.selection.empty&&!t.selection.empty&&Vo(r.selection,t.selection);if(l){var p=Ye.chrome?this.trackWrites=this.root.getSelection().focusNode:null;!i&&this.docView.update(t.doc,u,a,this)||(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=or(t.doc,u,a,this.dom,this)),p&&!this.trackWrites&&(f=!0)}f||!(this.mouseDown&&this.domObserver.currentSelection.eq(this.root.getSelection())&&Vr(this))?Ir(this,f):(Lr(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}if(this.updatePluginViews(r),"reset"==c)this.dom.scrollTop=0;else if("to selection"==c){var d=this.root.getSelection().focusNode;this.someProp("handleScrollToSelection",(function(t){return t(n)}))||(t.selection instanceof Ne?wn(this,this.docView.domAfterPos(t.selection.from).getBoundingClientRect(),d):wn(this,this.coordsAtPos(t.selection.head,1),d))}else h&&Tn(h)},Lo.prototype.destroyPluginViews=function(){var t;while(t=this.pluginViews.pop())t.destroy&&t.destroy()},Lo.prototype.updatePluginViews=function(t){if(t&&t.plugins==this.state.plugins&&this.directPlugins==this.prevDirectPlugins)for(var e=0;e<this.pluginViews.length;e++){var n=this.pluginViews[e];n.update&&n.update(this,t)}else{this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(var r=0;r<this.directPlugins.length;r++){var i=this.directPlugins[r];i.spec.view&&this.pluginViews.push(i.spec.view(this))}for(var o=0;o<this.state.plugins.length;o++){var s=this.state.plugins[o];s.spec.view&&this.pluginViews.push(s.spec.view(this))}}},Lo.prototype.someProp=function(t,e){var n,r=this._props&&this._props[t];if(null!=r&&(n=e?e(r):r))return n;for(var i=0;i<this.directPlugins.length;i++){var o=this.directPlugins[i].props[t];if(null!=o&&(n=e?e(o):o))return n}var s=this.state.plugins;if(s)for(var a=0;a<s.length;a++){var u=s[a].props[t];if(null!=u&&(n=e?e(u):u))return n}},Lo.prototype.hasFocus=function(){return this.root.activeElement==this.dom},Lo.prototype.focus=function(){this.domObserver.stop(),this.editable&&xn(this.dom),Ir(this),this.domObserver.start()},Po.root.get=function(){var t=this._root;if(null==t)for(var e=this.dom.parentNode;e;e=e.parentNode)if(9==e.nodeType||11==e.nodeType&&e.host)return e.getSelection||(Object.getPrototypeOf(e).getSelection=function(){return document.getSelection()}),this._root=e;return t||document},Lo.prototype.posAtCoords=function(t){return Rn(this,t)},Lo.prototype.coordsAtPos=function(t,e){return void 0===e&&(e=1),Fn(this,t,e)},Lo.prototype.domAtPos=function(t,e){return void 0===e&&(e=0),this.docView.domFromPos(t,e)},Lo.prototype.nodeDOM=function(t){var e=this.docView.descAt(t);return e?e.nodeDOM:null},Lo.prototype.posAtDOM=function(t,e,n){void 0===n&&(n=-1);var r=this.docView.posFromDOM(t,e,n);if(null==r)throw new RangeError("DOM position not inside the editor");return r},Lo.prototype.endOfTextblock=function(t,e){return Wn(this,e||this.state,t)},Lo.prototype.destroy=function(){this.docView&&(Li(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Ro(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)},Po.isDestroyed.get=function(){return null==this.docView},Lo.prototype.dispatchEvent=function(t){return Bi(this,t)},Lo.prototype.dispatch=function(t){var e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))},Object.defineProperties(Lo.prototype,Po);for(var zo={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},$o={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"},Go="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent),Wo="undefined"!=typeof navigator&&/Apple Computer/.test(navigator.vendor),Ko="undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent),Jo="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),Xo="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),Qo=Go&&(Jo||+Go[1]<57)||Ko&&Jo,Yo=0;Yo<10;Yo++)zo[48+Yo]=zo[96+Yo]=String(Yo);for(Yo=1;Yo<=24;Yo++)zo[Yo+111]="F"+Yo;for(Yo=65;Yo<=90;Yo++)zo[Yo]=String.fromCharCode(Yo+32),$o[Yo]=String.fromCharCode(Yo);for(var Zo in zo)$o.hasOwnProperty(Zo)||($o[Zo]=zo[Zo]);function ts(t){var e=Qo&&(t.ctrlKey||t.altKey||t.metaKey)||(Wo||Xo)&&t.shiftKey&&t.key&&1==t.key.length,n=!e&&t.key||(t.shiftKey?$o:zo)[t.keyCode]||t.key||"Unidentified";return"Esc"==n&&(n="Escape"),"Del"==n&&(n="Delete"),"Left"==n&&(n="ArrowLeft"),"Up"==n&&(n="ArrowUp"),"Right"==n&&(n="ArrowRight"),"Down"==n&&(n="ArrowDown"),n}var es="undefined"!=typeof navigator&&/Mac|iP(hone|[oa]d)/.test(navigator.platform);function ns(t){var e,n,r,i,o=t.split(/-(?!$)/),s=o[o.length-1];"Space"==s&&(s=" ");for(var a=0;a<o.length-1;a++){var u=o[a];if(/^(cmd|meta|m)$/i.test(u))i=!0;else if(/^a(lt)?$/i.test(u))e=!0;else if(/^(c|ctrl|control)$/i.test(u))n=!0;else if(/^s(hift)?$/i.test(u))r=!0;else{if(!/^mod$/i.test(u))throw new Error("Unrecognized modifier name: "+u);es?i=!0:n=!0}}return e&&(s="Alt-"+s),n&&(s="Ctrl-"+s),i&&(s="Meta-"+s),r&&(s="Shift-"+s),s}function rs(t){var e=Object.create(null);for(var n in t)e[ns(n)]=t[n];return e}function is(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),!1!==n&&e.shiftKey&&(t="Shift-"+t),t}function ss(t){return new Ke({props:{handleKeyDown:as(t)}})}function as(t){var e=rs(t);return function(t,n){var r,i=ts(n),o=1==i.length&&" "!=i,s=e[is(i,n,!o)];if(s&&s(t.state,t.dispatch,t))return!0;if(o&&(n.shiftKey||n.altKey||n.metaKey||i.charCodeAt(0)>127)&&(r=zo[n.keyCode])&&r!=i){var a=e[is(r,n,!0)];if(a&&a(t.state,t.dispatch,t))return!0}else if(o&&n.shiftKey){var u=e[is(i,n,!0)];if(u&&u(t.state,t.dispatch,t))return!0}return!1}}function us(t,e){return!t.selection.empty&&(e&&e(t.tr.deleteSelection().scrollIntoView()),!0)}function cs(t,e,n){var r=t.selection,i=r.$cursor;if(!i||(n?!n.endOfTextblock("backward",t):i.parentOffset>0))return!1;var o=fs(i);if(!o){var s=i.blockRange(),a=s&&Yt(s);return null!=a&&(e&&e(t.tr.lift(s,a).scrollIntoView()),!0)}var u=o.nodeBefore;if(!u.type.spec.isolating&&Es(t,o,e))return!0;if(0==i.parent.content.size&&(ls(u,"end")||Ne.isSelectable(u))){var c=fe(t.doc,i.before(),i.after(),m.empty);if(c.slice.size<c.to-c.from){if(e){var l=t.tr.step(c);l.setSelection(ls(u,"end")?Ce.findFrom(l.doc.resolve(l.mapping.map(o.pos,-1)),-1):Ne.create(l.doc,o.pos-u.nodeSize)),e(l.scrollIntoView())}return!0}}return!(!u.isAtom||o.depth!=i.depth-1)&&(e&&e(t.tr.delete(o.pos-u.nodeSize,o.pos).scrollIntoView()),!0)}function ls(t,e,n){for(;t;t="start"==e?t.firstChild:t.lastChild){if(t.isTextblock)return!0;if(n&&1!=t.childCount)return!1}return!1}function hs(t,e,n){var r=t.selection,i=r.$head,o=r.empty,s=i;if(!o)return!1;if(i.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):i.parentOffset>0)return!1;s=fs(i)}var a=s&&s.nodeBefore;return!(!a||!Ne.isSelectable(a))&&(e&&e(t.tr.setSelection(Ne.create(t.doc,s.pos-a.nodeSize)).scrollIntoView()),!0)}function fs(t){if(!t.parent.type.spec.isolating)for(var e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function ps(t,e,n){var r=t.selection,i=r.$cursor;if(!i||(n?!n.endOfTextblock("forward",t):i.parentOffset<i.parent.content.size))return!1;var o=ms(i);if(!o)return!1;var s=o.nodeAfter;if(Es(t,o,e))return!0;if(0==i.parent.content.size&&(ls(s,"start")||Ne.isSelectable(s))){var a=fe(t.doc,i.before(),i.after(),m.empty);if(a.slice.size<a.to-a.from){if(e){var u=t.tr.step(a);u.setSelection(ls(s,"start")?Ce.findFrom(u.doc.resolve(u.mapping.map(o.pos)),1):Ne.create(u.doc,u.mapping.map(o.pos))),e(u.scrollIntoView())}return!0}}return!(!s.isAtom||o.depth!=i.depth-1)&&(e&&e(t.tr.delete(o.pos,o.pos+s.nodeSize).scrollIntoView()),!0)}function ds(t,e,n){var r=t.selection,i=r.$head,o=r.empty,s=i;if(!o)return!1;if(i.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):i.parentOffset<i.parent.content.size)return!1;s=ms(i)}var a=s&&s.nodeAfter;return!(!a||!Ne.isSelectable(a))&&(e&&e(t.tr.setSelection(Ne.create(t.doc,s.pos)).scrollIntoView()),!0)}function ms(t){if(!t.parent.type.spec.isolating)for(var e=t.depth-1;e>=0;e--){var n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}function vs(t,e){var n=t.selection,r=n.$head,i=n.$anchor;return!(!r.parent.type.spec.code||!r.sameParent(i))&&(e&&e(t.tr.insertText("\n").scrollIntoView()),!0)}function gs(t){for(var e=0;e<t.edgeCount;e++){var n=t.edge(e),r=n.type;if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}function ys(t,e){var n=t.selection,r=n.$head,i=n.$anchor;if(!r.parent.type.spec.code||!r.sameParent(i))return!1;var o=r.node(-1),s=r.indexAfter(-1),a=gs(o.contentMatchAt(s));if(!o.canReplaceWith(s,s,a))return!1;if(e){var u=r.after(),c=t.tr.replaceWith(u,u,a.createAndFill());c.setSelection(Ce.near(c.doc.resolve(u),1)),e(c.scrollIntoView())}return!0}function bs(t,e){var n=t.selection,r=n.$from,i=n.$to;if(n instanceof De||r.parent.inlineContent||i.parent.inlineContent)return!1;var o=gs(i.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return!1;if(e){var s=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,a=t.tr.insert(s,o.createAndFill());a.setSelection(Ie.create(a.doc,s+1)),e(a.scrollIntoView())}return!0}function ws(t,e){var n=t.selection,r=n.$cursor;if(!r||r.parent.content.size)return!1;if(r.depth>1&&r.after()!=r.end(-1)){var i=r.before();if(ie(t.doc,i))return e&&e(t.tr.split(i).scrollIntoView()),!0}var o=r.blockRange(),s=o&&Yt(o);return null!=s&&(e&&e(t.tr.lift(o,s).scrollIntoView()),!0)}function ks(t,e){var n=t.selection,r=n.$from,i=n.$to;if(t.selection instanceof Ne&&t.selection.node.isBlock)return!(!r.parentOffset||!ie(t.doc,r.pos))&&(e&&e(t.tr.split(r.pos).scrollIntoView()),!0);if(!r.parent.isBlock)return!1;if(e){var o=i.parentOffset==i.parent.content.size,s=t.tr;(t.selection instanceof Ie||t.selection instanceof De)&&s.deleteSelection();var a=0==r.depth?null:gs(r.node(-1).contentMatchAt(r.indexAfter(-1))),u=o&&a?[{type:a}]:null,c=ie(s.doc,s.mapping.map(r.pos),1,u);if(u||c||!ie(s.doc,s.mapping.map(r.pos),1,a&&[{type:a}])||(u=[{type:a}],c=!0),c&&(s.split(s.mapping.map(r.pos),1,u),!o&&!r.parentOffset&&r.parent.type!=a)){var l=s.mapping.map(r.before()),h=s.doc.resolve(l);r.node(-1).canReplaceWith(h.index(),h.index()+1,a)&&s.setNodeMarkup(s.mapping.map(r.before()),a)}e(s.scrollIntoView())}return!0}function _s(t,e){return e&&e(t.tr.setSelection(new De(t.doc))),!0}function Ts(t,e,n){var r=e.nodeBefore,i=e.nodeAfter,o=e.index();return!!(r&&i&&r.type.compatibleContent(i.type))&&(!r.content.size&&e.parent.canReplace(o-1,o)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!(!e.parent.canReplace(o,o+1)||!i.isTextblock&&!oe(t.doc,e.pos))&&(n&&n(t.tr.clearIncompatible(e.pos,r.type,r.contentMatchAt(r.childCount)).join(e.pos).scrollIntoView()),!0))}function Es(t,e,n){var r,i,o=e.nodeBefore,s=e.nodeAfter;if(o.type.spec.isolating||s.type.spec.isolating)return!1;if(Ts(t,e,n))return!0;var a=e.parent.canReplace(e.index(),e.index()+1);if(a&&(r=(i=o.contentMatchAt(o.childCount)).findWrapping(s.type))&&i.matchType(r[0]||s.type).validEnd){if(n){for(var c=e.pos+s.nodeSize,l=u.empty,h=r.length-1;h>=0;h--)l=u.from(r[h].create(null,l));l=u.from(o.copy(l));var f=t.tr.step(new Jt(e.pos-1,c,e.pos,c,new m(l,1,0),r.length,!0)),p=c+2*r.length;oe(f.doc,p)&&f.join(p),n(f.scrollIntoView())}return!0}var d=Ce.findFrom(e,1),v=d&&d.$from.blockRange(d.$to),g=v&&Yt(v);if(null!=g&&g>=e.depth)return n&&n(t.tr.lift(v,g).scrollIntoView()),!0;if(a&&ls(s,"start",!0)&&ls(o,"end")){for(var y=o,b=[];;){if(b.push(y),y.isTextblock)break;y=y.lastChild}for(var w=s,k=1;!w.isTextblock;w=w.firstChild)k++;if(y.canReplace(y.childCount,y.childCount,w.content)){if(n){for(var _=u.empty,T=b.length-1;T>=0;T--)_=u.from(b[T].copy(_));var E=t.tr.step(new Jt(e.pos-b.length,e.pos+s.nodeSize,e.pos+k,e.pos+s.nodeSize-k,new m(_,b.length,0),0,!0));n(E.scrollIntoView())}return!0}}return!1}function Cs(t){return function(e,n){var r=e.selection,i=t<0?r.$from:r.$to,o=i.depth;while(i.node(o).isInline){if(!o)return!1;o--}return!!i.node(o).isTextblock&&(n&&n(e.tr.setSelection(Ie.create(e.doc,t<0?i.start(o):i.end(o)))),!0)}}var xs=Cs(-1),Ss=Cs(1);function Is(t,e){return function(n,r){var i=n.selection,o=i.$from,s=i.$to,a=o.blockRange(s),u=a&&Zt(a,t,e);return!!u&&(r&&r(n.tr.wrap(a,u).scrollIntoView()),!0)}}function As(t,e){return function(n,r){var i=n.selection,o=i.from,s=i.to,a=!1;return n.doc.nodesBetween(o,s,(function(r,i){if(a)return!1;if(r.isTextblock&&!r.hasMarkup(t,e))if(r.type==t)a=!0;else{var o=n.doc.resolve(i),s=o.index();a=o.parent.canReplaceWith(s,s+1,t)}})),!!a&&(r&&r(n.tr.setBlockType(o,s,t,e).scrollIntoView()),!0)}}function Ns(t,e,n){for(var r=function(r){var i=e[r],o=i.$from,s=i.$to,a=0==o.depth&&t.type.allowsMarkType(n);if(t.nodesBetween(o.pos,s.pos,(function(t){if(a)return!1;a=t.inlineContent&&t.type.allowsMarkType(n)})),a)return{v:!0}},i=0;i<e.length;i++){var o=r(i);if(o)return o.v}return!1}function Os(t,e){return function(n,r){var i=n.selection,o=i.empty,s=i.$cursor,a=i.ranges;if(o&&!s||!Ns(n.doc,a,t))return!1;if(r)if(s)t.isInSet(n.storedMarks||s.marks())?r(n.tr.removeStoredMark(t)):r(n.tr.addStoredMark(t.create(e)));else{for(var u=!1,c=n.tr,l=0;!u&&l<a.length;l++){var h=a[l],f=h.$from,p=h.$to;u=n.doc.rangeHasMark(f.pos,p.pos,t)}for(var d=0;d<a.length;d++){var m=a[d],v=m.$from,g=m.$to;if(u)c.removeMark(v.pos,g.pos,t);else{var y=v.pos,b=g.pos,w=v.nodeAfter,k=g.nodeBefore,_=w&&w.isText?/^\s*/.exec(w.text)[0].length:0,T=k&&k.isText?/\s*$/.exec(k.text)[0].length:0;y+_<b&&(y+=_,b-=T),c.addMark(y,b,t.create(e))}}r(c.scrollIntoView())}return!0}}function Ds(){var t=[],e=arguments.length;while(e--)t[e]=arguments[e];return function(e,n,r){for(var i=0;i<t.length;i++)if(t[i](e,n,r))return!0;return!1}}var Ms=Ds(us,cs,hs),Rs=Ds(us,ps,ds),Ls={Enter:Ds(vs,bs,ws,ks),"Mod-Enter":ys,Backspace:Ms,"Mod-Backspace":Ms,"Shift-Backspace":Ms,Delete:Rs,"Mod-Delete":Rs,"Mod-a":_s},Ps={"Ctrl-h":Ls["Backspace"],"Alt-Backspace":Ls["Mod-Backspace"],"Ctrl-d":Ls["Delete"],"Ctrl-Alt-Backspace":Ls["Mod-Delete"],"Alt-Delete":Ls["Mod-Delete"],"Alt-d":Ls["Mod-Delete"],"Ctrl-a":xs,"Ctrl-e":Ss};for(var Fs in Ls)Ps[Fs]=Ls[Fs];Ls.Home=xs,Ls.End=Ss;var js="undefined"!=typeof navigator?/Mac|iP(hone|[oa]d)/.test(navigator.platform):"undefined"!=typeof os&&"darwin"==os.platform(),Bs=js?Ps:Ls,Vs=function(t,e){this.match=t,this.handler="string"==typeof e?Us(e):e};function Us(t){return function(e,n,r,i){var o=t;if(n[1]){var s=n[0].lastIndexOf(n[1]);o+=n[0].slice(s+n[1].length),r+=s;var a=r-i;a>0&&(o=n[0].slice(s-a,s)+o,r=i)}return e.tr.insertText(o,r,i)}}var qs=500;function Hs(t){var e=t.rules,n=new Ke({state:{init:function(){return null},apply:function(t,e){var n=t.getMeta(this);return n||(t.selectionSet||t.docChanged?null:e)}},props:{handleTextInput:function(t,r,i,o){return zs(t,r,i,o,e,n)},handleDOMEvents:{compositionend:function(t){setTimeout((function(){var r=t.state.selection,i=r.$cursor;i&&zs(t,i.pos,i.pos,"",e,n)}))}}},isInputRules:!0});return n}function zs(t,e,n,r,i,o){if(t.composing)return!1;var s=t.state,a=s.doc.resolve(e);if(a.parent.type.spec.code)return!1;for(var u=a.parent.textBetween(Math.max(0,a.parentOffset-qs),a.parentOffset,null,"￼")+r,c=0;c<i.length;c++){var l=i[c].match.exec(u),h=l&&i[c].handler(s,l,e-(l[0].length-r.length),n);if(h)return t.dispatch(h.setMeta(o,{transform:h,from:e,to:n,text:r})),!0}return!1}new Vs(/--$/,"—"),new Vs(/\.\.\.$/,"…"),new Vs(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"“"),new Vs(/"$/,"”"),new Vs(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"‘"),new Vs(/'$/,"’");var $s=200,Gs=function(){};Gs.prototype.append=function(t){return t.length?(t=Gs.from(t),!this.length&&t||t.length<$s&&this.leafAppend(t)||this.length<$s&&t.leafPrepend(this)||this.appendInner(t)):this},Gs.prototype.prepend=function(t){return t.length?Gs.from(t).append(this):this},Gs.prototype.appendInner=function(t){return new Ks(this,t)},Gs.prototype.slice=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.length),t>=e?Gs.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,e))},Gs.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)},Gs.prototype.forEach=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=this.length),e<=n?this.forEachInner(t,e,n,0):this.forEachInvertedInner(t,e,n,0)},Gs.prototype.map=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=this.length);var r=[];return this.forEach((function(e,n){return r.push(t(e,n))}),e,n),r},Gs.from=function(t){return t instanceof Gs?t:t&&t.length?new Ws(t):Gs.empty};var Ws=function(t){function e(e){t.call(this),this.values=e}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(t,n){return 0==t&&n==this.length?this:new e(this.values.slice(t,n))},e.prototype.getInner=function(t){return this.values[t]},e.prototype.forEachInner=function(t,e,n,r){for(var i=e;i<n;i++)if(!1===t(this.values[i],r+i))return!1},e.prototype.forEachInvertedInner=function(t,e,n,r){for(var i=e-1;i>=n;i--)if(!1===t(this.values[i],r+i))return!1},e.prototype.leafAppend=function(t){if(this.length+t.length<=$s)return new e(this.values.concat(t.flatten()))},e.prototype.leafPrepend=function(t){if(this.length+t.length<=$s)return new e(t.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(Gs);Gs.empty=new Ws([]);var Ks=function(t){function e(e,n){t.call(this),this.left=e,this.right=n,this.length=e.length+n.length,this.depth=Math.max(e.depth,n.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(t){return t<this.left.length?this.left.get(t):this.right.get(t-this.left.length)},e.prototype.forEachInner=function(t,e,n,r){var i=this.left.length;return!(e<i&&!1===this.left.forEachInner(t,e,Math.min(n,i),r))&&(!(n>i&&!1===this.right.forEachInner(t,Math.max(e-i,0),Math.min(this.length,n)-i,r+i))&&void 0)},e.prototype.forEachInvertedInner=function(t,e,n,r){var i=this.left.length;return!(e>i&&!1===this.right.forEachInvertedInner(t,e-i,Math.max(n,i)-i,r+i))&&(!(n<i&&!1===this.left.forEachInvertedInner(t,Math.min(e,i),n,r))&&void 0)},e.prototype.sliceInner=function(t,e){if(0==t&&e==this.length)return this;var n=this.left.length;return e<=n?this.left.slice(t,e):t>=n?this.right.slice(t-n,e-n):this.left.slice(t,n).append(this.right.slice(0,e-n))},e.prototype.leafAppend=function(t){var n=this.right.leafAppend(t);if(n)return new e(this.left,n)},e.prototype.leafPrepend=function(t){var n=this.left.leafPrepend(t);if(n)return new e(n,this.right)},e.prototype.appendInner=function(t){return this.left.depth>=Math.max(this.right.depth,t.depth)+1?new e(this.left,new e(this.right,t)):new e(this,t)},e}(Gs),Js=Gs,Xs=Js,Qs=500,Ys=function(t,e){this.items=t,this.eventCount=e};function Zs(t,e){var n;return t.forEach((function(t,r){if(t.selection&&0==e--)return n=r,!1})),t.slice(n)}Ys.prototype.popEvent=function(t,e){var n=this;if(0==this.eventCount)return null;for(var r,i,o=this.items.length;;o--){var s=this.items.get(o-1);if(s.selection){--o;break}}e&&(r=this.remapping(o,this.items.length),i=r.maps.length);var a,u,c=t.tr,l=[],h=[];return this.items.forEach((function(t,e){if(!t.step)return r||(r=n.remapping(o,e+1),i=r.maps.length),i--,void h.push(t);if(r){h.push(new ta(t.map));var s,f=t.step.map(r.slice(i));f&&c.maybeStep(f).doc&&(s=c.mapping.maps[c.mapping.maps.length-1],l.push(new ta(s,null,null,l.length+h.length))),i--,s&&r.appendMap(s,i)}else c.maybeStep(t.step);return t.selection?(a=r?t.selection.map(r.slice(i)):t.selection,u=new Ys(n.items.slice(0,o).append(h.reverse().concat(l)),n.eventCount-1),!1):void 0}),this.items.length,0),{remaining:u,transform:c,selection:a}},Ys.prototype.addTransform=function(t,e,n,r){for(var i=[],o=this.eventCount,s=this.items,a=!r&&s.length?s.get(s.length-1):null,u=0;u<t.steps.length;u++){var c=t.steps[u].invert(t.docs[u]),l=new ta(t.mapping.maps[u],c,e),h=void 0;(h=a&&a.merge(l))&&(l=h,u?i.pop():s=s.slice(0,s.length-1)),i.push(l),e&&(o++,e=null),r||(a=l)}var f=o-n.depth;return f>na&&(s=Zs(s,f),o-=f),new Ys(s.append(i),o)},Ys.prototype.remapping=function(t,e){var n=new Vt;return this.items.forEach((function(e,r){var i=null!=e.mirrorOffset&&r-e.mirrorOffset>=t?n.maps.length-e.mirrorOffset:null;n.appendMap(e.map,i)}),t,e),n},Ys.prototype.addMaps=function(t){return 0==this.eventCount?this:new Ys(this.items.append(t.map((function(t){return new ta(t)}))),this.eventCount)},Ys.prototype.rebased=function(t,e){if(!this.eventCount)return this;var n=[],r=Math.max(0,this.items.length-e),i=t.mapping,o=t.steps.length,s=this.eventCount;this.items.forEach((function(t){t.selection&&s--}),r);var a=e;this.items.forEach((function(e){var r=i.getMirror(--a);if(null!=r){o=Math.min(o,r);var u=i.maps[r];if(e.step){var c=t.steps[r].invert(t.docs[r]),l=e.selection&&e.selection.map(i.slice(a+1,r));l&&s++,n.push(new ta(u,c,l))}else n.push(new ta(u))}}),r);for(var u=[],c=e;c<o;c++)u.push(new ta(i.maps[c]));var l=this.items.slice(0,r).append(u).append(n),h=new Ys(l,s);return h.emptyItemCount()>Qs&&(h=h.compress(this.items.length-n.length)),h},Ys.prototype.emptyItemCount=function(){var t=0;return this.items.forEach((function(e){e.step||t++})),t},Ys.prototype.compress=function(t){void 0===t&&(t=this.items.length);var e=this.remapping(0,t),n=e.maps.length,r=[],i=0;return this.items.forEach((function(o,s){if(s>=t)r.push(o),o.selection&&i++;else if(o.step){var a=o.step.map(e.slice(n)),u=a&&a.getMap();if(n--,u&&e.appendMap(u,n),a){var c=o.selection&&o.selection.map(e.slice(n));c&&i++;var l,h=new ta(u.invert(),a,c),f=r.length-1;(l=r.length&&r[f].merge(h))?r[f]=l:r.push(h)}}else o.map&&n--}),this.items.length,0),new Ys(Xs.from(r.reverse()),i)},Ys.empty=new Ys(Xs.empty,0);var ta=function(t,e,n,r){this.map=t,this.step=e,this.selection=n,this.mirrorOffset=r};ta.prototype.merge=function(t){if(this.step&&t.step&&!t.selection){var e=t.step.merge(this.step);if(e)return new ta(e.getMap().invert(),e,this.selection)}};var ea=function(t,e,n,r){this.done=t,this.undone=e,this.prevRanges=n,this.prevTime=r},na=20;function ra(t,e,n,r){var i,o=n.getMeta(ha);if(o)return o.historyState;n.getMeta(fa)&&(t=new ea(t.done,t.undone,null,0));var s=n.getMeta("appendedTransaction");if(0==n.steps.length)return t;if(s&&s.getMeta(ha))return s.getMeta(ha).redo?new ea(t.done.addTransform(n,null,r,la(e)),t.undone,oa(n.mapping.maps[n.steps.length-1]),t.prevTime):new ea(t.done,t.undone.addTransform(n,null,r,la(e)),null,t.prevTime);if(!1===n.getMeta("addToHistory")||s&&!1===s.getMeta("addToHistory"))return(i=n.getMeta("rebased"))?new ea(t.done.rebased(n,i),t.undone.rebased(n,i),sa(t.prevRanges,n.mapping),t.prevTime):new ea(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),sa(t.prevRanges,n.mapping),t.prevTime);var a=0==t.prevTime||!s&&(t.prevTime<(n.time||0)-r.newGroupDelay||!ia(n,t.prevRanges)),u=s?sa(t.prevRanges,n.mapping):oa(n.mapping.maps[n.steps.length-1]);return new ea(t.done.addTransform(n,a?e.selection.getBookmark():null,r,la(e)),Ys.empty,u,n.time)}function ia(t,e){if(!e)return!1;if(!t.docChanged)return!0;var n=!1;return t.mapping.maps[0].forEach((function(t,r){for(var i=0;i<e.length;i+=2)t<=e[i+1]&&r>=e[i]&&(n=!0)})),n}function oa(t){var e=[];return t.forEach((function(t,n,r,i){return e.push(r,i)})),e}function sa(t,e){if(!t)return null;for(var n=[],r=0;r<t.length;r+=2){var i=e.map(t[r],1),o=e.map(t[r+1],-1);i<=o&&n.push(i,o)}return n}function aa(t,e,n,r){var i=la(e),o=ha.get(e).spec.config,s=(r?t.undone:t.done).popEvent(e,i);if(s){var a=s.selection.resolve(s.transform.doc),u=(r?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),o,i),c=new ea(r?u:s.remaining,r?s.remaining:u,null,0);n(s.transform.setSelection(a).setMeta(ha,{redo:r,historyState:c}).scrollIntoView())}}var ua=!1,ca=null;function la(t){var e=t.plugins;if(ca!=e){ua=!1,ca=e;for(var n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){ua=!0;break}}return ua}var ha=new Qe("history"),fa=new Qe("closeHistory");function pa(t){return t={depth:t&&t.depth||100,newGroupDelay:t&&t.newGroupDelay||500},new Ke({key:ha,state:{init:function(){return new ea(Ys.empty,Ys.empty,null,0)},apply:function(e,n,r){return ra(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput:function(t,e){var n="historyUndo"==e.inputType?da(t.state,t.dispatch):"historyRedo"==e.inputType&&ma(t.state,t.dispatch);return n&&e.preventDefault(),n}}}})}function da(t,e){var n=ha.getState(t);return!(!n||0==n.done.eventCount)&&(e&&aa(n,t,e,!1),!0)}function ma(t,e){var n=ha.getState(t);return!(!n||0==n.undone.eventCount)&&(e&&aa(n,t,e,!0),!0)}function va(t){var e=ha.getState(t);return e?e.done.eventCount:0}
/**
 * @toast-ui/editor
 * @version 3.1.3 | Thu Feb 10 2022
 * @author NHN FE Development Lab <dl_javascript@nhn.com>
 * @license MIT
 */
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ga=function(t,e){return ga=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},ga(t,e)};function ya(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}ga(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var ba=function(){return ba=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},ba.apply(this,arguments)};function wa(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}function ka(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function _a(t,e,n){var r;for(r in n=n||null,t)if(t.hasOwnProperty(r)&&!1===e.call(n,t[r],r,t))break}var Ta=_a;function Ea(t,e){var n,r,i,o,s=Object.prototype.hasOwnProperty;for(i=1,o=arguments.length;i<o;i+=1)for(r in n=arguments[i],n)s.call(n,r)&&(t[r]=n[r]);return t}var Ca=Ea;function xa(t){return"string"===typeof t||t instanceof String}var Sa=xa;function Ia(t){return t instanceof Array}var Aa=Ia;function Na(t,e,n){var r=0,i=t.length;for(n=n||null;r<i;r+=1)if(!1===e.call(n,t[r],r,t))break}var Oa=Na,Da=Aa,Ma=Oa,Ra=Ta;function La(t,e,n){Da(t)?Ma(t,e,n):Ra(t,e,n)}var Pa=La,Fa=Sa,ja=Pa;function Ba(t,e,n){var r=t.style;Fa(e)?r[e]=n:ja(e,(function(t,e){r[e]=t}))}var Va=Ba,Ua=Aa;function qa(t,e,n){var r,i;if(n=n||0,!Ua(e))return-1;if(Array.prototype.indexOf)return Array.prototype.indexOf.call(e,t,n);for(i=e.length,r=n;n>=0&&r<i;r+=1)if(e[r]===t)return r;return-1}var Ha=qa;function za(t){return void 0===t}var $a=za,Ga=$a;function Wa(t){return t&&t.className?Ga(t.className.baseVal)?t.className:t.className.baseVal:""}var Ka=Wa,Ja=Aa,Xa=$a;function Qa(t,e){e=Ja(e)?e.join(" "):e,e=e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),Xa(t.className.baseVal)?t.className=e:t.className.baseVal=e}var Ya=Qa,Za=Pa,tu=Ha,eu=Ka,nu=Ya;function ru(t){var e,n=Array.prototype.slice.call(arguments,1),r=t.classList,i=[];r?Za(n,(function(e){t.classList.add(e)})):(e=eu(t),e&&(n=[].concat(e.split(/\s+/),n)),Za(n,(function(t){tu(t,i)<0&&i.push(t)})),nu(t,i))}var iu=ru,ou=Oa,su=Ha,au=Ka,uu=Ya;function cu(t){var e,n,r=Array.prototype.slice.call(arguments,1),i=t.classList;i?ou(r,(function(t){i.remove(t)})):(e=au(t).split(/\s+/),n=[],ou(e,(function(t){su(t,r)<0&&n.push(t)})),uu(t,n))}var lu=cu;function hu(t){return"number"===typeof t||t instanceof Number}var fu=hu;function pu(t){return null===t}var du=pu,mu=Ta;function vu(t,e){var n=document.createElement("img"),r="";return mu(e,(function(t,e){r+="&"+e+"="+t})),r=r.substring(1),n.src=t+"?"+r,n.style.display="none",document.body.appendChild(n),document.body.removeChild(n),n}var gu=vu,yu=$a,bu=gu,wu=6048e5;function ku(t){var e=(new Date).getTime();return e-t>wu}function _u(t,e){var n="https://www.google-analytics.com/collect",r=location.hostname,i="event",o="use",s="TOAST UI "+t+" for "+r+": Statistics",a=window.localStorage.getItem(s);(yu(window.tui)||!1!==window.tui.usageStatistics)&&(a&&!ku(a)||(window.localStorage.setItem(s,(new Date).getTime()),setTimeout((function(){"interactive"!==document.readyState&&"complete"!==document.readyState||bu(n,{v:1,t:i,tid:e,cid:r,dp:r,dh:t,el:t,ec:o})}),1e3)))}var Tu=_u;/Mac/.test(navigator.platform);var Eu=/[\u0020]+/g,Cu=/[>(){}[\]+-.!#|]/g,xu=/<([a-zA-Z_][a-zA-Z0-9\-._]*)(\s|[^\\/>])*\/?>|<(\/)([a-zA-Z_][a-zA-Z0-9\-._]*)\s*\/?>|<!--[^-]+-->|<([a-zA-Z_][a-zA-Z0-9\-.:/]*)>/g,Su=/\\[!"#$%&'()*+,-./:;<=>?@[\]^_`{|}~\\]/g,Iu=/[*_~`]/g,Au=/!\[.*\]\(.*\)/g,Nu=/[[\]]/g,Ou='[&<>"]',Du=new RegExp(Ou,"g");function Mu(t){switch(t){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";default:return t}}function Ru(t){return Du.test(t)?t.replace(Du,Mu):t}function Lu(){Tu("editor","UA-129966929-1")}function Pu(t,e){return-1!==t.indexOf(e)}var Fu=["rel","target","hreflang","type"],ju={codeblock:/(^ {4}[^\n]+\n*)+/,thematicBreak:/^ *((\* *){3,}|(- *){3,} *|(_ *){3,}) */,atxHeading:/^(#{1,6}) +[\s\S]+/,seTextheading:/^([^\n]+)\n *(=|-){2,} */,blockquote:/^( *>[^\n]+.*)+/,list:/^ *(\*+|-+|\d+\.) [\s\S]+/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? */,link:/!?\[.*\]\(.*\)/,reflink:/!?\[.*\]\s*\[([^\]]*)\]/,verticalBar:/\u007C/,fencedCodeblock:/^((`|~){3,})/};function Bu(t){if(!t)return null;var e={};return Fu.forEach((function(n){$a(t[n])||(e[n]=t[n])})),e}function Vu(t,e){for(var n="",r=0;r<e;r+=1)n+=t;return n}function Uu(t){var e=!1;return Ta(ju,(function(n){return n.test(t)&&(e=!0),!e})),e}function qu(t){var e=[],n=Au.exec(t);while(n)e.push([n.index,n.index+n[0].length]),n=Au.exec(t);return t.replace(Nu,(function(t,n){var r=e.some((function(t){return n>t[0]&&n<t[1]}));return r?t:"\\"+t}))}function Hu(t){var e=function(t){return"\\"+t},n=t.replace(Eu," ");return Su.test(n)&&(n=n.replace(Su,e)),n=n.replace(Iu,e),xu.test(n)&&(n=n.replace(xu,e)),Uu(n)&&(n=n.replace(Cu,e)),n}function zu(t){var e;return e=-1===t.indexOf('"')?'""':-1===t.indexOf("'")?"''":"()",e[0]+t+e[1]}function $u(t){return du(t)||$a(t)}function Gu(t,e){if(null===t&&t===e)return!0;if("object"!==typeof t||"object"!==typeof e||$u(t)||$u(e))return t===e;for(var n in t)if(t[n]!==e[n])return!1;for(var n in e)if(!(n in t))return!1;return!0}function Wu(t){return t[t.length-1]}function Ku(t,e,n){return t>=e&&t<=n}function Ju(t){return"object"===typeof t&&null!==t}function Xu(t,e){var n=ba({},t);return t&&e&&Object.keys(e).forEach((function(t){Ju(n[t])?Array.isArray(e[t])?n[t]=Qu(e[t]):n.hasOwnProperty(t)?n[t]=Xu(n[t],e[t]):n[t]=Yu(e[t]):n[t]=e[t]})),n}function Qu(t){return t.map((function(t){return Ju(t)?Array.isArray(t)?Qu(t):Yu(t):t}))}function Yu(t){var e=Object.keys(t);return e.length?e.reduce((function(e,n){return Ju(t[n])?e[n]=Array.isArray(t[n])?Qu(t[n]):Yu(t[n]):e[n]=t[n],e}),{}):t}function Zu(t,e){return void 0===e&&(e={}),Object.keys(e).forEach((function(n){t.hasOwnProperty(n)&&"object"===typeof t[n]?Array.isArray(e[n])?t[n]=e[n]:Zu(t[n],e[n]):t[n]=e[n]})),t}function tc(t,e){return t>e?[e,t]:[t,e]}var ec=Oa;function nc(t){var e;try{e=Array.prototype.slice.call(t)}catch(n){e=[],ec(t,(function(t){e.push(t)}))}return e}var rc=nc;function ic(t,e){var n=t.nodes.paragraph;return e?n.create(null,Sa(e)?t.text(e):e):n.createAndFill()}function oc(t,e,n){return t.text(e,n)}function sc(t,e,n){void 0===n&&(n=e);var r=t.doc.content.size,i=r>0?r-1:1;return Ie.create(t.doc,Math.min(e,i),Math.min(n,i))}function ac(t,e,n){var r=e.pos;return t.replaceWith(r,r,ic(n)),t.setSelection(sc(t,r+1))}function uc(t){for(var e=t.state,n=t.from,r=t.startIndex,i=t.endIndex,o=t.createText,s=e.tr,a=e.doc,c=e.schema,l=r;l<=i;l+=1){var h=a.child(l),f=h.nodeSize,p=h.textContent,d=h.content,m=o(p),v=m?oc(c,m):u.empty,g=s.mapping.map(n),y=g+d.size;s.replaceWith(g,y,v),n+=f}return s}function cc(t,e,n,r){var i=n.length;t.split(e).delete(e-i,e).insert(t.mapping.map(e),r).setSelection(sc(t,t.mapping.map(e)-i))}function lc(t){return t.sourcepos[0][0]}function hc(t){return t.sourcepos[1][0]}function fc(t){return t.sourcepos[0][1]}function pc(t){return t.sourcepos[1][1]}function dc(t){var e=t.type;return"htmlBlock"===e||"htmlInline"===e}function mc(t){var e=t.type;return"strike"===e||"strong"===e||"emph"===e||"code"===e||"link"===e||"image"===e}function vc(t){return t&&"codeBlock"===t.type}function gc(t){return t&&("item"===t.type||"list"===t.type)}function yc(t){return gc(t)&&"ordered"===t.listData.type}function bc(t){return gc(t)&&"ordered"!==t.listData.type}function wc(t){return t&&("tableCell"===t.type||"tableDelimCell"===t.type)}function kc(t){switch(t.type){case"code":case"text":case"emph":case"strong":case"strike":case"link":case"image":case"htmlInline":case"linebreak":case"softbreak":case"customInline":return!0;default:return!1}}function _c(t,e,n){void 0===n&&(n=!0),t=n?t:t.parent;while(t&&"document"!==t.type){if(e(t))return t;t=t.parent}return null}function Tc(t,e,n){void 0===n&&(n=!0),t=n?t:t.parent;while(t&&"document"!==t.type)e(t),t=t.parent}function Ec(t,e){return[t[0],t[1]+e]}function Cc(t,e){return[t[0],e]}function xc(t){var e=t.firstChild.literal;switch(t.type){case"emph":return"*"+e+"*";case"strong":return"**"+e+"**";case"strike":return"~~"+e+"~~";case"code":return"`"+e+"`";case"link":case"image":var n=t,r=n.destination,i=n.title,o="link"===t.type?"":"!";return o+"["+e+"]("+r+(i?' "'+i+'"':"")+")";default:return null}}function Sc(t){switch(t.type){case"document":case"blockQuote":case"list":case"item":case"paragraph":case"heading":case"emph":case"strong":case"strike":case"link":case"image":case"table":case"tableHead":case"tableBody":case"tableRow":case"tableCell":case"tableDelimRow":case"customInline":return!0;default:return!1}}function Ic(t){var e=[],n=t.walker(),r=null;while(r=n.next()){var i=r.node;"text"===i.type&&e.push(i.literal)}return e.join("")}var Ac=[],Nc={},Oc=/\$\$widget\d+\s/;function Dc(t){var e=t.search(Oc);if(-1!==e){var n=t.substring(e),r=n.replace(Oc,"").replace("$$","");t=t.substring(0,e),t+=Dc(r)}return t}function Mc(t,e){return"$$"+t+" "+e+"$$"}function Rc(t,e){var n=Nc[t],r=n.rule,i=n.toDOM;return e=Dc(e).match(r)[0],i(e)}function Lc(){return Ac}function Pc(t){Ac=t,Ac.forEach((function(t,e){Nc["widget"+e]=t}))}function Fc(t,e,n,r){return t.concat(jc(e,n,r))}function jc(t,e,n){void 0===n&&(n=0);var r=[],i=(Ac[n]||{}).rule,o=n+1;if(t=Dc(t),i&&i.test(t)){var s=void 0;while(-1!==(s=t.search(i))){var a=t.substring(0,s);a&&(r=Fc(r,a,e,o)),t=t.substring(s);var u=t.match(i)[0],c="widget"+n;r.push(e.nodes.widget.create({info:c},e.text(Mc(c,u)))),t=t.substring(u.length)}t&&(r=Fc(r,t,e,o))}else t&&(r=n<Ac.length-1?Fc(r,t,e,o):[e.text(t)]);return r}function Bc(t){var e,n="",r=t.walker();while(e=r.next()){var i=e.node,o=e.entering;o&&(i!==t&&"text"!==i.type?(n+=xc(i),r.resumeAt(t,!1),r.next()):"text"===i.type&&(n+=i.literal))}return n}function Vc(){return{deleteSelection:function(){return us},selectAll:function(){return _s},undo:function(){return da},redo:function(){return ma}}}function Uc(t){return new Ke({props:{decorations:function(e){var n=e.doc;if(t.text&&1===n.childCount&&n.firstChild.isTextblock&&0===n.firstChild.content.size){var r=document.createElement("span");return iu(r,"placeholder"),t.className&&iu(r,t.className),r.textContent=t.text,_o.create(n,[yo.widget(1,r)])}return null}}})}var qc=Ha,Hc=Ka;function zc(t,e){var n;return t.classList?t.classList.contains(e):(n=Hc(t).split(/\s+/),qc(e,n)>-1)}var $c=zc,Gc=Ha,Wc=rc,Kc=Element.prototype,Jc=Kc.matches||Kc.webkitMatchesSelector||Kc.mozMatchesSelector||Kc.msMatchesSelector||function(t){var e=this.document||this.ownerDocument;return Gc(this,Wc(e.querySelectorAll(t)))>-1};function Xc(t,e){return Jc.call(t,e)}var Qc=Xc,Yc="[A-Za-z][A-Za-z0-9-]*",Zc="[a-zA-Z_:][a-zA-Z0-9:._-]*",tl="[^\"'=<>`\\x00-\\x20]+",el="'[^']*'",nl='"[^"]*"',rl="(?:"+tl+"|"+el+"|"+nl+")",il="(?:\\s*=\\s*"+rl+")",ol="(?:\\s+"+Zc+il+"?)",sl="<("+Yc+")("+ol+")*\\s*/?>",al="</("+Yc+")\\s*[>]",ul="(?:"+sl+"|"+al+")",cl=new RegExp("^"+ul,"i"),ll=/<br\s*\/*>/i,hl=/<! ---->|<!--(?:-?[^>-])(?:-?[^-])*-->/,fl="</p><p>";function pl(t,e,n){var r=parseInt(t.left,10),i=parseInt(t.top,10),o=parseInt(t.width,10)+parseInt(t.paddingLeft,10)+parseInt(t.paddingRight,10),s=parseInt(t.height,10)+parseInt(t.paddingTop,10)+parseInt(t.paddingBottom,10);return e>=r&&e<=r+o&&n>=i&&n<=i+s}var dl="toastui-editor-";function ml(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=[],r=0,i=t;r<i.length;r++){var o=i[r],s=void 0;s=Array.isArray(o)?o[0]?o[1]:null:o,s&&n.push(""+dl+s)}return n.join(" ")}function vl(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.map((function(t){return dl+"md-"+t})).join(" ")}function gl(t){return(null===t||void 0===t?void 0:t.nodeType)===Node.TEXT_NODE}function yl(t){return t&&t.nodeType===Node.ELEMENT_NODE}function bl(t,e){var n=rc(t.querySelectorAll(e));return n.length?n:[]}function wl(t,e){e=Aa(e)?rc(e):[e],e.forEach((function(e){t.appendChild(e)}))}function kl(t,e){e.parentNode&&e.parentNode.insertBefore(t,e)}function _l(t){t.parentNode&&t.parentNode.removeChild(t)}function Tl(t){var e=[];while(t.firstChild)e.push(t.firstChild),t.parentNode&&t.parentNode.insertBefore(t.firstChild,t);return _l(t),e}function El(t,e,n){$a(n)&&(n=!$c(t,e));var r=n?iu:lu;r(t,e)}function Cl(t,e){var n=document.createElement("div");Sa(t)?n.innerHTML=t:n.appendChild(t);var r=n.firstChild;return e&&e.appendChild(r),r}function xl(t){var e=window.getComputedStyle(t);return["margin-left","margin-right"].reduce((function(t,n){return t+parseInt(e.getPropertyValue(n),10)}),0)+t.offsetWidth}function Sl(t,e){var n;n=Sa(e)?function(t){return Qc(t,e)}:function(t){return t===e};while(t&&t!==document){if(yl(t)&&n(t))return t;t=t.parentNode}return null}function Il(t,e){var n=0,r=0;while(t&&t!==e){var i=t.offsetTop,o=t.offsetLeft,s=t.offsetParent;if(n+=i,r+=o,s===e.offsetParent)break;t=t.offsetParent}return{offsetTop:n,offsetLeft:r}}function Al(t,e){Object.keys(t).forEach((function(n){$u(t[n])?e.removeAttribute(n):e.setAttribute(n,t[n])}))}function Nl(t){var e=t.replace(/<p><br\s*\/*><\/p>/gi,"<p></p>"),n=new RegExp(ul,"ig"),r=e.match(n);return null===r||void 0===r||r.forEach((function(t,n){if(ll.test(t)){var i=fl;if(n){var o=r[n-1],s=o.match(sl);if(s&&!/br/i.test(s[1])){var a=s[1];i="</"+a+"><"+a+">"}}e=e.replace(ll,i)}})),e}var Ol=new Qe("widget"),Dl=5,Ml=function(){function t(t,e){var n=this;this.popup=null,this.removeWidget=function(){n.popup&&(n.rootEl.removeChild(n.popup),n.popup=null)},this.rootEl=t.dom.parentElement,this.eventEmitter=e,this.eventEmitter.listen("blur",this.removeWidget),this.eventEmitter.listen("loadUI",(function(){n.rootEl=Sl(t.dom.parentElement,"."+ml("defaultUI"))})),this.eventEmitter.listen("removePopupWidget",this.removeWidget)}return t.prototype.update=function(t){var e=Ol.getState(t.state);if(this.removeWidget(),e){var n=e.node,r=e.style,i=t.coordsAtPos(e.pos),o=i.top,s=i.left,a=i.bottom,u=a-o,c=this.rootEl.getBoundingClientRect(),l=o-c.top;Va(n,{opacity:"0"}),this.rootEl.appendChild(n),Va(n,{position:"absolute",left:s-c.left+Dl+"px",top:("bottom"===r?l+u-Dl:l-u)+"px",opacity:"1"}),this.popup=n,t.focus()}},t.prototype.destroy=function(){this.eventEmitter.removeEventHandler("blur",this.removeWidget)},t}();function Rl(t){return new Ke({key:Ol,state:{init:function(){return null},apply:function(t){return t.getMeta("widget")}},view:function(e){return new Ml(e,t)}})}function Ll(t){t.listen("addImageBlobHook",(function(t,e){var n=new FileReader;n.onload=function(t){var n=t.target;return e(n.result)},n.readAsDataURL(t)}))}function Pl(t,e,n){var r=function(n,r){t.emit("command","addImage",{imageUrl:n,altText:r||e.name||"image"})};t.emit("addImageBlobHook",e,r,n)}function Fl(t){var e=rc(t).filter((function(t){var e=t.type;return-1!==e.indexOf("image")}));if(1===e.length){var n=e[0];if(n)return n.getAsFile()}return null}function jl(t){var e=t.eventEmitter;return new Ke({props:{handleDOMEvents:{drop:function(t,n){var r,i=null===(r=n.dataTransfer)||void 0===r?void 0:r.files;return i&&Oa(i,(function(t){return-1===t.type.indexOf("image")||(n.preventDefault(),n.stopPropagation(),Pl(e,t,n.type),!1)})),!0}}}})}var Bl=function(){function t(){}return Object.defineProperty(t.prototype,"type",{get:function(){return"node"},enumerable:!1,configurable:!0}),t.prototype.setContext=function(t){this.context=t},t}();function Vl(t){var e=document.createElement("span"),n=Rc(t.attrs.info,t.textContent);return e.className="tui-widget",e.appendChild(n),{dom:e}}function Ul(t){return"widget"===t.type.name}var ql=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ya(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"widget"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{info:{default:null}},group:"inline",inline:!0,content:"text*",selectable:!1,atom:!0,toDOM:function(){return["span",{class:"tui-widget"},0]},parseDOM:[{tag:"span.tui-widget",getAttrs:function(t){var e=t.textContent,n=e.match(/\$\$(widget\d+)/),r=n[1];return{info:r}}}]}},enumerable:!1,configurable:!0}),e}(Bl),Hl=function(){function t(t){this.timer=null,this.el=document.createElement("div"),this.el.className="toastui-editor",this.eventEmitter=t,this.placeholder={text:""}}return t.prototype.createState=function(){return ze.create({schema:this.schema,plugins:this.createPlugins()})},t.prototype.initEvent=function(){var t=this,e=t.eventEmitter,n=t.view,r=t.editorType;n.dom.addEventListener("focus",(function(){return e.emit("focus",r)})),n.dom.addEventListener("blur",(function(){return e.emit("blur",r)}))},t.prototype.emitChangeEvent=function(t){this.eventEmitter.emit("caretChange",this.editorType),t.docChanged&&this.eventEmitter.emit("change",this.editorType)},Object.defineProperty(t.prototype,"defaultPlugins",{get:function(){var t=this.createInputRules(),e=wa(wa([],this.keymaps),[ss(ba({"Shift-Enter":Bs.Enter},Bs)),pa(),Uc(this.placeholder),Rl(this.eventEmitter),jl(this.context)]);return t?e.concat(t):e},enumerable:!1,configurable:!0}),t.prototype.createInputRules=function(){var t=Lc(),e=t.map((function(t){var e=t.rule;return new Vs(e,(function(t,n,r,i){var o=t.schema,s=t.tr,a=t.doc,u=n.input.match(new RegExp(e,"g")),c=a.resolve(r),l=c.parent,h=0;if(Ul(l)&&(l=c.node(c.depth-1)),l.forEach((function(t){return Ul(t)&&(h+=1)})),u.length>h){var f=Wu(u),p=jc(f,o);return s.replaceWith(i-f.length+1,i,p)}return null}))}));return e.length?Hs({rules:e}):null},t.prototype.clearTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},t.prototype.createSchema=function(){return new ht({nodes:this.specs.nodes,marks:this.specs.marks})},t.prototype.createKeymaps=function(t){var e=Vc(),n=e.undo,r=e.redo,i=this.specs.keymaps(t),o={"Mod-z":n(),"Shift-Mod-z":r()};return t?i.concat(ss(o)):i},t.prototype.createCommands=function(){return this.specs.commands(this.view)},t.prototype.createPluginProps=function(){var t=this;return this.extraPlugins.map((function(e){return e(t.eventEmitter)}))},t.prototype.focus=function(){var t=this;this.clearTimer(),this.timer=setTimeout((function(){t.view.focus(),t.view.dispatch(t.view.state.tr.scrollIntoView())}))},t.prototype.blur=function(){this.view.dom.blur()},t.prototype.destroy=function(){var t=this;this.clearTimer(),this.view.destroy(),Object.keys(this).forEach((function(e){delete t[e]}))},t.prototype.moveCursorToStart=function(t){var e=this.view.state.tr;this.view.dispatch(e.setSelection(sc(e,1)).scrollIntoView()),t&&this.focus()},t.prototype.moveCursorToEnd=function(t){var e=this.view.state.tr;this.view.dispatch(e.setSelection(sc(e,e.doc.content.size-1)).scrollIntoView()),t&&this.focus()},t.prototype.setScrollTop=function(t){this.view.dom.scrollTop=t},t.prototype.getScrollTop=function(){return this.view.dom.scrollTop},t.prototype.setPlaceholder=function(t){this.placeholder.text=t,this.view.dispatch(this.view.state.tr.scrollIntoView())},t.prototype.setHeight=function(t){Va(this.el,{height:t+"px"})},t.prototype.setMinHeight=function(t){Va(this.el,{minHeight:t+"px"})},t.prototype.getElement=function(){return this.el},t}();function zl(t){return t instanceof Function}var $l=zl,Gl=["Enter","Shift-Enter","Mod-Enter","Tab","Shift-Tab","Delete","Backspace","Mod-Delete","Mod-Backspace","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Mod-d","Mod-D","Alt-ArrowUp","Alt-ArrowDown"];function Wl(t,e,n){return t.focus(),e(n)(t.state,t.dispatch,t)}var Kl=function(){function t(t){this.specs=t}return Object.defineProperty(t.prototype,"nodes",{get:function(){return this.specs.filter((function(t){return"node"===t.type})).reduce((function(t,e){var n,r=e.name,i=e.schema;return ba(ba({},t),(n={},n[r]=i,n))}),{})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"marks",{get:function(){return this.specs.filter((function(t){return"mark"===t.type})).reduce((function(t,e){var n,r=e.name,i=e.schema;return ba(ba({},t),(n={},n[r]=i,n))}),{})},enumerable:!1,configurable:!0}),t.prototype.commands=function(t,e){var n=this.specs.filter((function(t){var e=t.commands;return e})).reduce((function(e,n){var r={},i=n.commands();return $l(i)?r[n.name]=function(e){return Wl(t,i,e)}:Object.keys(i).forEach((function(e){r[e]=function(n){return Wl(t,i[e],n)}})),ba(ba({},e),r)}),{}),r=Vc();return Object.keys(r).forEach((function(e){n[e]=function(n){return Wl(t,r[e],n)}})),e&&Object.keys(e).forEach((function(r){n[r]=function(n){return Wl(t,e[r],n)}})),n},t.prototype.keymaps=function(t){var e=this.specs.filter((function(t){return t.keymaps})).map((function(t){return t.keymaps()}));return e.map((function(e){return t||Object.keys(e).forEach((function(t){Pu(Gl,t)||delete e[t]})),ss(e)}))},t.prototype.setContext=function(t){this.specs.forEach((function(e){e.setContext(t)}))},t}();function Jl(t){var e=t.from,n=t.to;return t instanceof De?[e+1,n-1]:[e,n]}function Xl(t){return t.index(0)+1}function Ql(t,e,n){void 0===n&&(n=1);var r=0;return t.forEach((function(t,i){Ul(t)&&i+2<e&&(r+=2*n)})),r}function Yl(t,e,n){void 0===n&&(n=e);var r=e===n,i=t.resolve(e),o=Xl(i),s=o,a=i.start(1),u=a;if(!r){var c=t.resolve(n===t.content.size?n-1:n);u=c.start(1),s=Xl(c),c.pos===t.content.size&&(n=t.content.size-2)}var l=Math.max(e-a+1,1),h=Math.max(n-u+1,1);return[[o,l+Ql(t.child(o-1),l,-1)],[s,h+Ql(t.child(s-1),h,-1)]]}function Zl(t,e){for(var n=[],r=0,i=0;r<e;r+=1){var o=t.child(r);n[r]=i,i+=o.nodeSize}return n}function th(t,e,n){var r=Zl(t,n[0]),i=e[0]-1,o=n[0]-1,s=t.child(i),a=t.child(o),u=r[i],c=r[o];return u+=e[1]+Ql(s,e[1]-1),c+=n[1]+Ql(a,n[1]-1),[u,Math.min(c,t.content.size)]}function eh(t){var e=t.$from,n=t.$to,r=t.from,i=t.to,o=e.doc;return t instanceof De&&(e=o.resolve(r+1),n=o.resolve(i-1)),0===e.depth&&(e=o.resolve(r-1),n=e),{startFromOffset:e.start(1),endFromOffset:n.start(1),startToOffset:e.end(1),endToOffset:n.end(1),startIndex:e.index(0),endIndex:n.index(0),from:e.pos,to:n.pos}}function nh(t,e){for(var n=1,r=1,i=0,o=0;i<t.childCount;i+=1){var s=t.child(i).nodeSize;if(n=o+1,r=o+s-1,i===e)break;o+=s}return{startOffset:n,endOffset:r}}var rh="heading",ih="blockQuote",oh="listItem",sh="table",ah="tableCell",uh="codeBlock",ch="thematicBreak",lh="link",hh="code",fh="meta",ph="delimiter",dh="taskDelimiter",mh="markedText",vh="html",gh="customBlock",yh={strong:2,emph:1,strike:2};function bh(t,e,n,r){return{start:t,end:e,spec:{type:n,attrs:r}}}function wh(t,e,n){var r=t.level,i=t.headingType,o=[bh(e,n,rh,{level:r})];return"atx"===i?o.push(bh(e,Ec(e,r),ph)):o.push(bh(Cc(n,0),n,rh,{seText:!0})),o}function kh(t,e,n){var r=t.type,i=Ec(e,yh[r]),o=Ec(n,-yh[r]);return[bh(i,o,r),bh(e,i,ph),bh(o,n,ph)]}function _h(t,e,n,r){return[bh(t,e,lh),bh(Cc(t,n[1]+1),Cc(e,r),lh,{desc:!0}),bh(Cc(e,r+2),Ec(e,-1),lh,{url:!0})]}function Th(t,e,n){var r=t.lastChild,i=r?pc(r)+1:3,o=Ec(e,1);return wa([bh(e,o,fh)],_h(e,n,o,i))}function Eh(t,e,n){var r=t.lastChild,i=t.extendedAutolink,o=r?pc(r)+1:2;return i?[bh(e,n,lh,{desc:!0})]:_h(e,n,e,o)}function Ch(t,e,n){var r=t.tickCount,i=Ec(e,r),o=Ec(n,-r);return[bh(e,n,hh),bh(e,i,hh,{start:!0}),bh(i,o,hh,{marked:!0}),bh(o,n,hh,{end:!0})]}function xh(t,e,n,r){var i={start:e,end:n,spec:{attrs:{className:r+"-line-background",codeStart:e[0],codeEnd:n[0]}},lineBackground:!0};return"item"!==t.type&&"blockQuote"!==t.type?[ba(ba({},i),{end:e,spec:{attrs:{className:r+"-line-background start"}}}),ba(ba({},i),{start:[Math.min(e[0]+1,n[0]),e[1]]})]:null}function Sh(t,e,n,r){var i=t.fenceOffset,o=t.fenceLength,s=t.fenceChar,a=t.info,u=t.infoPadding,c=t.parent,l=i+o,h=[bh(Cc(e,1),n,uh)];s&&h.push(bh(e,Ec(e,l),ph)),a&&h.push(bh(Ec(e,o),Ec(e,o+u+a.length),fh));var f="^(\\s{0,4})("+s+"{"+o+",})",p=new RegExp(f);p.test(r)&&h.push(bh(Cc(n,1),n,ph));var d=xh(c,e,n,"code-block");return d?h.concat(d):h}function Ih(t,e,n){var r=t,i=r.offset,o=r.syntaxLength,s=r.info,a=r.parent,u=i+o,c=[bh(Cc(e,1),n,gh)];c.push(bh(e,Ec(e,u),ph)),s&&c.push(bh(Ec(e,u),Ec(e,o+s.length),fh)),c.push(bh(Cc(n,1),n,ph));var l=xh(a,e,n,"custom-block");return l?c.concat(l):c}function Ah(t,e){var n=[];while(t){var r=t.type;"paragraph"!==r&&"codeBlock"!==r||n.push(bh([lc(t),fc(t)-1],[hc(t),pc(t)+1],e)),t=t.next}return n}function Nh(t){var e=[];while(t)e.push(bh([lc(t),fc(t)],[hc(t),pc(t)+1],mh)),t=t.next;return e}function Oh(t,e,n){var r=t.parent&&"blockQuote"!==t.parent.type?[bh(e,n,ih)]:[];if(t.firstChild){var i=[];"paragraph"===t.firstChild.type?i=Nh(t.firstChild.firstChild):"list"===t.firstChild.type&&(i=Ah(t.firstChild,mh)),r=wa(wa([],r),i)}return r}function Dh(t){var e=0;while(t.parent.parent&&"item"===t.parent.parent.type)t=t.parent.parent,e+=1;var n=[{odd:!0},{even:!0}][e%2];return[oh,ba(ba({},n),{listStyle:!0})]}function Mh(t,e){var n=t.listData,r=n.padding,i=n.task,o=Dh(t),s=[bh.apply(void 0,wa([e,Ec(e,r)],o))];return i&&(s.push(bh(Ec(e,r),Ec(e,r+3),dh)),s.push(bh(Ec(e,r+1),Ec(e,r+2),fh))),s.concat(Ah(t.firstChild,mh))}var Rh={heading:wh,strong:kh,emph:kh,strike:kh,link:Eh,image:Th,code:Ch,codeBlock:Sh,blockQuote:Oh,item:Mh,customBlock:Ih},Lh={thematicBreak:ch,table:sh,tableCell:ah,htmlInline:vh};function Ph(t,e,n,r){var i=t.type;return $l(Rh[i])?Rh[i](t,e,n,r):Lh[i]?[bh(e,n,Lh[i])]:null}var Fh={};function jh(t){var e=t.schema,n=t.toastMark;return new Ke({appendTransaction:function(t,r,i){var o=t[0],s=i.tr;if(o.docChanged){var a=[],u=o.getMeta("editResult");u.forEach((function(t){var e=t.nodes,r=t.removedNodeRange;if(e.length){a=a.concat(zh(s,e));for(var i=0,o=e;i<o.length;i++){var u=o[i],c=u.walker(),l=c.next();while(l){var h=l.node,f=l.entering;f&&(a=a.concat($h(h,n))),l=c.next()}}}else if(r)for(var p=s.doc.childCount-1,d=r.line,m=d[0],v=d[1],g=Math.min(m,p),y=Math.min(v,p),b=g;b<=y;b+=1)Fh[b]=!0})),Uh(s,e,a)}return s.setMeta("widget",o.getMeta("widget"))}})}function Bh(t,e,n){return Object.keys(n).some((function(r){return n[r]!==t.child(e).attrs[r]}))}function Vh(t,e,n,r,i){void 0===i&&(i={});for(var o=r.startIndex,s=r.endIndex,a=r.from,u=r.to,c=!1,l=o;l<=s;l+=1)delete Fh[l],c=Bh(e,l,i);c&&t.setBlockType(a,u,n,i)}function Uh(t,e,n){var r=t.doc,i=e.nodes.paragraph,o=Zl(r,r.childCount);n.forEach((function(n){var s=n.start,a=n.end,u=n.spec,c=n.lineBackground,l=Math.min(s[0],r.childCount)-1,h=Math.min(a[0],r.childCount)-1,f=r.child(l),p=r.child(h),d=o[l],m=o[h];if(d+=s[1]+Ql(f,s[1]-1),m+=a[1]+Ql(p,a[1]-1),u)if(c){var v={from:d,to:m,startIndex:l,endIndex:h};Vh(t,r,i,v,u.attrs)}else t.addMark(d,m,e.mark(u.type,u.attrs));else t.removeMark(d,m)})),qh(t,o,i)}function qh(t,e,n){Object.keys(Fh).forEach((function(r){var i=Number(r),o=Math.min(Number(r)+1,t.doc.childCount-1),s=e[i],a=e[o]-1;i===o&&(a+=2),t.setBlockType(s,a,n)}))}function Hh(t,e,n){var r=[];Fh={};for(var i=e[0]-1;i<n[0];i+=1){var o=t.child(i),s=o.attrs.codeEnd,a=o.attrs.codeStart;if(a&&s&&!Pu(r,a)){r.push(a),s=Math.min(s,t.childCount);for(var u=a-1,c=n[0],l=u;l<c;l+=1)Fh[l]=!0}}}function zh(t,e){var n=t.doc,r=e[0].sourcepos[0],i=Wu(e).sourcepos,o=i[1],s=[r[0],r[1]],a=[o[0],o[1]+1],u=[];return Hh(n,r,o),u.push({start:s,end:a}),u}function $h(t,e){var n=e.getLineTexts(),r=[lc(t),fc(t)],i=[hc(t),pc(t)+1],o=Ph(t,r,i,n[i[0]-1]);return null!==o&&void 0!==o?o:[]}var Gh=["taskList","orderedList","bulletList","table","strong","emph","strike","heading","thematicBreak","blockQuote","code","codeBlock","indent","outdent"];function Wh(t){var e=t.type;return gc(t)?t.listData.task?"taskList":"ordered"===t.listData.type?"orderedList":"bulletList":-1!==e.indexOf("table")?"table":Pu(Gh,e)?e:null}function Kh(t){var e={indent:{active:!1,disabled:!0},outdent:{active:!1,disabled:!0}},n=!0;return Tc(t,(function(t){var r=Wh(t);r&&("bulletList"===r||"orderedList"===r?n&&(e[r]={active:!0},e.indent.disabled=!1,e.outdent.disabled=!1,n=!1):e[r]={active:!0})})),e}function Jh(t){var e=t.toastMark,n=t.eventEmitter;return new Ke({view:function(){return{update:function(t,r){var i=t.state,o=i.doc,s=i.selection;if(!(r&&r.doc.eq(o)&&r.selection.eq(s))){var a=s.from,u=i.doc.resolve(a).start(),c=i.doc.content.findIndex(a).index+1,l=a-u;a===u&&(l+=1);var h=[c,l],f=e.findNodeAtPosition(h),p=Kh(f);n.emit("changeToolbarState",{cursorPos:h,mdNode:f,toolbarState:p}),n.emit("setFocusedNode",f)}}}}})}var Xh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ya(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"doc"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"block+"}},enumerable:!1,configurable:!0}),e}(Bl),Qh=function(){function t(){}return Object.defineProperty(t.prototype,"type",{get:function(){return"mark"},enumerable:!1,configurable:!0}),t.prototype.setContext=function(t){this.context=t},t}();function Yh(t,e){return Zh(t,e-1)}function Zh(t,e){return t.child(e).textContent}var tf=/^\s*> ?/,ef=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ya(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"blockQuote"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:vl("block-quote")},0]}}},enumerable:!1,configurable:!0}),e.prototype.createBlockQuoteText=function(t,e){return e?t.replace(tf,"").trim():"> "+t.trim()},e.prototype.extendBlockQuote=function(){var t=this;return function(e,n){var r=e.selection,i=e.doc,o=e.tr,s=e.schema,a=eh(r),u=a.endFromOffset,c=a.endToOffset,l=a.endIndex,h=a.to,f=Zh(i,l),p=tf.test(f);if(p&&h>u&&r.empty){var d=!f.replace(tf,"").trim();if(d)o.deleteRange(u,c).split(o.mapping.map(c));else{var m=f.slice(h-u).trim(),v=oc(s,t.createBlockQuoteText(m));cc(o,c,m,v)}return n(o),!0}return!1}},e.prototype.commands=function(){var t=this;return function(){return function(e,n){var r=e.selection,i=e.doc,o=eh(r),s=o.startFromOffset,a=o.endToOffset,u=o.startIndex,c=o.endIndex,l=tf.test(Zh(i,u)),h=uc({state:e,startIndex:u,endIndex:c,from:s,createText:function(e){return t.createBlockQuoteText(e,l)}});return n(h.setSelection(sc(h,h.mapping.map(a)))),!0}}},e.prototype.keymaps=function(){var t=this.commands()();return{"alt-q":t,"alt-Q":t,Enter:this.extendBlockQuote()}},e}(Qh),nf=/(^\s*)([-*+] |[\d]+\. )/,rf=/(^\s*)([\d])+\.( \[[ xX]])? /,of=/^(\s*)((\d+)([.)]\s(?:\[(?:x|\s)\]\s)?))(.*)/,sf=/(^\s*)([-*+]|[\d]+\.)( \[[ xX]])? /,af=/^(\s*)([-*+]+(\s(?:\[(?:x|\s)\]\s)?))(.*)/,uf=/(^\s*)([-*+] |[\d]+\. )(\[[ xX]] )/,cf=/(^\s*)([-*+])( \[[ xX]]) /;function lf(t){return rf.test(t)?"ordered":"bullet"}function hf(t){var e=0;while(t&&"document"!==t.type)"list"===t.type&&(e+=1),t=t.parent;return e}function ff(t,e,n,r){var i=t.getLineTexts(),o=i.length,s=[],a=e;while(r?a<o:a>1){a=r?a+1:a-1;var u=t.findFirstNodeAtLine(a),c=hf(u);if(c===n)s.push({line:a,depth:n,mdNode:u});else if(c<n)break}return s}function pf(t){var e=t.toastMark,n=t.mdNode,r=t.line,i=hf(n),o=ff(e,r,i,!1).reverse(),s=ff(e,r,i,!0);return o.concat([{line:r,depth:i,mdNode:n}]).concat(s)}function df(t){if(!nf.test(t))return"* "+t;var e=lf(t);return"bullet"===e&&sf.test(t)?t=t.replace(cf,"$1$2 "):"ordered"===e&&(t=t.replace(rf,"$1* ")),t}function mf(t,e){if(!nf.test(t))return e+". "+t;var n=lf(t);if("bullet"===n||"ordered"===n&&sf.test(t))t=t.replace(sf,"$1"+e+". ");else if("ordered"===n){var r=of.exec(t)[3];Number(r)!==e&&(t=t.replace(rf,"$1"+e+". "))}return t}function vf(t,e,n,r){void 0===r&&(r=0);var i=Number.MAX_VALUE,o=0,s=e.map((function(e,s){var a=e.line;i=Math.min(a-1,i),o=Math.max(a-1,o);var u=Yh(t,a);return u="bullet"===n?df(u):mf(u,s+1+r),{text:u,line:a}}));return{changedResults:s,firstIndex:i,lastIndex:o}}function gf(t,e){var n=pf(e);return vf(e.doc,n,t)}var yf={bullet:function(t){return gf("bullet",t)},ordered:function(t){return gf("ordered",t)},task:function(t){var e=t.mdNode,n=t.doc,r=t.line,i=Yh(n,r);return e.listData.task?i=i.replace(uf,"$1$2"):gc(e)&&(i=i.replace(nf,"$1$2[ ] ")),{changedResults:[{text:i,line:r}]}}},bf={bullet:function(t){var e=t.doc,n=t.line,r=Yh(e,n),i=[{text:"* "+r,line:n}];return{changedResults:i}},ordered:function(t){for(var e=t.toastMark,n=t.doc,r=t.line,i=t.startLine,o=Yh(n,r),s=1,a=i,u=0,c=i-1;c>0;c-=1){var l=e.findFirstNodeAtLine(c),h=Yh(n,c),f=h&&!!_c(l,(function(t){return gc(t)})),p=of.exec(Yh(n,c));if(!p&&!f)break;if(p||!f){var d=p,m=d[1],v=d[3];if(!m){s=Number(v),a=c;break}}else u+=1}var g=s+r-a-u,y=[{text:g+". "+o,line:r}];return{changedResults:y}},task:function(t){var e=t.doc,n=t.line,r=Yh(e,n),i=[{text:"* [ ] "+r,line:n}];return{changedResults:i}}},wf={bullet:function(t){var e=t.line,n=t.doc,r=Yh(n,e),i=af.exec(r),o=i[1],s=i[2];return{listSyntax:""+o+s}},ordered:function(t){var e=t.toastMark,n=t.line,r=t.mdNode,i=t.doc,o=hf(r),s=Yh(i,n),a=of.exec(s),u=a[1],c=a[3],l=a[4],h=Number(c)+1,f=""+u+h+l,p=ff(e,n,o,!0),d=p.filter((function(t){var e=of.exec(Yh(i,t.line));return e&&e[1].length===u.length&&!!_c(t.mdNode,(function(t){return yc(t)}))}));return ba({listSyntax:f},vf(i,d,"ordered",h))}};function kf(t,e,n,r,i){var o=[],s=Yh(t,n),a=of.exec(s);while(a){var u=a[1],c=a[4],l=a[5],h=u.length;if(h===i)o.push(oc(e,""+u+r+c+l)),r+=1,n+=1;else if(h>i){var f=kf(t,e,n,1,h);n=f.line,o=o.concat(f.nodes)}if(h<i||n>t.childCount)break;s=Yh(t,n),a=of.exec(s)}return{nodes:o,line:n}}var _f=/(^\s{1,4})(.*)/;function Tf(t,e,n){return t<e||nf.test(n)||tf.test(n)}function Ef(t,e,n){var r=n.$from;0===r.depth&&(r=t.resolve(r.pos-1));var i=r.node(1),o=r.start(1),s=i.content.size;return i.rangeHasMark(0,s,e.marks.table)&&r.pos-o!==s&&r.pos!==o}function Cf(t,e){var n=e.from,r=e.to;if("indent"===e.type){var i=4;n+=i,r+=(e.lineLen+1)*i}else{var o=e.spaceLenList;n-=o[0];for(var s=0;s<o.length;s+=1)r-=o[s]}return sc(t,n,r)}var xf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ya(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"paragraph"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"inline*",attrs:{className:{default:null},codeStart:{default:null},codeEnd:{default:null}},selectable:!1,group:"block",parseDOM:[{tag:"div"}],toDOM:function(t){var e=t.attrs;return e.className?["div",{class:vl(e.className)},0]:["div",0]}}},enumerable:!1,configurable:!0}),e.prototype.reorderList=function(t,e){var n=this.context,r=n.view,i=n.toastMark,o=n.schema,s=r.state,a=s.tr,u=s.selection,c=s.doc,l=i.findFirstNodeAtLine(t),h=l;while(l&&!bc(l)&&"document"!==l.parent.type)if(l=l.parent,yc(l)){h=l;break}h&&(t=h.sourcepos[0][0]);var f=of.exec(Yh(c,t)),p=f[1],d=f[3],m=p.length,v=kf(c,o,t,Number(d),m),g=v.line,y=v.nodes;e=Math.max(e,g-1);for(var b=nh(c,t-1).startOffset,w=t-1;w<=e-1;w+=1){var k=c.child(w),_=k.nodeSize,T=k.content,E=a.mapping.map(b),C=E+T.size;a.replaceWith(E,C,y[w-t+1]),b+=_}var x=sc(a,u.from,u.to);r.dispatch(a.setSelection(x))},e.prototype.indent=function(t){var e=this;return void 0===t&&(t=!1),function(){return function(n,r){var i=n.schema,o=n.selection,s=n.doc,a=eh(o),u=a.from,c=a.to,l=a.startFromOffset,h=a.startIndex,f=a.endIndex;if(t&&Ef(s,i,o))return!1;var p=Zh(s,h);if(t&&Tf(u,c,p)||!t&&nf.test(p)){var d=uc({state:n,from:l,startIndex:h,endIndex:f,createText:function(t){return"    "+t}}),m={type:"indent",from:u,to:c,lineLen:f-h};r(d.setSelection(Cf(d,m))),of.test(p)&&e.reorderList(h+1,f+1)}else t&&r(n.tr.insert(c,oc(i,"    ")));return!0}}},e.prototype.outdent=function(t){var e=this;return void 0===t&&(t=!1),function(){return function(n,r){var i=n.selection,o=n.doc,s=n.schema,a=eh(i),u=a.from,c=a.to,l=a.startFromOffset,h=a.startIndex,f=a.endIndex;if(t&&Ef(o,s,i))return!1;var p=Zh(o,h);if(t&&Tf(u,c,p)||!t&&nf.test(p)){var d=[],m=uc({state:n,from:l,startIndex:h,endIndex:f,createText:function(t){var e=_f.exec(t);return d.push(e?e[1].length:0),t.replace(_f,"$2")}}),v={type:"outdent",from:u,to:c,spaceLenList:d};r(m.setSelection(Cf(m,v))),of.test(p)&&e.reorderList(h+1,f+1)}else if(t){var g=p.slice(0,c-l),y=g.replace(/\s{1,4}$/,""),b=c-(g.length-y.length);r(n.tr.delete(b,c))}return!0}}},e.prototype.deleteLines=function(){var t=this;return function(e,n){var r=t.context.view,i=eh(e.selection),o=i.startFromOffset,s=i.endToOffset,a=function(){return n(e.tr.deleteRange(o,s)),!0};return Ds(a,ps)(e,n,r)}},e.prototype.moveDown=function(){return function(t,e){var n=t.doc,r=t.tr,i=t.selection,o=t.schema,s=eh(i),a=s.startFromOffset,u=s.endToOffset,c=s.endIndex;if(c<n.content.childCount-1){var l=n.child(c+1),h=l.nodeSize,f=l.textContent;return r.delete(u,u+h).split(a).insert(r.mapping.map(a)-2,oc(o,f)),e(r),!0}return!1}},e.prototype.moveUp=function(){return function(t,e){var n=t.tr,r=t.doc,i=t.selection,o=t.schema,s=eh(i),a=s.startFromOffset,u=s.endToOffset,c=s.startIndex;if(c>0){var l=r.child(c-1),h=l.nodeSize,f=l.textContent;return n.delete(a-h,a).split(n.mapping.map(u)).insert(n.mapping.map(u),oc(o,f)),e(n),!0}return!1}},e.prototype.commands=function(){return{indent:this.indent(),outdent:this.outdent()}},e.prototype.keymaps=function(){return{Tab:this.indent(!0)(),"Shift-Tab":this.outdent(!0)(),"Mod-d":this.deleteLines(),"Mod-D":this.deleteLines(),"Alt-ArrowUp":this.moveUp(),"Alt-ArrowDown":this.moveDown()}},e}(Bl),Sf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ya(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"text"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{group:"inline"}},enumerable:!1,configurable:!0}),e}(Bl),If=/^#{1,6}\s/,Af=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ya(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"heading"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{level:{default:1},seText:{default:!1}},toDOM:function(t){var e=t.attrs,n=e.level,r=e.seText,i="heading|heading"+n;return r&&(i+="|delimiter|setext"),["span",{class:vl.apply(void 0,i.split("|"))},0]}}},enumerable:!1,configurable:!0}),e.prototype.createHeadingText=function(t,e,n){var r=e.replace(n,"").trim(),i="";while(t>0)i+="#",t-=1;return i+" "+r},e.prototype.commands=function(){var t=this;return function(e){return function(n,r){var i=e.level,o=eh(n.selection),s=o.startFromOffset,a=o.endToOffset,u=o.startIndex,c=o.endIndex,l=uc({state:n,from:s,startIndex:u,endIndex:c,createText:function(e){var n=e.match(If),r=n?n[0]:"";return t.createHeadingText(i,e,r)}});return r(l.setSelection(sc(l,l.mapping.map(a)))),!0}}},e}(Qh),Nf="```",Of=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ya(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"codeBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:vl("code-block")},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,e){var n=t.selection,r=t.schema,i=t.tr,o=eh(n),s=o.startFromOffset,a=o.endToOffset,u=oc(r,Nf);return i.insert(s,u).split(s+Nf.length),i.split(i.mapping.map(a)).insert(i.mapping.map(a),u),e(i.setSelection(sc(i,i.mapping.map(a)-(Nf.length+2)))),!0}}},e.prototype.keepIndentation=function(){var t=this;return function(e,n){var r=e.selection,i=e.tr,o=e.doc,s=e.schema,a=t.context.toastMark,u=eh(r),c=u.startFromOffset,l=u.endToOffset,h=u.endIndex,f=u.from,p=u.to,d=Zh(o,h);if(f===p&&d.trim()){var m=d.match(/^\s+/),v=a.findFirstNodeAtLine(h+1);if(vc(v)&&m){var g=m[0],y=d.slice(p-c),b=oc(s,g+y);return cc(i,l,y,b),n(i),!0}}return!1}},e.prototype.keymaps=function(){var t=this.commands()();return{"Shift-Mod-p":t,"Shift-Mod-P":t,Enter:this.keepIndentation()}},e}(Qh),Df=/\||\s/g;function Mf(t){return[Lf(t),Lf(t,!0)]}function Rf(t,e){for(var n=[],r=0;r<e;r+=1)n.push(Lf(t));return n}function Lf(t,e){for(var n="|",r=0;r<t;r+=1)n+=e?" --- |":"  |";return n}function Pf(t){return t?{type:"next",parentType:"tableHead",childType:"firstChild"}:{type:"prev",parentType:"tableBody",childType:"lastChild"}}var Ff=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ya(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"table"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:vl("table")},0]}}},enumerable:!1,configurable:!0}),e.prototype.extendTable=function(){var t=this;return function(e,n){var r=e.selection,i=e.doc,o=e.tr,s=e.schema;if(!r.empty)return!1;var a=eh(r),u=a.endFromOffset,c=a.endToOffset,l=a.endIndex,h=a.to,f=Zh(i,l),p=[l+1,h-u+1],d=t.context.toastMark.findNodeAtPosition(p),m=_c(d,(function(t){return wc(t)&&("tableDelimRow"===t.parent.type||"tableBody"===t.parent.parent.type)}));if(m){var v=!f.replace(Df,"").trim(),g=m.parent,y=g.parent.parent.columns.length,b=Lf(y);return v?o.deleteRange(u,c).split(o.mapping.map(c)):o.split(c).insert(o.mapping.map(c),oc(s,b)).setSelection(sc(o,o.mapping.map(c)-2)),n(o),!0}return!1}},e.prototype.moveTableCell=function(t){var e=this;return function(n,r){var i=n.selection,o=n.tr,s=eh(i),a=s.endFromOffset,u=s.endIndex,c=s.to,l=[u+1,c-a],h=e.context.toastMark.findNodeAtPosition(l),f=_c(h,(function(t){return wc(t)}));if(f){var p=f.parent,d=Pf(t),m=d.type,v=d.parentType,g=d.childType,y=pc(f);if(f[m])y=pc(f[m])-1;else{var b=p[m]||p.parent.type!==v?p[m]:p.parent[m][g];if("next"===m){var w=b?pc(b[g]):0;y+=w+2}else"prev"===m&&(y=b?-4:0)}return r(o.setSelection(sc(o,a+y))),!0}return!1}},e.prototype.addTable=function(){return function(t){return function(e,n){var r=e.selection,i=e.tr,o=e.schema,s=t,a=s.columnCount,u=s.rowCount,c=eh(r).endToOffset,l=Mf(a),h=Rf(a,u-1),f=wa(wa([],l),h);return f.forEach((function(t){i.split(i.mapping.map(c)).insert(i.mapping.map(c),oc(o,t))})),n(i.setSelection(sc(i,c+4))),!0}}},e.prototype.commands=function(){return{addTable:this.addTable()}},e.prototype.keymaps=function(){return{Enter:this.extendTable(),Tab:this.moveTableCell(!0),"Shift-Tab":this.moveTableCell(!1)}},e}(Qh),jf="***",Bf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ya(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"thematicBreak"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:vl("thematic-break")},0]}}},enumerable:!1,configurable:!0}),e.prototype.hr=function(){return function(){return function(t,e){var n=t.selection,r=t.schema,i=t.tr,o=eh(n),s=o.from,a=o.to,u=o.endToOffset,c=oc(r,jf);return i.split(s).replaceWith(i.mapping.map(s),i.mapping.map(a),c).split(i.mapping.map(a)).setSelection(sc(i,i.mapping.map(u))),e(i),!0}}},e.prototype.commands=function(){return{hr:this.hr()}},e.prototype.keymaps=function(){var t=this.hr()();return{"Mod-l":t,"Mod-L":t}},e}(Qh);function Vf(t,e){var n=t.type,r=t.sourcepos,i=r[0][0];return e<=i&&("codeBlock"===n||"heading"===n||n.match("table"))}var Uf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ya(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"listItem"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{odd:{default:!1},even:{default:!1},listStyle:{default:!1}},toDOM:function(t){var e=t.attrs,n=e.odd,r=e.even,i=e.listStyle,o="list-item";return i&&(o+="|list-item-style"),n&&(o+="|list-item-odd"),r&&(o+="|list-item-even"),["span",{class:vl.apply(void 0,o.split("|"))},0]}}},enumerable:!1,configurable:!0}),e.prototype.extendList=function(){var t=this;return function(e,n){var r=e.selection,i=e.doc,o=e.schema,s=e.tr,a=t.context.toastMark,u=eh(r),c=u.to,l=u.startFromOffset,h=u.endFromOffset,f=u.endIndex,p=u.endToOffset,d=Zh(i,f),m=nf.test(d);if(!m||r.from===l||!r.empty)return!1;var v=!d.replace(sf,"").trim();if(v)s.deleteRange(h,p).split(s.mapping.map(p));else{var g=lf(d),y=a.findFirstNodeAtLine(f+1),b=d.slice(c-h),w={toastMark:a,mdNode:y,doc:i,line:f+1},k=wf[g](w),_=k.listSyntax,T=k.changedResults;if(null===T||void 0===T?void 0:T.length){s.split(c),T.unshift({text:_+b,line:f+1}),t.changeToListPerLine(s,T,{from:c,startLine:T[0].line,endLine:Wu(T).line});var E=s.mapping.map(p)-b.length;s.setSelection(sc(s,E))}else{var C=oc(o,_+b);cc(s,p,b,C)}}return n(s),!0}},e.prototype.toList=function(t){var e=this;return function(){return function(n,r){for(var i=n.doc,o=n.tr,s=n.selection,a=e.context.toastMark,u=eh(s),c=u.startIndex+1,l=u.endIndex+1,h=u.endToOffset,f=[],p=c;p<=l;p+=1){var d=a.findFirstNodeAtLine(p);if(d&&Vf(d,p))break;if(-1===f.indexOf(p)){var m={toastMark:a,mdNode:d,doc:i,line:p,startLine:c},v=(gc(d)?yf[t](m):bf[t](m)).changedResults,g=e.changeToListPerLine(o,v,{from:nh(i,v[0].line-1).startOffset,startLine:v[0].line,endLine:Wu(v).line,indexDiff:1});h=Math.max(g,h),v&&(f=f.concat(v.map((function(t){return t.line}))))}}return r(o.setSelection(sc(o,o.mapping.map(h)))),!0}}},e.prototype.changeToListPerLine=function(t,e,n){for(var r=n.from,i=n.startLine,o=n.endLine,s=n.indexDiff,a=void 0===s?0:s,u=0,c=function(n){var i=t.doc.child(n),o=i.nodeSize,s=i.content,c=t.mapping.map(r),h=c+s.size,f=e.filter((function(t){return t.line-a===n}))[0];f&&(t.replaceWith(c,h,oc(l.context.schema,f.text)),u=Math.max(u,r+s.size)),r+=o},l=this,h=i-a;h<=o-a;h+=1)c(h);return u},e.prototype.toggleTask=function(){var t=this;return function(e,n){for(var r=e.selection,i=e.tr,o=e.doc,s=e.schema,a=t.context.toastMark,u=eh(r),c=u.startIndex,l=u.endIndex,h=null,f=c;f<=l;f+=1){var p=a.findFirstNodeAtLine(f+1);if(gc(p)&&p.listData.task){var d=p.listData,m=d.checked,v=d.padding,g=m?" ":"x",y=p.sourcepos[0],b=nh(o,y[0]-1).startOffset;b+=y[1]+v,h=i.replaceWith(b,b+1,s.text(g))}}return!!h&&(n(h),!0)}},e.prototype.commands=function(){return{bulletList:this.toList("bullet"),orderedList:this.toList("ordered"),taskList:this.toList("task")}},e.prototype.keymaps=function(){var t=this.toList("bullet")(),e=this.toList("ordered")(),n=this.toList("task")(),r=this.toggleTask();return{"Mod-u":t,"Mod-U":t,"Mod-o":e,"Mod-O":e,"alt-t":n,"alt-T":n,"Shift-Ctrl-x":r,"Shift-Ctrl-X":r,Enter:this.extendList()}},e}(Qh);function qf(t,e){return function(){return function(n,r){var i=n.tr,o=n.selection,s=$l(t)?t:function(e){return t.test(e)},a=e.length,u=i.doc,c=Jl(o),l=c[0],h=c[1],f=Math.max(l-a,1),p=Math.min(h+a,u.content.size-1),d=o.content(),m=d.content.textBetween(0,d.content.size,"\n"),v=u.textBetween(f,l,"\n"),g=u.textBetween(h,p,"\n");if(m=""+v+m+g,v&&g&&s(m))i.delete(p-a,p).delete(f,f+a);else{i.insertText(e,h).insertText(e,l);var y=o.empty?sc(i,l+a):sc(i,l+a,h+a);i.setSelection(y)}return r(i),!0}}}var Hf=/^(\*{2}|_{2}).*([\s\S]*)\1$/m,zf="**",$f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ya(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"strong"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:vl("strong")},0]}}},enumerable:!1,configurable:!0}),e.prototype.bold=function(){return qf(Hf,zf)},e.prototype.commands=function(){return{bold:this.bold()}},e.prototype.keymaps=function(){var t=this.bold()();return{"Mod-b":t,"Mod-B":t}},e}(Qh),Gf=/^(~{2}).*([\s\S]*)\1$/m,Wf="~~",Kf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ya(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"strike"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:vl("strike")},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return qf(Gf,Wf)},e.prototype.keymaps=function(){var t=this.commands()();return{"Mod-s":t,"Mod-S":t}},e}(Qh),Jf=/^(\*|_).*([\s\S]*)\1$/m,Xf="*",Qf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ya(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"emph"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:vl("emph")},0]}}},enumerable:!1,configurable:!0}),e.prototype.italic=function(){return qf(Jf,Xf)},e.prototype.commands=function(){return{italic:this.italic()}},e.prototype.keymaps=function(){var t=this.italic()();return{"Mod-i":t,"Mod-I":t}},e}(Qh),Yf=/^(`).*([\s\S]*)\1$/m,Zf="`",tp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ya(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"code"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{start:{default:!1},end:{default:!1},marked:{default:!1}},toDOM:function(t){var e=t.attrs,n=e.start,r=e.end,i=e.marked,o="code";return n&&(o+="|delimiter|start"),r&&(o+="|delimiter|end"),i&&(o+="|marked-text"),["span",{class:vl.apply(void 0,o.split("|"))},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return qf(Yf,Zf)},e.prototype.keymaps=function(){var t=this.commands()();return{"Shift-Mod-c":t,"Shift-Mod-C":t}},e}(Qh),ep=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ya(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"link"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{url:{default:!1},desc:{default:!1}},toDOM:function(t){var e=t.attrs,n=e.url,r=e.desc,i="link";return n&&(i+="|link-url|marked-text"),r&&(i+="|link-desc|marked-text"),["span",{class:vl.apply(void 0,i.split("|"))},0]}}},enumerable:!1,configurable:!0}),e.prototype.addLinkOrImage=function(t){return function(e){return function(n,r){var i=n.selection,o=n.tr,s=n.schema,a=Jl(i),u=a[0],c=a[1],l=e,h=l.linkText,f=l.altText,p=l.linkUrl,d=l.imageUrl,m=h,v=p,g="";return"image"===t&&(m=f,v=d,g="!"),m=qu(m),g+="["+m+"]("+v+")",r(o.replaceWith(u,c,oc(s,g))),!0}}},e.prototype.commands=function(){return{addImage:this.addLinkOrImage("image"),addLink:this.addLinkOrImage("link")}},e}(Qh),np=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ya(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"taskDelimiter"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:vl("delimiter","list-item")},0]}}},enumerable:!1,configurable:!0}),e}(Qh),rp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ya(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"delimiter"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:vl("delimiter")},0]}}},enumerable:!1,configurable:!0}),e}(Qh),ip=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ya(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"meta"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:vl("meta")},0]}}},enumerable:!1,configurable:!0}),e}(Qh),op=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ya(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"markedText"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:vl("marked-text")},0]}}},enumerable:!1,configurable:!0}),e}(Qh),sp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ya(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"tableCell"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:vl("table-cell")},0]}}},enumerable:!1,configurable:!0}),e}(Qh),ap=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ya(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"html"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:vl("html")},0]}}},enumerable:!1,configurable:!0}),e}(Qh),up="$$",cp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ya(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"customBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:vl("custom-block")},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(t){return function(e,n){var r=e.selection,i=e.schema,o=e.tr,s=eh(r),a=s.startFromOffset,u=s.endToOffset;if(!(null===t||void 0===t?void 0:t.info))return!1;var c=""+up+t.info,l=oc(i,c),h=oc(i,up);return o.insert(a,l).split(a+c.length),o.split(o.mapping.map(u)).insert(o.mapping.map(u),h),n(o.setSelection(sc(o,o.mapping.map(u)-(up.length+2)))),!0}}},e}(Qh),lp=/x|backspace/i,hp=/^\[(\s*)(x?)(\s*)\](?:\s+)/i;function fp(t){var e=t.schema,n=t.toastMark;return new Ke({props:{handleDOMEvents:{keyup:function(t,r){var i,o=t.state,s=o.doc,a=o.tr,u=o.selection;if(u.empty&&lp.test(r.key)){var c=eh(u),l=c.startIndex,h=c.startFromOffset,f=c.from,p=[l+1,f-h+1],d=n.findNodeAtPosition(p),m=_c(d,(function(t){var e;return"paragraph"===t.type&&"item"===(null===(e=t.parent)||void 0===e?void 0:e.type)}));if(null===(i=null===m||void 0===m?void 0:m.firstChild)||void 0===i?void 0:i.literal){var v=m.firstChild,g=v.literal.match(hp);if(g){var y=v.sourcepos[0],b=g[1],w=g[2],k=g[3],_=b.length+k.length,T=nh(s,y[0]-1).startOffset,E=y[1]+T;if(w){var C=_?_+1:0;a.replaceWith(E,C+E,e.text(w)),t.dispatch(a)}else _||(a.insertText(" ",E),t.dispatch(a))}}}return!1}}}})}var pp="cut",dp=/\r\n|\n|\r/,mp=function(t){function e(e,n){var r=t.call(this,e)||this,i=n.toastMark,o=n.useCommandShortcut,s=void 0===o||o,a=n.mdPlugins,u=void 0===a?[]:a;return r.editorType="markdown",r.el.classList.add("md-mode"),r.toastMark=i,r.extraPlugins=u,r.specs=r.createSpecs(),r.schema=r.createSchema(),r.context=r.createContext(),r.keymaps=r.createKeymaps(s),r.view=r.createView(),r.commands=r.createCommands(),r.specs.setContext(ba(ba({},r.context),{view:r.view})),r.createClipboard(),r.eventEmitter.listen("changePreviewTabWrite",(function(t){return r.toggleActive(!0,t)})),r.eventEmitter.listen("changePreviewTabPreview",(function(){return r.toggleActive(!1)})),r.initEvent(),r}return ya(e,t),e.prototype.toggleActive=function(t,e){El(this.el,"active",t),t?e||this.focus():this.blur()},e.prototype.createClipboard=function(){var t=this;this.clipboard=document.createElement("textarea"),this.clipboard.className=ml("pseudo-clipboard"),this.clipboard.addEventListener("paste",(function(e){var n=e.clipboardData||window.clipboardData,r=n&&n.items;if(r){var i=rc(r).some((function(t){return"string"===t.kind&&"text/rtf"===t.type}));if(!i){var o=Fl(r);o&&(e.preventDefault(),Pl(t.eventEmitter,o,e.type))}}})),this.clipboard.addEventListener("input",(function(e){var n=e.target.value;t.replaceSelection(n),e.preventDefault(),e.target.value=""})),this.el.insertBefore(this.clipboard,this.view.dom)},e.prototype.createContext=function(){return{toastMark:this.toastMark,schema:this.schema,eventEmitter:this.eventEmitter}},e.prototype.createSpecs=function(){return new Kl([new Xh,new xf,new ql,new Sf,new Af,new ef,new Of,new cp,new Ff,new sp,new Bf,new Uf,new $f,new Kf,new Qf,new tp,new ep,new rp,new np,new op,new ip,new ap])},e.prototype.createPlugins=function(){return this.defaultPlugins.concat(wa([jh(this.context),Jh(this.context),fp(this.context)],this.createPluginProps()))},e.prototype.createView=function(){var t=this;return new Lo(this.el,{state:this.createState(),dispatchTransaction:function(e){t.updateMarkdown(e);var n=t.view.state.applyTransaction(e).state;t.view.updateState(n),t.emitChangeEvent(e)},handleKeyDown:function(e,n){return(n.metaKey||n.ctrlKey)&&"V"===n.key.toUpperCase()&&t.clipboard.focus(),t.eventEmitter.emit("keydown",t.editorType,n),!1},handleDOMEvents:{copy:function(e,n){return t.captureCopy(n)},cut:function(e,n){return t.captureCopy(n,pp)},scroll:function(){return t.eventEmitter.emit("scroll","editor"),!0},keyup:function(e,n){return t.eventEmitter.emit("keyup",t.editorType,n),!1}},nodeViews:{widget:Vl}})},e.prototype.createCommands=function(){return this.specs.commands(this.view)},e.prototype.captureCopy=function(t,e){t.preventDefault();var n=this.view.state,r=n.selection,i=n.tr;if(r.empty)return!0;var o=this.getChanged(r.content());return t.clipboardData?t.clipboardData.setData("text/plain",o):window.clipboardData.setData("Text",o),e===pp&&this.view.dispatch(i.deleteSelection().scrollIntoView().setMeta("uiEvent",pp)),!0},e.prototype.updateMarkdown=function(t){var e=this;t.docChanged&&t.steps.forEach((function(n,r){if(n.slice&&!(n instanceof Jt)){var i=t.docs[r],o=[n.from,n.to],s=o[0],a=o[1],u=Yl(i,s,a),c=u[0],l=u[1],h=e.getChanged(n.slice);c[0]===l[0]&&c[1]===l[1]&&""===h&&(h="\n");var f=e.toastMark.editMarkdown(c,l,h);e.eventEmitter.emit("updatePreview",f),t.setMeta("editResult",f).scrollIntoView()}}))},e.prototype.getChanged=function(t){var e="",n=0,r=t.content.size;return t.content.nodesBetween(n,r,(function(t,i){t.isText?e+=t.text.slice(Math.max(n,i)-i,r-i):t.isBlock&&i>0&&(e+="\n")})),e},e.prototype.setSelection=function(t,e){void 0===e&&(e=t);var n=this.view.state.tr,r=th(n.doc,t,e),i=r[0],o=r[1];this.view.dispatch(n.setSelection(sc(n,i,o)).scrollIntoView())},e.prototype.replaceSelection=function(t,e,n){var r,i=this.view.state,o=i.tr,s=i.schema,a=i.doc,c=t.split(dp),l=c.map((function(t){return ic(s,jc(t,s))})),h=new m(u.from(l),1,1);if(this.focus(),e&&n){var f=th(a,e,n),p=f[0],d=f[1];r=o.replaceRange(p,d,h)}else r=o.replaceSelection(h);this.view.dispatch(r.scrollIntoView())},e.prototype.deleteSelection=function(t,e){var n,r=this.view.state,i=r.tr,o=r.doc;if(t&&e){var s=th(o,t,e),a=s[0],u=s[1];n=i.deleteRange(a,u)}else n=i.deleteSelection();this.view.dispatch(n.scrollIntoView())},e.prototype.getSelectedText=function(t,e){var n=this.view.state,r=n.doc,i=n.selection,o=i.from,s=i.to;if(t&&e){var a=th(r,t,e);o=a[0],s=a[1]}return r.textBetween(o,s,"\n")},e.prototype.getSelection=function(){var t=this.view.state.selection,e=t.from,n=t.to;return Yl(this.view.state.tr.doc,e,n)},e.prototype.setMarkdown=function(t,e){void 0===e&&(e=!0);var n=t.split(dp),r=this.view.state,i=r.tr,o=r.doc,s=r.schema,a=n.map((function(t){return ic(s,jc(t,s))}));this.view.dispatch(i.replaceWith(0,o.content.size,a)),e&&this.moveCursorToEnd(!0)},e.prototype.addWidget=function(t,e,n){var r=this.view.state,i=r.tr,o=r.doc,s=r.selection,a=n?th(o,n,n)[0]:s.to;this.view.dispatch(i.setMeta("widget",{pos:a,node:t,style:e}))},e.prototype.replaceWithWidget=function(t,e,n){var r=this.view.state,i=r.tr,o=r.schema,s=r.doc,a=th(s,t,e),u=jc(n,o);this.view.dispatch(i.replaceWith(a[0],a[1],u))},e.prototype.getRangeInfoOfNode=function(t){var e=this.view.state,n=e.doc,r=e.selection,i=t||Yl(n,r.from)[0],o=this.toastMark.findNodeAtPosition(i);return"text"===o.type&&"paragraph"!==o.parent.type&&(o=o.parent),o.sourcepos[1][1]+=1,{range:o.sourcepos,type:o.type}},e.prototype.getMarkdown=function(){return this.toastMark.getLineTexts().map((function(t){return Dc(t)})).join("\n")},e.prototype.getToastMark=function(){return this.toastMark},e}(Hl),vp="_feEventKey";function gp(t,e){var n,r=t[vp];return r||(r=t[vp]={}),n=r[e],n||(n=r[e]=[]),n}var yp=gp,bp=Sa,wp=Pa,kp=yp;function _p(t,e,n){bp(e)?wp(e.split(/\s+/g),(function(e){Tp(t,e,n)})):wp(e,(function(e,n){Tp(t,n,e)}))}function Tp(t,e,n){var r,i=kp(t,e);n?(wp(i,(function(i,o){return n!==i.handler||(Ep(t,e,i.wrappedHandler),r=o,!1)})),i.splice(r,1)):(wp(i,(function(n){Ep(t,e,n.wrappedHandler)})),i.splice(0,i.length))}function Ep(t,e,n){"removeEventListener"in t?t.removeEventListener(e,n):"detachEvent"in t&&t.detachEvent("on"+e,n)}var Cp=_p,xp=Sa,Sp=Pa,Ip=yp;function Ap(t,e,n,r){xp(e)?Sp(e.split(/\s+/g),(function(e){Np(t,e,n,r)})):Sp(e,(function(e,r){Np(t,r,e,n)}))}function Np(t,e,n,r){function i(e){n.call(r||t,e||window.event)}"addEventListener"in t?t.addEventListener(e,i):"attachEvent"in t&&t.attachEvent("on"+e,i),Op(t,e,n,i)}function Op(t,e,n,r){var i=Ip(t,e),o=!1;Sp(i,(function(t){return t.handler!==n||(o=!0,!1)})),o||i.push({handler:n,wrappedHandler:r})}var Dp=Ap,Mp=function(t,e){return Mp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},Mp(t,e)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Rp(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Mp(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var Lp=function(){return Lp=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Lp.apply(this,arguments)};function Pp(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}var Fp="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},jp={};function Bp(t){var e,n,r=jp[t];if(r)return r;for(r=jp[t]=[],e=0;e<128;e++)n=String.fromCharCode(e),/^[0-9a-z]$/i.test(n)?r.push(n):r.push("%"+("0"+e.toString(16).toUpperCase()).slice(-2));for(e=0;e<t.length;e++)r[t.charCodeAt(e)]=t[e];return r}function Vp(t,e,n){var r,i,o,s,a,u="";for("string"!==typeof e&&(n=e,e=Vp.defaultChars),"undefined"===typeof n&&(n=!0),a=Bp(e),r=0,i=t.length;r<i;r++)if(o=t.charCodeAt(r),n&&37===o&&r+2<i&&/^[0-9a-f]{2}$/i.test(t.slice(r+1,r+3)))u+=t.slice(r,r+3),r+=2;else if(o<128)u+=a[o];else if(o>=55296&&o<=57343){if(o>=55296&&o<=56319&&r+1<i&&(s=t.charCodeAt(r+1),s>=56320&&s<=57343)){u+=encodeURIComponent(t[r]+t[r+1]),r++;continue}u+="%EF%BF%BD"}else u+=encodeURIComponent(t[r]);return u}Vp.defaultChars=";/?:@&=+$,-_.!~*'()#",Vp.componentChars="-_.!~*'()";var Up=Vp,qp={},Hp={},zp="Á",$p="á",Gp="Ă",Wp="ă",Kp="∾",Jp="∿",Xp="∾̳",Qp="Â",Yp="â",Zp="´",td="А",ed="а",nd="Æ",rd="æ",id="⁡",od="𝔄",sd="𝔞",ad="À",ud="à",cd="ℵ",ld="ℵ",hd="Α",fd="α",pd="Ā",dd="ā",md="⨿",vd="&",gd="&",yd="⩕",bd="⩓",wd="∧",kd="⩜",_d="⩘",Td="⩚",Ed="∠",Cd="⦤",xd="∠",Sd="⦨",Id="⦩",Ad="⦪",Nd="⦫",Od="⦬",Dd="⦭",Md="⦮",Rd="⦯",Ld="∡",Pd="∟",Fd="⊾",jd="⦝",Bd="∢",Vd="Å",Ud="⍼",qd="Ą",Hd="ą",zd="𝔸",$d="𝕒",Gd="⩯",Wd="≈",Kd="⩰",Jd="≊",Xd="≋",Qd="'",Yd="⁡",Zd="≈",tm="≊",em="Å",nm="å",rm="𝒜",im="𝒶",om="≔",sm="*",am="≈",um="≍",cm="Ã",lm="ã",hm="Ä",fm="ä",pm="∳",dm="⨑",mm="≌",vm="϶",gm="‵",ym="∽",bm="⋍",wm="∖",km="⫧",_m="⊽",Tm="⌅",Em="⌆",Cm="⌅",xm="⎵",Sm="⎶",Im="≌",Am="Б",Nm="б",Om="„",Dm="∵",Mm="∵",Rm="∵",Lm="⦰",Pm="϶",Fm="ℬ",jm="ℬ",Bm="Β",Vm="β",Um="ℶ",qm="≬",Hm="𝔅",zm="𝔟",$m="⋂",Gm="◯",Wm="⋃",Km="⨀",Jm="⨁",Xm="⨂",Qm="⨆",Ym="★",Zm="▽",tv="△",ev="⨄",nv="⋁",rv="⋀",iv="⤍",ov="⧫",sv="▪",av="▴",uv="▾",cv="◂",lv="▸",hv="␣",fv="▒",pv="░",dv="▓",mv="█",vv="=⃥",gv="≡⃥",yv="⫭",bv="⌐",wv="𝔹",kv="𝕓",_v="⊥",Tv="⊥",Ev="⋈",Cv="⧉",xv="┐",Sv="╕",Iv="╖",Av="╗",Nv="┌",Ov="╒",Dv="╓",Mv="╔",Rv="─",Lv="═",Pv="┬",Fv="╤",jv="╥",Bv="╦",Vv="┴",Uv="╧",qv="╨",Hv="╩",zv="⊟",$v="⊞",Gv="⊠",Wv="┘",Kv="╛",Jv="╜",Xv="╝",Qv="└",Yv="╘",Zv="╙",tg="╚",eg="│",ng="║",rg="┼",ig="╪",og="╫",sg="╬",ag="┤",ug="╡",cg="╢",lg="╣",hg="├",fg="╞",pg="╟",dg="╠",mg="‵",vg="˘",gg="˘",yg="¦",bg="𝒷",wg="ℬ",kg="⁏",_g="∽",Tg="⋍",Eg="⧅",Cg="\\",xg="⟈",Sg="•",Ig="•",Ag="≎",Ng="⪮",Og="≏",Dg="≎",Mg="≏",Rg="Ć",Lg="ć",Pg="⩄",Fg="⩉",jg="⩋",Bg="∩",Vg="⋒",Ug="⩇",qg="⩀",Hg="ⅅ",zg="∩︀",$g="⁁",Gg="ˇ",Wg="ℭ",Kg="⩍",Jg="Č",Xg="č",Qg="Ç",Yg="ç",Zg="Ĉ",ty="ĉ",ey="∰",ny="⩌",ry="⩐",iy="Ċ",oy="ċ",sy="¸",ay="¸",uy="⦲",cy="¢",ly="·",hy="·",fy="𝔠",py="ℭ",dy="Ч",my="ч",vy="✓",gy="✓",yy="Χ",by="χ",wy="ˆ",ky="≗",_y="↺",Ty="↻",Ey="⊛",Cy="⊚",xy="⊝",Sy="⊙",Iy="®",Ay="Ⓢ",Ny="⊖",Oy="⊕",Dy="⊗",My="○",Ry="⧃",Ly="≗",Py="⨐",Fy="⫯",jy="⧂",By="∲",Vy="”",Uy="’",qy="♣",Hy="♣",zy=":",$y="∷",Gy="⩴",Wy="≔",Ky="≔",Jy=",",Xy="@",Qy="∁",Yy="∘",Zy="∁",tb="ℂ",eb="≅",nb="⩭",rb="≡",ib="∮",ob="∯",sb="∮",ab="𝕔",ub="ℂ",cb="∐",lb="∐",hb="©",fb="©",pb="℗",db="∳",mb="↵",vb="✗",gb="⨯",yb="𝒞",bb="𝒸",wb="⫏",kb="⫑",_b="⫐",Tb="⫒",Eb="⋯",Cb="⤸",xb="⤵",Sb="⋞",Ib="⋟",Ab="↶",Nb="⤽",Ob="⩈",Db="⩆",Mb="≍",Rb="∪",Lb="⋓",Pb="⩊",Fb="⊍",jb="⩅",Bb="∪︀",Vb="↷",Ub="⤼",qb="⋞",Hb="⋟",zb="⋎",$b="⋏",Gb="¤",Wb="↶",Kb="↷",Jb="⋎",Xb="⋏",Qb="∲",Yb="∱",Zb="⌭",tw="†",ew="‡",nw="ℸ",rw="↓",iw="↡",ow="⇓",sw="‐",aw="⫤",uw="⊣",cw="⤏",lw="˝",hw="Ď",fw="ď",pw="Д",dw="д",mw="‡",vw="⇊",gw="ⅅ",yw="ⅆ",bw="⤑",ww="⩷",kw="°",_w="∇",Tw="Δ",Ew="δ",Cw="⦱",xw="⥿",Sw="𝔇",Iw="𝔡",Aw="⥥",Nw="⇃",Ow="⇂",Dw="´",Mw="˙",Rw="˝",Lw="`",Pw="˜",Fw="⋄",jw="⋄",Bw="⋄",Vw="♦",Uw="♦",qw="¨",Hw="ⅆ",zw="ϝ",$w="⋲",Gw="÷",Ww="÷",Kw="⋇",Jw="⋇",Xw="Ђ",Qw="ђ",Yw="⌞",Zw="⌍",tk="$",ek="𝔻",nk="𝕕",rk="¨",ik="˙",ok="⃜",sk="≐",ak="≑",uk="≐",ck="∸",lk="∔",hk="⊡",fk="⌆",pk="∯",dk="¨",mk="⇓",vk="⇐",gk="⇔",yk="⫤",bk="⟸",wk="⟺",kk="⟹",_k="⇒",Tk="⊨",Ek="⇑",Ck="⇕",xk="∥",Sk="⤓",Ik="↓",Ak="↓",Nk="⇓",Ok="⇵",Dk="̑",Mk="⇊",Rk="⇃",Lk="⇂",Pk="⥐",Fk="⥞",jk="⥖",Bk="↽",Vk="⥟",Uk="⥗",qk="⇁",Hk="↧",zk="⊤",$k="⤐",Gk="⌟",Wk="⌌",Kk="𝒟",Jk="𝒹",Xk="Ѕ",Qk="ѕ",Yk="⧶",Zk="Đ",t_="đ",e_="⋱",n_="▿",r_="▾",i_="⇵",o_="⥯",s_="⦦",a_="Џ",u_="џ",c_="⟿",l_="É",h_="é",f_="⩮",p_="Ě",d_="ě",m_="Ê",v_="ê",g_="≖",y_="≕",b_="Э",w_="э",k_="⩷",__="Ė",T_="ė",E_="≑",C_="ⅇ",x_="≒",S_="𝔈",I_="𝔢",A_="⪚",N_="È",O_="è",D_="⪖",M_="⪘",R_="⪙",L_="∈",P_="⏧",F_="ℓ",j_="⪕",B_="⪗",V_="Ē",U_="ē",q_="∅",H_="∅",z_="◻",$_="∅",G_="▫",W_=" ",K_=" ",J_=" ",X_="Ŋ",Q_="ŋ",Y_=" ",Z_="Ę",tT="ę",eT="𝔼",nT="𝕖",rT="⋕",iT="⧣",oT="⩱",sT="ε",aT="Ε",uT="ε",cT="ϵ",lT="≖",hT="≕",fT="≂",pT="⪖",dT="⪕",mT="⩵",vT="=",gT="≂",yT="≟",bT="⇌",wT="≡",kT="⩸",_T="⧥",TT="⥱",ET="≓",CT="ℯ",xT="ℰ",ST="≐",IT="⩳",AT="≂",NT="Η",OT="η",DT="Ð",MT="ð",RT="Ë",LT="ë",PT="€",FT="!",jT="∃",BT="∃",VT="ℰ",UT="ⅇ",qT="ⅇ",HT="≒",zT="Ф",$T="ф",GT="♀",WT="ﬃ",KT="ﬀ",JT="ﬄ",XT="𝔉",QT="𝔣",YT="ﬁ",ZT="◼",tE="▪",eE="fj",nE="♭",rE="ﬂ",iE="▱",oE="ƒ",sE="𝔽",aE="𝕗",uE="∀",cE="∀",lE="⋔",hE="⫙",fE="ℱ",pE="⨍",dE="½",mE="⅓",vE="¼",gE="⅕",yE="⅙",bE="⅛",wE="⅔",kE="⅖",_E="¾",TE="⅗",EE="⅜",CE="⅘",xE="⅚",SE="⅝",IE="⅞",AE="⁄",NE="⌢",OE="𝒻",DE="ℱ",ME="ǵ",RE="Γ",LE="γ",PE="Ϝ",FE="ϝ",jE="⪆",BE="Ğ",VE="ğ",UE="Ģ",qE="Ĝ",HE="ĝ",zE="Г",$E="г",GE="Ġ",WE="ġ",KE="≥",JE="≧",XE="⪌",QE="⋛",YE="≥",ZE="≧",tC="⩾",eC="⪩",nC="⩾",rC="⪀",iC="⪂",oC="⪄",sC="⋛︀",aC="⪔",uC="𝔊",cC="𝔤",lC="≫",hC="⋙",fC="⋙",pC="ℷ",dC="Ѓ",mC="ѓ",vC="⪥",gC="≷",yC="⪒",bC="⪤",wC="⪊",kC="⪊",_C="⪈",TC="≩",EC="⪈",CC="≩",xC="⋧",SC="𝔾",IC="𝕘",AC="`",NC="≥",OC="⋛",DC="≧",MC="⪢",RC="≷",LC="⩾",PC="≳",FC="𝒢",jC="ℊ",BC="≳",VC="⪎",UC="⪐",qC="⪧",HC="⩺",zC=">",$C=">",GC="≫",WC="⋗",KC="⦕",JC="⩼",XC="⪆",QC="⥸",YC="⋗",ZC="⋛",tx="⪌",ex="≷",nx="≳",rx="≩︀",ix="≩︀",ox="ˇ",sx=" ",ax="½",ux="ℋ",cx="Ъ",lx="ъ",hx="⥈",fx="↔",px="⇔",dx="↭",mx="^",vx="ℏ",gx="Ĥ",yx="ĥ",bx="♥",wx="♥",kx="…",_x="⊹",Tx="𝔥",Ex="ℌ",Cx="ℋ",xx="⤥",Sx="⤦",Ix="⇿",Ax="∻",Nx="↩",Ox="↪",Dx="𝕙",Mx="ℍ",Rx="―",Lx="─",Px="𝒽",Fx="ℋ",jx="ℏ",Bx="Ħ",Vx="ħ",Ux="≎",qx="≏",Hx="⁃",zx="‐",$x="Í",Gx="í",Wx="⁣",Kx="Î",Jx="î",Xx="И",Qx="и",Yx="İ",Zx="Е",tS="е",eS="¡",nS="⇔",rS="𝔦",iS="ℑ",oS="Ì",sS="ì",aS="ⅈ",uS="⨌",cS="∭",lS="⧜",hS="℩",fS="Ĳ",pS="ĳ",dS="Ī",mS="ī",vS="ℑ",gS="ⅈ",yS="ℐ",bS="ℑ",wS="ı",kS="ℑ",_S="⊷",TS="Ƶ",ES="⇒",CS="℅",xS="∞",SS="⧝",IS="ı",AS="⊺",NS="∫",OS="∬",DS="ℤ",MS="∫",RS="⊺",LS="⋂",PS="⨗",FS="⨼",jS="⁣",BS="⁢",VS="Ё",US="ё",qS="Į",HS="į",zS="𝕀",$S="𝕚",GS="Ι",WS="ι",KS="⨼",JS="¿",XS="𝒾",QS="ℐ",YS="∈",ZS="⋵",tI="⋹",eI="⋴",nI="⋳",rI="∈",iI="⁢",oI="Ĩ",sI="ĩ",aI="І",uI="і",cI="Ï",lI="ï",hI="Ĵ",fI="ĵ",pI="Й",dI="й",mI="𝔍",vI="𝔧",gI="ȷ",yI="𝕁",bI="𝕛",wI="𝒥",kI="𝒿",_I="Ј",TI="ј",EI="Є",CI="є",xI="Κ",SI="κ",II="ϰ",AI="Ķ",NI="ķ",OI="К",DI="к",MI="𝔎",RI="𝔨",LI="ĸ",PI="Х",FI="х",jI="Ќ",BI="ќ",VI="𝕂",UI="𝕜",qI="𝒦",HI="𝓀",zI="⇚",$I="Ĺ",GI="ĺ",WI="⦴",KI="ℒ",JI="Λ",XI="λ",QI="⟨",YI="⟪",ZI="⦑",tA="⟨",eA="⪅",nA="ℒ",rA="«",iA="⇤",oA="⤟",sA="←",aA="↞",uA="⇐",cA="⤝",lA="↩",hA="↫",fA="⤹",pA="⥳",dA="↢",mA="⤙",vA="⤛",gA="⪫",yA="⪭",bA="⪭︀",wA="⤌",kA="⤎",_A="❲",TA="{",EA="[",CA="⦋",xA="⦏",SA="⦍",IA="Ľ",AA="ľ",NA="Ļ",OA="ļ",DA="⌈",MA="{",RA="Л",LA="л",PA="⤶",FA="“",jA="„",BA="⥧",VA="⥋",UA="↲",qA="≤",HA="≦",zA="⟨",$A="⇤",GA="←",WA="←",KA="⇐",JA="⇆",XA="↢",QA="⌈",YA="⟦",ZA="⥡",tN="⥙",eN="⇃",nN="⌊",rN="↽",iN="↼",oN="⇇",sN="↔",aN="↔",uN="⇔",cN="⇆",lN="⇋",hN="↭",fN="⥎",pN="↤",dN="⊣",mN="⥚",vN="⋋",gN="⧏",yN="⊲",bN="⊴",wN="⥑",kN="⥠",_N="⥘",TN="↿",EN="⥒",CN="↼",xN="⪋",SN="⋚",IN="≤",AN="≦",NN="⩽",ON="⪨",DN="⩽",MN="⩿",RN="⪁",LN="⪃",PN="⋚︀",FN="⪓",jN="⪅",BN="⋖",VN="⋚",UN="⪋",qN="⋚",HN="≦",zN="≶",$N="≶",GN="⪡",WN="≲",KN="⩽",JN="≲",XN="⥼",QN="⌊",YN="𝔏",ZN="𝔩",tO="≶",eO="⪑",nO="⥢",rO="↽",iO="↼",oO="⥪",sO="▄",aO="Љ",uO="љ",cO="⇇",lO="≪",hO="⋘",fO="⌞",pO="⇚",dO="⥫",mO="◺",vO="Ŀ",gO="ŀ",yO="⎰",bO="⎰",wO="⪉",kO="⪉",_O="⪇",TO="≨",EO="⪇",CO="≨",xO="⋦",SO="⟬",IO="⇽",AO="⟦",NO="⟵",OO="⟵",DO="⟸",MO="⟷",RO="⟷",LO="⟺",PO="⟼",FO="⟶",jO="⟶",BO="⟹",VO="↫",UO="↬",qO="⦅",HO="𝕃",zO="𝕝",$O="⨭",GO="⨴",WO="∗",KO="_",JO="↙",XO="↘",QO="◊",YO="◊",ZO="⧫",tD="(",eD="⦓",nD="⇆",rD="⌟",iD="⇋",oD="⥭",sD="‎",aD="⊿",uD="‹",cD="𝓁",lD="ℒ",hD="↰",fD="↰",pD="≲",dD="⪍",mD="⪏",vD="[",gD="‘",yD="‚",bD="Ł",wD="ł",kD="⪦",_D="⩹",TD="<",ED="<",CD="≪",xD="⋖",SD="⋋",ID="⋉",AD="⥶",ND="⩻",OD="◃",DD="⊴",MD="◂",RD="⦖",LD="⥊",PD="⥦",FD="≨︀",jD="≨︀",BD="¯",VD="♂",UD="✠",qD="✠",HD="↦",zD="↦",$D="↧",GD="↤",WD="↥",KD="▮",JD="⨩",XD="М",QD="м",YD="—",ZD="∺",tM="∡",eM=" ",nM="ℳ",rM="𝔐",iM="𝔪",oM="℧",sM="µ",aM="*",uM="⫰",cM="∣",lM="·",hM="⊟",fM="−",pM="∸",dM="⨪",mM="∓",vM="⫛",gM="…",yM="∓",bM="⊧",wM="𝕄",kM="𝕞",_M="∓",TM="𝓂",EM="ℳ",CM="∾",xM="Μ",SM="μ",IM="⊸",AM="⊸",NM="∇",OM="Ń",DM="ń",MM="∠⃒",RM="≉",LM="⩰̸",PM="≋̸",FM="ŉ",jM="≉",BM="♮",VM="ℕ",UM="♮",qM=" ",HM="≎̸",zM="≏̸",$M="⩃",GM="Ň",WM="ň",KM="Ņ",JM="ņ",XM="≇",QM="⩭̸",YM="⩂",ZM="Н",tR="н",eR="–",nR="⤤",rR="↗",iR="⇗",oR="↗",sR="≠",aR="≐̸",uR="​",cR="​",lR="​",hR="​",fR="≢",pR="⤨",dR="≂̸",mR="≫",vR="≪",gR="\n",yR="∄",bR="∄",wR="𝔑",kR="𝔫",_R="≧̸",TR="≱",ER="≱",CR="≧̸",xR="⩾̸",SR="⩾̸",IR="⋙̸",AR="≵",NR="≫⃒",OR="≯",DR="≯",MR="≫̸",RR="↮",LR="⇎",PR="⫲",FR="∋",jR="⋼",BR="⋺",VR="∋",UR="Њ",qR="њ",HR="↚",zR="⇍",$R="‥",GR="≦̸",WR="≰",KR="↚",JR="⇍",XR="↮",QR="⇎",YR="≰",ZR="≦̸",tL="⩽̸",eL="⩽̸",nL="≮",rL="⋘̸",iL="≴",oL="≪⃒",sL="≮",aL="⋪",uL="⋬",cL="≪̸",lL="∤",hL="⁠",fL=" ",pL="𝕟",dL="ℕ",mL="⫬",vL="¬",gL="≢",yL="≭",bL="∦",wL="∉",kL="≠",_L="≂̸",TL="∄",EL="≯",CL="≱",xL="≧̸",SL="≫̸",IL="≹",AL="⩾̸",NL="≵",OL="≎̸",DL="≏̸",ML="∉",RL="⋵̸",LL="⋹̸",PL="∉",FL="⋷",jL="⋶",BL="⧏̸",VL="⋪",UL="⋬",qL="≮",HL="≰",zL="≸",$L="≪̸",GL="⩽̸",WL="≴",KL="⪢̸",JL="⪡̸",XL="∌",QL="∌",YL="⋾",ZL="⋽",tP="⊀",eP="⪯̸",nP="⋠",rP="∌",iP="⧐̸",oP="⋫",sP="⋭",aP="⊏̸",uP="⋢",cP="⊐̸",lP="⋣",hP="⊂⃒",fP="⊈",pP="⊁",dP="⪰̸",mP="⋡",vP="≿̸",gP="⊃⃒",yP="⊉",bP="≁",wP="≄",kP="≇",_P="≉",TP="∤",EP="∦",CP="∦",xP="⫽⃥",SP="∂̸",IP="⨔",AP="⊀",NP="⋠",OP="⊀",DP="⪯̸",MP="⪯̸",RP="⤳̸",LP="↛",PP="⇏",FP="↝̸",jP="↛",BP="⇏",VP="⋫",UP="⋭",qP="⊁",HP="⋡",zP="⪰̸",$P="𝒩",GP="𝓃",WP="∤",KP="∦",JP="≁",XP="≄",QP="≄",YP="∤",ZP="∦",tF="⋢",eF="⋣",nF="⊄",rF="⫅̸",iF="⊈",oF="⊂⃒",sF="⊈",aF="⫅̸",uF="⊁",cF="⪰̸",lF="⊅",hF="⫆̸",fF="⊉",pF="⊃⃒",dF="⊉",mF="⫆̸",vF="≹",gF="Ñ",yF="ñ",bF="≸",wF="⋪",kF="⋬",_F="⋫",TF="⋭",EF="Ν",CF="ν",xF="#",SF="№",IF=" ",AF="≍⃒",NF="⊬",OF="⊭",DF="⊮",MF="⊯",RF="≥⃒",LF=">⃒",PF="⤄",FF="⧞",jF="⤂",BF="≤⃒",VF="<⃒",UF="⊴⃒",qF="⤃",HF="⊵⃒",zF="∼⃒",$F="⤣",GF="↖",WF="⇖",KF="↖",JF="⤧",XF="Ó",QF="ó",YF="⊛",ZF="Ô",tj="ô",ej="⊚",nj="О",rj="о",ij="⊝",oj="Ő",sj="ő",aj="⨸",uj="⊙",cj="⦼",lj="Œ",hj="œ",fj="⦿",pj="𝔒",dj="𝔬",mj="˛",vj="Ò",gj="ò",yj="⧁",bj="⦵",wj="Ω",kj="∮",_j="↺",Tj="⦾",Ej="⦻",Cj="‾",xj="⧀",Sj="Ō",Ij="ō",Aj="Ω",Nj="ω",Oj="Ο",Dj="ο",Mj="⦶",Rj="⊖",Lj="𝕆",Pj="𝕠",Fj="⦷",jj="“",Bj="‘",Vj="⦹",Uj="⊕",qj="↻",Hj="⩔",zj="∨",$j="⩝",Gj="ℴ",Wj="ℴ",Kj="ª",Jj="º",Xj="⊶",Qj="⩖",Yj="⩗",Zj="⩛",tB="Ⓢ",eB="𝒪",nB="ℴ",rB="Ø",iB="ø",oB="⊘",sB="Õ",aB="õ",uB="⨶",cB="⨷",lB="⊗",hB="Ö",fB="ö",pB="⌽",dB="‾",mB="⏞",vB="⎴",gB="⏜",yB="¶",bB="∥",wB="∥",kB="⫳",_B="⫽",TB="∂",EB="∂",CB="П",xB="п",SB="%",IB=".",AB="‰",NB="⊥",OB="‱",DB="𝔓",MB="𝔭",RB="Φ",LB="φ",PB="ϕ",FB="ℳ",jB="☎",BB="Π",VB="π",UB="⋔",qB="ϖ",HB="ℏ",zB="ℎ",$B="ℏ",GB="⨣",WB="⊞",KB="⨢",JB="+",XB="∔",QB="⨥",YB="⩲",ZB="±",tV="±",eV="⨦",nV="⨧",rV="±",iV="ℌ",oV="⨕",sV="𝕡",aV="ℙ",uV="£",cV="⪷",lV="⪻",hV="≺",fV="≼",pV="⪷",dV="≺",mV="≼",vV="≺",gV="⪯",yV="≼",bV="≾",wV="⪯",kV="⪹",_V="⪵",TV="⋨",EV="⪯",CV="⪳",xV="≾",SV="′",IV="″",AV="ℙ",NV="⪹",OV="⪵",DV="⋨",MV="∏",RV="∏",LV="⌮",PV="⌒",FV="⌓",jV="∝",BV="∝",VV="∷",UV="∝",qV="≾",HV="⊰",zV="𝒫",$V="𝓅",GV="Ψ",WV="ψ",KV=" ",JV="𝔔",XV="𝔮",QV="⨌",YV="𝕢",ZV="ℚ",tU="⁗",eU="𝒬",nU="𝓆",rU="ℍ",iU="⨖",oU="?",sU="≟",aU='"',uU='"',cU="⇛",lU="∽̱",hU="Ŕ",fU="ŕ",pU="√",dU="⦳",mU="⟩",vU="⟫",gU="⦒",yU="⦥",bU="⟩",wU="»",kU="⥵",_U="⇥",TU="⤠",EU="⤳",CU="→",xU="↠",SU="⇒",IU="⤞",AU="↪",NU="↬",OU="⥅",DU="⥴",MU="⤖",RU="↣",LU="↝",PU="⤚",FU="⤜",jU="∶",BU="ℚ",VU="⤍",UU="⤏",qU="⤐",HU="❳",zU="}",$U="]",GU="⦌",WU="⦎",KU="⦐",JU="Ř",XU="ř",QU="Ŗ",YU="ŗ",ZU="⌉",tq="}",eq="Р",nq="р",rq="⤷",iq="⥩",oq="”",sq="”",aq="↳",uq="ℜ",cq="ℛ",lq="ℜ",hq="ℝ",fq="ℜ",pq="▭",dq="®",mq="®",vq="∋",gq="⇋",yq="⥯",bq="⥽",wq="⌋",kq="𝔯",_q="ℜ",Tq="⥤",Eq="⇁",Cq="⇀",xq="⥬",Sq="Ρ",Iq="ρ",Aq="ϱ",Nq="⟩",Oq="⇥",Dq="→",Mq="→",Rq="⇒",Lq="⇄",Pq="↣",Fq="⌉",jq="⟧",Bq="⥝",Vq="⥕",Uq="⇂",qq="⌋",Hq="⇁",zq="⇀",$q="⇄",Gq="⇌",Wq="⇉",Kq="↝",Jq="↦",Xq="⊢",Qq="⥛",Yq="⋌",Zq="⧐",tH="⊳",eH="⊵",nH="⥏",rH="⥜",iH="⥔",oH="↾",sH="⥓",aH="⇀",uH="˚",cH="≓",lH="⇄",hH="⇌",fH="‏",pH="⎱",dH="⎱",mH="⫮",vH="⟭",gH="⇾",yH="⟧",bH="⦆",wH="𝕣",kH="ℝ",_H="⨮",TH="⨵",EH="⥰",CH=")",xH="⦔",SH="⨒",IH="⇉",AH="⇛",NH="›",OH="𝓇",DH="ℛ",MH="↱",RH="↱",LH="]",PH="’",FH="’",jH="⋌",BH="⋊",VH="▹",UH="⊵",qH="▸",HH="⧎",zH="⧴",$H="⥨",GH="℞",WH="Ś",KH="ś",JH="‚",XH="⪸",QH="Š",YH="š",ZH="⪼",tz="≻",ez="≽",nz="⪰",rz="⪴",iz="Ş",oz="ş",sz="Ŝ",az="ŝ",uz="⪺",cz="⪶",lz="⋩",hz="⨓",fz="≿",pz="С",dz="с",mz="⊡",vz="⋅",gz="⩦",yz="⤥",bz="↘",wz="⇘",kz="↘",_z="§",Tz=";",Ez="⤩",Cz="∖",xz="∖",Sz="✶",Iz="𝔖",Az="𝔰",Nz="⌢",Oz="♯",Dz="Щ",Mz="щ",Rz="Ш",Lz="ш",Pz="↓",Fz="←",jz="∣",Bz="∥",Vz="→",Uz="↑",qz="­",Hz="Σ",zz="σ",$z="ς",Gz="ς",Wz="∼",Kz="⩪",Jz="≃",Xz="≃",Qz="⪞",Yz="⪠",Zz="⪝",t$="⪟",e$="≆",n$="⨤",r$="⥲",i$="←",o$="∘",s$="∖",a$="⨳",u$="⧤",c$="∣",l$="⌣",h$="⪪",f$="⪬",p$="⪬︀",d$="Ь",m$="ь",v$="⌿",g$="⧄",y$="/",b$="𝕊",w$="𝕤",k$="♠",_$="♠",T$="∥",E$="⊓",C$="⊓︀",x$="⊔",S$="⊔︀",I$="√",A$="⊏",N$="⊑",O$="⊏",D$="⊑",M$="⊐",R$="⊒",L$="⊐",P$="⊒",F$="□",j$="□",B$="⊓",V$="⊏",U$="⊑",q$="⊐",H$="⊒",z$="⊔",$$="▪",G$="□",W$="▪",K$="→",J$="𝒮",X$="𝓈",Q$="∖",Y$="⌣",Z$="⋆",tG="⋆",eG="☆",nG="★",rG="ϵ",iG="ϕ",oG="¯",sG="⊂",aG="⋐",uG="⪽",cG="⫅",lG="⊆",hG="⫃",fG="⫁",pG="⫋",dG="⊊",mG="⪿",vG="⥹",gG="⊂",yG="⋐",bG="⊆",wG="⫅",kG="⊆",_G="⊊",TG="⫋",EG="⫇",CG="⫕",xG="⫓",SG="⪸",IG="≻",AG="≽",NG="≻",OG="⪰",DG="≽",MG="≿",RG="⪰",LG="⪺",PG="⪶",FG="⋩",jG="≿",BG="∋",VG="∑",UG="∑",qG="♪",HG="¹",zG="²",$G="³",GG="⊃",WG="⋑",KG="⪾",JG="⫘",XG="⫆",QG="⊇",YG="⫄",ZG="⊃",tW="⊇",eW="⟉",nW="⫗",rW="⥻",iW="⫂",oW="⫌",sW="⊋",aW="⫀",uW="⊃",cW="⋑",lW="⊇",hW="⫆",fW="⊋",pW="⫌",dW="⫈",mW="⫔",vW="⫖",gW="⤦",yW="↙",bW="⇙",wW="↙",kW="⤪",_W="ß",TW="\t",EW="⌖",CW="Τ",xW="τ",SW="⎴",IW="Ť",AW="ť",NW="Ţ",OW="ţ",DW="Т",MW="т",RW="⃛",LW="⌕",PW="𝔗",FW="𝔱",jW="∴",BW="∴",VW="∴",UW="Θ",qW="θ",HW="ϑ",zW="ϑ",$W="≈",GW="∼",WW="  ",KW=" ",JW=" ",XW="≈",QW="∼",YW="Þ",ZW="þ",tK="˜",eK="∼",nK="≃",rK="≅",iK="≈",oK="⨱",sK="⊠",aK="×",uK="⨰",cK="∭",lK="⤨",hK="⌶",fK="⫱",pK="⊤",dK="𝕋",mK="𝕥",vK="⫚",gK="⤩",yK="‴",bK="™",wK="™",kK="▵",_K="▿",TK="◃",EK="⊴",CK="≜",xK="▹",SK="⊵",IK="◬",AK="≜",NK="⨺",OK="⃛",DK="⨹",MK="⧍",RK="⨻",LK="⏢",PK="𝒯",FK="𝓉",jK="Ц",BK="ц",VK="Ћ",UK="ћ",qK="Ŧ",HK="ŧ",zK="≬",$K="↞",GK="↠",WK="Ú",KK="ú",JK="↑",XK="↟",QK="⇑",YK="⥉",ZK="Ў",tJ="ў",eJ="Ŭ",nJ="ŭ",rJ="Û",iJ="û",oJ="У",sJ="у",aJ="⇅",uJ="Ű",cJ="ű",lJ="⥮",hJ="⥾",fJ="𝔘",pJ="𝔲",dJ="Ù",mJ="ù",vJ="⥣",gJ="↿",yJ="↾",bJ="▀",wJ="⌜",kJ="⌜",_J="⌏",TJ="◸",EJ="Ū",CJ="ū",xJ="¨",SJ="_",IJ="⏟",AJ="⎵",NJ="⏝",OJ="⋃",DJ="⊎",MJ="Ų",RJ="ų",LJ="𝕌",PJ="𝕦",FJ="⤒",jJ="↑",BJ="↑",VJ="⇑",UJ="⇅",qJ="↕",HJ="↕",zJ="⇕",$J="⥮",GJ="↿",WJ="↾",KJ="⊎",JJ="↖",XJ="↗",QJ="υ",YJ="ϒ",ZJ="ϒ",tX="Υ",eX="υ",nX="↥",rX="⊥",iX="⇈",oX="⌝",sX="⌝",aX="⌎",uX="Ů",cX="ů",lX="◹",hX="𝒰",fX="𝓊",pX="⋰",dX="Ũ",mX="ũ",vX="▵",gX="▴",yX="⇈",bX="Ü",wX="ü",kX="⦧",_X="⦜",TX="ϵ",EX="ϰ",CX="∅",xX="ϕ",SX="ϖ",IX="∝",AX="↕",NX="⇕",OX="ϱ",DX="ς",MX="⊊︀",RX="⫋︀",LX="⊋︀",PX="⫌︀",FX="ϑ",jX="⊲",BX="⊳",VX="⫨",UX="⫫",qX="⫩",HX="В",zX="в",$X="⊢",GX="⊨",WX="⊩",KX="⊫",JX="⫦",XX="⊻",QX="∨",YX="⋁",ZX="≚",tQ="⋮",eQ="|",nQ="‖",rQ="|",iQ="‖",oQ="∣",sQ="|",aQ="❘",uQ="≀",cQ=" ",lQ="𝔙",hQ="𝔳",fQ="⊲",pQ="⊂⃒",dQ="⊃⃒",mQ="𝕍",vQ="𝕧",gQ="∝",yQ="⊳",bQ="𝒱",wQ="𝓋",kQ="⫋︀",_Q="⊊︀",TQ="⫌︀",EQ="⊋︀",CQ="⊪",xQ="⦚",SQ="Ŵ",IQ="ŵ",AQ="⩟",NQ="∧",OQ="⋀",DQ="≙",MQ="℘",RQ="𝔚",LQ="𝔴",PQ="𝕎",FQ="𝕨",jQ="℘",BQ="≀",VQ="≀",UQ="𝒲",qQ="𝓌",HQ="⋂",zQ="◯",$Q="⋃",GQ="▽",WQ="𝔛",KQ="𝔵",JQ="⟷",XQ="⟺",QQ="Ξ",YQ="ξ",ZQ="⟵",tY="⟸",eY="⟼",nY="⋻",rY="⨀",iY="𝕏",oY="𝕩",sY="⨁",aY="⨂",uY="⟶",cY="⟹",lY="𝒳",hY="𝓍",fY="⨆",pY="⨄",dY="△",mY="⋁",vY="⋀",gY="Ý",yY="ý",bY="Я",wY="я",kY="Ŷ",_Y="ŷ",TY="Ы",EY="ы",CY="¥",xY="𝔜",SY="𝔶",IY="Ї",AY="ї",NY="𝕐",OY="𝕪",DY="𝒴",MY="𝓎",RY="Ю",LY="ю",PY="ÿ",FY="Ÿ",jY="Ź",BY="ź",VY="Ž",UY="ž",qY="З",HY="з",zY="Ż",$Y="ż",GY="ℨ",WY="​",KY="Ζ",JY="ζ",XY="𝔷",QY="ℨ",YY="Ж",ZY="ж",tZ="⇝",eZ="𝕫",nZ="ℤ",rZ="𝒵",iZ="𝓏",oZ="‍",sZ="‌",aZ={Aacute:zp,aacute:$p,Abreve:Gp,abreve:Wp,ac:Kp,acd:Jp,acE:Xp,Acirc:Qp,acirc:Yp,acute:Zp,Acy:td,acy:ed,AElig:nd,aelig:rd,af:id,Afr:od,afr:sd,Agrave:ad,agrave:ud,alefsym:cd,aleph:ld,Alpha:hd,alpha:fd,Amacr:pd,amacr:dd,amalg:md,amp:vd,AMP:gd,andand:yd,And:bd,and:wd,andd:kd,andslope:_d,andv:Td,ang:Ed,ange:Cd,angle:xd,angmsdaa:Sd,angmsdab:Id,angmsdac:Ad,angmsdad:Nd,angmsdae:Od,angmsdaf:Dd,angmsdag:Md,angmsdah:Rd,angmsd:Ld,angrt:Pd,angrtvb:Fd,angrtvbd:jd,angsph:Bd,angst:Vd,angzarr:Ud,Aogon:qd,aogon:Hd,Aopf:zd,aopf:$d,apacir:Gd,ap:Wd,apE:Kd,ape:Jd,apid:Xd,apos:Qd,ApplyFunction:Yd,approx:Zd,approxeq:tm,Aring:em,aring:nm,Ascr:rm,ascr:im,Assign:om,ast:sm,asymp:am,asympeq:um,Atilde:cm,atilde:lm,Auml:hm,auml:fm,awconint:pm,awint:dm,backcong:mm,backepsilon:vm,backprime:gm,backsim:ym,backsimeq:bm,Backslash:wm,Barv:km,barvee:_m,barwed:Tm,Barwed:Em,barwedge:Cm,bbrk:xm,bbrktbrk:Sm,bcong:Im,Bcy:Am,bcy:Nm,bdquo:Om,becaus:Dm,because:Mm,Because:Rm,bemptyv:Lm,bepsi:Pm,bernou:Fm,Bernoullis:jm,Beta:Bm,beta:Vm,beth:Um,between:qm,Bfr:Hm,bfr:zm,bigcap:$m,bigcirc:Gm,bigcup:Wm,bigodot:Km,bigoplus:Jm,bigotimes:Xm,bigsqcup:Qm,bigstar:Ym,bigtriangledown:Zm,bigtriangleup:tv,biguplus:ev,bigvee:nv,bigwedge:rv,bkarow:iv,blacklozenge:ov,blacksquare:sv,blacktriangle:av,blacktriangledown:uv,blacktriangleleft:cv,blacktriangleright:lv,blank:hv,blk12:fv,blk14:pv,blk34:dv,block:mv,bne:vv,bnequiv:gv,bNot:yv,bnot:bv,Bopf:wv,bopf:kv,bot:_v,bottom:Tv,bowtie:Ev,boxbox:Cv,boxdl:xv,boxdL:Sv,boxDl:Iv,boxDL:Av,boxdr:Nv,boxdR:Ov,boxDr:Dv,boxDR:Mv,boxh:Rv,boxH:Lv,boxhd:Pv,boxHd:Fv,boxhD:jv,boxHD:Bv,boxhu:Vv,boxHu:Uv,boxhU:qv,boxHU:Hv,boxminus:zv,boxplus:$v,boxtimes:Gv,boxul:Wv,boxuL:Kv,boxUl:Jv,boxUL:Xv,boxur:Qv,boxuR:Yv,boxUr:Zv,boxUR:tg,boxv:eg,boxV:ng,boxvh:rg,boxvH:ig,boxVh:og,boxVH:sg,boxvl:ag,boxvL:ug,boxVl:cg,boxVL:lg,boxvr:hg,boxvR:fg,boxVr:pg,boxVR:dg,bprime:mg,breve:vg,Breve:gg,brvbar:yg,bscr:bg,Bscr:wg,bsemi:kg,bsim:_g,bsime:Tg,bsolb:Eg,bsol:Cg,bsolhsub:xg,bull:Sg,bullet:Ig,bump:Ag,bumpE:Ng,bumpe:Og,Bumpeq:Dg,bumpeq:Mg,Cacute:Rg,cacute:Lg,capand:Pg,capbrcup:Fg,capcap:jg,cap:Bg,Cap:Vg,capcup:Ug,capdot:qg,CapitalDifferentialD:Hg,caps:zg,caret:$g,caron:Gg,Cayleys:Wg,ccaps:Kg,Ccaron:Jg,ccaron:Xg,Ccedil:Qg,ccedil:Yg,Ccirc:Zg,ccirc:ty,Cconint:ey,ccups:ny,ccupssm:ry,Cdot:iy,cdot:oy,cedil:sy,Cedilla:ay,cemptyv:uy,cent:cy,centerdot:ly,CenterDot:hy,cfr:fy,Cfr:py,CHcy:dy,chcy:my,check:vy,checkmark:gy,Chi:yy,chi:by,circ:wy,circeq:ky,circlearrowleft:_y,circlearrowright:Ty,circledast:Ey,circledcirc:Cy,circleddash:xy,CircleDot:Sy,circledR:Iy,circledS:Ay,CircleMinus:Ny,CirclePlus:Oy,CircleTimes:Dy,cir:My,cirE:Ry,cire:Ly,cirfnint:Py,cirmid:Fy,cirscir:jy,ClockwiseContourIntegral:By,CloseCurlyDoubleQuote:Vy,CloseCurlyQuote:Uy,clubs:qy,clubsuit:Hy,colon:zy,Colon:$y,Colone:Gy,colone:Wy,coloneq:Ky,comma:Jy,commat:Xy,comp:Qy,compfn:Yy,complement:Zy,complexes:tb,cong:eb,congdot:nb,Congruent:rb,conint:ib,Conint:ob,ContourIntegral:sb,copf:ab,Copf:ub,coprod:cb,Coproduct:lb,copy:hb,COPY:fb,copysr:pb,CounterClockwiseContourIntegral:db,crarr:mb,cross:vb,Cross:gb,Cscr:yb,cscr:bb,csub:wb,csube:kb,csup:_b,csupe:Tb,ctdot:Eb,cudarrl:Cb,cudarrr:xb,cuepr:Sb,cuesc:Ib,cularr:Ab,cularrp:Nb,cupbrcap:Ob,cupcap:Db,CupCap:Mb,cup:Rb,Cup:Lb,cupcup:Pb,cupdot:Fb,cupor:jb,cups:Bb,curarr:Vb,curarrm:Ub,curlyeqprec:qb,curlyeqsucc:Hb,curlyvee:zb,curlywedge:$b,curren:Gb,curvearrowleft:Wb,curvearrowright:Kb,cuvee:Jb,cuwed:Xb,cwconint:Qb,cwint:Yb,cylcty:Zb,dagger:tw,Dagger:ew,daleth:nw,darr:rw,Darr:iw,dArr:ow,dash:sw,Dashv:aw,dashv:uw,dbkarow:cw,dblac:lw,Dcaron:hw,dcaron:fw,Dcy:pw,dcy:dw,ddagger:mw,ddarr:vw,DD:gw,dd:yw,DDotrahd:bw,ddotseq:ww,deg:kw,Del:_w,Delta:Tw,delta:Ew,demptyv:Cw,dfisht:xw,Dfr:Sw,dfr:Iw,dHar:Aw,dharl:Nw,dharr:Ow,DiacriticalAcute:Dw,DiacriticalDot:Mw,DiacriticalDoubleAcute:Rw,DiacriticalGrave:Lw,DiacriticalTilde:Pw,diam:Fw,diamond:jw,Diamond:Bw,diamondsuit:Vw,diams:Uw,die:qw,DifferentialD:Hw,digamma:zw,disin:$w,div:Gw,divide:Ww,divideontimes:Kw,divonx:Jw,DJcy:Xw,djcy:Qw,dlcorn:Yw,dlcrop:Zw,dollar:tk,Dopf:ek,dopf:nk,Dot:rk,dot:ik,DotDot:ok,doteq:sk,doteqdot:ak,DotEqual:uk,dotminus:ck,dotplus:lk,dotsquare:hk,doublebarwedge:fk,DoubleContourIntegral:pk,DoubleDot:dk,DoubleDownArrow:mk,DoubleLeftArrow:vk,DoubleLeftRightArrow:gk,DoubleLeftTee:yk,DoubleLongLeftArrow:bk,DoubleLongLeftRightArrow:wk,DoubleLongRightArrow:kk,DoubleRightArrow:_k,DoubleRightTee:Tk,DoubleUpArrow:Ek,DoubleUpDownArrow:Ck,DoubleVerticalBar:xk,DownArrowBar:Sk,downarrow:Ik,DownArrow:Ak,Downarrow:Nk,DownArrowUpArrow:Ok,DownBreve:Dk,downdownarrows:Mk,downharpoonleft:Rk,downharpoonright:Lk,DownLeftRightVector:Pk,DownLeftTeeVector:Fk,DownLeftVectorBar:jk,DownLeftVector:Bk,DownRightTeeVector:Vk,DownRightVectorBar:Uk,DownRightVector:qk,DownTeeArrow:Hk,DownTee:zk,drbkarow:$k,drcorn:Gk,drcrop:Wk,Dscr:Kk,dscr:Jk,DScy:Xk,dscy:Qk,dsol:Yk,Dstrok:Zk,dstrok:t_,dtdot:e_,dtri:n_,dtrif:r_,duarr:i_,duhar:o_,dwangle:s_,DZcy:a_,dzcy:u_,dzigrarr:c_,Eacute:l_,eacute:h_,easter:f_,Ecaron:p_,ecaron:d_,Ecirc:m_,ecirc:v_,ecir:g_,ecolon:y_,Ecy:b_,ecy:w_,eDDot:k_,Edot:__,edot:T_,eDot:E_,ee:C_,efDot:x_,Efr:S_,efr:I_,eg:A_,Egrave:N_,egrave:O_,egs:D_,egsdot:M_,el:R_,Element:L_,elinters:P_,ell:F_,els:j_,elsdot:B_,Emacr:V_,emacr:U_,empty:q_,emptyset:H_,EmptySmallSquare:z_,emptyv:$_,EmptyVerySmallSquare:G_,emsp13:W_,emsp14:K_,emsp:J_,ENG:X_,eng:Q_,ensp:Y_,Eogon:Z_,eogon:tT,Eopf:eT,eopf:nT,epar:rT,eparsl:iT,eplus:oT,epsi:sT,Epsilon:aT,epsilon:uT,epsiv:cT,eqcirc:lT,eqcolon:hT,eqsim:fT,eqslantgtr:pT,eqslantless:dT,Equal:mT,equals:vT,EqualTilde:gT,equest:yT,Equilibrium:bT,equiv:wT,equivDD:kT,eqvparsl:_T,erarr:TT,erDot:ET,escr:CT,Escr:xT,esdot:ST,Esim:IT,esim:AT,Eta:NT,eta:OT,ETH:DT,eth:MT,Euml:RT,euml:LT,euro:PT,excl:FT,exist:jT,Exists:BT,expectation:VT,exponentiale:UT,ExponentialE:qT,fallingdotseq:HT,Fcy:zT,fcy:$T,female:GT,ffilig:WT,fflig:KT,ffllig:JT,Ffr:XT,ffr:QT,filig:YT,FilledSmallSquare:ZT,FilledVerySmallSquare:tE,fjlig:eE,flat:nE,fllig:rE,fltns:iE,fnof:oE,Fopf:sE,fopf:aE,forall:uE,ForAll:cE,fork:lE,forkv:hE,Fouriertrf:fE,fpartint:pE,frac12:dE,frac13:mE,frac14:vE,frac15:gE,frac16:yE,frac18:bE,frac23:wE,frac25:kE,frac34:_E,frac35:TE,frac38:EE,frac45:CE,frac56:xE,frac58:SE,frac78:IE,frasl:AE,frown:NE,fscr:OE,Fscr:DE,gacute:ME,Gamma:RE,gamma:LE,Gammad:PE,gammad:FE,gap:jE,Gbreve:BE,gbreve:VE,Gcedil:UE,Gcirc:qE,gcirc:HE,Gcy:zE,gcy:$E,Gdot:GE,gdot:WE,ge:KE,gE:JE,gEl:XE,gel:QE,geq:YE,geqq:ZE,geqslant:tC,gescc:eC,ges:nC,gesdot:rC,gesdoto:iC,gesdotol:oC,gesl:sC,gesles:aC,Gfr:uC,gfr:cC,gg:lC,Gg:hC,ggg:fC,gimel:pC,GJcy:dC,gjcy:mC,gla:vC,gl:gC,glE:yC,glj:bC,gnap:wC,gnapprox:kC,gne:_C,gnE:TC,gneq:EC,gneqq:CC,gnsim:xC,Gopf:SC,gopf:IC,grave:AC,GreaterEqual:NC,GreaterEqualLess:OC,GreaterFullEqual:DC,GreaterGreater:MC,GreaterLess:RC,GreaterSlantEqual:LC,GreaterTilde:PC,Gscr:FC,gscr:jC,gsim:BC,gsime:VC,gsiml:UC,gtcc:qC,gtcir:HC,gt:zC,GT:$C,Gt:GC,gtdot:WC,gtlPar:KC,gtquest:JC,gtrapprox:XC,gtrarr:QC,gtrdot:YC,gtreqless:ZC,gtreqqless:tx,gtrless:ex,gtrsim:nx,gvertneqq:rx,gvnE:ix,Hacek:ox,hairsp:sx,half:ax,hamilt:ux,HARDcy:cx,hardcy:lx,harrcir:hx,harr:fx,hArr:px,harrw:dx,Hat:mx,hbar:vx,Hcirc:gx,hcirc:yx,hearts:bx,heartsuit:wx,hellip:kx,hercon:_x,hfr:Tx,Hfr:Ex,HilbertSpace:Cx,hksearow:xx,hkswarow:Sx,hoarr:Ix,homtht:Ax,hookleftarrow:Nx,hookrightarrow:Ox,hopf:Dx,Hopf:Mx,horbar:Rx,HorizontalLine:Lx,hscr:Px,Hscr:Fx,hslash:jx,Hstrok:Bx,hstrok:Vx,HumpDownHump:Ux,HumpEqual:qx,hybull:Hx,hyphen:zx,Iacute:$x,iacute:Gx,ic:Wx,Icirc:Kx,icirc:Jx,Icy:Xx,icy:Qx,Idot:Yx,IEcy:Zx,iecy:tS,iexcl:eS,iff:nS,ifr:rS,Ifr:iS,Igrave:oS,igrave:sS,ii:aS,iiiint:uS,iiint:cS,iinfin:lS,iiota:hS,IJlig:fS,ijlig:pS,Imacr:dS,imacr:mS,image:vS,ImaginaryI:gS,imagline:yS,imagpart:bS,imath:wS,Im:kS,imof:_S,imped:TS,Implies:ES,incare:CS,in:"∈",infin:xS,infintie:SS,inodot:IS,intcal:AS,int:NS,Int:OS,integers:DS,Integral:MS,intercal:RS,Intersection:LS,intlarhk:PS,intprod:FS,InvisibleComma:jS,InvisibleTimes:BS,IOcy:VS,iocy:US,Iogon:qS,iogon:HS,Iopf:zS,iopf:$S,Iota:GS,iota:WS,iprod:KS,iquest:JS,iscr:XS,Iscr:QS,isin:YS,isindot:ZS,isinE:tI,isins:eI,isinsv:nI,isinv:rI,it:iI,Itilde:oI,itilde:sI,Iukcy:aI,iukcy:uI,Iuml:cI,iuml:lI,Jcirc:hI,jcirc:fI,Jcy:pI,jcy:dI,Jfr:mI,jfr:vI,jmath:gI,Jopf:yI,jopf:bI,Jscr:wI,jscr:kI,Jsercy:_I,jsercy:TI,Jukcy:EI,jukcy:CI,Kappa:xI,kappa:SI,kappav:II,Kcedil:AI,kcedil:NI,Kcy:OI,kcy:DI,Kfr:MI,kfr:RI,kgreen:LI,KHcy:PI,khcy:FI,KJcy:jI,kjcy:BI,Kopf:VI,kopf:UI,Kscr:qI,kscr:HI,lAarr:zI,Lacute:$I,lacute:GI,laemptyv:WI,lagran:KI,Lambda:JI,lambda:XI,lang:QI,Lang:YI,langd:ZI,langle:tA,lap:eA,Laplacetrf:nA,laquo:rA,larrb:iA,larrbfs:oA,larr:sA,Larr:aA,lArr:uA,larrfs:cA,larrhk:lA,larrlp:hA,larrpl:fA,larrsim:pA,larrtl:dA,latail:mA,lAtail:vA,lat:gA,late:yA,lates:bA,lbarr:wA,lBarr:kA,lbbrk:_A,lbrace:TA,lbrack:EA,lbrke:CA,lbrksld:xA,lbrkslu:SA,Lcaron:IA,lcaron:AA,Lcedil:NA,lcedil:OA,lceil:DA,lcub:MA,Lcy:RA,lcy:LA,ldca:PA,ldquo:FA,ldquor:jA,ldrdhar:BA,ldrushar:VA,ldsh:UA,le:qA,lE:HA,LeftAngleBracket:zA,LeftArrowBar:$A,leftarrow:GA,LeftArrow:WA,Leftarrow:KA,LeftArrowRightArrow:JA,leftarrowtail:XA,LeftCeiling:QA,LeftDoubleBracket:YA,LeftDownTeeVector:ZA,LeftDownVectorBar:tN,LeftDownVector:eN,LeftFloor:nN,leftharpoondown:rN,leftharpoonup:iN,leftleftarrows:oN,leftrightarrow:sN,LeftRightArrow:aN,Leftrightarrow:uN,leftrightarrows:cN,leftrightharpoons:lN,leftrightsquigarrow:hN,LeftRightVector:fN,LeftTeeArrow:pN,LeftTee:dN,LeftTeeVector:mN,leftthreetimes:vN,LeftTriangleBar:gN,LeftTriangle:yN,LeftTriangleEqual:bN,LeftUpDownVector:wN,LeftUpTeeVector:kN,LeftUpVectorBar:_N,LeftUpVector:TN,LeftVectorBar:EN,LeftVector:CN,lEg:xN,leg:SN,leq:IN,leqq:AN,leqslant:NN,lescc:ON,les:DN,lesdot:MN,lesdoto:RN,lesdotor:LN,lesg:PN,lesges:FN,lessapprox:jN,lessdot:BN,lesseqgtr:VN,lesseqqgtr:UN,LessEqualGreater:qN,LessFullEqual:HN,LessGreater:zN,lessgtr:$N,LessLess:GN,lesssim:WN,LessSlantEqual:KN,LessTilde:JN,lfisht:XN,lfloor:QN,Lfr:YN,lfr:ZN,lg:tO,lgE:eO,lHar:nO,lhard:rO,lharu:iO,lharul:oO,lhblk:sO,LJcy:aO,ljcy:uO,llarr:cO,ll:lO,Ll:hO,llcorner:fO,Lleftarrow:pO,llhard:dO,lltri:mO,Lmidot:vO,lmidot:gO,lmoustache:yO,lmoust:bO,lnap:wO,lnapprox:kO,lne:_O,lnE:TO,lneq:EO,lneqq:CO,lnsim:xO,loang:SO,loarr:IO,lobrk:AO,longleftarrow:NO,LongLeftArrow:OO,Longleftarrow:DO,longleftrightarrow:MO,LongLeftRightArrow:RO,Longleftrightarrow:LO,longmapsto:PO,longrightarrow:FO,LongRightArrow:jO,Longrightarrow:BO,looparrowleft:VO,looparrowright:UO,lopar:qO,Lopf:HO,lopf:zO,loplus:$O,lotimes:GO,lowast:WO,lowbar:KO,LowerLeftArrow:JO,LowerRightArrow:XO,loz:QO,lozenge:YO,lozf:ZO,lpar:tD,lparlt:eD,lrarr:nD,lrcorner:rD,lrhar:iD,lrhard:oD,lrm:sD,lrtri:aD,lsaquo:uD,lscr:cD,Lscr:lD,lsh:hD,Lsh:fD,lsim:pD,lsime:dD,lsimg:mD,lsqb:vD,lsquo:gD,lsquor:yD,Lstrok:bD,lstrok:wD,ltcc:kD,ltcir:_D,lt:TD,LT:ED,Lt:CD,ltdot:xD,lthree:SD,ltimes:ID,ltlarr:AD,ltquest:ND,ltri:OD,ltrie:DD,ltrif:MD,ltrPar:RD,lurdshar:LD,luruhar:PD,lvertneqq:FD,lvnE:jD,macr:BD,male:VD,malt:UD,maltese:qD,Map:"⤅",map:HD,mapsto:zD,mapstodown:$D,mapstoleft:GD,mapstoup:WD,marker:KD,mcomma:JD,Mcy:XD,mcy:QD,mdash:YD,mDDot:ZD,measuredangle:tM,MediumSpace:eM,Mellintrf:nM,Mfr:rM,mfr:iM,mho:oM,micro:sM,midast:aM,midcir:uM,mid:cM,middot:lM,minusb:hM,minus:fM,minusd:pM,minusdu:dM,MinusPlus:mM,mlcp:vM,mldr:gM,mnplus:yM,models:bM,Mopf:wM,mopf:kM,mp:_M,mscr:TM,Mscr:EM,mstpos:CM,Mu:xM,mu:SM,multimap:IM,mumap:AM,nabla:NM,Nacute:OM,nacute:DM,nang:MM,nap:RM,napE:LM,napid:PM,napos:FM,napprox:jM,natural:BM,naturals:VM,natur:UM,nbsp:qM,nbump:HM,nbumpe:zM,ncap:$M,Ncaron:GM,ncaron:WM,Ncedil:KM,ncedil:JM,ncong:XM,ncongdot:QM,ncup:YM,Ncy:ZM,ncy:tR,ndash:eR,nearhk:nR,nearr:rR,neArr:iR,nearrow:oR,ne:sR,nedot:aR,NegativeMediumSpace:uR,NegativeThickSpace:cR,NegativeThinSpace:lR,NegativeVeryThinSpace:hR,nequiv:fR,nesear:pR,nesim:dR,NestedGreaterGreater:mR,NestedLessLess:vR,NewLine:gR,nexist:yR,nexists:bR,Nfr:wR,nfr:kR,ngE:_R,nge:TR,ngeq:ER,ngeqq:CR,ngeqslant:xR,nges:SR,nGg:IR,ngsim:AR,nGt:NR,ngt:OR,ngtr:DR,nGtv:MR,nharr:RR,nhArr:LR,nhpar:PR,ni:FR,nis:jR,nisd:BR,niv:VR,NJcy:UR,njcy:qR,nlarr:HR,nlArr:zR,nldr:$R,nlE:GR,nle:WR,nleftarrow:KR,nLeftarrow:JR,nleftrightarrow:XR,nLeftrightarrow:QR,nleq:YR,nleqq:ZR,nleqslant:tL,nles:eL,nless:nL,nLl:rL,nlsim:iL,nLt:oL,nlt:sL,nltri:aL,nltrie:uL,nLtv:cL,nmid:lL,NoBreak:hL,NonBreakingSpace:fL,nopf:pL,Nopf:dL,Not:mL,not:vL,NotCongruent:gL,NotCupCap:yL,NotDoubleVerticalBar:bL,NotElement:wL,NotEqual:kL,NotEqualTilde:_L,NotExists:TL,NotGreater:EL,NotGreaterEqual:CL,NotGreaterFullEqual:xL,NotGreaterGreater:SL,NotGreaterLess:IL,NotGreaterSlantEqual:AL,NotGreaterTilde:NL,NotHumpDownHump:OL,NotHumpEqual:DL,notin:ML,notindot:RL,notinE:LL,notinva:PL,notinvb:FL,notinvc:jL,NotLeftTriangleBar:BL,NotLeftTriangle:VL,NotLeftTriangleEqual:UL,NotLess:qL,NotLessEqual:HL,NotLessGreater:zL,NotLessLess:$L,NotLessSlantEqual:GL,NotLessTilde:WL,NotNestedGreaterGreater:KL,NotNestedLessLess:JL,notni:XL,notniva:QL,notnivb:YL,notnivc:ZL,NotPrecedes:tP,NotPrecedesEqual:eP,NotPrecedesSlantEqual:nP,NotReverseElement:rP,NotRightTriangleBar:iP,NotRightTriangle:oP,NotRightTriangleEqual:sP,NotSquareSubset:aP,NotSquareSubsetEqual:uP,NotSquareSuperset:cP,NotSquareSupersetEqual:lP,NotSubset:hP,NotSubsetEqual:fP,NotSucceeds:pP,NotSucceedsEqual:dP,NotSucceedsSlantEqual:mP,NotSucceedsTilde:vP,NotSuperset:gP,NotSupersetEqual:yP,NotTilde:bP,NotTildeEqual:wP,NotTildeFullEqual:kP,NotTildeTilde:_P,NotVerticalBar:TP,nparallel:EP,npar:CP,nparsl:xP,npart:SP,npolint:IP,npr:AP,nprcue:NP,nprec:OP,npreceq:DP,npre:MP,nrarrc:RP,nrarr:LP,nrArr:PP,nrarrw:FP,nrightarrow:jP,nRightarrow:BP,nrtri:VP,nrtrie:UP,nsc:qP,nsccue:HP,nsce:zP,Nscr:$P,nscr:GP,nshortmid:WP,nshortparallel:KP,nsim:JP,nsime:XP,nsimeq:QP,nsmid:YP,nspar:ZP,nsqsube:tF,nsqsupe:eF,nsub:nF,nsubE:rF,nsube:iF,nsubset:oF,nsubseteq:sF,nsubseteqq:aF,nsucc:uF,nsucceq:cF,nsup:lF,nsupE:hF,nsupe:fF,nsupset:pF,nsupseteq:dF,nsupseteqq:mF,ntgl:vF,Ntilde:gF,ntilde:yF,ntlg:bF,ntriangleleft:wF,ntrianglelefteq:kF,ntriangleright:_F,ntrianglerighteq:TF,Nu:EF,nu:CF,num:xF,numero:SF,numsp:IF,nvap:AF,nvdash:NF,nvDash:OF,nVdash:DF,nVDash:MF,nvge:RF,nvgt:LF,nvHarr:PF,nvinfin:FF,nvlArr:jF,nvle:BF,nvlt:VF,nvltrie:UF,nvrArr:qF,nvrtrie:HF,nvsim:zF,nwarhk:$F,nwarr:GF,nwArr:WF,nwarrow:KF,nwnear:JF,Oacute:XF,oacute:QF,oast:YF,Ocirc:ZF,ocirc:tj,ocir:ej,Ocy:nj,ocy:rj,odash:ij,Odblac:oj,odblac:sj,odiv:aj,odot:uj,odsold:cj,OElig:lj,oelig:hj,ofcir:fj,Ofr:pj,ofr:dj,ogon:mj,Ograve:vj,ograve:gj,ogt:yj,ohbar:bj,ohm:wj,oint:kj,olarr:_j,olcir:Tj,olcross:Ej,oline:Cj,olt:xj,Omacr:Sj,omacr:Ij,Omega:Aj,omega:Nj,Omicron:Oj,omicron:Dj,omid:Mj,ominus:Rj,Oopf:Lj,oopf:Pj,opar:Fj,OpenCurlyDoubleQuote:jj,OpenCurlyQuote:Bj,operp:Vj,oplus:Uj,orarr:qj,Or:Hj,or:zj,ord:$j,order:Gj,orderof:Wj,ordf:Kj,ordm:Jj,origof:Xj,oror:Qj,orslope:Yj,orv:Zj,oS:tB,Oscr:eB,oscr:nB,Oslash:rB,oslash:iB,osol:oB,Otilde:sB,otilde:aB,otimesas:uB,Otimes:cB,otimes:lB,Ouml:hB,ouml:fB,ovbar:pB,OverBar:dB,OverBrace:mB,OverBracket:vB,OverParenthesis:gB,para:yB,parallel:bB,par:wB,parsim:kB,parsl:_B,part:TB,PartialD:EB,Pcy:CB,pcy:xB,percnt:SB,period:IB,permil:AB,perp:NB,pertenk:OB,Pfr:DB,pfr:MB,Phi:RB,phi:LB,phiv:PB,phmmat:FB,phone:jB,Pi:BB,pi:VB,pitchfork:UB,piv:qB,planck:HB,planckh:zB,plankv:$B,plusacir:GB,plusb:WB,pluscir:KB,plus:JB,plusdo:XB,plusdu:QB,pluse:YB,PlusMinus:ZB,plusmn:tV,plussim:eV,plustwo:nV,pm:rV,Poincareplane:iV,pointint:oV,popf:sV,Popf:aV,pound:uV,prap:cV,Pr:lV,pr:hV,prcue:fV,precapprox:pV,prec:dV,preccurlyeq:mV,Precedes:vV,PrecedesEqual:gV,PrecedesSlantEqual:yV,PrecedesTilde:bV,preceq:wV,precnapprox:kV,precneqq:_V,precnsim:TV,pre:EV,prE:CV,precsim:xV,prime:SV,Prime:IV,primes:AV,prnap:NV,prnE:OV,prnsim:DV,prod:MV,Product:RV,profalar:LV,profline:PV,profsurf:FV,prop:jV,Proportional:BV,Proportion:VV,propto:UV,prsim:qV,prurel:HV,Pscr:zV,pscr:$V,Psi:GV,psi:WV,puncsp:KV,Qfr:JV,qfr:XV,qint:QV,qopf:YV,Qopf:ZV,qprime:tU,Qscr:eU,qscr:nU,quaternions:rU,quatint:iU,quest:oU,questeq:sU,quot:aU,QUOT:uU,rAarr:cU,race:lU,Racute:hU,racute:fU,radic:pU,raemptyv:dU,rang:mU,Rang:vU,rangd:gU,range:yU,rangle:bU,raquo:wU,rarrap:kU,rarrb:_U,rarrbfs:TU,rarrc:EU,rarr:CU,Rarr:xU,rArr:SU,rarrfs:IU,rarrhk:AU,rarrlp:NU,rarrpl:OU,rarrsim:DU,Rarrtl:MU,rarrtl:RU,rarrw:LU,ratail:PU,rAtail:FU,ratio:jU,rationals:BU,rbarr:VU,rBarr:UU,RBarr:qU,rbbrk:HU,rbrace:zU,rbrack:$U,rbrke:GU,rbrksld:WU,rbrkslu:KU,Rcaron:JU,rcaron:XU,Rcedil:QU,rcedil:YU,rceil:ZU,rcub:tq,Rcy:eq,rcy:nq,rdca:rq,rdldhar:iq,rdquo:oq,rdquor:sq,rdsh:aq,real:uq,realine:cq,realpart:lq,reals:hq,Re:fq,rect:pq,reg:dq,REG:mq,ReverseElement:vq,ReverseEquilibrium:gq,ReverseUpEquilibrium:yq,rfisht:bq,rfloor:wq,rfr:kq,Rfr:_q,rHar:Tq,rhard:Eq,rharu:Cq,rharul:xq,Rho:Sq,rho:Iq,rhov:Aq,RightAngleBracket:Nq,RightArrowBar:Oq,rightarrow:Dq,RightArrow:Mq,Rightarrow:Rq,RightArrowLeftArrow:Lq,rightarrowtail:Pq,RightCeiling:Fq,RightDoubleBracket:jq,RightDownTeeVector:Bq,RightDownVectorBar:Vq,RightDownVector:Uq,RightFloor:qq,rightharpoondown:Hq,rightharpoonup:zq,rightleftarrows:$q,rightleftharpoons:Gq,rightrightarrows:Wq,rightsquigarrow:Kq,RightTeeArrow:Jq,RightTee:Xq,RightTeeVector:Qq,rightthreetimes:Yq,RightTriangleBar:Zq,RightTriangle:tH,RightTriangleEqual:eH,RightUpDownVector:nH,RightUpTeeVector:rH,RightUpVectorBar:iH,RightUpVector:oH,RightVectorBar:sH,RightVector:aH,ring:uH,risingdotseq:cH,rlarr:lH,rlhar:hH,rlm:fH,rmoustache:pH,rmoust:dH,rnmid:mH,roang:vH,roarr:gH,robrk:yH,ropar:bH,ropf:wH,Ropf:kH,roplus:_H,rotimes:TH,RoundImplies:EH,rpar:CH,rpargt:xH,rppolint:SH,rrarr:IH,Rrightarrow:AH,rsaquo:NH,rscr:OH,Rscr:DH,rsh:MH,Rsh:RH,rsqb:LH,rsquo:PH,rsquor:FH,rthree:jH,rtimes:BH,rtri:VH,rtrie:UH,rtrif:qH,rtriltri:HH,RuleDelayed:zH,ruluhar:$H,rx:GH,Sacute:WH,sacute:KH,sbquo:JH,scap:XH,Scaron:QH,scaron:YH,Sc:ZH,sc:tz,sccue:ez,sce:nz,scE:rz,Scedil:iz,scedil:oz,Scirc:sz,scirc:az,scnap:uz,scnE:cz,scnsim:lz,scpolint:hz,scsim:fz,Scy:pz,scy:dz,sdotb:mz,sdot:vz,sdote:gz,searhk:yz,searr:bz,seArr:wz,searrow:kz,sect:_z,semi:Tz,seswar:Ez,setminus:Cz,setmn:xz,sext:Sz,Sfr:Iz,sfr:Az,sfrown:Nz,sharp:Oz,SHCHcy:Dz,shchcy:Mz,SHcy:Rz,shcy:Lz,ShortDownArrow:Pz,ShortLeftArrow:Fz,shortmid:jz,shortparallel:Bz,ShortRightArrow:Vz,ShortUpArrow:Uz,shy:qz,Sigma:Hz,sigma:zz,sigmaf:$z,sigmav:Gz,sim:Wz,simdot:Kz,sime:Jz,simeq:Xz,simg:Qz,simgE:Yz,siml:Zz,simlE:t$,simne:e$,simplus:n$,simrarr:r$,slarr:i$,SmallCircle:o$,smallsetminus:s$,smashp:a$,smeparsl:u$,smid:c$,smile:l$,smt:h$,smte:f$,smtes:p$,SOFTcy:d$,softcy:m$,solbar:v$,solb:g$,sol:y$,Sopf:b$,sopf:w$,spades:k$,spadesuit:_$,spar:T$,sqcap:E$,sqcaps:C$,sqcup:x$,sqcups:S$,Sqrt:I$,sqsub:A$,sqsube:N$,sqsubset:O$,sqsubseteq:D$,sqsup:M$,sqsupe:R$,sqsupset:L$,sqsupseteq:P$,square:F$,Square:j$,SquareIntersection:B$,SquareSubset:V$,SquareSubsetEqual:U$,SquareSuperset:q$,SquareSupersetEqual:H$,SquareUnion:z$,squarf:$$,squ:G$,squf:W$,srarr:K$,Sscr:J$,sscr:X$,ssetmn:Q$,ssmile:Y$,sstarf:Z$,Star:tG,star:eG,starf:nG,straightepsilon:rG,straightphi:iG,strns:oG,sub:sG,Sub:aG,subdot:uG,subE:cG,sube:lG,subedot:hG,submult:fG,subnE:pG,subne:dG,subplus:mG,subrarr:vG,subset:gG,Subset:yG,subseteq:bG,subseteqq:wG,SubsetEqual:kG,subsetneq:_G,subsetneqq:TG,subsim:EG,subsub:CG,subsup:xG,succapprox:SG,succ:IG,succcurlyeq:AG,Succeeds:NG,SucceedsEqual:OG,SucceedsSlantEqual:DG,SucceedsTilde:MG,succeq:RG,succnapprox:LG,succneqq:PG,succnsim:FG,succsim:jG,SuchThat:BG,sum:VG,Sum:UG,sung:qG,sup1:HG,sup2:zG,sup3:$G,sup:GG,Sup:WG,supdot:KG,supdsub:JG,supE:XG,supe:QG,supedot:YG,Superset:ZG,SupersetEqual:tW,suphsol:eW,suphsub:nW,suplarr:rW,supmult:iW,supnE:oW,supne:sW,supplus:aW,supset:uW,Supset:cW,supseteq:lW,supseteqq:hW,supsetneq:fW,supsetneqq:pW,supsim:dW,supsub:mW,supsup:vW,swarhk:gW,swarr:yW,swArr:bW,swarrow:wW,swnwar:kW,szlig:_W,Tab:TW,target:EW,Tau:CW,tau:xW,tbrk:SW,Tcaron:IW,tcaron:AW,Tcedil:NW,tcedil:OW,Tcy:DW,tcy:MW,tdot:RW,telrec:LW,Tfr:PW,tfr:FW,there4:jW,therefore:BW,Therefore:VW,Theta:UW,theta:qW,thetasym:HW,thetav:zW,thickapprox:$W,thicksim:GW,ThickSpace:WW,ThinSpace:KW,thinsp:JW,thkap:XW,thksim:QW,THORN:YW,thorn:ZW,tilde:tK,Tilde:eK,TildeEqual:nK,TildeFullEqual:rK,TildeTilde:iK,timesbar:oK,timesb:sK,times:aK,timesd:uK,tint:cK,toea:lK,topbot:hK,topcir:fK,top:pK,Topf:dK,topf:mK,topfork:vK,tosa:gK,tprime:yK,trade:bK,TRADE:wK,triangle:kK,triangledown:_K,triangleleft:TK,trianglelefteq:EK,triangleq:CK,triangleright:xK,trianglerighteq:SK,tridot:IK,trie:AK,triminus:NK,TripleDot:OK,triplus:DK,trisb:MK,tritime:RK,trpezium:LK,Tscr:PK,tscr:FK,TScy:jK,tscy:BK,TSHcy:VK,tshcy:UK,Tstrok:qK,tstrok:HK,twixt:zK,twoheadleftarrow:$K,twoheadrightarrow:GK,Uacute:WK,uacute:KK,uarr:JK,Uarr:XK,uArr:QK,Uarrocir:YK,Ubrcy:ZK,ubrcy:tJ,Ubreve:eJ,ubreve:nJ,Ucirc:rJ,ucirc:iJ,Ucy:oJ,ucy:sJ,udarr:aJ,Udblac:uJ,udblac:cJ,udhar:lJ,ufisht:hJ,Ufr:fJ,ufr:pJ,Ugrave:dJ,ugrave:mJ,uHar:vJ,uharl:gJ,uharr:yJ,uhblk:bJ,ulcorn:wJ,ulcorner:kJ,ulcrop:_J,ultri:TJ,Umacr:EJ,umacr:CJ,uml:xJ,UnderBar:SJ,UnderBrace:IJ,UnderBracket:AJ,UnderParenthesis:NJ,Union:OJ,UnionPlus:DJ,Uogon:MJ,uogon:RJ,Uopf:LJ,uopf:PJ,UpArrowBar:FJ,uparrow:jJ,UpArrow:BJ,Uparrow:VJ,UpArrowDownArrow:UJ,updownarrow:qJ,UpDownArrow:HJ,Updownarrow:zJ,UpEquilibrium:$J,upharpoonleft:GJ,upharpoonright:WJ,uplus:KJ,UpperLeftArrow:JJ,UpperRightArrow:XJ,upsi:QJ,Upsi:YJ,upsih:ZJ,Upsilon:tX,upsilon:eX,UpTeeArrow:nX,UpTee:rX,upuparrows:iX,urcorn:oX,urcorner:sX,urcrop:aX,Uring:uX,uring:cX,urtri:lX,Uscr:hX,uscr:fX,utdot:pX,Utilde:dX,utilde:mX,utri:vX,utrif:gX,uuarr:yX,Uuml:bX,uuml:wX,uwangle:kX,vangrt:_X,varepsilon:TX,varkappa:EX,varnothing:CX,varphi:xX,varpi:SX,varpropto:IX,varr:AX,vArr:NX,varrho:OX,varsigma:DX,varsubsetneq:MX,varsubsetneqq:RX,varsupsetneq:LX,varsupsetneqq:PX,vartheta:FX,vartriangleleft:jX,vartriangleright:BX,vBar:VX,Vbar:UX,vBarv:qX,Vcy:HX,vcy:zX,vdash:$X,vDash:GX,Vdash:WX,VDash:KX,Vdashl:JX,veebar:XX,vee:QX,Vee:YX,veeeq:ZX,vellip:tQ,verbar:eQ,Verbar:nQ,vert:rQ,Vert:iQ,VerticalBar:oQ,VerticalLine:sQ,VerticalSeparator:aQ,VerticalTilde:uQ,VeryThinSpace:cQ,Vfr:lQ,vfr:hQ,vltri:fQ,vnsub:pQ,vnsup:dQ,Vopf:mQ,vopf:vQ,vprop:gQ,vrtri:yQ,Vscr:bQ,vscr:wQ,vsubnE:kQ,vsubne:_Q,vsupnE:TQ,vsupne:EQ,Vvdash:CQ,vzigzag:xQ,Wcirc:SQ,wcirc:IQ,wedbar:AQ,wedge:NQ,Wedge:OQ,wedgeq:DQ,weierp:MQ,Wfr:RQ,wfr:LQ,Wopf:PQ,wopf:FQ,wp:jQ,wr:BQ,wreath:VQ,Wscr:UQ,wscr:qQ,xcap:HQ,xcirc:zQ,xcup:$Q,xdtri:GQ,Xfr:WQ,xfr:KQ,xharr:JQ,xhArr:XQ,Xi:QQ,xi:YQ,xlarr:ZQ,xlArr:tY,xmap:eY,xnis:nY,xodot:rY,Xopf:iY,xopf:oY,xoplus:sY,xotime:aY,xrarr:uY,xrArr:cY,Xscr:lY,xscr:hY,xsqcup:fY,xuplus:pY,xutri:dY,xvee:mY,xwedge:vY,Yacute:gY,yacute:yY,YAcy:bY,yacy:wY,Ycirc:kY,ycirc:_Y,Ycy:TY,ycy:EY,yen:CY,Yfr:xY,yfr:SY,YIcy:IY,yicy:AY,Yopf:NY,yopf:OY,Yscr:DY,yscr:MY,YUcy:RY,yucy:LY,yuml:PY,Yuml:FY,Zacute:jY,zacute:BY,Zcaron:VY,zcaron:UY,Zcy:qY,zcy:HY,Zdot:zY,zdot:$Y,zeetrf:GY,ZeroWidthSpace:WY,Zeta:KY,zeta:JY,zfr:XY,Zfr:QY,ZHcy:YY,zhcy:ZY,zigrarr:tZ,zopf:eZ,Zopf:nZ,Zscr:rZ,zscr:iZ,zwj:oZ,zwnj:sZ},uZ="Á",cZ="á",lZ="Â",hZ="â",fZ="´",pZ="Æ",dZ="æ",mZ="À",vZ="à",gZ="&",yZ="&",bZ="Å",wZ="å",kZ="Ã",_Z="ã",TZ="Ä",EZ="ä",CZ="¦",xZ="Ç",SZ="ç",IZ="¸",AZ="¢",NZ="©",OZ="©",DZ="¤",MZ="°",RZ="÷",LZ="É",PZ="é",FZ="Ê",jZ="ê",BZ="È",VZ="è",UZ="Ð",qZ="ð",HZ="Ë",zZ="ë",$Z="½",GZ="¼",WZ="¾",KZ=">",JZ=">",XZ="Í",QZ="í",YZ="Î",ZZ="î",t0="¡",e0="Ì",n0="ì",r0="¿",i0="Ï",o0="ï",s0="«",a0="<",u0="<",c0="¯",l0="µ",h0="·",f0=" ",p0="¬",d0="Ñ",m0="ñ",v0="Ó",g0="ó",y0="Ô",b0="ô",w0="Ò",k0="ò",_0="ª",T0="º",E0="Ø",C0="ø",x0="Õ",S0="õ",I0="Ö",A0="ö",N0="¶",O0="±",D0="£",M0='"',R0='"',L0="»",P0="®",F0="®",j0="§",B0="­",V0="¹",U0="²",q0="³",H0="ß",z0="Þ",$0="þ",G0="×",W0="Ú",K0="ú",J0="Û",X0="û",Q0="Ù",Y0="ù",Z0="¨",t1="Ü",e1="ü",n1="Ý",r1="ý",i1="¥",o1="ÿ",s1={Aacute:uZ,aacute:cZ,Acirc:lZ,acirc:hZ,acute:fZ,AElig:pZ,aelig:dZ,Agrave:mZ,agrave:vZ,amp:gZ,AMP:yZ,Aring:bZ,aring:wZ,Atilde:kZ,atilde:_Z,Auml:TZ,auml:EZ,brvbar:CZ,Ccedil:xZ,ccedil:SZ,cedil:IZ,cent:AZ,copy:NZ,COPY:OZ,curren:DZ,deg:MZ,divide:RZ,Eacute:LZ,eacute:PZ,Ecirc:FZ,ecirc:jZ,Egrave:BZ,egrave:VZ,ETH:UZ,eth:qZ,Euml:HZ,euml:zZ,frac12:$Z,frac14:GZ,frac34:WZ,gt:KZ,GT:JZ,Iacute:XZ,iacute:QZ,Icirc:YZ,icirc:ZZ,iexcl:t0,Igrave:e0,igrave:n0,iquest:r0,Iuml:i0,iuml:o0,laquo:s0,lt:a0,LT:u0,macr:c0,micro:l0,middot:h0,nbsp:f0,not:p0,Ntilde:d0,ntilde:m0,Oacute:v0,oacute:g0,Ocirc:y0,ocirc:b0,Ograve:w0,ograve:k0,ordf:_0,ordm:T0,Oslash:E0,oslash:C0,Otilde:x0,otilde:S0,Ouml:I0,ouml:A0,para:N0,plusmn:O0,pound:D0,quot:M0,QUOT:R0,raquo:L0,reg:P0,REG:F0,sect:j0,shy:B0,sup1:V0,sup2:U0,sup3:q0,szlig:H0,THORN:z0,thorn:$0,times:G0,Uacute:W0,uacute:K0,Ucirc:J0,ucirc:X0,Ugrave:Q0,ugrave:Y0,uml:Z0,Uuml:t1,uuml:e1,Yacute:n1,yacute:r1,yen:i1,yuml:o1},a1="&",u1="'",c1=">",l1="<",h1='"',f1={amp:a1,apos:u1,gt:c1,lt:l1,quot:h1},p1={},d1={0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376},m1=Fp&&Fp.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(p1,"__esModule",{value:!0});var v1=m1(d1),g1=String.fromCodePoint||function(t){var e="";return t>65535&&(t-=65536,e+=String.fromCharCode(t>>>10&1023|55296),t=56320|1023&t),e+=String.fromCharCode(t),e};function y1(t){return t>=55296&&t<=57343||t>1114111?"�":(t in v1.default&&(t=v1.default[t]),g1(t))}p1.default=y1;var b1=Fp&&Fp.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Hp,"__esModule",{value:!0}),Hp.decodeHTML=Hp.decodeHTMLStrict=Hp.decodeXML=void 0;var w1=b1(aZ),k1=b1(s1),_1=b1(f1),T1=b1(p1),E1=/&(?:[a-zA-Z0-9]+|#[xX][\da-fA-F]+|#\d+);/g;function C1(t){var e=S1(t);return function(t){return String(t).replace(E1,e)}}Hp.decodeXML=C1(_1.default),Hp.decodeHTMLStrict=C1(w1.default);var x1=function(t,e){return t<e?1:-1};function S1(t){return function(e){if("#"===e.charAt(1)){var n=e.charAt(2);return"X"===n||"x"===n?T1.default(parseInt(e.substr(3),16)):T1.default(parseInt(e.substr(2),10))}return t[e.slice(1,-1)]||e}}Hp.decodeHTML=function(){for(var t=Object.keys(k1.default).sort(x1),e=Object.keys(w1.default).sort(x1),n=0,r=0;n<e.length;n++)t[r]===e[n]?(e[n]+=";?",r++):e[n]+=";";var i=new RegExp("&(?:"+e.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),o=S1(w1.default);function s(t){return";"!==t.substr(-1)&&(t+=";"),o(t)}return function(t){return String(t).replace(i,s)}}();var I1={},A1=Fp&&Fp.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(I1,"__esModule",{value:!0}),I1.escapeUTF8=I1.escape=I1.encodeNonAsciiHTML=I1.encodeHTML=I1.encodeXML=void 0;var N1=A1(f1),O1=P1(N1.default),D1=F1(O1);I1.encodeXML=$1(O1);var M1=A1(aZ),R1=P1(M1.default),L1=F1(R1);function P1(t){return Object.keys(t).sort().reduce((function(e,n){return e[t[n]]="&"+n+";",e}),{})}function F1(t){for(var e=[],n=[],r=0,i=Object.keys(t);r<i.length;r++){var o=i[r];1===o.length?e.push("\\"+o):n.push(o)}e.sort();for(var s=0;s<e.length-1;s++){var a=s;while(a<e.length-1&&e[a].charCodeAt(1)+1===e[a+1].charCodeAt(1))a+=1;var u=1+a-s;u<3||e.splice(s,u,e[s]+"-"+e[a])}return n.unshift("["+e.join("")+"]"),new RegExp(n.join("|"),"g")}I1.encodeHTML=U1(R1,L1),I1.encodeNonAsciiHTML=$1(R1);var j1=/(?:[\x80-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,B1=null!=String.prototype.codePointAt?function(t){return t.codePointAt(0)}:function(t){return 1024*(t.charCodeAt(0)-55296)+t.charCodeAt(1)-56320+65536};function V1(t){return"&#x"+(t.length>1?B1(t):t.charCodeAt(0)).toString(16).toUpperCase()+";"}function U1(t,e){return function(n){return n.replace(e,(function(e){return t[e]})).replace(j1,V1)}}var q1=new RegExp(D1.source+"|"+j1.source,"g");function H1(t){return t.replace(q1,V1)}function z1(t){return t.replace(D1,V1)}function $1(t){return function(e){return e.replace(q1,(function(e){return t[e]||V1(e)}))}}I1.escape=H1,I1.escapeUTF8=z1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.decodeXMLStrict=t.decodeHTML5Strict=t.decodeHTML4Strict=t.decodeHTML5=t.decodeHTML4=t.decodeHTMLStrict=t.decodeHTML=t.decodeXML=t.encodeHTML5=t.encodeHTML4=t.escapeUTF8=t.escape=t.encodeNonAsciiHTML=t.encodeHTML=t.encodeXML=t.encode=t.decodeStrict=t.decode=void 0;var e=Hp,n=I1;function r(t,n){return(!n||n<=0?e.decodeXML:e.decodeHTML)(t)}function i(t,n){return(!n||n<=0?e.decodeXML:e.decodeHTMLStrict)(t)}function o(t,e){return(!e||e<=0?n.encodeXML:n.encodeHTML)(t)}t.decode=r,t.decodeStrict=i,t.encode=o;var s=I1;Object.defineProperty(t,"encodeXML",{enumerable:!0,get:function(){return s.encodeXML}}),Object.defineProperty(t,"encodeHTML",{enumerable:!0,get:function(){return s.encodeHTML}}),Object.defineProperty(t,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return s.encodeNonAsciiHTML}}),Object.defineProperty(t,"escape",{enumerable:!0,get:function(){return s.escape}}),Object.defineProperty(t,"escapeUTF8",{enumerable:!0,get:function(){return s.escapeUTF8}}),Object.defineProperty(t,"encodeHTML4",{enumerable:!0,get:function(){return s.encodeHTML}}),Object.defineProperty(t,"encodeHTML5",{enumerable:!0,get:function(){return s.encodeHTML}});var a=Hp;Object.defineProperty(t,"decodeXML",{enumerable:!0,get:function(){return a.decodeXML}}),Object.defineProperty(t,"decodeHTML",{enumerable:!0,get:function(){return a.decodeHTML}}),Object.defineProperty(t,"decodeHTMLStrict",{enumerable:!0,get:function(){return a.decodeHTMLStrict}}),Object.defineProperty(t,"decodeHTML4",{enumerable:!0,get:function(){return a.decodeHTML}}),Object.defineProperty(t,"decodeHTML5",{enumerable:!0,get:function(){return a.decodeHTML}}),Object.defineProperty(t,"decodeHTML4Strict",{enumerable:!0,get:function(){return a.decodeHTMLStrict}}),Object.defineProperty(t,"decodeHTML5Strict",{enumerable:!0,get:function(){return a.decodeHTMLStrict}}),Object.defineProperty(t,"decodeXMLStrict",{enumerable:!0,get:function(){return a.decodeXML}})}(qp);var G1="&(?:#x[a-f0-9]{1,6}|#[0-9]{1,7}|[a-z][a-z0-9]{1,31});",W1=92,K1=/[\\&]/,J1="[!\"#$%&'()*+,./:;<=>?@[\\\\\\]^_`{|}~-]",X1=new RegExp("\\\\"+J1+"|"+G1,"gi"),Q1='[&<>"]',Y1=new RegExp(Q1,"g"),Z1=function(t){return t.charCodeAt(0)===W1?t.charAt(1):qp.decodeHTML(t)};function t2(t){return K1.test(t)?t.replace(X1,Z1):t}function e2(t){try{return Up(t)}catch(e){return t}}function n2(t){switch(t){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";default:return t}}function r2(t){return Y1.test(t)?t.replace(Y1,n2):t}function i2(t,e){for(var n=[],r=0;r<e;r++)n.push(t);return n.join("")}function o2(t){return!t||!/[^ \t]+/.test(t)}var s2=function(){function t(t){this.current=t,this.root=t,this.entering=!0}return t.prototype.next=function(){var t=this.current,e=this.entering;if(null===t)return null;var n=a2(t);return e&&n?t.firstChild?(this.current=t.firstChild,this.entering=!0):this.entering=!1:t===this.root?this.current=null:null===t.next?(this.current=t.parent,this.entering=!1):(this.current=t.next,this.entering=!0),{entering:e,node:t}},t.prototype.resumeAt=function(t,e){this.current=t,this.entering=!0===e},t}();function a2(t){switch(t.type){case"document":case"blockQuote":case"list":case"item":case"paragraph":case"heading":case"emph":case"strong":case"strike":case"link":case"image":case"table":case"tableHead":case"tableBody":case"tableRow":case"tableCell":case"tableDelimRow":case"customInline":return!0;default:return!1}}var u2=1,c2={};function l2(t){return c2[t]}function h2(t){delete c2[t]}function f2(){c2={}}var p2=function(){function t(t,e){this.parent=null,this.prev=null,this.next=null,this.firstChild=null,this.lastChild=null,this.literal=null,this.id="document"===t?-1:u2++,this.type=t,this.sourcepos=e,c2[this.id]=this}return t.prototype.isContainer=function(){return a2(this)},t.prototype.unlink=function(){this.prev?this.prev.next=this.next:this.parent&&(this.parent.firstChild=this.next),this.next?this.next.prev=this.prev:this.parent&&(this.parent.lastChild=this.prev),this.parent=null,this.next=null,this.prev=null},t.prototype.replaceWith=function(t){this.insertBefore(t),this.unlink()},t.prototype.insertAfter=function(t){t.unlink(),t.next=this.next,t.next&&(t.next.prev=t),t.prev=this,this.next=t,this.parent&&(t.parent=this.parent,t.next||(t.parent.lastChild=t))},t.prototype.insertBefore=function(t){t.unlink(),t.prev=this.prev,t.prev&&(t.prev.next=t),t.next=this,this.prev=t,t.parent=this.parent,t.prev||(t.parent.firstChild=t)},t.prototype.appendChild=function(t){t.unlink(),t.parent=this,this.lastChild?(this.lastChild.next=t,t.prev=this.lastChild,this.lastChild=t):(this.firstChild=t,this.lastChild=t)},t.prototype.prependChild=function(t){t.unlink(),t.parent=this,this.firstChild?(this.firstChild.prev=t,t.next=this.firstChild,this.firstChild=t):(this.firstChild=t,this.lastChild=t)},t.prototype.walker=function(){return new s2(this)},t}(),d2=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.open=!0,r.lineOffsets=null,r.stringContent=null,r.lastLineBlank=!1,r.lastLineChecked=!1,r.type=e,r}return Rp(e,t),e}(p2),m2=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.listData=null,e}return Rp(e,t),e}(d2),v2=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.level=0,e.headingType="atx",e}return Rp(e,t),e}(d2),g2=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isFenced=!1,e.fenceChar=null,e.fenceLength=0,e.fenceOffset=-1,e.info=null,e.infoPadding=0,e}return Rp(e,t),e}(d2),y2=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.columns=[],e}return Rp(e,t),e}(d2),b2=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.startIdx=0,e.endIdx=0,e.paddingLeft=0,e.paddingRight=0,e.ignored=!1,e}return Rp(e,t),e}(d2),w2=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.title="",e.dest="",e.label="",e}return Rp(e,t),e}(d2),k2=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.syntaxLength=0,e.offset=-1,e.info="",e}return Rp(e,t),e}(d2),_2=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.htmlBlockType=-1,e}return Rp(e,t),e}(d2),T2=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.destination=null,e.title=null,e.extendedAutolink=!1,e}return Rp(e,t),e}(p2),E2=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tickCount=0,e}return Rp(e,t),e}(p2),C2=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.info="",e}return Rp(e,t),e}(p2);function x2(t,e){switch(t){case"heading":return new v2(t,e);case"list":case"item":return new m2(t,e);case"link":case"image":return new T2(t,e);case"codeBlock":return new g2(t,e);case"htmlBlock":return new _2(t,e);case"table":return new y2(t,e);case"tableCell":return new b2(t,e);case"document":case"paragraph":case"blockQuote":case"thematicBreak":case"tableRow":case"tableBody":case"tableHead":case"frontMatter":return new d2(t,e);case"code":return new E2(t,e);case"refDef":return new w2(t,e);case"customBlock":return new k2(t,e);case"customInline":return new C2(t,e);default:return new p2(t,e)}}function S2(t){return"codeBlock"===t.type}function I2(t){return"htmlBlock"===t.type}function A2(t){return"heading"===t.type}function N2(t){return"list"===t.type}function O2(t){return"table"===t.type}function D2(t){return"refDef"===t.type}function M2(t){return"customBlock"===t.type}function R2(t){return"customInline"===t.type}function L2(t,e){var n=x2("text",e);return n.literal=t,n}var P2,F2="[A-Za-z][A-Za-z0-9-]*",j2="[a-zA-Z_:][a-zA-Z0-9:._-]*",B2="[^\"'=<>`\\x00-\\x20]+",V2="'[^']*'",U2='"[^"]*"',q2="(?:"+B2+"|"+V2+"|"+U2+")",H2="(?:\\s*=\\s*"+q2+")",z2="(?:\\s+"+j2+H2+"?)",$2="<"+F2+z2+"*\\s*/?>",G2="</"+F2+"\\s*[>]",W2="\x3c!----\x3e|\x3c!--(?:-?[^>-])(?:-?[^-])*--\x3e",K2="[<][?].*?[?][>]",J2="<![A-Z]+\\s+[^>]*>",X2="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",Q2="(?:"+$2+"|"+G2+"|"+W2+"|"+K2+"|"+J2+"|"+X2+")",Y2=new RegExp("^"+Q2,"i");if(String.fromCodePoint)P2=function(t){try{return String.fromCodePoint(t)}catch(e){if(e instanceof RangeError)return String.fromCharCode(65533);throw e}};else{var Z2=String.fromCharCode,t3=Math.floor;P2=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n,r,i=16384,o=[],s=-1,a=t.length;if(!a)return"";var u="";while(++s<a){var c=Number(t[s]);if(!isFinite(c)||c<0||c>1114111||t3(c)!==c)return String.fromCharCode(65533);c<=65535?o.push(c):(c-=65536,n=55296+(c>>10),r=c%1024+56320,o.push(n,r)),(s+1===a||o.length>i)&&(u+=Z2.apply(void 0,o),o.length=0)}return u}}var e3=P2,n3="(?:[w-]+.)*[A-Za-z0-9-]+.[A-Za-z0-9-]+",r3="[^<\\s]*[^<?!.,:*_?~\\s]",i3="[\\w.+-]+@(?:[\\w-]+\\.)+[\\w-]+";function o3(t){var e=/\)+$/.exec(t);if(e){for(var n=0,r=0,i=t;r<i.length;r++){var o=i[r];"("===o?n<0?n=1:n+=1:")"===o&&(n-=1)}if(n<0){var s=Math.min(-n,e[0].length);return t.substring(0,t.length-s)}}return t}function s3(t){return t.replace(/&[A-Za-z0-9]+;$/,"")}function a3(t){var e,n=new RegExp(i3,"g"),r=[];while(e=n.exec(t)){var i=e[0];/[_-]+$/.test(i)||r.push({text:i,range:[e.index,e.index+i.length-1],url:"mailto:"+i})}return r}function u3(t){var e,n=new RegExp("(www|https?://)."+n3+r3,"g"),r=[];while(e=n.exec(t)){var i=s3(o3(e[0])),o="www"===e[1]?"http://":"";r.push({text:i,range:[e.index,e.index+i.length-1],url:""+o+i})}return r}function c3(t){return Pp(Pp([],u3(t)),a3(t)).sort((function(t,e){return t.range[0]-e.range[0]}))}function l3(t,e){var n;"boolean"===typeof e&&(e=c3);var r=function(){var t=n.entering,r=n.node;if(t&&"text"===r.type&&"link"!==r.parent.type){var i=r.literal,o=e(i);if(!o||!o.length)return"continue";for(var s=0,a=r.sourcepos[0],u=a[0],c=a[1],l=function(t,e){return[[u,c+t],[u,c+e]]},h=[],f=0,p=o;f<p.length;f++){var d=p[f],m=d.range,v=d.url,g=d.text;m[0]>s&&h.push(L2(i.substring(s,m[0]),l(s,m[0]-1)));var y=x2("link",l.apply(void 0,m));y.appendChild(L2(g,l.apply(void 0,m))),y.destination=v,y.extendedAutolink=!0,h.push(y),s=m[1]+1}s<i.length&&h.push(L2(i.substring(s),l(s,i.length-1)));for(var b=0,w=h;b<w.length;b++){var k=w[b];r.insertBefore(k)}r.unlink()}};while(n=t.next())r()}function h3(t){return t[t.length-1]}function f3(t){return t.slice(1,t.length-1).trim().replace(/[ \t\r\n]+/," ").toLowerCase().toUpperCase()}function p3(t,e){Object.keys(t).forEach((function(n){e(n,t[n])}))}function d3(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=Lp({},t);return e.forEach((function(t){delete r[t]})),r}function m3(t){return!Object.keys(t).length}function v3(t){Object.keys(t).forEach((function(e){delete t[e]}))}var g3=10,y3=42,b3=95,w3=96,k3=91,_3=93,T3=126,E3=60,C3=33,x3=92,S3=38,I3=40,A3=41,N3=58,O3=39,D3=34,M3=36,R3="\\\\"+J1,L3=new RegExp(/[!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/),P3=new RegExp('^(?:"('+R3+'|[^"\\x00])*"|\'('+R3+"|[^'\\x00])*'|\\(("+R3+"|[^()\\x00])*\\))"),F3=/^(?:<(?:[^<>\n\\\x00]|\\.)*>)/,j3=new RegExp("^"+J1),B3=new RegExp("^"+G1,"i"),V3=/`+/,U3=/^`+/,q3=/\.\.\./g,H3=/--+/g,z3=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,$3=/^<[A-Za-z][A-Za-z0-9.+-]{1,31}:[^<>\x00-\x20]*>/i,G3=/^ *(?:\n *)?/,W3=/^[ \t\n\x0b\x0c\x0d]/,K3=/^\s/,J3=/ *$/,X3=/^ */,Q3=/^ *(?:\n|$)/,Y3=/^\[(?:[^\\\[\]]|\\.){0,1000}\]/,Z3=/^[^\n`\[\]\\!<&*_'"~$]+/m,t4=function(){function t(t){this.subject="",this.delimiters=null,this.brackets=null,this.pos=0,this.lineStartNum=0,this.lineIdx=0,this.lineOffsets=[0],this.linePosOffset=0,this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.options=t}return t.prototype.sourcepos=function(t,e){var n=this.linePosOffset+this.lineOffsets[this.lineIdx],r=this.lineStartNum+this.lineIdx,i=[r,t+n];return"number"===typeof e?[i,[r,e+n]]:i},t.prototype.nextLine=function(){this.lineIdx+=1,this.linePosOffset=-this.pos},t.prototype.match=function(t){var e=t.exec(this.subject.slice(this.pos));return null===e?null:(this.pos+=e.index+e[0].length,e[0])},t.prototype.peek=function(){return this.pos<this.subject.length?this.subject.charCodeAt(this.pos):-1},t.prototype.spnl=function(){return this.match(G3),!0},t.prototype.parseBackticks=function(t){var e=this.pos+1,n=this.match(U3);if(null===n)return!1;var r,i=this.pos;while(null!==(r=this.match(V3)))if(r===n){var o=this.subject.slice(i,this.pos-n.length),s=this.sourcepos(e,this.pos),a=o.split("\n");if(a.length>1){var u=h3(a);this.lineIdx+=a.length-1,this.linePosOffset=-(this.pos-u.length-n.length),s[1]=this.sourcepos(this.pos),o=a.join(" ")}var c=x2("code",s);return o.length>0&&null!==o.match(/[^ ]/)&&" "==o[0]&&" "==o[o.length-1]?c.literal=o.slice(1,o.length-1):c.literal=o,c.tickCount=n.length,t.appendChild(c),!0}return this.pos=i,t.appendChild(L2(n,this.sourcepos(e,this.pos-1))),!0},t.prototype.parseBackslash=function(t){var e,n=this.subject;this.pos+=1;var r=this.pos;return this.peek()===g3?(this.pos+=1,e=x2("linebreak",this.sourcepos(this.pos-1,this.pos)),t.appendChild(e),this.nextLine()):j3.test(n.charAt(this.pos))?(t.appendChild(L2(n.charAt(this.pos),this.sourcepos(r,this.pos))),this.pos+=1):t.appendChild(L2("\\",this.sourcepos(r,r))),!0},t.prototype.parseAutolink=function(t){var e,n,r,i=this.pos+1;return(e=this.match(z3))?(n=e.slice(1,e.length-1),r=x2("link",this.sourcepos(i,this.pos)),r.destination=e2("mailto:"+n),r.title="",r.appendChild(L2(n,this.sourcepos(i+1,this.pos-1))),t.appendChild(r),!0):!!(e=this.match($3))&&(n=e.slice(1,e.length-1),r=x2("link",this.sourcepos(i,this.pos)),r.destination=e2(n),r.title="",r.appendChild(L2(n,this.sourcepos(i+1,this.pos-1))),t.appendChild(r),!0)},t.prototype.parseHtmlTag=function(t){var e=this.pos+1,n=this.match(Y2);if(null===n)return!1;var r=x2("htmlInline",this.sourcepos(e,this.pos));return r.literal=n,t.appendChild(r),!0},t.prototype.scanDelims=function(t){var e=0,n=this.pos;if(t===O3||t===D3)e++,this.pos++;else while(this.peek()===t)e++,this.pos++;if(0===e||e<2&&(t===T3||t===M3))return this.pos=n,null;var r,i=0===n?"\n":this.subject.charAt(n-1),o=this.peek();r=-1===o?"\n":e3(o);var s,a,u=K3.test(r),c=L3.test(r),l=K3.test(i),h=L3.test(i),f=!u&&(!c||l||h),p=!l&&(!h||u||c);return t===b3?(s=f&&(!p||h),a=p&&(!f||c)):t===O3||t===D3?(s=f&&!p,a=p):t===M3?(s=!u,a=!l):(s=f,a=p),this.pos=n,{numdelims:e,canOpen:s,canClose:a}},t.prototype.handleDelim=function(t,e){var n=this.scanDelims(t);if(!n)return!1;var r,i=n.numdelims,o=this.pos+1;this.pos+=i,r=t===O3?"’":t===D3?"“":this.subject.slice(o-1,this.pos);var s=L2(r,this.sourcepos(o,this.pos));return e.appendChild(s),(n.canOpen||n.canClose)&&(this.options.smart||t!==O3&&t!==D3)&&(this.delimiters={cc:t,numdelims:i,origdelims:i,node:s,previous:this.delimiters,next:null,canOpen:n.canOpen,canClose:n.canClose},this.delimiters.previous&&(this.delimiters.previous.next=this.delimiters)),!0},t.prototype.removeDelimiter=function(t){null!==t.previous&&(t.previous.next=t.next),null===t.next?this.delimiters=t.previous:t.next.previous=t.previous},t.prototype.removeDelimitersBetween=function(t,e){t.next!==e&&(t.next=e,e.previous=t)},t.prototype.processEmphasis=function(t){var e,n,r,i,o,s,a,u=!1,c=(e={},e[b3]=[t,t,t],e[y3]=[t,t,t],e[O3]=[t],e[D3]=[t],e[T3]=[t],e[M3]=[t],e);r=this.delimiters;while(null!==r&&r.previous!==t)r=r.previous;while(null!==r){var l=r.cc,h=l===b3||l===y3;if(r.canClose){n=r.previous,a=!1;while(null!==n&&n!==t&&n!==c[l][h?r.origdelims%3:0]){if(u=h&&(r.canOpen||n.canClose)&&r.origdelims%3!==0&&(n.origdelims+r.origdelims)%3===0,n.cc===r.cc&&n.canOpen&&!u){a=!0;break}n=n.previous}if(i=r,h||l===T3||l===M3)if(a){if(n){var f=r.numdelims>=2&&n.numdelims>=2?2:1,p=h?0:1;o=n.node,s=r.node;var d=h?1===f?"emph":"strong":"strike";l===M3&&(d="customInline");var m=x2(d),v=o.sourcepos[1],g=s.sourcepos[0];m.sourcepos=[[v[0],v[1]-f+1],[g[0],g[1]+f-1]],o.sourcepos[1][1]-=f,s.sourcepos[0][1]+=f,o.literal=o.literal.slice(f),s.literal=s.literal.slice(f),n.numdelims-=f,r.numdelims-=f;var y=o.next,b=void 0;while(y&&y!==s)b=y.next,y.unlink(),m.appendChild(y),y=b;if(l===M3){var w=m.firstChild,k=w.literal||"",_=k.split(/\s/)[0];m.info=_,k.length<=_.length?w.unlink():(w.sourcepos[0][1]+=_.length,w.literal=k.replace(_+" ",""))}if(o.insertAfter(m),this.removeDelimitersBetween(n,r),n.numdelims<=p&&(0===n.numdelims&&o.unlink(),this.removeDelimiter(n)),r.numdelims<=p){0===r.numdelims&&s.unlink();var T=r.next;this.removeDelimiter(r),r=T}}}else r=r.next;else l===O3?(r.node.literal="’",a&&(n.node.literal="‘"),r=r.next):l===D3&&(r.node.literal="”",a&&(n.node.literal="“"),r=r.next);a||(c[l][h?i.origdelims%3:0]=i.previous,i.canOpen||this.removeDelimiter(i))}else r=r.next}while(null!==this.delimiters&&this.delimiters!==t)this.removeDelimiter(this.delimiters)},t.prototype.parseLinkTitle=function(){var t=this.match(P3);return null===t?null:t2(t.substr(1,t.length-2))},t.prototype.parseLinkDestination=function(){var t=this.match(F3);if(null===t){if(this.peek()===E3)return null;var e=this.pos,n=0,r=void 0;while(-1!==(r=this.peek()))if(r===x3&&j3.test(this.subject.charAt(this.pos+1)))this.pos+=1,-1!==this.peek()&&(this.pos+=1);else if(r===I3)this.pos+=1,n+=1;else if(r===A3){if(n<1)break;this.pos+=1,n-=1}else{if(null!==W3.exec(e3(r)))break;this.pos+=1}return this.pos===e&&r!==A3||0!==n?null:(t=this.subject.substr(e,this.pos-e),e2(t2(t)))}return e2(t2(t.substr(1,t.length-2)))},t.prototype.parseLinkLabel=function(){var t=this.match(Y3);return null===t||t.length>1001?0:t.length},t.prototype.parseOpenBracket=function(t){var e=this.pos;this.pos+=1;var n=L2("[",this.sourcepos(this.pos,this.pos));return t.appendChild(n),this.addBracket(n,e,!1),!0},t.prototype.parseBang=function(t){var e=this.pos;if(this.pos+=1,this.peek()===k3){this.pos+=1;var n=L2("![",this.sourcepos(this.pos-1,this.pos));t.appendChild(n),this.addBracket(n,e+1,!0)}else{n=L2("!",this.sourcepos(this.pos,this.pos));t.appendChild(n)}return!0},t.prototype.parseCloseBracket=function(t){var e=null,n=null,r=!1;this.pos+=1;var i=this.pos,o=this.brackets;if(null===o)return t.appendChild(L2("]",this.sourcepos(i,i))),!0;if(!o.active)return t.appendChild(L2("]",this.sourcepos(i,i))),this.removeBracket(),!0;var s=o.image,a=this.pos;this.peek()===I3&&(this.pos++,this.spnl()&&null!==(e=this.parseLinkDestination())&&this.spnl()&&(W3.test(this.subject.charAt(this.pos-1))&&(n=this.parseLinkTitle()),1)&&this.spnl()&&this.peek()===A3?(this.pos+=1,r=!0):this.pos=a);var u="";if(!r){var c=this.pos,l=this.parseLinkLabel();if(l>2?u=this.subject.slice(c,c+l):o.bracketAfter||(u=this.subject.slice(o.index,i)),0===l&&(this.pos=a),u){u=f3(u);var h=this.refMap[u];h&&(e=h.destination,n=h.title,r=!0)}}if(r){var f=x2(s?"image":"link");f.destination=e,f.title=n||"",f.sourcepos=[o.startpos,this.sourcepos(this.pos)];var p=o.node.next,d=void 0;while(p)d=p.next,p.unlink(),f.appendChild(p),p=d;if(t.appendChild(f),this.processEmphasis(o.previousDelimiter),this.removeBracket(),o.node.unlink(),!s){o=this.brackets;while(null!==o)o.image||(o.active=!1),o=o.previous}return this.options.referenceDefinition&&(this.refLinkCandidateMap[t.id]={node:t,refLabel:u}),!0}return this.removeBracket(),this.pos=i,t.appendChild(L2("]",this.sourcepos(i,i))),this.options.referenceDefinition&&(this.refLinkCandidateMap[t.id]={node:t,refLabel:u}),!0},t.prototype.addBracket=function(t,e,n){null!==this.brackets&&(this.brackets.bracketAfter=!0),this.brackets={node:t,startpos:this.sourcepos(e+(n?0:1)),previous:this.brackets,previousDelimiter:this.delimiters,index:e,image:n,active:!0}},t.prototype.removeBracket=function(){this.brackets&&(this.brackets=this.brackets.previous)},t.prototype.parseEntity=function(t){var e,n=this.pos+1;return!!(e=this.match(B3))&&(t.appendChild(L2(qp.decodeHTML(e),this.sourcepos(n,this.pos))),!0)},t.prototype.parseString=function(t){var e,n=this.pos+1;if(e=this.match(Z3)){if(this.options.smart){var r=e.replace(q3,"…").replace(H3,(function(t){var e=0,n=0;return t.length%3===0?n=t.length/3:t.length%2===0?e=t.length/2:t.length%3===2?(e=1,n=(t.length-2)/3):(e=2,n=(t.length-4)/3),i2("—",n)+i2("–",e)}));t.appendChild(L2(r,this.sourcepos(n,this.pos)))}else{var i=L2(e,this.sourcepos(n,this.pos));t.appendChild(i)}return!0}return!1},t.prototype.parseNewline=function(t){this.pos+=1;var e=t.lastChild;if(e&&"text"===e.type&&" "===e.literal[e.literal.length-1]){var n=" "===e.literal[e.literal.length-2],r=e.literal.length;e.literal=e.literal.replace(J3,"");var i=r-e.literal.length;e.sourcepos[1][1]-=i,t.appendChild(x2(n?"linebreak":"softbreak",this.sourcepos(this.pos-i,this.pos)))}else t.appendChild(x2("softbreak",this.sourcepos(this.pos,this.pos)));return this.nextLine(),this.match(X3),!0},t.prototype.parseReference=function(t,e){if(!this.options.referenceDefinition)return 0;this.subject=t.stringContent,this.pos=0;var n=null,r=this.pos,i=this.parseLinkLabel();if(0===i)return 0;var o=this.subject.substr(0,i);if(this.peek()!==N3)return this.pos=r,0;this.pos++,this.spnl();var s=this.parseLinkDestination();if(null===s)return this.pos=r,0;var a=this.pos;this.spnl(),this.pos!==a&&(n=this.parseLinkTitle()),null===n&&(n="",this.pos=a);var u=!0;if(null===this.match(Q3)&&(""===n?u=!1:(n="",this.pos=a,u=null!==this.match(Q3))),!u)return this.pos=r,0;var c=f3(o);if(""===c)return this.pos=r,0;var l=this.getReferenceDefSourcepos(t);t.sourcepos[0][0]=l[1][0]+1;var h=x2("refDef",l);return h.title=n,h.dest=s,h.label=c,t.insertBefore(h),e[c]?this.refDefCandidateMap[h.id]=h:e[c]=j6(h),this.pos-r},t.prototype.mergeTextNodes=function(t){var e,n=[];while(e=t.next()){var r=e.entering,i=e.node;if(r&&"text"===i.type)n.push(i);else if(1===n.length)n=[];else if(n.length>1){var o=n[0],s=n[n.length-1];o.sourcepos&&s.sourcepos&&(o.sourcepos[1]=s.sourcepos[1]),o.next=s.next,o.next&&(o.next.prev=o);for(var a=1;a<n.length;a+=1)o.literal+=n[a].literal,n[a].unlink();n=[]}}},t.prototype.getReferenceDefSourcepos=function(t){for(var e=t.stringContent.split(/\n|\r\n/),n=!1,r=0,i={line:0,ch:0},o=0;o<e.length;o+=1){var s=e[o];if(W3.test(s))break;if(/\:/.test(s)&&0===r){if(n)break;var a=s.indexOf(":")===s.length-1?o+1:o;i={line:a,ch:e[a].length},n=!0}var u=s.match(/'|"/g);if(u&&(r+=u.length),2===r){i={line:o,ch:s.length};break}}return[[t.sourcepos[0][0],t.sourcepos[0][1]],[t.sourcepos[0][0]+i.line,i.ch]]},t.prototype.parseInline=function(t){var e,n=!1,r=this.peek();if(-1===r)return!1;switch(r){case g3:n=this.parseNewline(t);break;case x3:n=this.parseBackslash(t);break;case w3:n=this.parseBackticks(t);break;case y3:case b3:case T3:case M3:n=this.handleDelim(r,t);break;case O3:case D3:n=!!(null===(e=this.options)||void 0===e?void 0:e.smart)&&this.handleDelim(r,t);break;case k3:n=this.parseOpenBracket(t);break;case C3:n=this.parseBang(t);break;case _3:n=this.parseCloseBracket(t);break;case E3:n=this.parseAutolink(t)||this.parseHtmlTag(t);break;case S3:n=this.parseEntity(t);break;default:n=this.parseString(t);break}return n||(this.pos+=1,t.appendChild(L2(e3(r),this.sourcepos(this.pos,this.pos+1)))),!0},t.prototype.parse=function(t){this.subject=t.stringContent.trim(),this.pos=0,this.delimiters=null,this.brackets=null,this.lineOffsets=t.lineOffsets||[0],this.lineIdx=0,this.linePosOffset=0,this.lineStartNum=t.sourcepos[0][0],A2(t)&&(this.lineOffsets[0]+=t.level+1);while(this.parseInline(t));t.stringContent=null,this.processEmphasis(null),this.mergeTextNodes(t.walker());var e=this.options,n=e.extendedAutolinks,r=e.customParser;if(n&&l3(t.walker(),n),r&&t.firstChild){var i,o=t.firstChild.walker();while(i=o.next()){var s=i.node,a=i.entering;r[s.type]&&r[s.type](s,{entering:a,options:this.options})}}},t}(),e4=/^\[([ \txX])\][ \t]+/;function n4(t,e){if(e.firstChild&&"paragraph"===e.firstChild.type){var n=e.firstChild,r=n.stringContent.match(e4);if(r){var i=r[0].length;n.stringContent=n.stringContent.substring(i-1),n.sourcepos[0][1]+=i,n.lineOffsets[0]+=i,e.listData.task=!0,e.listData.checked=/[xX]/.test(r[1])}}}var r4={continue:function(){return 0},finalize:function(){},canContain:function(t){return"tableHead"===t||"tableBody"===t},acceptsLines:!1},i4={continue:function(){return 0},finalize:function(){},canContain:function(t){return"tableRow"===t},acceptsLines:!1},o4={continue:function(){return 1},finalize:function(){},canContain:function(t){return"tableRow"===t||"tableDelimRow"===t},acceptsLines:!1},s4={continue:function(){return 1},finalize:function(){},canContain:function(t){return"tableDelimCell"===t},acceptsLines:!1},a4={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},u4={continue:function(){return 1},finalize:function(){},canContain:function(t){return"tableCell"===t},acceptsLines:!1},c4={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},l4=4,h4=9,f4=62,p4=60,d4=32,m4=91,v4=/[^ \t\f\v\r\n]/,g4=/^(?:`{3,}|~{3,})(?= *$)/;function y4(t){var e=t;while(e){if(e.lastLineBlank)return!0;var n=e.type;if(e.lastLineChecked||"list"!==n&&"item"!==n){e.lastLineChecked=!0;break}e.lastLineChecked=!0,e=e.lastChild}return!1}function b4(t,e){return e<t.length?t.charCodeAt(e):-1}function w4(t){return!v4.test(t)}function k4(t){return t===d4||t===h4}var _4=/^\$\$$/,T4={continue:function(t,e){var n=t.currentLine,r=n.match(_4);if(r)return t.lastLineLength=r[0].length,t.finalize(e,t.lineNumber),2;var i=e.offset;while(i>0&&k4(b4(n,t.offset)))t.advanceOffset(1,!0),i--;return 0},finalize:function(t,e){if(null!==e.stringContent){var n=e.stringContent,r=n.indexOf("\n"),i=n.slice(0,r),o=n.slice(r+1),s=i.match(/^(\s*)(.*)/);e.info=t2(s[2].trim()),e.literal=o,e.stringContent=null}},canContain:function(){return!1},acceptsLines:!0},E4={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!0},C4={continue:function(){return 0},finalize:function(){},canContain:function(t){return"item"!==t},acceptsLines:!1},x4={continue:function(){return 0},finalize:function(t,e){var n=e.firstChild;while(n){if(y4(n)&&n.next){e.listData.tight=!1;break}var r=n.firstChild;while(r){if(y4(r)&&(n.next||r.next)){e.listData.tight=!1;break}r=r.next}n=n.next}},canContain:function(t){return"item"===t},acceptsLines:!1},S4={continue:function(t){var e=t.currentLine;return t.indented||b4(e,t.nextNonspace)!==f4?1:(t.advanceNextNonspace(),t.advanceOffset(1,!1),k4(b4(e,t.offset))&&t.advanceOffset(1,!0),0)},finalize:function(){},canContain:function(t){return"item"!==t},acceptsLines:!1},I4={continue:function(t,e){if(t.blank){if(null===e.firstChild)return 1;t.advanceNextNonspace()}else{if(!(t.indent>=e.listData.markerOffset+e.listData.padding))return 1;t.advanceOffset(e.listData.markerOffset+e.listData.padding,!0)}return 0},finalize:n4,canContain:function(t){return"item"!==t},acceptsLines:!1},A4={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},N4={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},O4={continue:function(t,e){var n=t.currentLine,r=t.indent;if(e.isFenced){var i=r<=3&&n.charAt(t.nextNonspace)===e.fenceChar&&n.slice(t.nextNonspace).match(g4);if(i&&i[0].length>=e.fenceLength)return t.lastLineLength=t.offset+r+i[0].length,t.finalize(e,t.lineNumber),2;var o=e.fenceOffset;while(o>0&&k4(b4(n,t.offset)))t.advanceOffset(1,!0),o--}else if(r>=l4)t.advanceOffset(l4,!0);else{if(!t.blank)return 1;t.advanceNextNonspace()}return 0},finalize:function(t,e){var n;if(null!==e.stringContent){if(e.isFenced){var r=e.stringContent,i=r.indexOf("\n"),o=r.slice(0,i),s=r.slice(i+1),a=o.match(/^(\s*)(.*)/);e.infoPadding=a[1].length,e.info=t2(a[2].trim()),e.literal=s}else e.literal=null===(n=e.stringContent)||void 0===n?void 0:n.replace(/(\n *)+$/,"\n");e.stringContent=null}},canContain:function(){return!1},acceptsLines:!0},D4={continue:function(t,e){return!t.blank||6!==e.htmlBlockType&&7!==e.htmlBlockType?0:1},finalize:function(t,e){var n;e.literal=(null===(n=e.stringContent)||void 0===n?void 0:n.replace(/(\n *)+$/,""))||null,e.stringContent=null},canContain:function(){return!1},acceptsLines:!0},M4={continue:function(t){return t.blank?1:0},finalize:function(t,e){if(null!==e.stringContent){var n,r=!1;while(b4(e.stringContent,0)===m4&&(n=t.inlineParser.parseReference(e,t.refMap)))e.stringContent=e.stringContent.slice(n),r=!0;r&&w4(e.stringContent)&&e.unlink()}},canContain:function(){return!1},acceptsLines:!0},R4=E4,L4=E4,P4={document:C4,list:x4,blockQuote:S4,item:I4,heading:A4,thematicBreak:N4,codeBlock:O4,htmlBlock:D4,paragraph:M4,table:r4,tableBody:i4,tableHead:o4,tableRow:u4,tableCell:c4,tableDelimRow:s4,tableDelimCell:a4,refDef:R4,customBlock:T4,frontMatter:L4};function F4(t){for(var e=0,n=0,r=[],i=0;i<t.length;i+=1)if("|"===t[i]&&"\\"!==t[i-1]){var o=t.substring(e,i);0===e&&o2(o)?n=i+1:r.push(o),e=i+1}if(e<t.length){o=t.substring(e,t.length);o2(o)||r.push(o)}return[n,r]}function j4(t,e,n,r){for(var i=[],o=0,s=e;o<s.length;o++){var a=s[o],u=a.match(/^[ \t]+/),c=u?u[0].length:0,l=void 0,h=void 0;if(c===a.length)c=0,l=0,h="";else{var f=a.match(/[ \t]+$/);l=f?f[0].length:0,h=a.slice(c,a.length-l)}var p=r+c,d=x2(t,[[n,r],[n,r+a.length-1]]);d.stringContent=h.replace(/\\\|/g,"|"),d.startIdx=i.length,d.endIdx=i.length,d.lineOffsets=[p-1],d.paddingLeft=c,d.paddingRight=l,i.push(d),r+=a.length+1}return i}function B4(t){var e=null,n=t.stringContent,r=n[0],i=n[n.length-1];return":"===i?e=":"===r?"center":"right":":"===r&&(e="left"),{align:e}}var V4=function(t,e){var n=e.stringContent;if("paragraph"===e.type&&!t.indented&&!t.blank){var r=n.length-1,i=n.lastIndexOf("\n",r-1)+1,o=n.slice(i,r),s=t.currentLine.slice(t.nextNonspace),a=F4(o),u=a[0],c=a[1],l=F4(s),h=l[0],f=l[1],p=/^[ \t]*:?-+:?[ \t]*$/;if(!c.length||!f.length||f.some((function(t){return!p.test(t)}))||1===f.length&&0!==s.indexOf("|"))return 0;var d=e.lineOffsets,m=t.lineNumber-1,v=h3(d)+1,g=x2("table",[[m,v],[t.lineNumber,t.offset]]);if(g.columns=f.map((function(){return{align:null}})),e.insertAfter(g),1===d.length)e.unlink();else{e.stringContent=n.slice(0,i);var y=n.lastIndexOf("\n",i-2)+1,b=i-y-1;t.lastLineLength=d[d.length-2]+b,t.finalize(e,m-1)}t.advanceOffset(t.currentLine.length-t.offset,!1);var w=x2("tableHead",[[m,v],[t.lineNumber,t.offset]]);g.appendChild(w);var k=x2("tableRow",[[m,v],[m,v+o.length-1]]),_=x2("tableDelimRow",[[t.lineNumber,t.nextNonspace+1],[t.lineNumber,t.offset]]);w.appendChild(k),w.appendChild(_),j4("tableCell",c,m,v+u).forEach((function(t){k.appendChild(t)}));var T=j4("tableDelimCell",f,t.lineNumber,t.nextNonspace+1+h);return T.forEach((function(t){_.appendChild(t)})),g.columns=T.map(B4),t.tip=g,2}return 0},U4=function(t,e){if("table"!==e.type&&"tableBody"!==e.type||!t.blank&&-1===t.currentLine.indexOf("|"))return 0;if(t.advanceOffset(t.currentLine.length-t.offset,!1),t.blank){var n=e;return"tableBody"===e.type&&(n=e.parent,t.finalize(e,t.lineNumber-1)),t.finalize(n,t.lineNumber-1),0}var r=e;"table"===e.type&&(r=t.addChild("tableBody",t.nextNonspace),r.stringContent=null);var i=x2("tableRow",[[t.lineNumber,t.nextNonspace+1],[t.lineNumber,t.currentLine.length]]);r.appendChild(i);var o=r.parent,s=t.currentLine.slice(t.nextNonspace),a=F4(s),u=a[0],c=a[1];return j4("tableCell",c,t.lineNumber,t.nextNonspace+1+u).forEach((function(t,e){e>=o.columns.length&&(t.ignored=!0),i.appendChild(t)})),2},q4=/^(\$\$)(\s*[a-zA-Z])+/,H4=/^(\$\$)(\s*[a-zA-Z])+.*(\$\$)/,z4=function(t){var e;if(!t.indented&&!H4.test(t.currentLine)&&(e=t.currentLine.match(q4))){var n=e[1].length;t.closeUnmatchedBlocks();var r=t.addChild("customBlock",t.nextNonspace);return r.syntaxLength=n,r.offset=t.indent,t.advanceNextNonspace(),t.advanceOffset(n,!1),2}return 0},$4=/^`{3,}(?!.*`)|^~{3,}/,G4=[/./,/^<(?:script|pre|style)(?:\s|>|$)/i,/^<!--/,/^<[?]/,/^<![A-Z]/,/^<!\[CDATA\[/,/^<[/]?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[123456]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\s|[/]?[>]|$)/i,new RegExp("^(?:"+$2+"|"+G2+")\\s*$","i")],W4=/^(?:=+|-+)[ \t]*$/,K4=/^#{1,6}(?:[ \t]+|$)/,J4=/^(?:(?:\*[ \t]*){3,}|(?:_[ \t]*){3,}|(?:-[ \t]*){3,})[ \t]*$/,X4=/^[*+-]/,Q4=/^(\d{1,9})([.)])/;function Y4(t,e){var n,r,i=t.currentLine.slice(t.nextNonspace),o={type:"bullet",tight:!0,bulletChar:"",start:0,delimiter:"",padding:0,markerOffset:t.indent,task:!1,checked:!1};if(t.indent>=4)return null;if(n=i.match(X4))o.type="bullet",o.bulletChar=n[0][0];else{if(!(n=i.match(Q4))||"paragraph"===e.type&&"1"!==n[1])return null;o.type="ordered",o.start=parseInt(n[1],10),o.delimiter=n[2]}if(r=b4(t.currentLine,t.nextNonspace+n[0].length),-1!==r&&r!==h4&&r!==d4)return null;if("paragraph"===e.type&&!t.currentLine.slice(t.nextNonspace+n[0].length).match(v4))return null;t.advanceNextNonspace(),t.advanceOffset(n[0].length,!0);var s=t.column,a=t.offset;do{t.advanceOffset(1,!0),r=b4(t.currentLine,t.offset)}while(t.column-s<5&&k4(r));var u=-1===b4(t.currentLine,t.offset),c=t.column-s;return c>=5||c<1||u?(o.padding=n[0].length+1,t.column=s,t.offset=a,k4(b4(t.currentLine,t.offset))&&t.advanceOffset(1,!0)):o.padding=n[0].length+c,o}function Z4(t,e){return t.type===e.type&&t.delimiter===e.delimiter&&t.bulletChar===e.bulletChar}function t6(t,e){return t.options.disallowDeepHeading&&("blockQuote"===e.type||"item"===e.type)}var e6=function(t){return t.indented||b4(t.currentLine,t.nextNonspace)!==f4?0:(t.advanceNextNonspace(),t.advanceOffset(1,!1),k4(b4(t.currentLine,t.offset))&&t.advanceOffset(1,!0),t.closeUnmatchedBlocks(),t.addChild("blockQuote",t.nextNonspace),1)},n6=function(t,e){var n;if(!t.indented&&!t6(t,e)&&(n=t.currentLine.slice(t.nextNonspace).match(K4))){t.advanceNextNonspace(),t.advanceOffset(n[0].length,!1),t.closeUnmatchedBlocks();var r=t.addChild("heading",t.nextNonspace);return r.level=n[0].trim().length,r.headingType="atx",r.stringContent=t.currentLine.slice(t.offset).replace(/^[ \t]*#+[ \t]*$/,"").replace(/[ \t]+#+[ \t]*$/,""),t.advanceOffset(t.currentLine.length-t.offset),2}return 0},r6=function(t){var e;if(!t.indented&&(e=t.currentLine.slice(t.nextNonspace).match($4))){var n=e[0].length;t.closeUnmatchedBlocks();var r=t.addChild("codeBlock",t.nextNonspace);return r.isFenced=!0,r.fenceLength=n,r.fenceChar=e[0][0],r.fenceOffset=t.indent,t.advanceNextNonspace(),t.advanceOffset(n,!1),2}return 0},i6=function(t,e){if(!t.indented&&b4(t.currentLine,t.nextNonspace)===p4){var n=t.currentLine.slice(t.nextNonspace),r=t.options.disallowedHtmlBlockTags,i=void 0;for(i=1;i<=7;i++){var o=n.match(G4[i]);if(o){if(7===i){if("paragraph"===e.type)return 0;if(r.length>0){var s=new RegExp("</?(?:"+r.join("|")+")","i");if(s.test(o[0]))return 0}}t.closeUnmatchedBlocks();var a=t.addChild("htmlBlock",t.offset);return a.htmlBlockType=i,2}}}return 0},o6=function(t,e){var n;if(null!==e.stringContent&&!t.indented&&"paragraph"===e.type&&!t6(t,e.parent)&&(n=t.currentLine.slice(t.nextNonspace).match(W4))){t.closeUnmatchedBlocks();var r=void 0;while(b4(e.stringContent,0)===m4&&(r=t.inlineParser.parseReference(e,t.refMap)))e.stringContent=e.stringContent.slice(r);if(e.stringContent.length>0){var i=x2("heading",e.sourcepos);return i.level="="===n[0][0]?1:2,i.headingType="setext",i.stringContent=e.stringContent,e.insertAfter(i),e.unlink(),t.tip=i,t.advanceOffset(t.currentLine.length-t.offset,!1),2}return 0}return 0},s6=function(t){return!t.indented&&J4.test(t.currentLine.slice(t.nextNonspace))?(t.closeUnmatchedBlocks(),t.addChild("thematicBreak",t.nextNonspace),t.advanceOffset(t.currentLine.length-t.offset,!1),2):0},a6=function(t,e){var n,r=e;return t.indented&&"list"!==e.type||!(n=Y4(t,r))?0:(t.closeUnmatchedBlocks(),"list"===t.tip.type&&Z4(r.listData,n)||(r=t.addChild("list",t.nextNonspace),r.listData=n),r=t.addChild("item",t.nextNonspace),r.listData=n,1)},u6=function(t){return t.indented&&"paragraph"!==t.tip.type&&!t.blank?(t.advanceOffset(l4,!0),t.closeUnmatchedBlocks(),t.addChild("codeBlock",t.offset),2):0},c6=[e6,n6,r6,i6,o6,s6,a6,u6,V4,U4,z4],l6=/^(-{3}|\+{3}|;{3})$/,h6=function(t,e){var n=t.currentLine,r=t.lineNumber,i=t.indented;if(1===r&&!i&&"document"===e.type&&l6.test(n)){t.closeUnmatchedBlocks();var o=t.addChild("frontMatter",t.nextNonspace);return o.stringContent=n,t.advanceNextNonspace(),t.advanceOffset(n.length,!1),2}return 0},f6={continue:function(t,e){var n=t.currentLine,r=n.match(l6);return"frontMatter"===e.type&&r?(e.stringContent+=n,t.lastLineLength=r[0].length,t.finalize(e,t.lineNumber),2):0},finalize:function(t,e){null!==e.stringContent&&(e.literal=e.stringContent,e.stringContent=null)},canContain:function(){return!1},acceptsLines:!0},p6=[/./,/<\/(?:script|pre|style)>/i,/-->/,/\?>/,/>/,/\]\]>/],d6=/^[#`~*+_=<>0-9-;$]/,m6=/\r\n|\n|\r/;function v6(){return x2("document",[[1,1],[0,0]])}var g6={smart:!1,tagFilter:!1,extendedAutolinks:!1,disallowedHtmlBlockTags:[],referenceDefinition:!1,disallowDeepHeading:!1,customParser:null,frontMatter:!1},y6=function(){function t(t){this.options=Lp(Lp({},g6),t),this.doc=v6(),this.tip=this.doc,this.oldtip=this.doc,this.lineNumber=0,this.offset=0,this.column=0,this.nextNonspace=0,this.nextNonspaceColumn=0,this.indent=0,this.currentLine="",this.indented=!1,this.blank=!1,this.partiallyConsumedTab=!1,this.allClosed=!0,this.lastMatchedContainer=this.doc,this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.lastLineLength=0,this.lines=[],this.options.frontMatter&&(P4.frontMatter=f6,c6.unshift(h6)),this.inlineParser=new t4(this.options)}return t.prototype.advanceOffset=function(t,e){void 0===e&&(e=!1);var n,r,i,o=this.currentLine;while(t>0&&(i=o[this.offset]))"\t"===i?(n=4-this.column%4,e?(this.partiallyConsumedTab=n>t,r=n>t?t:n,this.column+=r,this.offset+=this.partiallyConsumedTab?0:1,t-=r):(this.partiallyConsumedTab=!1,this.column+=n,this.offset+=1,t-=1)):(this.partiallyConsumedTab=!1,this.offset+=1,this.column+=1,t-=1)},t.prototype.advanceNextNonspace=function(){this.offset=this.nextNonspace,this.column=this.nextNonspaceColumn,this.partiallyConsumedTab=!1},t.prototype.findNextNonspace=function(){var t,e=this.currentLine,n=this.offset,r=this.column;while(""!==(t=e.charAt(n)))if(" "===t)n++,r++;else{if("\t"!==t)break;n++,r+=4-r%4}this.blank="\n"===t||"\r"===t||""===t,this.nextNonspace=n,this.nextNonspaceColumn=r,this.indent=this.nextNonspaceColumn-this.column,this.indented=this.indent>=l4},t.prototype.addLine=function(){if(this.partiallyConsumedTab){this.offset+=1;var t=4-this.column%4;this.tip.stringContent+=i2(" ",t)}this.tip.lineOffsets?this.tip.lineOffsets.push(this.offset):this.tip.lineOffsets=[this.offset],this.tip.stringContent+=this.currentLine.slice(this.offset)+"\n"},t.prototype.addChild=function(t,e){while(!P4[this.tip.type].canContain(t))this.finalize(this.tip,this.lineNumber-1);var n=e+1,r=x2(t,[[this.lineNumber,n],[0,0]]);return r.stringContent="",this.tip.appendChild(r),this.tip=r,r},t.prototype.closeUnmatchedBlocks=function(){if(!this.allClosed){while(this.oldtip!==this.lastMatchedContainer){var t=this.oldtip.parent;this.finalize(this.oldtip,this.lineNumber-1),this.oldtip=t}this.allClosed=!0}},t.prototype.finalize=function(t,e){var n=t.parent;t.open=!1,t.sourcepos[1]=[e,this.lastLineLength],P4[t.type].finalize(this,t),this.tip=n},t.prototype.processInlines=function(t){var e,n=this.options.customParser,r=t.walker();this.inlineParser.refMap=this.refMap,this.inlineParser.refLinkCandidateMap=this.refLinkCandidateMap,this.inlineParser.refDefCandidateMap=this.refDefCandidateMap,this.inlineParser.options=this.options;while(e=r.next()){var i=e.node,o=e.entering,s=i.type;n&&n[s]&&n[s](i,{entering:o,options:this.options}),o||"paragraph"!==s&&"heading"!==s&&("tableCell"!==s||i.ignored)||this.inlineParser.parse(i)}},t.prototype.incorporateLine=function(t){var e=this.doc;this.oldtip=this.tip,this.offset=0,this.column=0,this.blank=!1,this.partiallyConsumedTab=!1,this.lineNumber+=1,-1!==t.indexOf("\0")&&(t=t.replace(/\0/g,"�")),this.currentLine=t;var n,r=!0;while((n=e.lastChild)&&n.open){switch(e=n,this.findNextNonspace(),P4[e.type]["continue"](this,e)){case 0:break;case 1:r=!1;break;case 2:return void(this.lastLineLength=t.length);default:throw new Error("continue returned illegal value, must be 0, 1, or 2")}if(!r){e=e.parent;break}}this.allClosed=e===this.oldtip,this.lastMatchedContainer=e;var i="paragraph"!==e.type&&P4[e.type].acceptsLines,o=c6.length;while(!i){if(this.findNextNonspace(),"table"!==e.type&&"tableBody"!==e.type&&"paragraph"!==e.type&&!this.indented&&!d6.test(t.slice(this.nextNonspace))){this.advanceNextNonspace();break}var s=0;while(s<o){var a=c6[s](this,e);if(1===a){e=this.tip;break}if(2===a){e=this.tip,i=!0;break}s++}if(s===o){this.advanceNextNonspace();break}}if(this.allClosed||this.blank||"paragraph"!==this.tip.type){this.closeUnmatchedBlocks(),this.blank&&e.lastChild&&(e.lastChild.lastLineBlank=!0);var u=e.type,c=this.blank&&!("blockQuote"===u||S2(e)&&e.isFenced||"item"===u&&!e.firstChild&&e.sourcepos[0][0]===this.lineNumber),l=e;while(l)l.lastLineBlank=c,l=l.parent;P4[u].acceptsLines?(this.addLine(),I2(e)&&e.htmlBlockType>=1&&e.htmlBlockType<=5&&p6[e.htmlBlockType].test(this.currentLine.slice(this.offset))&&(this.lastLineLength=t.length,this.finalize(e,this.lineNumber))):this.offset<t.length&&!this.blank&&(e=this.addChild("paragraph",this.offset),this.advanceNextNonspace(),this.addLine())}else this.addLine();this.lastLineLength=t.length},t.prototype.parse=function(t,e){this.doc=v6(),this.tip=this.doc,this.lineNumber=0,this.lastLineLength=0,this.offset=0,this.column=0,this.lastMatchedContainer=this.doc,this.currentLine="";var n=t.split(m6),r=n.length;this.lines=e||n,this.options.referenceDefinition&&this.clearRefMaps(),t.charCodeAt(t.length-1)===g3&&(r-=1);for(var i=0;i<r;i++)this.incorporateLine(n[i]);while(this.tip)this.finalize(this.tip,r);return this.processInlines(this.doc),this.doc},t.prototype.partialParseStart=function(t,e){this.doc=v6(),this.tip=this.doc,this.lineNumber=t-1,this.lastLineLength=0,this.offset=0,this.column=0,this.lastMatchedContainer=this.doc,this.currentLine="";for(var n=e.length,r=0;r<n;r++)this.incorporateLine(e[r]);return this.doc},t.prototype.partialParseExtends=function(t){for(var e=0;e<t.length;e++)this.incorporateLine(t[e])},t.prototype.partialParseFinish=function(){while(this.tip)this.finalize(this.tip,this.lineNumber);this.processInlines(this.doc)},t.prototype.setRefMaps=function(t,e,n){this.refMap=t,this.refLinkCandidateMap=e,this.refDefCandidateMap=n},t.prototype.clearRefMaps=function(){[this.refMap,this.refLinkCandidateMap,this.refDefCandidateMap].forEach((function(t){v3(t)}))},t}();function b6(t,e){return t[0]<e[0]?1:t[0]>e[0]?-1:t[1]<e[1]?1:t[1]>e[1]?-1:0}function w6(t,e){var n=t[0],r=t[1];return 1===b6(r,e)?1:-1===b6(n,e)?-1:0}function k6(t,e){if(t.parent===e.parent&&t!==e){var n=t.next;while(n&&n!==e){for(var r=n.next,i=0,o=["parent","prev","next"];i<o.length;i++){var s=o[i];n[s]&&(h2(n[s].id),n[s]=null)}n=r}t.next=e.next,e.next?e.next.prev=t:t.parent.lastChild=t}}function _6(t){var e=[],n=t.firstChild;while(n)e.push(n),n=n.next;return e}function T6(t,e){for(var n=0,r=e;n<r.length;n++){var i=r[n];t.insertBefore(i)}}function E6(t,e){for(var n=e.length-1;n>=0;n-=1)t.prependChild(e[n])}function C6(t,e){if(t&&t.parent&&0!==e){var n,r=t.parent.walker();r.resumeAt(t,!0);while(n=r.next()){var i=n.node,o=n.entering;o&&(i.sourcepos[0][0]+=e,i.sourcepos[1][0]+=e)}}}function x6(t,e){var n=t[0],r=t[1];return r[0]<e?1:n[0]>e?-1:0}function S6(t,e){var n=t.firstChild;while(n){var r=x6(n.sourcepos,e);if(0===r)return n;if(-1===r)return n.prev||n;n=n.next}return t.lastChild}function I6(t){while(t.lastChild)t=t.lastChild;return t}function A6(t){while(t.parent&&"document"!==t.parent.type&&t.parent.sourcepos[0][0]===t.sourcepos[0][0])t=t.parent;return t}function N6(t,e){var n=t.firstChild,r=null;while(n){var i=x6(n.sourcepos,e);if(0===i){if(n.sourcepos[0][0]===e||!n.firstChild)return n;r=n,n=n.firstChild}else{if(-1===i)break;r=n,n=n.next}}return r?A6(I6(r)):null}function O6(t,e){var n=t,r=null;while(n){var i=w6(n.sourcepos,e);if(0===i){if(!n.firstChild)return n;r=n,n=n.firstChild}else{if(-1===i)return r;if(!n.next)return r;n=n.next}}return n}function D6(t){return l2(t)||null}function M6(t,e,n){if(void 0===n&&(n=null),e){var r=e.walker();while(e&&e!==n){t(e);var i=r.next();if(!i)break;e=i.node}}}function R6(t){var e=D6(t);if(!e)return!0;while(e&&"document"!==e.type){if(!e.parent&&!e.prev&&!e.next)return!0;e=e.parent}return!1}var L6=/\r\n|\n|\r/;function P6(t){var e=t.match(/^[ \t]+/);if(e&&(e[0].length>=2||/\t/.test(e[0])))return!0;var n=e?t.slice(e.length):t;return X4.test(n)||Q4.test(n)}function F6(t){return!w4(t)&&-1!==t.indexOf("|")}function j6(t){var e=t.id,n=t.title,r=t.sourcepos,i=t.dest;return{id:e,title:n,sourcepos:r,unlinked:!1,destination:i}}var B6=function(){function t(t,e){this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.referenceDefinition=!!(null===e||void 0===e?void 0:e.referenceDefinition),this.parser=new y6(e),this.parser.setRefMaps(this.refMap,this.refLinkCandidateMap,this.refDefCandidateMap),this.eventHandlerMap={change:[]},t=t||"",this.lineTexts=t.split(L6),this.root=this.parser.parse(t,this.lineTexts)}return t.prototype.updateLineTexts=function(t,e,n){var r,i=t[0],o=t[1],s=e[0],a=e[1],u=n.split(L6),c=u.length,l=this.lineTexts[i-1],h=this.lineTexts[s-1];u[0]=l.slice(0,o-1)+u[0],u[c-1]=u[c-1]+h.slice(a-1);var f=s-i+1;return(r=this.lineTexts).splice.apply(r,Pp([i-1,f],u)),c-f},t.prototype.updateRootNodeState=function(){if(1===this.lineTexts.length&&""===this.lineTexts[0])return this.root.lastLineBlank=!0,void(this.root.sourcepos=[[1,1],[1,0]]);this.root.lastChild&&(this.root.lastLineBlank=this.root.lastChild.lastLineBlank);var t=this.lineTexts,e=t.length-1;while(""===t[e])e-=1;t.length-2>e&&(e+=1),this.root.sourcepos[1]=[e+1,t[e].length]},t.prototype.replaceRangeNodes=function(t,e,n){t?(T6(t,n),k6(t,e),[t.id,e.id].forEach((function(t){return h2(t)})),t.unlink()):e?(T6(e,n),h2(e.id),e.unlink()):E6(this.root,n)},t.prototype.getNodeRange=function(t,e){var n=S6(this.root,t[0]),r=S6(this.root,e[0]);return r&&r.next&&e[0]+1===r.next.sourcepos[0][0]&&(r=r.next),[n,r]},t.prototype.trigger=function(t,e){this.eventHandlerMap[t].forEach((function(t){t(e)}))},t.prototype.extendEndLine=function(t){while(""===this.lineTexts[t])t+=1;return t},t.prototype.parseRange=function(t,e,n,r){t&&t.prev&&(N2(t.prev)&&P6(this.lineTexts[n-1])||O2(t.prev)&&F6(this.lineTexts[n-1]))&&(t=t.prev,n=t.sourcepos[0][0]);var i=this.lineTexts.slice(n-1,r),o=this.parser.partialParseStart(n,i),s=e?e.next:this.root.firstChild,a=o.lastChild,u=a&&S2(a)&&a.open,c=a&&M2(a)&&a.open,l=a&&N2(a);while((u||c)&&s||l&&s&&("list"===s.type||s.sourcepos[0][1]>=2)){var h=this.extendEndLine(s.sourcepos[1][0]);this.parser.partialParseExtends(this.lineTexts.slice(r,h)),t||(t=e),e=s,r=h,s=s.next}this.parser.partialParseFinish();var f=_6(o);return{newNodes:f,extStartNode:t,extEndNode:e}},t.prototype.getRemovedNodeRange=function(t,e){return!t||t&&D2(t)||e&&D2(e)?null:{id:[t.id,e.id],line:[t.sourcepos[0][0]-1,e.sourcepos[1][0]-1]}},t.prototype.markDeletedRefMap=function(t,e){var n=this;if(!m3(this.refMap)){var r=function(t){if(D2(t)){var e=n.refMap[t.label];e&&t.id===e.id&&(e.unlinked=!0)}};t&&M6(r,t.parent,e),e&&M6(r,e)}},t.prototype.replaceWithNewRefDefState=function(t){var e=this;if(!m3(this.refMap)){var n=function(t){if(D2(t)){var n=t.label,r=e.refMap[n];r&&!r.unlinked||(e.refMap[n]=j6(t))}};t.forEach((function(t){M6(n,t)}))}},t.prototype.replaceWithRefDefCandidate=function(){var t=this;m3(this.refDefCandidateMap)||p3(this.refDefCandidateMap,(function(e,n){var r=n.label,i=n.sourcepos,o=t.refMap[r];(!o||o.unlinked||o.sourcepos[0][0]>i[0][0])&&(t.refMap[r]=j6(n))}))},t.prototype.getRangeWithRefDef=function(t,e,n,r,i){if(this.referenceDefinition&&!m3(this.refMap)){var o=S6(this.root,t-1),s=S6(this.root,e+1);o&&D2(o)&&o!==n&&o!==r&&(n=o,t=n.sourcepos[0][0]),s&&D2(s)&&s!==n&&s!==r&&(r=s,e=this.extendEndLine(r.sourcepos[1][0]+i))}return[n,r,t,e]},t.prototype.parse=function(t,e,n){void 0===n&&(n=0);var r=this.getNodeRange(t,e),i=r[0],o=r[1],s=i?Math.min(i.sourcepos[0][0],t[0]):t[0],a=this.extendEndLine((o?Math.max(o.sourcepos[1][0],e[0]):e[0])+n),u=this.parseRange.apply(this,this.getRangeWithRefDef(s,a,i,o,n)),c=u.newNodes,l=u.extStartNode,h=u.extEndNode,f=this.getRemovedNodeRange(l,h),p=h?h.next:this.root.firstChild;return this.referenceDefinition?(this.markDeletedRefMap(l,h),this.replaceRangeNodes(l,h,c),this.replaceWithNewRefDefState(c)):this.replaceRangeNodes(l,h,c),{nodes:c,removedNodeRange:f,nextNode:p}},t.prototype.parseRefLink=function(){var t=this,e=[];return m3(this.refMap)||p3(this.refMap,(function(n,r){r.unlinked&&delete t.refMap[n],p3(t.refLinkCandidateMap,(function(r,i){var o=i.node,s=i.refLabel;s===n&&e.push(t.parse(o.sourcepos[0],o.sourcepos[1]))}))})),e},t.prototype.removeUnlinkedCandidate=function(){m3(this.refDefCandidateMap)||[this.refLinkCandidateMap,this.refDefCandidateMap].forEach((function(t){p3(t,(function(e){R6(e)&&delete t[e]}))}))},t.prototype.editMarkdown=function(t,e,n){var r=this.updateLineTexts(t,e,n),i=this.parse(t,e,r),o=d3(i,"nextNode");C6(i.nextNode,r),this.updateRootNodeState();var s=[o];return this.referenceDefinition&&(this.removeUnlinkedCandidate(),this.replaceWithRefDefCandidate(),s=s.concat(this.parseRefLink())),this.trigger("change",s),s},t.prototype.getLineTexts=function(){return this.lineTexts},t.prototype.getRootNode=function(){return this.root},t.prototype.findNodeAtPosition=function(t){var e=O6(this.root,t);return e&&e!==this.root?e:null},t.prototype.findFirstNodeAtLine=function(t){return N6(this.root,t)},t.prototype.on=function(t,e){this.eventHandlerMap[t].push(e)},t.prototype.off=function(t,e){var n=this.eventHandlerMap[t],r=n.indexOf(e);n.splice(r,1)},t.prototype.findNodeById=function(t){return D6(t)},t.prototype.removeAllNode=function(){f2()},t}(),V6=["title","textarea","style","xmp","iframe","noembed","noframes","script","plaintext"],U6=new RegExp("<(/?(?:"+V6.join("|")+")[^>]*>)","ig");function q6(t){return U6.test(t)?t.replace(U6,(function(t,e){return"&lt;"+e})):t}var H6={heading:function(t,e){var n=e.entering;return{type:n?"openTag":"closeTag",tagName:"h"+t.level,outerNewLine:!0}},text:function(t){return{type:"text",content:t.literal}},softbreak:function(t,e){var n=e.options;return{type:"html",content:n.softbreak}},linebreak:function(){return{type:"html",content:"<br />\n"}},emph:function(t,e){var n=e.entering;return{type:n?"openTag":"closeTag",tagName:"em"}},strong:function(t,e){var n=e.entering;return{type:n?"openTag":"closeTag",tagName:"strong"}},paragraph:function(t,e){var n,r=e.entering,i=null===(n=t.parent)||void 0===n?void 0:n.parent;return i&&"list"===i.type&&i.listData.tight?null:{type:r?"openTag":"closeTag",tagName:"p",outerNewLine:!0}},thematicBreak:function(){return{type:"openTag",tagName:"hr",outerNewLine:!0,selfClose:!0}},blockQuote:function(t,e){var n=e.entering;return{type:n?"openTag":"closeTag",tagName:"blockquote",outerNewLine:!0,innerNewLine:!0}},list:function(t,e){var n=e.entering,r=t.listData,i=r.type,o=r.start,s="bullet"===i?"ul":"ol",a={};return"ol"===s&&null!==o&&1!==o&&(a.start=o.toString()),{type:n?"openTag":"closeTag",tagName:s,attributes:a,outerNewLine:!0}},item:function(t,e){var n=e.entering;return{type:n?"openTag":"closeTag",tagName:"li",outerNewLine:!0}},htmlInline:function(t,e){var n=e.options,r=n.tagFilter?q6(t.literal):t.literal;return{type:"html",content:r}},htmlBlock:function(t,e){var n=e.options,r=n.tagFilter?q6(t.literal):t.literal;return n.nodeId?[{type:"openTag",tagName:"div",outerNewLine:!0},{type:"html",content:r},{type:"closeTag",tagName:"div",outerNewLine:!0}]:{type:"html",content:r,outerNewLine:!0}},code:function(t){return[{type:"openTag",tagName:"code"},{type:"text",content:t.literal},{type:"closeTag",tagName:"code"}]},codeBlock:function(t){var e=t.info,n=e?e.split(/\s+/):[],r=[];return n.length>0&&n[0].length>0&&r.push("language-"+r2(n[0])),[{type:"openTag",tagName:"pre",outerNewLine:!0},{type:"openTag",tagName:"code",classNames:r},{type:"text",content:t.literal},{type:"closeTag",tagName:"code"},{type:"closeTag",tagName:"pre",outerNewLine:!0}]},link:function(t,e){var n=e.entering;if(n){var r=t,i=r.title,o=r.destination;return{type:"openTag",tagName:"a",attributes:Lp({href:r2(o)},i&&{title:r2(i)})}}return{type:"closeTag",tagName:"a"}},image:function(t,e){var n=e.getChildrenText,r=e.skipChildren,i=t,o=i.title,s=i.destination;return r(),{type:"openTag",tagName:"img",selfClose:!0,attributes:Lp({src:r2(s),alt:n(t)},o&&{title:r2(o)})}},customBlock:function(t,e,n){var r=t.info.trim().toLowerCase(),i=n[r];if(i)try{return i(t,e)}catch(o){console.warn("[@toast-ui/editor] - The error occurred when "+r+" block node was parsed in markdown renderer: "+o)}return[{type:"openTag",tagName:"div",outerNewLine:!0},{type:"text",content:t.literal},{type:"closeTag",tagName:"div",outerNewLine:!0}]},frontMatter:function(t){return[{type:"openTag",tagName:"div",outerNewLine:!0,attributes:{style:"white-space: pre; display: none;"}},{type:"text",content:t.literal},{type:"closeTag",tagName:"div",outerNewLine:!0}]},customInline:function(t,e,n){var r=t,i=r.info,o=r.firstChild,s=i.trim().toLowerCase(),a=n[s],u=e.entering;if(a)try{return a(t,e)}catch(c){console.warn("[@toast-ui/editor] - The error occurred when "+s+" inline node was parsed in markdown renderer: "+c)}return u?[{type:"openTag",tagName:"span"},{type:"text",content:"$$"+i+(o?" ":"")}]:[{type:"text",content:"$$"},{type:"closeTag",tagName:"span"}]}},z6={strike:function(t,e){var n=e.entering;return{type:n?"openTag":"closeTag",tagName:"del"}},item:function(t,e){var n=e.entering,r=t.listData,i=r.checked,o=r.task;if(n){var s={type:"openTag",tagName:"li",outerNewLine:!0};return o?[s,{type:"openTag",tagName:"input",selfClose:!0,attributes:Lp(Lp({},i&&{checked:""}),{disabled:"",type:"checkbox"})},{type:"text",content:" "}]:s}return{type:"closeTag",tagName:"li",outerNewLine:!0}},table:function(t,e){var n=e.entering;return{type:n?"openTag":"closeTag",tagName:"table",outerNewLine:!0}},tableHead:function(t,e){var n=e.entering;return{type:n?"openTag":"closeTag",tagName:"thead",outerNewLine:!0}},tableBody:function(t,e){var n=e.entering;return{type:n?"openTag":"closeTag",tagName:"tbody",outerNewLine:!0}},tableRow:function(t,e){var n=e.entering;if(n)return{type:"openTag",tagName:"tr",outerNewLine:!0};var r=[];if(t.lastChild)for(var i=t.parent.parent.columns.length,o=t.lastChild.endIdx,s=o+1;s<i;s+=1)r.push({type:"openTag",tagName:"td",outerNewLine:!0},{type:"closeTag",tagName:"td",outerNewLine:!0});return r.push({type:"closeTag",tagName:"tr",outerNewLine:!0}),r},tableCell:function(t,e){var n=e.entering;if(t.ignored)return{type:"text",content:""};var r=t.parent.parent,i="tableHead"===r.type?"th":"td",o=r.parent,s=o.columns[t.startIdx],a=(null===s||void 0===s?void 0:s.align)?{align:s.align}:null;return n?Lp({type:"openTag",tagName:i,outerNewLine:!0},a&&{attributes:a}):{type:"closeTag",tagName:i,outerNewLine:!0}}},$6={softbreak:"\n",gfm:!1,tagFilter:!1,nodeId:!1};function G6(t){var e=[],n=t.walker(),r=null;while(r=n.next()){var i=r.node;"text"===i.type&&e.push(i.literal)}return e.join("")}var W6=function(){function t(t){this.buffer=[],this.options=Lp(Lp({},$6),t),this.convertors=this.createConvertors(),delete this.options.convertors}return t.prototype.createConvertors=function(){var t=Lp({},H6);if(this.options.gfm&&(t=Lp(Lp({},t),z6)),this.options.convertors){var e=this.options.convertors,n=Object.keys(e),r=Lp(Lp({},H6),z6);n.forEach((function(n){var i=t[n],o=e[n],s=-1===Object.keys(r).indexOf(n)?n.toLowerCase():n;t[s]=i?function(t,e,n){return e.origin=function(){return i(t,e,n)},o(t,e)}:o}))}return t},t.prototype.getConvertors=function(){return this.convertors},t.prototype.getOptions=function(){return this.options},t.prototype.render=function(t){var e=this;this.buffer=[];var n=t.walker(),r=null,i=function(){var t=r.node,i=r.entering,s=o.convertors[t.type];if(!s)return"continue";var a=!1,u={entering:i,leaf:!a2(t),options:o.options,getChildrenText:G6,skipChildren:function(){a=!0}},c=M2(t)||R2(t)?s(t,u,o.convertors):s(t,u);if(c){var l=Array.isArray(c)?c:[c];l.forEach((function(n,r){"openTag"===n.type&&e.options.nodeId&&0===r&&(n.attributes||(n.attributes={}),n.attributes["data-nodeid"]=String(t.id)),e.renderHTMLNode(n)})),a&&(n.resumeAt(t,!1),n.next())}},o=this;while(r=n.next())i();return this.addNewLine(),this.buffer.join("")},t.prototype.renderHTMLNode=function(t){switch(t.type){case"openTag":case"closeTag":this.renderElementNode(t);break;case"text":this.renderTextNode(t);break;case"html":this.renderRawHtmlNode(t);break}},t.prototype.generateOpenTagString=function(t){var e=this,n=t.tagName,r=t.classNames,i=t.attributes;this.buffer.push("<"+n),r&&r.length>0&&this.buffer.push(' class="'+r.join(" ")+'"'),i&&Object.keys(i).forEach((function(t){var n=i[t];e.buffer.push(" "+t+'="'+n+'"')})),t.selfClose&&this.buffer.push(" /"),this.buffer.push(">")},t.prototype.generateCloseTagString=function(t){var e=t.tagName;this.buffer.push("</"+e+">")},t.prototype.addNewLine=function(){this.buffer.length&&"\n"!==h3(h3(this.buffer))&&this.buffer.push("\n")},t.prototype.addOuterNewLine=function(t){t.outerNewLine&&this.addNewLine()},t.prototype.addInnerNewLine=function(t){t.innerNewLine&&this.addNewLine()},t.prototype.renderTextNode=function(t){this.buffer.push(r2(t.content))},t.prototype.renderRawHtmlNode=function(t){this.addOuterNewLine(t),this.buffer.push(t.content),this.addOuterNewLine(t)},t.prototype.renderElementNode=function(t){"openTag"===t.type?(this.addOuterNewLine(t),this.generateOpenTagString(t),t.selfClose?this.addOuterNewLine(t):this.addInnerNewLine(t)):(this.addInnerNewLine(t),this.generateCloseTagString(t),this.addOuterNewLine(t))},t}();/*! @license DOMPurify 2.3.3 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.3.3/LICENSE */function K6(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var J6=Object.hasOwnProperty,X6=Object.setPrototypeOf,Q6=Object.isFrozen,Y6=Object.getPrototypeOf,Z6=Object.getOwnPropertyDescriptor,t5=Object.freeze,e5=Object.seal,n5=Object.create,r5="undefined"!==typeof Reflect&&Reflect,i5=r5.apply,o5=r5.construct;i5||(i5=function(t,e,n){return t.apply(e,n)}),t5||(t5=function(t){return t}),e5||(e5=function(t){return t}),o5||(o5=function(t,e){return new(Function.prototype.bind.apply(t,[null].concat(K6(e))))});var s5=v5(Array.prototype.forEach),a5=v5(Array.prototype.pop),u5=v5(Array.prototype.push),c5=v5(String.prototype.toLowerCase),l5=v5(String.prototype.match),h5=v5(String.prototype.replace),f5=v5(String.prototype.indexOf),p5=v5(String.prototype.trim),d5=v5(RegExp.prototype.test),m5=g5(TypeError);function v5(t){return function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return i5(t,e,r)}}function g5(t){return function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return o5(t,n)}}function y5(t,e){X6&&X6(t,null);var n=e.length;while(n--){var r=e[n];if("string"===typeof r){var i=c5(r);i!==r&&(Q6(e)||(e[n]=i),r=i)}t[r]=!0}return t}function b5(t){var e=n5(null),n=void 0;for(n in t)i5(J6,t,[n])&&(e[n]=t[n]);return e}function w5(t,e){while(null!==t){var n=Z6(t,e);if(n){if(n.get)return v5(n.get);if("function"===typeof n.value)return v5(n.value)}t=Y6(t)}function r(t){return console.warn("fallback value for",t),null}return r}var k5=t5(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),_5=t5(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),T5=t5(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),E5=t5(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),C5=t5(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),x5=t5(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),S5=t5(["#text"]),I5=t5(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),A5=t5(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),N5=t5(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),O5=t5(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),D5=e5(/\{\{[\s\S]*|[\s\S]*\}\}/gm),M5=e5(/<%[\s\S]*|[\s\S]*%>/gm),R5=e5(/^data-[\-\w.\u00B7-\uFFFF]/),L5=e5(/^aria-[\-\w]+$/),P5=e5(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),F5=e5(/^(?:\w+script|data):/i),j5=e5(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),B5="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function V5(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var U5=function(){return"undefined"===typeof window?null:window},q5=function(t,e){if("object"!==("undefined"===typeof t?"undefined":B5(t))||"function"!==typeof t.createPolicy)return null;var n=null,r="data-tt-policy-suffix";e.currentScript&&e.currentScript.hasAttribute(r)&&(n=e.currentScript.getAttribute(r));var i="dompurify"+(n?"#"+n:"");try{return t.createPolicy(i,{createHTML:function(t){return t}})}catch(o){return console.warn("TrustedTypes policy "+i+" could not be created."),null}};function H5(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U5(),e=function(t){return H5(t)};if(e.version="2.3.3",e.removed=[],!t||!t.document||9!==t.document.nodeType)return e.isSupported=!1,e;var n=t.document,r=t.document,i=t.DocumentFragment,o=t.HTMLTemplateElement,s=t.Node,a=t.Element,u=t.NodeFilter,c=t.NamedNodeMap,l=void 0===c?t.NamedNodeMap||t.MozNamedAttrMap:c,h=t.Text,f=t.Comment,p=t.DOMParser,d=t.trustedTypes,m=a.prototype,v=w5(m,"cloneNode"),g=w5(m,"nextSibling"),y=w5(m,"childNodes"),b=w5(m,"parentNode");if("function"===typeof o){var w=r.createElement("template");w.content&&w.content.ownerDocument&&(r=w.content.ownerDocument)}var k=q5(d,n),_=k&&tt?k.createHTML(""):"",T=r,E=T.implementation,C=T.createNodeIterator,x=T.createDocumentFragment,S=T.getElementsByTagName,I=n.importNode,A={};try{A=b5(r).documentMode?r.documentMode:{}}catch(Bt){}var N={};e.isSupported="function"===typeof b&&E&&"undefined"!==typeof E.createHTMLDocument&&9!==A;var O=D5,D=M5,M=R5,R=L5,L=F5,P=j5,F=P5,j=null,B=y5({},[].concat(V5(k5),V5(_5),V5(T5),V5(C5),V5(S5))),V=null,U=y5({},[].concat(V5(I5),V5(A5),V5(N5),V5(O5))),q=null,H=null,z=!0,$=!0,G=!1,W=!1,K=!1,J=!1,X=!1,Q=!1,Y=!1,Z=!0,tt=!1,et=!0,nt=!0,rt=!1,it={},ot=null,st=y5({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),at=null,ut=y5({},["audio","video","img","source","image","track"]),ct=null,lt=y5({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ht="http://www.w3.org/1998/Math/MathML",ft="http://www.w3.org/2000/svg",pt="http://www.w3.org/1999/xhtml",dt=pt,mt=!1,vt=void 0,gt=["application/xhtml+xml","text/html"],yt="text/html",bt=void 0,wt=null,kt=r.createElement("form"),_t=function(t){wt&&wt===t||(t&&"object"===("undefined"===typeof t?"undefined":B5(t))||(t={}),t=b5(t),j="ALLOWED_TAGS"in t?y5({},t.ALLOWED_TAGS):B,V="ALLOWED_ATTR"in t?y5({},t.ALLOWED_ATTR):U,ct="ADD_URI_SAFE_ATTR"in t?y5(b5(lt),t.ADD_URI_SAFE_ATTR):lt,at="ADD_DATA_URI_TAGS"in t?y5(b5(ut),t.ADD_DATA_URI_TAGS):ut,ot="FORBID_CONTENTS"in t?y5({},t.FORBID_CONTENTS):st,q="FORBID_TAGS"in t?y5({},t.FORBID_TAGS):{},H="FORBID_ATTR"in t?y5({},t.FORBID_ATTR):{},it="USE_PROFILES"in t&&t.USE_PROFILES,z=!1!==t.ALLOW_ARIA_ATTR,$=!1!==t.ALLOW_DATA_ATTR,G=t.ALLOW_UNKNOWN_PROTOCOLS||!1,W=t.SAFE_FOR_TEMPLATES||!1,K=t.WHOLE_DOCUMENT||!1,Q=t.RETURN_DOM||!1,Y=t.RETURN_DOM_FRAGMENT||!1,Z=!1!==t.RETURN_DOM_IMPORT,tt=t.RETURN_TRUSTED_TYPE||!1,X=t.FORCE_BODY||!1,et=!1!==t.SANITIZE_DOM,nt=!1!==t.KEEP_CONTENT,rt=t.IN_PLACE||!1,F=t.ALLOWED_URI_REGEXP||F,dt=t.NAMESPACE||pt,vt=vt=-1===gt.indexOf(t.PARSER_MEDIA_TYPE)?yt:t.PARSER_MEDIA_TYPE,bt="application/xhtml+xml"===vt?function(t){return t}:c5,W&&($=!1),Y&&(Q=!0),it&&(j=y5({},[].concat(V5(S5))),V=[],!0===it.html&&(y5(j,k5),y5(V,I5)),!0===it.svg&&(y5(j,_5),y5(V,A5),y5(V,O5)),!0===it.svgFilters&&(y5(j,T5),y5(V,A5),y5(V,O5)),!0===it.mathMl&&(y5(j,C5),y5(V,N5),y5(V,O5))),t.ADD_TAGS&&(j===B&&(j=b5(j)),y5(j,t.ADD_TAGS)),t.ADD_ATTR&&(V===U&&(V=b5(V)),y5(V,t.ADD_ATTR)),t.ADD_URI_SAFE_ATTR&&y5(ct,t.ADD_URI_SAFE_ATTR),t.FORBID_CONTENTS&&(ot===st&&(ot=b5(ot)),y5(ot,t.FORBID_CONTENTS)),nt&&(j["#text"]=!0),K&&y5(j,["html","head","body"]),j.table&&(y5(j,["tbody"]),delete q.tbody),t5&&t5(t),wt=t)},Tt=y5({},["mi","mo","mn","ms","mtext"]),Et=y5({},["foreignobject","desc","title","annotation-xml"]),Ct=y5({},_5);y5(Ct,T5),y5(Ct,E5);var xt=y5({},C5);y5(xt,x5);var St=function(t){var e=b(t);e&&e.tagName||(e={namespaceURI:pt,tagName:"template"});var n=c5(t.tagName),r=c5(e.tagName);if(t.namespaceURI===ft)return e.namespaceURI===pt?"svg"===n:e.namespaceURI===ht?"svg"===n&&("annotation-xml"===r||Tt[r]):Boolean(Ct[n]);if(t.namespaceURI===ht)return e.namespaceURI===pt?"math"===n:e.namespaceURI===ft?"math"===n&&Et[r]:Boolean(xt[n]);if(t.namespaceURI===pt){if(e.namespaceURI===ft&&!Et[r])return!1;if(e.namespaceURI===ht&&!Tt[r])return!1;var i=y5({},["title","style","font","a","script"]);return!xt[n]&&(i[n]||!Ct[n])}return!1},It=function(t){u5(e.removed,{element:t});try{t.parentNode.removeChild(t)}catch(Bt){try{t.outerHTML=_}catch(Bt){t.remove()}}},At=function(t,n){try{u5(e.removed,{attribute:n.getAttributeNode(t),from:n})}catch(Bt){u5(e.removed,{attribute:null,from:n})}if(n.removeAttribute(t),"is"===t&&!V[t])if(Q||Y)try{It(n)}catch(Bt){}else try{n.setAttribute(t,"")}catch(Bt){}},Nt=function(t){var e=void 0,n=void 0;if(X)t="<remove></remove>"+t;else{var i=l5(t,/^[\r\n\t ]+/);n=i&&i[0]}"application/xhtml+xml"===vt&&(t='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+t+"</body></html>");var o=k?k.createHTML(t):t;if(dt===pt)try{e=(new p).parseFromString(o,vt)}catch(Bt){}if(!e||!e.documentElement){e=E.createDocument(dt,"template",null);try{e.documentElement.innerHTML=mt?"":o}catch(Bt){}}var s=e.body||e.documentElement;return t&&n&&s.insertBefore(r.createTextNode(n),s.childNodes[0]||null),dt===pt?S.call(e,K?"html":"body")[0]:K?e.documentElement:s},Ot=function(t){return C.call(t.ownerDocument||t,t,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT,null,!1)},Dt=function(t){return!(t instanceof h||t instanceof f)&&!("string"===typeof t.nodeName&&"string"===typeof t.textContent&&"function"===typeof t.removeChild&&t.attributes instanceof l&&"function"===typeof t.removeAttribute&&"function"===typeof t.setAttribute&&"string"===typeof t.namespaceURI&&"function"===typeof t.insertBefore)},Mt=function(t){return"object"===("undefined"===typeof s?"undefined":B5(s))?t instanceof s:t&&"object"===("undefined"===typeof t?"undefined":B5(t))&&"number"===typeof t.nodeType&&"string"===typeof t.nodeName},Rt=function(t,n,r){N[t]&&s5(N[t],(function(t){t.call(e,n,r,wt)}))},Lt=function(t){var n=void 0;if(Rt("beforeSanitizeElements",t,null),Dt(t))return It(t),!0;if(l5(t.nodeName,/[\u0080-\uFFFF]/))return It(t),!0;var r=bt(t.nodeName);if(Rt("uponSanitizeElement",t,{tagName:r,allowedTags:j}),!Mt(t.firstElementChild)&&(!Mt(t.content)||!Mt(t.content.firstElementChild))&&d5(/<[/\w]/g,t.innerHTML)&&d5(/<[/\w]/g,t.textContent))return It(t),!0;if("select"===r&&d5(/<template/i,t.innerHTML))return It(t),!0;if(!j[r]||q[r]){if(nt&&!ot[r]){var i=b(t)||t.parentNode,o=y(t)||t.childNodes;if(o&&i)for(var s=o.length,u=s-1;u>=0;--u)i.insertBefore(v(o[u],!0),g(t))}return It(t),!0}return t instanceof a&&!St(t)?(It(t),!0):"noscript"!==r&&"noembed"!==r||!d5(/<\/no(script|embed)/i,t.innerHTML)?(W&&3===t.nodeType&&(n=t.textContent,n=h5(n,O," "),n=h5(n,D," "),t.textContent!==n&&(u5(e.removed,{element:t.cloneNode()}),t.textContent=n)),Rt("afterSanitizeElements",t,null),!1):(It(t),!0)},Pt=function(t,e,n){if(et&&("id"===e||"name"===e)&&(n in r||n in kt))return!1;if($&&!H[e]&&d5(M,e));else if(z&&d5(R,e));else{if(!V[e]||H[e])return!1;if(ct[e]);else if(d5(F,h5(n,P,"")));else if("src"!==e&&"xlink:href"!==e&&"href"!==e||"script"===t||0!==f5(n,"data:")||!at[t]){if(G&&!d5(L,h5(n,P,"")));else if(n)return!1}else;}return!0},Ft=function(t){var n=void 0,r=void 0,i=void 0,o=void 0;Rt("beforeSanitizeAttributes",t,null);var s=t.attributes;if(s){var a={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:V};o=s.length;while(o--){n=s[o];var u=n,c=u.name,l=u.namespaceURI;if(r=p5(n.value),i=bt(c),a.attrName=i,a.attrValue=r,a.keepAttr=!0,a.forceKeepAttr=void 0,Rt("uponSanitizeAttribute",t,a),r=a.attrValue,!a.forceKeepAttr&&(At(c,t),a.keepAttr))if(d5(/\/>/i,r))At(c,t);else{W&&(r=h5(r,O," "),r=h5(r,D," "));var h=bt(t.nodeName);if(Pt(h,i,r))try{l?t.setAttributeNS(l,c,r):t.setAttribute(c,r),a5(e.removed)}catch(Bt){}}}Rt("afterSanitizeAttributes",t,null)}},jt=function t(e){var n=void 0,r=Ot(e);Rt("beforeSanitizeShadowDOM",e,null);while(n=r.nextNode())Rt("uponSanitizeShadowNode",n,null),Lt(n)||(n.content instanceof i&&t(n.content),Ft(n));Rt("afterSanitizeShadowDOM",e,null)};return e.sanitize=function(r,o){var a=void 0,u=void 0,c=void 0,l=void 0,h=void 0;if(mt=!r,mt&&(r="\x3c!--\x3e"),"string"!==typeof r&&!Mt(r)){if("function"!==typeof r.toString)throw m5("toString is not a function");if(r=r.toString(),"string"!==typeof r)throw m5("dirty is not a string, aborting")}if(!e.isSupported){if("object"===B5(t.toStaticHTML)||"function"===typeof t.toStaticHTML){if("string"===typeof r)return t.toStaticHTML(r);if(Mt(r))return t.toStaticHTML(r.outerHTML)}return r}if(J||_t(o),e.removed=[],"string"===typeof r&&(rt=!1),rt);else if(r instanceof s)a=Nt("\x3c!----\x3e"),u=a.ownerDocument.importNode(r,!0),1===u.nodeType&&"BODY"===u.nodeName||"HTML"===u.nodeName?a=u:a.appendChild(u);else{if(!Q&&!W&&!K&&-1===r.indexOf("<"))return k&&tt?k.createHTML(r):r;if(a=Nt(r),!a)return Q?null:_}a&&X&&It(a.firstChild);var f=Ot(rt?r:a);while(c=f.nextNode())3===c.nodeType&&c===l||Lt(c)||(c.content instanceof i&&jt(c.content),Ft(c),l=c);if(l=null,rt)return r;if(Q){if(Y){h=x.call(a.ownerDocument);while(a.firstChild)h.appendChild(a.firstChild)}else h=a;return Z&&(h=I.call(n,h,!0)),h}var p=K?a.outerHTML:a.innerHTML;return W&&(p=h5(p,O," "),p=h5(p,D," ")),k&&tt?k.createHTML(p):p},e.setConfig=function(t){_t(t),J=!0},e.clearConfig=function(){wt=null,J=!1},e.isValidAttribute=function(t,e,n){wt||_t({});var r=bt(t),i=bt(e);return Pt(r,i,n)},e.addHook=function(t,e){"function"===typeof e&&(N[t]=N[t]||[],u5(N[t],e))},e.removeHook=function(t){N[t]&&a5(N[t])},e.removeHooks=function(t){N[t]&&(N[t]=[])},e.removeAllHooks=function(){N={}},e}var z5=H5(),$5=["iframe","embed"],G5=[];function W5(t){Pu($5,t)&&G5.push(t.toLowerCase())}function K5(t,e){return z5.sanitize(t,ba({ADD_TAGS:G5,ADD_ATTR:["rel","target","hreflang","type"],FORBID_TAGS:["input","script","textarea","form","button","select","meta","style","link","title","object","base"]},e))}function J5(t,e){return t.literal.replace(new RegExp("(<\\s*"+e+"[^>]*>)|(</"+e+"\\s*[>])","ig"),"").trim()}function X5(t){t=t.match(cl)[0];var e=t.match(new RegExp(ol,"g"));return e?e.reduce((function(t,e){var n=e.trim().split("="),r=n[0],i=n.slice(1);return i.length&&(t[r]=i.join("=").replace(/'|"/g,"").trim()),t}),{}):{}}function Q5(t){return rc(t.attributes).reduce((function(t,e){return t[e.nodeName]=e.nodeValue,t}),{})}function Y5(t,e,n,r){var i=r.getToDOMNode(e)(t),o=n(i.outerHTML),s=document.createElement("div");s.innerHTML=o,i=s.firstChild;var a=Q5(i);return{dom:i,htmlAttrs:a}}var Z5={htmlBlock:function(t,e,n){return{atom:!0,content:"block+",group:"block",attrs:{htmlAttrs:{default:{}},childrenHTML:{default:""},htmlBlock:{default:!0}},parseDOM:[{tag:t,getAttrs:function(t){return{htmlAttrs:Q5(t),childrenHTML:t.innerHTML}}}],toDOM:function(r){var i=Y5(r,t,e,n),o=i.dom,s=i.htmlAttrs;return s.class=s.class?s.class+" html-block":"html-block",wa([t,s],rc(o.childNodes))}}},htmlInline:function(t,e,n){return{attrs:{htmlAttrs:{default:{}},htmlInline:{default:!0}},parseDOM:[{tag:t,getAttrs:function(t){return{htmlAttrs:Q5(t)}}}],toDOM:function(r){var i=Y5(r,t,e,n).htmlAttrs;return[t,i,0]}}}};function t8(t,e,n){var r={nodes:{},marks:{}};return["htmlBlock","htmlInline"].forEach((function(i){t[i]&&Object.keys(t[i]).forEach((function(t){var o="htmlBlock"===i?"nodes":"marks";W5(t),r[o][t]=Z5[i](t,e,n)}))})),r}var e8=/^\s*<\s*\//,n8={paragraph:function(t,e){var n=e.entering,r=e.origin,i=e.options;return i.nodeId?{type:n?"openTag":"closeTag",outerNewLine:!0,tagName:"p"}:r()},softbreak:function(t){var e=t.prev&&"htmlInline"===t.prev.type,n=e&&/<br ?\/?>/.test(t.prev.literal),r=n?"\n":"<br>\n";return{type:"html",content:r}},item:function(t,e){var n=e.entering;if(n){var r={},i=[];return t.listData.task&&(r["data-task"]="",i.push("task-list-item"),t.listData.checked&&(i.push("checked"),r["data-task-checked"]="")),{type:"openTag",tagName:"li",classNames:i,attributes:r,outerNewLine:!0}}return{type:"closeTag",tagName:"li",outerNewLine:!0}},code:function(t){var e={"data-backticks":String(t.tickCount)};return[{type:"openTag",tagName:"code",attributes:e},{type:"text",content:t.literal},{type:"closeTag",tagName:"code"}]},codeBlock:function(t){var e=t,n=e.fenceLength,r=e.info,i=r?r.split(/\s+/):[],o=[],s={};if(n>3&&(s["data-backticks"]=n),i.length>0&&i[0].length>0){var a=i[0];o.push("lang-"+a),s["data-language"]=a}return[{type:"openTag",tagName:"pre",classNames:o},{type:"openTag",tagName:"code",attributes:s},{type:"text",content:t.literal},{type:"closeTag",tagName:"code"},{type:"closeTag",tagName:"pre"}]},customInline:function(t,e){var n=e.origin,r=e.entering,i=e.skipChildren,o=t.info;if(-1!==o.indexOf("widget")&&r){i();var s=Bc(t),a=Rc(o,s).outerHTML;return[{type:"openTag",tagName:"span",classNames:["tui-widget"]},{type:"html",content:a},{type:"closeTag",tagName:"span"}]}return n()}};function r8(t,e){var n=ba({},n8);return t&&(n.link=function(e,n){var r=n.entering,i=n.origin,o=i();return r&&(o.attributes=ba(ba({},o.attributes),t)),o}),e&&Object.keys(e).forEach((function(t){var r=n[t],i=e[t];r&&$l(i)?n[t]=function(t,e){var n=ba({},e);return n.origin=function(){return r(t,e)},i(t,n)}:Pu(["htmlBlock","htmlInline"],t)&&!$l(i)?n[t]=function(t,e){var n=t.literal.match(cl);if(n){var r=n[0],o=n[1],s=n[3],a=(o||s).toLowerCase(),u=i[a],c=J5(t,a);if(u){var l=ba({},t);return l.attrs=X5(r),l.childrenHTML=c,l.type=a,e.entering=!e8.test(t.literal),u(l,e)}}return e.origin()}:n[t]=i})),n}var i8=["list","item","blockQuote"],o8=["UL","OL","BLOCKQUOTE"];function s8(t,e){var n,r=t.child(e);return!r.childCount||1===r.childCount&&!(null===(n=r.firstChild.text)||void 0===n?void 0:n.trim())}function a8(t,e,n){var r=lc(e)-1,i=hc(e)-1,o=n[r].getBoundingClientRect(),s=n[i].offsetTop-n[r].offsetTop+n[i].clientHeight;return{height:s<=0?n[r].clientHeight:s+u8(t,n,Math.min(i+1,t.childCount-1)),rect:o}}function u8(t,e,n){var r=t.childCount-1,i=0;while(n<=r&&s8(t,n))i+=e[n].clientHeight,n+=1;return i}function c8(t,e){while(!t.getAttribute("data-nodeid")&&t.parentElement!==e)t=t.parentElement;return t}function l8(t,e){var n=0;while(t&&t!==e){if(Pu(o8,t.tagName)||(n+=t.offsetTop),t.offsetParent===e.offsetParent)break;t=t.parentElement}return n}function h8(t,e){var n=e,r=null;while(n){var i=n.firstElementChild;if(!i)break;var o=f8(i,t,l8(n,e));r=n,n=o}var s=n||r;return s===e?null:s}function f8(t,e,n){return t&&e>n+t.offsetTop?f8(t.nextElementSibling,e,n)||t:null}function p8(t,e,n,r){var i=Math.min((t-e)/n,1);return i*r}function d8(t,e){var n=t.querySelector('[data-nodeid="'+e.id+'"]');while(!n||mc(e))e=e.parent,n=t.querySelector('[data-nodeid="'+e.id+'"]');return m8({mdNode:e,el:n})}function m8(t){var e=t.mdNode,n=t.el;while((Pu(i8,e.type)||"table"===e.type)&&e.firstChild)e=e.firstChild,n=n.firstElementChild;return{mdNode:e,el:n}}var v8={};function g8(t,e){v8[t]=v8[t]||{},v8[t].height=e}function y8(t,e){v8[t]=v8[t]||{},v8[t].offsetTop=e}function b8(t){return v8[t]&&v8[t].height}function w8(t){return v8[t]&&v8[t].offsetTop}function k8(t){t&&(delete v8[Number(t.getAttribute("data-nodeid"))],rc(t.children).forEach((function(t){k8(t)})))}function _8(t,e,n){var r=b8(n),i=w8(n),o=r||t.clientHeight,s=i||l8(t,e)||t.offsetTop;return r||g8(n,o),i||y8(n,s),{nodeHeight:o,offsetTop:s}}var T8=ml("md-preview-highlight");function E8(t,e){var n=t.firstChild;while(n&&n.next){if(fc(n.next)>e+1)break;n=n.next}return n}var C8=function(){function t(t,e){var n=document.createElement("div");this.el=n,this.eventEmitter=t,this.isViewer=!!e.isViewer,this.el.className=ml("md-preview");var r=e.linkAttributes,i=e.customHTMLRenderer,o=e.sanitizer,s=e.highlight,a=void 0!==s&&s;this.renderer=new W6({gfm:!0,nodeId:!0,convertors:r8(r,i)}),this.cursorNodeId=null,this.sanitizer=o,this.initEvent(a),this.initContentSection(),this.isViewer&&(this.previewContent.style.overflowWrap="break-word")}return t.prototype.initContentSection=function(){this.previewContent=Cl('<div class="'+ml("contents")+'"></div>'),this.isViewer||this.el.appendChild(this.previewContent)},t.prototype.toggleActive=function(t){El(this.el,"active",t)},t.prototype.initEvent=function(t){var e=this;this.eventEmitter.listen("updatePreview",this.update.bind(this)),this.isViewer||(t&&(this.eventEmitter.listen("changeToolbarState",(function(t){var n=t.mdNode,r=t.cursorPos;e.updateCursorNode(n,r)})),this.eventEmitter.listen("blur",(function(){e.removeHighlight()}))),Dp(this.el,"scroll",(function(t){e.eventEmitter.emit("scroll","preview",h8(t.target.scrollTop,e.previewContent))})),this.eventEmitter.listen("changePreviewTabPreview",(function(){return e.toggleActive(!0)})),this.eventEmitter.listen("changePreviewTabWrite",(function(){return e.toggleActive(!1)})))},t.prototype.removeHighlight=function(){if(this.cursorNodeId){var t=this.getElementByNodeId(this.cursorNodeId);t&&lu(t,T8)}},t.prototype.updateCursorNode=function(t,e){t&&(t=_c(t,(function(t){return!kc(t)})),"tableRow"===t.type?t=E8(t,e[1]):"tableBody"===t.type&&(t=null));var n=t?t.id:null;if(this.cursorNodeId!==n){var r=this.getElementByNodeId(this.cursorNodeId),i=this.getElementByNodeId(n);r&&lu(r,T8),i&&iu(i,T8),this.cursorNodeId=n}},t.prototype.getElementByNodeId=function(t){return t?this.previewContent.querySelector('[data-nodeid="'+t+'"]'):null},t.prototype.update=function(t){var e=this;t.forEach((function(t){return e.replaceRangeNodes(t)})),this.eventEmitter.emit("afterPreviewRender",this)},t.prototype.replaceRangeNodes=function(t){var e=this,n=t.nodes,r=t.removedNodeRange,i=this.previewContent,o=this.eventEmitter.emitReduce("beforePreviewRender",this.sanitizer(n.map((function(t){return e.renderer.render(t)})).join("")));if(r){var s=r.id,a=s[0],u=s[1],c=this.getElementByNodeId(a),l=this.getElementByNodeId(u);if(c){c.insertAdjacentHTML("beforebegin",o);var h=c;while(h&&h!==l){var f=h.nextElementSibling;_l(h),k8(h),h=f}(null===h||void 0===h?void 0:h.parentNode)&&(_l(h),k8(h))}}else i.insertAdjacentHTML("afterbegin",o)},t.prototype.getRenderer=function(){return this.renderer},t.prototype.destroy=function(){Cp(this.el,"scroll"),this.el=null},t.prototype.getElement=function(){return this.el},t.prototype.getHTML=function(){return this.previewContent.innerHTML},t.prototype.setHTML=function(t){this.previewContent.innerHTML=t},t.prototype.setHeight=function(t){Va(this.el,{height:t+"px"})},t.prototype.setMinHeight=function(t){Va(this.el,{minHeight:t+"px"})},t}();function x8(t,e){var n=t.depth;while(n){var r=t.node(n);if(e(r,n))return{node:r,depth:n,offset:n>0?t.before(n):0};n-=1}return null}function S8(t){return!!x8(t,(function(t){var e=t.type;return"listItem"===e.name||"bulletList"===e.name||"orderedList"===e.name}))}function I8(t){return!!x8(t,(function(t){var e=t.type;return"tableHeadCell"===e.name||"tableBodyCell"===e.name}))}function A8(t){return x8(t,(function(t){var e=t.type;return"listItem"===e.name}))}function N8(t){return{tag:t,getAttrs:function(t){var e=t.getAttribute("data-raw-html");return ba({},e&&{rawHTML:e})}}}function O8(t){return Object.keys(t).reduce((function(e,n){return"rawHTML"!==n&&t[n]&&(n="className"===n?"class":n,e[n]=t[n]),e}),{})}function D8(t){return{tag:t,getAttrs:function(t){return["rawHTML","colspan","rowspan","extended"].reduce((function(e,n){var r="rawHTML"===n?"data-raw-html":n,i=t.getAttribute(r);return i&&(e[n]=Pu(["rawHTML","extended"],n)?i:Number(i)),e}),{})}}}function M8(){return{htmlAttrs:{default:null},classNames:{default:null}}}function R8(t){var e=t.htmlAttrs,n=t.classNames;return ba(ba({},e),{class:n?n.join(" "):null})}function L8(t,e){var n=t.parent,r=t.startIndex,i=t.endIndex,o=n.contentMatchAt(r).findWrapping(e);if(o){var s=o.length?o[0]:e;return n.canReplaceWith(r,i,s)?o:null}return null}function P8(t,e){var n=t.parent,r=t.startIndex,i=t.endIndex,o=n.child(r),s=e.contentMatch.findWrapping(o.type);if(s){for(var a=s.length?s[s.length-1]:e,u=a.contentMatch,c=r;u&&c<i;c+=1)u=u.matchType(n.child(c).type);if(u&&u.validEnd)return s}return null}function F8(t,e,n,r){var i=L8(t,n),o=P8(e,n);if(i&&o){var s=i.map((function(t){return{type:t}})),a=o.map((function(t){return{type:t,attrs:r}}));return s.concat({type:n}).concat(a)}return null}function j8(t,e,n,r,i){for(var o=e.start,s=e.end,a=e.startIndex,c=e.endIndex,l=e.parent,h=u.empty,f=n.length-1;f>=0;f-=1)h=u.from(n[f].type.create(n[f].attrs,h));t.step(new Jt(o-(r?2:0),s,o,s,new m(h,0,0),n.length,!0));var p=0;for(f=0;f<n.length;f+=1)if(n[f].type===i){p=f+1;break}for(var d=n.length-p,v=o+n.length-(r?2:0),g=(f=a,c);f<g;f+=1){var y=f===a;!y&&ie(t.doc,v,d)&&(t.split(v,d),v+=2*d),v+=l.child(f).nodeSize}return t}function B8(t,e,n,r){var i=e.$from,o=e.$to,s=e.depth,a=e,u=!1;if(s>=2&&i.node(s-1).type.compatibleContent(n)&&0===e.startIndex&&i.index(s-1)){var c=t.doc.resolve(e.start-2);a=new R(c,c,s),e.endIndex<e.parent.childCount&&(e=new R(i,t.doc.resolve(o.end(s)),s)),u=!0}var l=F8(a,e,n,r);return l?j8(t,e,l,u,n):t}function V8(t,e){var n=t.resolve(e);while("paragraph"!==n.node().type.name)e-=2,n=t.resolve(e);return A8(n)}function U8(t,e){var n=e.$from,r=e.$to,i=A8(n),o=A8(r);if(i&&o)while(o){var s=o.offset,a=o.node,u={task:!a.attrs.task,checked:!1};if(t.setNodeMarkup(s,null,u),s===i.offset)break;o=V8(t.doc,s)}return t}function q8(t,e,n){var r=e.$from,i=e.$to,o=A8(r),s=A8(i);if(o&&s)while(s){var a=s.offset,u=s.node,c=s.depth;u.attrs.task&&t.setNodeMarkup(a,null,{task:!1,checked:!1});var l=t.doc.resolve(a);if(l.parent.type!==n){var h=l.before(c-1);t.setNodeMarkup(h,n)}if(a===o.offset)break;s=V8(t.doc,a)}return t}function H8(t){return function(e,n){var r=e.selection,i=e.tr,o=r.$from,s=r.$to,a=o.blockRange(s);if(a){var u=S8(o)?q8(i,a,t):B8(i,a,t);return n(u),!0}return!1}}function z8(){return function(t,e){var n=t.selection,r=t.tr,i=t.schema,o=n.$from,s=n.$to,a=o.blockRange(s);if(a){var u=S8(o)?U8(r,a):B8(r,a,i.nodes.bulletList,{task:!0});return e(u),!0}return!1}}function $8(t){return function(e,n){var r=e.tr,i=e.selection,o=i.$from,s=i.$to,a=o.blockRange(s,(function(e){var n=e.childCount,r=e.firstChild;return!!n&&r.type===t}));if(a&&a.startIndex>0){var c=a.parent,l=c.child(a.startIndex-1);if(l.type!==t)return!1;var h=l.lastChild&&l.lastChild.type===c.type,f=h?u.from(t.create()):null,p=new m(u.from(t.create(null,u.from(c.type.create(null,f)))),h?3:1,0),d=a.start,v=a.end;return r.step(new Jt(d-(h?3:1),v,d,v,p,1,!0)),n(r),!0}return!1}}function G8(t,e,n){var r=e.$from,i=e.$to,o=e.end,s=e.depth,a=e.parent,c=i.end(s);return o<c&&(t.step(new Jt(o-1,c,o,c,new m(u.from(n.create(null,a.copy())),1,0),1,!0)),e=new R(t.doc.resolve(r.pos),t.doc.resolve(c),s)),t.lift(e,Yt(e)),t}function W8(t,e){for(var n=e.parent,r=e.end,i=e.endIndex-1,o=e.startIndex;i>o;i-=1)r-=n.child(i).nodeSize,t.delete(r-1,r+1);var s=t.doc.resolve(e.start),a=s.nodeAfter,c=0===e.startIndex,l=e.endIndex===n.childCount,h=s.node(-1),f=s.index(-1),p=h.canReplace(f+(c?0:1),f+1,null===a||void 0===a?void 0:a.content.append(l?u.empty:u.from(n)));if(a&&p){var d=s.pos,v=d+a.nodeSize;t.step(new Jt(d-(c?1:0),v+(l?1:0),d+1,v-1,new m((c?u.empty:u.from(n.copy(u.empty))).append(l?u.empty:u.from(n.copy(u.empty))),c?0:1,l?0:1),c?0:1))}return t}function K8(t){return function(e,n){var r=e.tr,i=e.selection,o=i.$from,s=i.$to,a=o.blockRange(s,(function(e){var n=e.childCount,r=e.firstChild;return!!n&&r.type===t}));if(a){var u=o.node(a.depth-1).type===t,c=u?G8(r,a,t):W8(r,a);return n(c),!0}return!1}}function J8(t){return function(e,n){var r=e.tr,i=e.selection,o=i.$from,s=i.$to;if(o.depth<2||!o.sameParent(s))return!1;var a=o.node(-1);if(a.type!==t)return!1;if(0===o.parent.content.size&&o.node(-1).childCount===o.indexAfter(-1)){if(2===o.depth||o.node(-3).type!==t||o.index(-2)!==o.node(-2).childCount-1)return!1;for(var c=o.index(-1)>0,l=u.empty,h=o.depth-(c?1:2);h>=o.depth-3;h-=1)l=u.from(o.node(h).copy(l));return l=l.append(u.from(t.createAndFill())),r.replace(c?o.before():o.before(-1),o.after(-3),new m(l,c?3:2,2)),r.setSelection(Ce.near(r.doc.resolve(o.pos+(c?3:2)))),n(r),!0}var f=s.pos===o.end()?a.contentMatchAt(0).defaultType:null,p=f&&[null,{type:f}];return r.delete(o.pos,s.pos),!!ie(r.doc,o.pos,2,p)&&(r.split(o.pos,2,p),n(r),!0)}}function X8(){return function(){return function(t,e){var n=t.selection,r=t.schema,i=n.$from,o=n.$to,s=i.blockRange(o);return!(!s||!S8(i))&&$8(r.nodes.listItem)(t,e)}}}function Q8(){return function(){return function(t,e){var n=t.selection,r=t.schema,i=n.$from,o=n.$to,s=i.blockRange(o);return!(!s||!S8(i))&&K8(r.nodes.listItem)(t,e)}}}function Y8(){return{indent:X8(),outdent:Q8()}}var Z8=new Map,t9=function(){function t(t,e,n,r){this.table=t,this.tableRows=e,this.tableStartPos=n,this.rowInfo=r}return t.create=function(e){var n=x8(e,(function(t){var e=t.type;return"table"===e.name}));if(n){var r=n.node,i=n.depth,o=n.offset,s=Z8.get(r);if((null===s||void 0===s?void 0:s.tableStartPos)===o+1)return s;var a=[],u=e.start(i),c=r.child(0),l=r.child(1),h=e9(c,u),f=e9(l,u+c.nodeSize);c.forEach((function(t){return a.push(t)})),l.forEach((function(t){return a.push(t)}));var p=new t(r,a,u,h.concat(f));return Z8.set(r,p),p}return null},Object.defineProperty(t.prototype,"totalRowCount",{get:function(){return this.rowInfo.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalColumnCount",{get:function(){return this.rowInfo[0].length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tableStartOffset",{get:function(){return this.tableStartPos},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tableEndOffset",{get:function(){return this.tableStartPos+this.table.nodeSize-1},enumerable:!1,configurable:!0}),t.prototype.getCellInfo=function(t,e){return this.rowInfo[t][e]},t.prototype.posAt=function(t,e){for(var n=0,r=this.tableStartPos;;n+=1){var i=r+this.tableRows[n].nodeSize;if(n===t){var o=e;while(o<this.totalColumnCount&&this.rowInfo[n][o].offset<r)o+=1;return o===this.totalColumnCount?i:this.rowInfo[n][o].offset}r=i}},t.prototype.getNodeAndPos=function(t,e){var n=this.rowInfo[t][e];return{node:this.table.nodeAt(n.offset-this.tableStartOffset),pos:n.offset}},t.prototype.extendedRowspan=function(t,e){return!1},t.prototype.extendedColspan=function(t,e){return!1},t.prototype.getRowspanCount=function(t,e){return 0},t.prototype.getColspanCount=function(t,e){return 0},t.prototype.decreaseColspanCount=function(t,e){return 0},t.prototype.decreaseRowspanCount=function(t,e){return 0},t.prototype.getColspanStartInfo=function(t,e){return null},t.prototype.getRowspanStartInfo=function(t,e){return null},t.prototype.getCellStartOffset=function(t,e){var n=this.rowInfo[t][e].offset;return this.extendedRowspan(t,e)?this.posAt(t,e):n},t.prototype.getCellEndOffset=function(t,e){var n=this.rowInfo[t][e],r=n.offset,i=n.nodeSize;return this.extendedRowspan(t,e)?this.posAt(t,e):r+i},t.prototype.getCellIndex=function(t){for(var e=0;e<this.totalRowCount;e+=1)for(var n=this.rowInfo[e],r=0;r<this.totalColumnCount;r+=1)if(n[r].offset+1>t.pos)return[e,r];return[0,0]},t.prototype.getRectOffsets=function(t,e){var n,r,i;void 0===e&&(e=t),t.pos>e.pos&&(n=[e,t],t=n[0],e=n[1]);var o=this.getCellIndex(t),s=o[0],a=o[1],u=this.getCellIndex(e),c=u[0],l=u[1];return r=tc(s,c),s=r[0],c=r[1],i=tc(a,l),a=i[0],l=i[1],this.getSpannedOffsets({startRowIdx:s,startColIdx:a,endRowIdx:c,endColIdx:l})},t.prototype.getSpannedOffsets=function(t){return t},t}(),e9=function(t,e){var n=[];return t.forEach((function(t,r){var i={rowspanMap:{},colspanMap:{},length:0};t.forEach((function(t,n){var o=t.nodeSize,s=0;while(i[s])s+=1;i[s]={offset:e+r+n+2,nodeSize:o},i.length+=1})),n.push(i)})),n};function n9(t,e){return Zu(t9.prototype,t),e9=e,t9}function r9(t,e,n){for(var r=n.startRowIdx,i=n.startColIdx,o=n.endRowIdx,s=n.endColIdx,a=[],u=r;u<=o;u+=1)for(var c=i;c<=s;c+=1){var l=e.getCellInfo(u,c),h=l.offset,f=l.nodeSize;a.push(new Se(t.resolve(h+1),t.resolve(h+f-1)))}return a}function i9(t,e){var n=[];return t.childCount&&n.push(t),e.childCount&&n.push(e),u.from(n)}var o9=function(t){function e(e,n){void 0===n&&(n=e);var r=this,i=e.node(0),o=t9.create(e),s=o.getRectOffsets(e,n),a=r9(i,o,s);return r=t.call(this,a[0].$from,a[0].$to,a)||this,r.startCell=e,r.endCell=n,r.offsetMap=o,r.isCellSelection=!0,r.visible=!1,r}return ya(e,t),e.prototype.map=function(t,n){var r=this.startCell.pos,i=this.endCell.pos,o=t.resolve(n.map(r)),s=t.resolve(n.map(i)),a=t9.create(o);if(this.offsetMap.totalColumnCount>a.totalColumnCount||this.offsetMap.totalRowCount>a.totalRowCount){var u={tableBody:1,tableRow:2,tableCell:3,paragraph:4},c=u[s.parent.type.name],l=s.end(s.depth-c),h=Math.min(l-4,s.pos);return Ie.create(t,h)}return new e(o,s)},e.prototype.eq=function(t){return t instanceof e&&t.startCell.pos===this.startCell.pos&&t.endCell.pos===this.endCell.pos},e.prototype.content=function(){for(var t=this.startCell.node(-2),e=this.startCell.start(-2),n=t.child(1).firstChild,r=t.child(0).type.create(),i=t.child(1).type.create(),o=t9.create(this.startCell),s=o.getRectOffsets(this.startCell,this.endCell),a=s.startRowIdx,c=s.startColIdx,l=s.endRowIdx,h=s.endColIdx,f=!1,p=a;p<=l;p+=1){for(var d=[],v=c;v<=h;v+=1){var g=o.getCellInfo(p,v).offset,y=t.nodeAt(g-e);y&&(f="tableHeadCell"===y.type.name,o.extendedRowspan(p,v)||o.extendedColspan(p,v)?d.push(y.type.create({extended:!0})):d.push(y.copy(y.content)))}var b=n.copy(u.from(d)),w=f?r:i;w.content=w.content.append(u.from(b))}return new m(i9(r,i),1,1)},e}(Ce);function s9(t,e,n){for(var r=e.nodes,i=r.tableRow,o=r.tableHeadCell,s=r.paragraph,a=[],u=0;u<t;u+=1){var c=n&&n[u],l=s.create(null,c?e.text(c):[]);a.push(o.create(null,l))}return[i.create(null,a)]}function a9(t,e,n,r){for(var i=n.nodes,o=i.tableRow,s=i.tableBodyCell,a=i.paragraph,u=[],c=0;c<t;c+=1){for(var l=[],h=0;h<e;h+=1){var f=r&&r[c*e+h],p=a.create(null,f?n.text(f):[]);l.push(s.create(null,p))}u.push(o.create(null,l))}return u}function u9(t,e,n,r){void 0===r&&(r=null);for(var i=n.nodes,o=i.tableHeadCell,s=i.tableBodyCell,a=i.paragraph,u=0===e?o:s,c=[],l=0;l<t;l+=1)c.push(u.create(r,a.create()));return c}function c9(t,e){while(t&&t!==e){if("TD"===t.nodeName||"TH"===t.nodeName)return t;t=t.parentNode}return null}function l9(t){return x8(t,(function(t){var e=t.type;return"tableHeadCell"===e.name||"tableBodyCell"===e.name}))}function h9(t){if(t instanceof Ie){var e=t.$anchor,n=l9(e);if(n){var r=e.node(0).resolve(e.before(n.depth));return{anchor:r,head:r}}}var i=t,o=i.startCell,s=i.endCell;return{anchor:o,head:s}}function f9(t){var e;if(t.size){var n=t.content,r=t.openStart,i=t.openEnd;if(1!==n.childCount)return null;while(1===n.childCount&&(r>0&&i>0||"table"===(null===(e=n.firstChild)||void 0===e?void 0:e.type.name)))r-=1,i-=1,n=n.firstChild.content;if("tableHead"===n.firstChild.type.name||"tableBody"===n.firstChild.type.name)return n}return null}function p9(t){var e=t.startRowIdx,n=t.startColIdx,r=t.endRowIdx,i=t.endColIdx,o=r-e+1,s=i-n+1;return{rowCount:o,columnCount:s}}function d9(t,e){return ba(ba({},t.attrs),e)}var m9=new Qe("cellSelection"),v9=2,g9=function(){function t(t){this.view=t,this.handlers={mousedown:this.handleMousedown.bind(this),mousemove:this.handleMousemove.bind(this),mouseup:this.handleMouseup.bind(this)},this.startCellPos=null,this.init()}return t.prototype.init=function(){this.view.dom.addEventListener("mousedown",this.handlers.mousedown)},t.prototype.handleMousedown=function(t){var e=c9(t.target,this.view.dom);if(t.button!==v9){if(e){var n=this.getCellPos(t);n&&(this.startCellPos=n),this.bindEvent()}}else t.preventDefault()},t.prototype.handleMousemove=function(t){var e,n=m9.getState(this.view.state),r=this.getCellPos(t),i=this.startCellPos;n?e=this.view.state.doc.resolve(n):i!==r&&(e=i),e&&i&&r&&this.setCellSelection(i,r)},t.prototype.handleMouseup=function(){this.startCellPos=null,this.unbindEvent(),null!==m9.getState(this.view.state)&&this.view.dispatch(this.view.state.tr.setMeta(m9,-1))},t.prototype.bindEvent=function(){var t=this.view.dom;t.addEventListener("mousemove",this.handlers.mousemove),t.addEventListener("mouseup",this.handlers.mouseup)},t.prototype.unbindEvent=function(){var t=this.view.dom;t.removeEventListener("mousemove",this.handlers.mousemove),t.removeEventListener("mouseup",this.handlers.mouseup)},t.prototype.getCellPos=function(t){var e=t.clientX,n=t.clientY,r=this.view.posAtCoords({left:e,top:n});if(r){var i=this.view.state.doc,o=i.resolve(r.pos),s=l9(o);if(s){var a=o.before(s.depth);return i.resolve(a)}}return null},t.prototype.setCellSelection=function(t,e){var n=this.view.state,r=n.selection,i=n.tr,o=null===m9.getState(this.view.state),s=new o9(t,e);if(o||!r.eq(s)){var a=i.setSelection(s);o&&a.setMeta(m9,e.pos),this.view.dispatch(a)}},t.prototype.destroy=function(){this.view.dom.removeEventListener("mousedown",this.handlers.mousedown)},t}(),y9=ml("cell-selected");function b9(t){var e=t.selection,n=t.doc;if(e instanceof o9){var r=[],i=e.ranges;return i.forEach((function(t){var e=t.$from,n=t.$to;r.push(yo.node(e.pos-1,n.pos+1,{class:y9}))})),_o.create(n,r)}return null}function w9(){return new Ke({key:m9,state:{init:function(){return null},apply:function(t,e){var n=t.getMeta(m9);if(n)return-1===n?null:n;if(du(e)||!t.docChanged)return e;var r=t.mapping.mapResult(e),i=r.deleted,o=r.pos;return i?null:o}},props:{decorations:b9,createSelectionBetween:function(t){var e=t.state;return du(m9.getState(e))?null:e.selection}},view:function(t){return new g9(t)}})}var k9=function(){function t(){this.keys=[],this.values=[]}return t.prototype.getKeyIndex=function(t){return Ha(t,this.keys)},t.prototype.get=function(t){return this.values[this.getKeyIndex(t)]},t.prototype.set=function(t,e){var n=this.getKeyIndex(t);return n>-1?this.values[n]=e:(this.keys.push(t),this.values.push(e)),this},t.prototype.has=function(t){return this.getKeyIndex(t)>-1},t.prototype.delete=function(t){var e=this.getKeyIndex(t);return e>-1&&(this.keys.splice(e,1),this.values.splice(e,1),!0)},t.prototype.forEach=function(t,e){var n=this;void 0===e&&(e=this),this.values.forEach((function(r,i){r&&n.keys[i]&&t.call(e,r,n.keys[i],n)}))},t.prototype.clear=function(){this.keys=[],this.values=[]},t}(),_9="en-US",T9=function(){function t(){this.code=_9,this.langs=new k9}return t.prototype.setCode=function(t){this.code=t||_9},t.prototype.setLanguage=function(t,e){var n=this;t=[].concat(t),t.forEach((function(t){if(n.langs.has(t)){var r=n.langs.get(t);n.langs.set(t,Ca(r,e))}else n.langs.set(t,e)}))},t.prototype.get=function(t,e){e||(e=this.code);var n=this.langs.get(e);n||(n=this.langs.get(_9));var r=n[t];if(!r)throw new Error('There is no text key "'+t+'" in '+e);return r},t}(),E9=new T9,C9=[[{action:"Add row to up",command:"addRowToUp",disableInThead:!0,className:"add-row-up"},{action:"Add row to down",command:"addRowToDown",disableInThead:!0,className:"add-row-down"},{action:"Remove row",command:"removeRow",disableInThead:!0,className:"remove-row"}],[{action:"Add column to left",command:"addColumnToLeft",className:"add-column-left"},{action:"Add column to right",command:"addColumnToRight",className:"add-column-right"},{action:"Remove column",command:"removeColumn",className:"remove-column"}],[{action:"Align column to left",command:"alignColumn",payload:{align:"left"},className:"align-column-left"},{action:"Align column to center",command:"alignColumn",payload:{align:"center"},className:"align-column-center"},{action:"Align column to right",command:"alignColumn",payload:{align:"right"},className:"align-column-right"}],[{action:"Remove table",command:"removeTable",className:"remove-table"}]];function x9(t,e){return C9.map((function(n){return n.map((function(n){var r=n.action,i=n.command,o=n.payload,s=n.disableInThead,a=n.className;return{label:E9.get(r),onClick:function(){t.emit("command",i,o)},disabled:e&&!!s,className:a}}))})).concat()}function S9(t){return new Ke({props:{handleDOMEvents:{contextmenu:function(e,n){var r=c9(n.target,e.dom);if(r){n.preventDefault();var i=n,o=i.clientX,s=i.clientY,a=e.dom.parentNode.getBoundingClientRect(),u=a.left,c=a.top,l="TH"===r.nodeName;return t.emit("contextmenu",{pos:{left:o-u+10+"px",top:s-c+30+"px"},menuGroups:x9(t,l),tableCell:r}),!0}return!1}}}})}function I9(){return new Ke({props:{handleDOMEvents:{mousedown:function(t,e){var n=e,r=n.clientX,i=n.clientY,o=t.posAtCoords({left:r,top:i});if(o){var s=t.state,a=s.doc,u=s.tr,c=a.resolve(o.pos),l=A8(c),h=e.target,f=getComputedStyle(h,":before"),p=e,d=p.offsetX,m=p.offsetY;if(!l||!pl(f,d,m))return!1;e.preventDefault();var v=c.before(l.depth),g=l.node.attrs;return u.setNodeMarkup(v,null,ba(ba({},g),{checked:!g.checked})),t.dispatch(u),!0}return!1}}}})}var A9=["image","link","customBlock","frontMatter"],N9=["strong","strike","emph","code"],O9=["bulletList","orderedList","taskList"];function D9(t,e){var n=t.type.name;return"listItem"===n?t.attrs.task?"taskList":e.type.name:-1!==n.indexOf("table")?"table":n}function M9(t,e){e[t]={active:!0},O9.filter((function(e){return e!==t})).forEach((function(t){e[t]&&delete e[t]}))}function R9(t,e,n,r){N9.forEach((function(i){var o=n.marks[i],s=t.marksAcross(e)||[],a=!!o.isInSet(s);a&&(r[i]={active:!0})}))}function L9(t,e,n){var r=t.$from,i=t.$to,o=t.from,s=t.to,a={indent:{active:!1,disabled:!0},outdent:{active:!1,disabled:!0}};return e.nodesBetween(o,s,(function(t,e,o){var s=D9(t,o);Pu(A9,s)||(Pu(O9,s)?(M9(s,a),a.indent.disabled=!1,a.outdent.disabled=!1):"paragraph"===s||"text"===s?R9(r,i,n,a):a[s]={active:!0})})),a}function P9(t){return new Ke({view:function(){return{update:function(e){var n=e.state,r=n.selection,i=n.doc,o=n.schema;t.emit("changeToolbarState",{toolbarState:L9(r,i,o)})}}}})}var F9=function(){function t(t,e,n,r){var i=this;this.openEditor=function(){if(i.innerEditorView)throw new Error("The editor is already opened.");i.dom.draggable=!1,i.wrapper.style.display="none",i.innerViewContainer.style.display="block",i.innerEditorView=new Lo(i.innerViewContainer,{state:ze.create({doc:i.node,plugins:[ss({"Mod-z":function(){return da(i.innerEditorView.state,i.innerEditorView.dispatch)},"Shift-Mod-z":function(){return ma(i.innerEditorView.state,i.innerEditorView.dispatch)},Tab:function(t,e){return e(t.tr.insertText("\t")),!0},Enter:vs,Escape:function(){return i.cancelEditing(),!0},"Ctrl-Enter":function(){return i.saveAndFinishEditing(),!0}}),pa()]}),dispatchTransaction:function(t){return i.dispatchInner(t)},handleDOMEvents:{mousedown:function(){return i.editorView.hasFocus()&&i.innerEditorView.focus(),!0},blur:function(){return i.saveAndFinishEditing(),!0}}}),i.innerEditorView.focus()},this.node=t,this.editorView=e,this.getPos=n,this.toDOMAdaptor=r,this.innerEditorView=null,this.canceled=!1,this.dom=document.createElement("div"),this.dom.className=ml("custom-block"),this.wrapper=document.createElement("div"),this.wrapper.className=ml("custom-block-view"),this.createInnerViewContainer(),this.renderCustomBlock(),this.dom.appendChild(this.innerViewContainer),this.dom.appendChild(this.wrapper)}return t.prototype.renderToolArea=function(){var t=this,e=document.createElement("div"),n=document.createElement("span"),r=document.createElement("button");e.className="tool",n.textContent=this.node.attrs.info,n.className="info",r.type="button",r.addEventListener("click",(function(){return t.openEditor()})),e.appendChild(n),e.appendChild(r),this.wrapper.appendChild(e)},t.prototype.renderCustomBlock=function(){var t=this.toDOMAdaptor.getToDOMNode(this.node.attrs.info);if(t){var e=t(this.node);while(this.wrapper.hasChildNodes())this.wrapper.removeChild(this.wrapper.lastChild);e&&this.wrapper.appendChild(e),this.renderToolArea()}},t.prototype.createInnerViewContainer=function(){this.innerViewContainer=document.createElement("div"),this.innerViewContainer.className=ml("custom-block-editor"),this.innerViewContainer.style.display="none"},t.prototype.closeEditor=function(){this.innerEditorView&&(this.innerEditorView.destroy(),this.innerEditorView=null,this.innerViewContainer.style.display="none"),this.wrapper.style.display="block"},t.prototype.saveAndFinishEditing=function(){var t=this.editorView.state.selection.to,e=this.editorView.state;this.editorView.dispatch(e.tr.setSelection(sc(e.tr,t))),this.editorView.focus(),this.renderCustomBlock(),this.closeEditor()},t.prototype.cancelEditing=function(){var t=va(this.innerEditorView.state);this.canceled=!0;while(t--)da(this.innerEditorView.state,this.innerEditorView.dispatch),da(this.editorView.state,this.editorView.dispatch);this.canceled=!1;var e=this.editorView.state.selection.to,n=this.editorView.state;this.editorView.dispatch(n.tr.setSelection(Ie.create(n.doc,e))),this.editorView.focus(),this.closeEditor()},t.prototype.dispatchInner=function(t){var e=this.innerEditorView.state.applyTransaction(t),n=e.state,r=e.transactions;if(this.innerEditorView.updateState(n),!this.canceled&&$l(this.getPos)){for(var i=this.editorView.state.tr,o=Bt.offset(this.getPos()+1),s=0;s<r.length;s+=1)for(var a=r[s].steps,u=0;u<a.length;u+=1)i.step(a[u].map(o));i.docChanged&&this.editorView.dispatch(i)}},t.prototype.update=function(t){return!!t.sameMarkup(this.node)&&(this.node=t,this.innerEditorView||this.renderCustomBlock(),!0)},t.prototype.stopEvent=function(t){return!!this.innerEditorView&&!!t.target&&this.innerEditorView.dom.contains(t.target)},t.prototype.ignoreMutation=function(){return!0},t.prototype.destroy=function(){this.dom.removeEventListener("dblclick",this.openEditor),this.closeEditor()},t}(),j9="image-link",B9=function(){function t(t,e,n,r){var i,o=this;this.handleMousedown=function(t){t.preventDefault();var e=t.target,n=t.offsetX,r=t.offsetY;if(o.imageLink&&$l(o.getPos)&&$c(e,j9)){var i=getComputedStyle(e,":before");if(t.stopPropagation(),pl(i,n,r)){var s=o.view.state.tr,a=o.getPos();s.setSelection(sc(s,a,a+1)),o.view.dispatch(s),o.eventEmitter.emit("openPopup","link",o.imageLink.attrs)}}},this.node=t,this.view=e,this.getPos=n,this.eventEmitter=r,this.imageLink=null!==(i=t.marks.filter((function(t){var e=t.type;return"link"===e.name}))[0])&&void 0!==i?i:null,this.dom=this.createElement(),this.bindEvent()}return t.prototype.createElement=function(){var t=this.createImageElement(this.node);if(this.imageLink){var e=document.createElement("span");return e.className=j9,e.appendChild(t),e}return t},t.prototype.createImageElement=function(t){var e=document.createElement("img"),n=t.attrs,r=n.imageUrl,i=n.altText,o=R8(t.attrs);return e.src=r,i&&(e.alt=i),Al(o,e),e},t.prototype.bindEvent=function(){this.imageLink&&this.dom.addEventListener("mousedown",this.handleMousedown)},t.prototype.stopEvent=function(){return!0},t.prototype.destroy=function(){this.imageLink&&this.dom.removeEventListener("mousedown",this.handleMousedown)},t}(),V9="toastui-editor-ww-code-block",U9="toastui-editor-ww-code-block-language",q9=function(){function t(t,e,n,r){var i=this;this.dom=null,this.contentDOM=null,this.input=null,this.timer=null,this.handleMousedown=function(t){var e=t.target,n=getComputedStyle(e,":after");if("none"!==n.backgroundImage&&$l(i.getPos)){var r=i.view.coordsAtPos(i.getPos()),o=r.top,s=r.right;i.createLanguageEditor({top:o,right:s})}},this.handleKeydown=function(t){"Enter"===t.key&&i.input&&(t.preventDefault(),i.changeLanguage())},this.node=t,this.view=e,this.getPos=n,this.eventEmitter=r,this.createElement(),this.bindDOMEvent(),this.bindEvent()}return t.prototype.createElement=function(){var t=this.node.attrs.language,e=document.createElement("div");e.setAttribute("data-language",t||"text"),e.className=V9;var n=this.createCodeBlockElement(),r=n.firstChild;e.appendChild(n),this.dom=e,this.contentDOM=r},t.prototype.createCodeBlockElement=function(){var t=document.createElement("pre"),e=document.createElement("code"),n=this.node.attrs.language,r=R8(this.node.attrs);return n&&e.setAttribute("data-language",n),Al(r,t),t.appendChild(e),t},t.prototype.createLanguageEditor=function(t){var e=this,n=t.top,r=t.right,i=document.createElement("span");i.className=U9;var o=document.createElement("input");o.type="text",o.value=this.node.attrs.language,i.appendChild(o),this.view.dom.parentElement.appendChild(i);var s=i.clientWidth;Va(i,{top:n+10+"px",left:r-s-10+"px",width:s+"px"}),this.input=o,this.input.addEventListener("blur",(function(){return e.changeLanguage()})),this.input.addEventListener("keydown",this.handleKeydown),this.clearTimer(),this.timer=setTimeout((function(){e.input.focus()}))},t.prototype.bindDOMEvent=function(){this.dom&&this.dom.addEventListener("click",this.handleMousedown)},t.prototype.bindEvent=function(){var t=this;this.eventEmitter.listen("scroll",(function(){t.input&&t.reset()}))},t.prototype.changeLanguage=function(){if(this.input&&$l(this.getPos)){var t=this.input.value;this.reset();var e=this.getPos(),n=this.view.state.tr;n.setNodeMarkup(e,null,{language:t}),this.view.dispatch(n)}},t.prototype.reset=function(){var t;if(null===(t=this.input)||void 0===t?void 0:t.parentElement){var e=this.input.parentElement;this.input=null,_l(e)}},t.prototype.clearTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},t.prototype.stopEvent=function(){return!0},t.prototype.update=function(t){return!!t.sameMarkup(this.node)&&(this.node=t,!0)},t.prototype.destroy=function(){this.reset(),this.clearTimer(),this.dom&&this.dom.removeEventListener("click",this.handleMousedown)},t}(),H9=/MsoListParagraph/,z9=/style=(.|\n)*mso-/,$9=/mso-list:(.*)/,G9=/O:P/,W9=/^(n|u|l)/,K9="p.MsoListParagraph";function J9(t){return z9.test(t)}function X9(t){var e=[],n=document.createTreeWalker(t,1,null,!1);while(n.nextNode()){var r=n.currentNode;if(yl(r)){var i=r,o=i.outerHTML,s=i.textContent,a=z9.test(o),u=$9.test(o);a&&!u&&s?e.push([r,!0]):(G9.test(r.nodeName)||a&&!s||u)&&e.push([r,!1])}}return e.forEach((function(t){var e=t[0],n=t[1];n?Tl(e):_l(e)})),t.innerHTML.trim()}function Q9(t,e){var n=t.getAttribute("style");if(n){var r=n.match($9),i=r[1],o=i.trim().split(" "),s=o[1],a=parseInt(s.replace("level",""),10),u=W9.test(t.textContent||"");return{id:e,level:a,prev:null,parent:null,children:[],unordered:u,contents:X9(t)}}return null}function Y9(t,e){if(e.level<t.level)e.children.push(t),t.parent=e;else{while(e){if(e.level===t.level)break;e=e.parent}e&&(t.prev=e,t.parent=e.parent,t.parent&&t.parent.children.push(t))}}function Z9(t){var e=[];return t.forEach((function(t,n){var r=e[n-1],i=Q9(t,n);i&&(r&&Y9(i,r),e.push(i))})),e}function t7(t){var e=t[0].unordered?"ul":"ol",n=document.createElement(e);return t.forEach((function(t){var e=t.children,r=t.contents,i=document.createElement("li");i.innerHTML=r,n.appendChild(i),e.length&&n.appendChild(t7(e))})),n}function e7(t){var e=Z9(t),n=e.filter((function(t){var e=t.parent;return!e}));return t7(n)}function n7(t){while(t){if(yl(t))break;t=t.nextSibling}return!t||!H9.test(t.className)}function r7(t){var e=document.createElement("div");e.innerHTML=t;var n=[],r=bl(e,K9);r.forEach((function(t){var r=n7(t.nextSibling);if(n.push(t),r){var i=e7(n),o=t.nextSibling;o?kl(i,o):wl(e,i),n=[]}_l(t)}));var i=r.length?"<p></p>":"";return""+i+e.innerHTML}var i7="\x3c!--StartFragment--\x3e",o7="\x3c!--EndFragment--\x3e";function s7(t){var e=t.indexOf(i7),n=t.lastIndexOf(o7);return e>-1&&n>-1&&(t=t.slice(e+i7.length,n)),t.replace(/<br[^>]*>/g,fl)}function a7(t){return/<\/td>((?!<\/tr>)[\s\S])*$/i.test(t)&&(t="<tr>"+t+"</tr>"),/<\/tr>((?!<\/table>)[\s\S])*$/i.test(t)&&(t="<table>"+t+"</table>"),t}function u7(t){return t=s7(t),t=a7(t),J9(t)&&(t=r7(t)),t}function c7(t){var e=t.reduce((function(t,e){return t.childCount>e.childCount?t:e}));return e.childCount}function l7(t,e,n){for(var r=[],i=t.childCount,o=0;o<i;o+=1)if(!t.child(o).attrs.extended){var s=o<i?n.create(t.child(o).attrs,t.child(o).content):n.createAndFill();r.push(s)}return r}function h7(t,e,n){var r=n.nodes,i=r.tableRow,o=r.tableHeadCell,s=l7(t,e,o);return i.create(null,s)}function f7(t,e,n){var r=n.nodes,i=r.tableRow,o=r.tableBodyCell,s=l7(t,e,o);return i.create(null,s)}function p7(t,e){for(var n=e.nodes,r=n.tableRow,i=n.tableBodyCell,o=[],s=0;s<t;s+=1){var a=i.createAndFill();o.push(a)}return r.create({dummyRowForPasting:!0},o)}function d7(t){var e=[],n=[];if("tableHead"===t.firstChild.type.name){var r=t.firstChild;r.forEach((function(t){return e.push(t)}))}if("tableBody"===t.lastChild.type.name){var i=t.lastChild;i.forEach((function(t){return n.push(t)}))}return wa(wa([],e),n)}function m7(t,e,n){var r=h7(t,e,n);return n.nodes.tableHead.create(null,r)}function v7(t,e,n){var r=t.map((function(t){return f7(t,e,n)}));if(!t.length){var i=p7(e,n);r.push(i)}return n.nodes.tableBody.create(null,r)}function g7(t,e,n,r){var i=c7(t);if(n&&r)return e.nodes.table.create(null,[v7(t,i,e)]);var o=t[0],s=t.slice(1),a=[m7(o,i,e)];return s.length&&a.push(v7(s,i,e)),e.nodes.table.create(null,a)}function y7(t,e,n){var r=[],i=t.content,o=t.openStart,s=t.openEnd;return i.forEach((function(t){if("table"===t.type.name){var i=f9(new m(u.from(t),0,0));if(i){var o=d7(i),s="tableBody"===i.firstChild.type.name,a=g7(o,e,s,n);r.push(a)}}else r.push(t)})),new m(u.from(r),o,s)}var b7=4,w7=2;function k7(t){return t*b7}function _7(t,e,n){var r=[],i=d7(t),o=i[0].childCount,s=i.length,a=0===e.startRowIdx,u=i.slice(0,s);if(a){var c=u.shift();if(c){var l=h7(c,o,n).content;r.push(l)}}return u.forEach((function(t){if(!t.attrs.dummyRowForPasting){var e=f7(t,o,n).content;r.push(e)}})),r}function T7(t,e,n){for(var r=e.startRowIdx,i=e.startColIdx,o=n.length,s=0,a=function(t){var e=n[t].childCount;n[t].forEach((function(t){var n=t.attrs,r=n.colspan;r>1&&(e+=r-1)})),s=Math.max(s,e)},u=0;u<o;u+=1)a(u);var c=r+o-1,l=i+s-1,h=Math.max(c+1-t.totalRowCount,0),f=Math.max(l+1-t.totalColumnCount,0);return{startRowIdx:r,startColIdx:i,endRowIdx:c,endColIdx:l,addedRowCount:h,addedColumnCount:f}}function E7(t,e){for(var n=t.startRowIdx,r=t.startColIdx,i=t.endRowIdx,o=t.endColIdx,s=t.addedRowCount,a=t.addedColumnCount,u=n;u<=i-s;u+=1)e.push({rowIdx:u,startColIdx:r,endColIdx:o-a})}function C7(t,e,n,r,i){for(var o=r.startRowIdx,s=r.startColIdx,a=r.endRowIdx,u=r.endColIdx,c=r.addedRowCount,l=r.addedColumnCount,h=n.totalRowCount,f=0,p=0;p<h;p+=1){var d=n.getCellInfo(p,u-l),m=d.offset,v=d.nodeSize,g=t.mapping.map(m+v),y=u9(l,p,e);if(t.insert(g,y),p>=o&&p<=a-c){var b=n.getCellInfo(p,u-l),w=t.mapping.map(b.offset),k=g+k7(l);i[f]={rowIdx:p,startColIdx:s,endColIdx:u,dummyOffsets:[w,k]},f+=1}}}function x7(t,e,n,r,i){var o=r.addedRowCount,s=r.addedColumnCount,a=r.startColIdx,u=r.endColIdx,c=t.mapping.maps.length,l=n.tableEndOffset-2,h=a9(o,n.totalColumnCount+s,e),f=l;t.insert(t.mapping.slice(c).map(f),h);for(var p=0;p<o;p+=1){var d=f+k7(a)+1,m=f+k7(u+1)+1,v=f+k7(n.totalColumnCount+s)+w7;i.push({rowIdx:p+n.totalRowCount,startColIdx:a,endColIdx:u,dummyOffsets:[d,m]}),f=v}}function S7(t,e,n,r){var i=t.mapping.maps.length;n.forEach((function(n,o){var s=n.rowIdx,a=n.startColIdx,u=n.endColIdx,c=n.dummyOffsets,l=t.mapping.slice(i),h=new m(e[o],0,0),f=c?c[0]:r.getCellStartOffset(s,a),p=c?c[1]:r.getCellEndOffset(s,u);t.replace(l.map(f),l.map(p),h)}))}function I7(t,e){var n=t.state,r=n.selection,i=n.schema,o=n.tr,s=h9(r),a=s.anchor,u=s.head;if(a&&u){var c=f9(e);if(!c)return!1;var l=t9.create(a),h=l.getRectOffsets(a,u),f=_7(c,h,i),p=T7(l,h,f),d=[];return N7(l,p)&&(E7(p,d),p.addedColumnCount&&C7(o,i,l,p,d),p.addedRowCount&&x7(o,i,l,p,d),S7(o,f,d,l),t.dispatch(o),A7(t,d,l.getCellInfo(0,0).offset)),!0}return!1}function A7(t,e,n){var r=t.state,i=r.tr,o=r.doc,s=t9.create(o.resolve(n)),a=e[0],u=a.rowIdx,c=a.startColIdx,l=Wu(e),h=l.rowIdx,f=l.endColIdx,p=s.getCellInfo(u,c).offset,d=s.getCellInfo(h,f).offset;t.dispatch(i.setSelection(new o9(o.resolve(p),o.resolve(d))))}function N7(t,e){var n=t.getSpannedOffsets(e),r=p9(n),i=r.rowCount,o=r.columnCount,s=p9(e),a=s.rowCount,u=s.columnCount;return i===a&&o===u}var O7=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ya(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"doc"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"block+"}},enumerable:!1,configurable:!0}),e}(Bl),D7=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ya(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"paragraph"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"inline*",group:"block",attrs:ba({},M8()),parseDOM:[{tag:"p"}],toDOM:function(t){var e=t.attrs;return["p",R8(e),0]}}},enumerable:!1,configurable:!0}),e}(Bl),M7=/\s{1,4}$/,R7=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ya(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"text"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{group:"inline"}},enumerable:!1,configurable:!0}),e.prototype.addSpaces=function(){return function(t,e){var n=t.selection,r=t.tr,i=n.$from,o=n.$to,s=i.blockRange(o);return!(!s||S8(i)||I8(i))&&(e(r.insertText("    ",i.pos,o.pos)),!0)}},e.prototype.removeSpaces=function(){return function(t,e){var n=t.selection,r=t.tr,i=n.$from,o=n.$to,s=n.from,a=i.blockRange(o);if(a&&!S8(i)&&!I8(i)){var u=i.nodeBefore;if(u&&u.isText){var c=u.text,l=c.replace(M7,""),h=c.length-l.length;return e(r.delete(s-h,s)),!0}}return!1}},e.prototype.keymaps=function(){return{Tab:this.addSpaces(),"Shift-Tab":this.removeSpaces()}},e}(Bl),L7=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ya(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"heading"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"levels",{get:function(){return[1,2,3,4,5,6]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var t=this.levels.map((function(t){return{tag:"h"+t,getAttrs:function(e){var n=e.getAttribute("data-raw-html");return ba({level:t},n&&{rawHTML:n})}}}));return{attrs:ba({level:{default:1},headingType:{default:"atx"},rawHTML:{default:null}},M8()),content:"inline*",group:"block",defining:!0,parseDOM:t,toDOM:function(t){var e=t.attrs;return["h"+e.level,R8(e),0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(t){return function(e,n){var r=e.schema.nodes[t.level?"heading":"paragraph"];return As(r,t)(e,n)}}},e}(Bl),P7=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ya(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"codeBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"text*",group:"block",attrs:ba({language:{default:null},rawHTML:{default:null}},M8()),code:!0,defining:!0,marks:"",parseDOM:[{tag:"pre",preserveWhitespace:"full",getAttrs:function(t){var e=t.getAttribute("data-raw-html"),n=t.firstElementChild;return ba({language:(null===n||void 0===n?void 0:n.getAttribute("data-language"))||null},e&&{rawHTML:e})}}],toDOM:function(t){var e=t.attrs;return[e.rawHTML||"pre",["code",ba({"data-language":e.language},R8(e)),0]]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,e){return As(t.schema.nodes.codeBlock)(t,e)}}},e.prototype.moveCursor=function(t){var e=this;return function(n,r){var i=n.tr,o=n.doc,s=n.schema,a=n.selection.$from,u=e.context.view;if(u.endOfTextblock(t)&&"codeBlock"===a.node().type.name){var c=a.parent.textContent.split("\n"),l="up"===t?a.start():a.end(),h="up"===t?[l,c[0].length+l]:[l-Wu(c).length,l],f=o.resolve("up"===t?a.before():a.after()),p="up"===t?f.nodeBefore:f.nodeAfter;if(Ku(a.pos,h[0],h[1])&&!p){var d=ac(i,f,s);if(d)return r(d),!0}}return!1}},e.prototype.keymaps=function(){var t=this.commands()();return{"Shift-Mod-p":t,"Shift-Mod-P":t,ArrowUp:this.moveCursor("up"),ArrowDown:this.moveCursor("down")}},e}(Bl),F7=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ya(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"bulletList"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"listItem+",group:"block",attrs:ba({rawHTML:{default:null}},M8()),parseDOM:[N8("ul")],toDOM:function(t){var e=t.attrs;return["ul",R8(e),0]}}},enumerable:!1,configurable:!0}),e.prototype.changeList=function(){return function(t,e){return H8(t.schema.nodes.bulletList)(t,e)}},e.prototype.commands=function(){return{bulletList:this.changeList,taskList:z8}},e.prototype.keymaps=function(){var t=this.changeList(),e=Y8(),n=e.indent,r=e.outdent;return{"Mod-u":t,"Mod-U":t,Tab:n(),"Shift-Tab":r()}},e}(Bl),j7=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ya(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"orderedList"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"listItem+",group:"block",attrs:ba({order:{default:1},rawHTML:{default:null}},M8()),parseDOM:[{tag:"ol",getAttrs:function(t){var e=t.getAttribute("start"),n=t.getAttribute("data-raw-html");return ba({order:t.hasAttribute("start")?Number(e):1},n&&{rawHTML:n})}}],toDOM:function(t){var e=t.attrs;return[e.rawHTML||"ol",ba({start:1===e.order?null:e.order},R8(e)),0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,e){return H8(t.schema.nodes.orderedList)(t,e)}}},e.prototype.keymaps=function(){var t=this.commands()(),e=Y8(),n=e.indent,r=e.outdent;return{"Mod-o":t,"Mod-O":t,Tab:n(),"Shift-Tab":r()}},e}(Bl),B7=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ya(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"listItem"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"paragraph block*",selectable:!1,attrs:{task:{default:!1},checked:{default:!1},rawHTML:{default:null}},defining:!0,parseDOM:[{tag:"li",getAttrs:function(t){var e=t.getAttribute("data-raw-html");return ba({task:t.hasAttribute("data-task"),checked:t.hasAttribute("data-task-checked")},e&&{rawHTML:e})}}],toDOM:function(t){var e=t.attrs,n=e.task,r=e.checked;if(!n)return[e.rawHTML||"li",0];var i=["task-list-item"];return r&&i.push("checked"),[e.rawHTML||"li",ba({class:i.join(" "),"data-task":n},r&&{"data-task-checked":r}),0]}}},enumerable:!1,configurable:!0}),e.prototype.liftToPrevListItem=function(){return function(t,e){var n=t.selection,r=t.tr,i=t.schema,o=n.$from,s=n.empty,a=i.nodes.listItem,u=o.parent,c=o.node(-1);if(s&&!u.childCount&&c.type===a){if(o.index(-2)>=1)return r.delete(o.start(-1)-1,o.end(-1)),e(r),!0;var l=o.node(-3);if(l.type===a)return r.delete(o.start(-2)-1,o.end(-1)),e(r),!0}return!1}},e.prototype.keymaps=function(){var t=function(t,e){return J8(t.schema.nodes.listItem)(t,e)};return{Backspace:this.liftToPrevListItem(),Enter:t}},e}(Bl),V7=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ya(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"blockQuote"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:ba({rawHTML:{default:null}},M8()),content:"block+",group:"block",parseDOM:[N8("blockquote")],toDOM:function(t){var e=t.attrs;return["blockquote",R8(e),0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,e){return Is(t.schema.nodes.blockQuote)(t,e)}}},e.prototype.keymaps=function(){var t=this.commands()();return{"Alt-q":t,"Alt-Q":t}},e}(Bl),U7={left:Q7,right:X7,up:Y7,down:Z7};function q7(t,e,n){var r=n[0],i=n[1],o=e.resolve(t.before(r-1));return i===r&&!o.nodeBefore}function H7(t){var e,n,r=t.depth;while(r){if(n=t.node(r),"tableBodyCell"===n.type.name)break;if("listItem"===n.type.name){var i=t.node(r-1),o=i.lastChild===n,s="paragraph"!==(null===(e=n.lastChild)||void 0===e?void 0:e.type.name);return!!o&&!s}r-=1}return!1}function z7(t,e,n,r,i){var o=e[0],s=e[1],a=e[2];if("left"===t||"up"===t){if(i&&!q7(n,r,[o,s]))return!1;var u=n.before(a),c=r.resolve(u).nodeBefore;if(c)return!1}return!0}function $7(t,e,n,r,i){if("right"===t||"down"===t){if(i&&!H7(n))return!1;var o=n.after(e),s=r.resolve(o).nodeAfter;if(s)return!1}return!0}function G7(t,e,n,r){var i=e[0],o=e[1],s=i+3,a=o>=s,u=a?i+1:o,c=z7(t,[o,s,u],n,r,a),l=$7(t,u,n,r,a);return c&&l}function W7(t,e,n){var r=n[0],i=n[1],o=e.getRowspanStartInfo(r,i),s="up"===t&&0===r,a="down"===t&&((null===o||void 0===o?void 0:o.count)>1?r+o.count-1:r)===e.totalRowCount-1;return s||a}function K7(t,e,n){var r=t.doc.resolve(e.tableStartOffset-1);return r.nodeBefore?t.setSelection(Ce.near(r,-1)):ac(t,r,n)}function J7(t,e,n,r){void 0===r&&(r=!1);var i=t.doc.resolve(e.tableEndOffset);return r||!i.nodeAfter?ac(t,i,n):t.setSelection(Ce.near(i,1))}function X7(t,e){var n=t[0],r=t[1],i=e.totalRowCount,o=e.totalColumnCount,s=r===o-1,a=n===i-1&&s;if(!a){var u=r+1,c=e.getColspanStartInfo(n,r);(null===c||void 0===c?void 0:c.count)>1&&(u+=c.count-1),(s||u===o)&&(n+=1,u=0);var l=e.getCellInfo(n,u).offset;return l+2}return null}function Q7(t,e){var n=t[0],r=t[1],i=e.totalColumnCount,o=0===r,s=0===n&&o;if(!s){r-=1,o&&(n-=1,r=i-1);var a=e.getCellInfo(n,r),u=a.offset,c=a.nodeSize;return u+c-2}return null}function Y7(t,e){var n=t[0],r=t[1];if(n>0){var i=e.getCellInfo(n-1,r),o=i.offset,s=i.nodeSize;return o+s-2}return null}function Z7(t,e){var n=t[0],r=t[1],i=e.totalRowCount;if(n<i-1){var o=n+1,s=e.getRowspanStartInfo(n,r);(null===s||void 0===s?void 0:s.count)>1&&(o+=s.count-1);var a=e.getCellInfo(o,r).offset;return a+2}return null}function ttt(t,e,n,r){var i=U7[t],o=i(n,r);if(o){var s="right"===t||"down"===t?1:-1;return e.setSelection(Ce.near(e.doc.resolve(o),s))}return null}function ett(t,e,n){var r=n[0],i=n[1];if("up"===t||"down"===t)return!1;var o=e.tableStartOffset,s=e.tableEndOffset,a=e.getCellInfo(r,i),u=a.offset,c=a.nodeSize,l="left"===t?o:s,h="left"===t?u-2:u+c+3;return l===h}function ntt(t,e,n){var r=t.doc.resolve(e.before(n-3));return t.setSelection(new Ne(r))}function rtt(t,e,n){var r,i,o;return"up"===t?(r=n.startRowIdx,i=0,o=-1):(r=n.endRowIdx,i=e.totalColumnCount-1,o=e.getCellInfo(r,i).nodeSize+1),{targetRowIdx:r,insertColIdx:i,nodeSize:o}}function itt(t,e,n){var r=t.getCellInfo(e,0).offset,i=t.getCellInfo(e,n-1),o=i.offset,s=i.nodeSize;return{from:r,to:o+s}}var ott=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ya(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"table"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"tableHead{1} tableBody{1}",group:"block",attrs:ba({rawHTML:{default:null}},M8()),parseDOM:[N8("table")],toDOM:function(t){var e=t.attrs;return["table",R8(e),0]}}},enumerable:!1,configurable:!0}),e.prototype.addTable=function(){return function(t){return void 0===t&&(t={rowCount:2,columnCount:1,data:[]}),function(e,n){var r=t.rowCount,i=t.columnCount,o=t.data,s=e.schema,a=e.selection,u=e.tr,c=a.from,l=a.to,h=a.$from,f=c===l;if(f&&!I8(h)){var p=s.nodes,d=p.tableHead,m=p.tableBody,v=null===o||void 0===o?void 0:o.slice(0,i),g=null===o||void 0===o?void 0:o.slice(i,o.length),y=s9(i,s,v),b=a9(r-1,i,s,g),w=s.nodes.table.create(null,[d.create(null,y),m.create(null,b)]);return n(u.replaceSelectionWith(w)),!0}return!1}}},e.prototype.removeTable=function(){return function(){return function(t,e){var n=t.selection,r=t.tr,i=t9.create(n.$anchor);if(i){var o=i.tableStartOffset,s=i.tableEndOffset,a=o-1,u=sc(r.delete(a,s),a);return e(r.setSelection(u)),!0}return!1}}},e.prototype.addColumn=function(t){return function(){return function(e,n){var r=e.selection,i=e.tr,o=e.schema,s=h9(r),a=s.anchor,u=s.head;if(a&&u){for(var c=t9.create(a),l=c.getRectOffsets(a,u),h="left"===t?l.startColIdx:l.endColIdx+1,f=p9(l).columnCount,p=c.totalRowCount,d=0;d<p;d+=1){var m=u9(f,d,o);i.insert(i.mapping.map(c.posAt(d,h)),m)}return n(i),!0}return!1}}},e.prototype.removeColumn=function(){return function(){return function(t,e){var n=t.selection,r=t.tr,i=h9(n),o=i.anchor,s=i.head;if(o&&s){var a=t9.create(o),u=a.getRectOffsets(o,s),c=a.totalColumnCount,l=a.totalRowCount,h=p9(u).columnCount,f=h===c;if(f)return!1;for(var p=u.startColIdx,d=u.endColIdx,m=r.mapping.maps.length,v=0;v<l;v+=1)for(var g=d;g>=p;g-=1){var y=a.getCellInfo(v,g),b=y.offset,w=y.nodeSize,k=r.mapping.slice(m).map(b),_=k+w;r.delete(k,_)}return e(r),!0}return!1}}},e.prototype.addRow=function(t){return function(){return function(e,n){var r=e.selection,i=e.schema,o=e.tr,s=h9(r),a=s.anchor,u=s.head;if(a&&u){var c=t9.create(a),l=c.totalColumnCount,h=c.getRectOffsets(a,u),f=p9(h).rowCount,p=rtt(t,c,h),d=p.targetRowIdx,m=p.insertColIdx,v=p.nodeSize,g=0===d;if(!g){for(var y=[],b=o.mapping.map(c.posAt(d,m))+v,w=[],k=0;k<l;k+=1)w=w.concat(u9(1,d,i));for(var _=0;_<f;_+=1)y.push(i.nodes.tableRow.create(null,w));return n(o.insert(b,y)),!0}}return!1}}},e.prototype.removeRow=function(){return function(){return function(t,e){var n=t.selection,r=t.tr,i=h9(n),o=i.anchor,s=i.head;if(o&&s){var a=t9.create(o),u=a.totalRowCount,c=a.totalColumnCount,l=a.getRectOffsets(o,s),h=p9(l).rowCount,f=l.startRowIdx,p=l.endRowIdx,d=0===f,m=h===u-1;if(m||d)return!1;for(var v=p;v>=f;v-=1){var g=itt(a,v,c),y=g.from,b=g.to;r.delete(y-1,b+1)}return e(r),!0}return!1}}},e.prototype.alignColumn=function(){return function(t){return void 0===t&&(t={align:"center"}),function(e,n){var r=t.align,i=e.selection,o=e.tr,s=h9(i),a=s.anchor,u=s.head;if(a&&u){for(var c=t9.create(a),l=c.totalRowCount,h=c.getRectOffsets(a,u),f=h.startColIdx,p=h.endColIdx,d=0;d<l;d+=1)for(var m=f;m<=p;m+=1)if(!c.extendedRowspan(d,m)&&!c.extendedColspan(d,m)){var v=c.getNodeAndPos(d,m),g=v.node,y=v.pos,b=d9(g,{align:r});o.setNodeMarkup(y,null,b)}return n(o),!0}return!1}}},e.prototype.moveToCell=function(t){return function(e,n){var r=e.selection,i=e.tr,o=e.schema,s=h9(r),a=s.anchor,u=s.head;if(a&&u){var c=t9.create(a),l=c.getCellIndex(a),h=void 0;if(h=W7(t,c,l)?J7(i,c,o):ttt(t,i,l,c),h)return n(h),!0}return!1}},e.prototype.moveInCell=function(t){var e=this;return function(n,r){var i=n.selection,o=n.tr,s=n.doc,a=n.schema,u=i.$from,c=e.context.view;if(!c.endOfTextblock(t))return!1;var l=x8(u,(function(t){var e=t.type;return"tableHeadCell"===e.name||"tableBodyCell"===e.name}));if(l){var h=x8(u,(function(t){var e=t.type;return"paragraph"===e.name})),f=l.depth;if(h&&G7(t,[f,h.depth],u,s)){var p=h9(i).anchor,d=t9.create(p),m=d.getCellIndex(p),v=void 0;if(ett(t,d,m)?v=ntt(o,u,f):W7(t,d,m)?"up"===t?v=K7(o,d,a):"down"===t&&(v=J7(o,d,a)):v=ttt(t,o,m,d),v)return r(v),!0}}return!1}},e.prototype.deleteCells=function(){return function(t,e){var n=t.schema,r=t.selection,i=t.tr,o=h9(r),s=o.anchor,a=o.head,u=r instanceof Ie;if(s&&a&&!u){for(var c=t9.create(s),l=c.getRectOffsets(s,a),h=l.startRowIdx,f=l.startColIdx,p=l.endRowIdx,d=l.endColIdx,m=h;m<=p;m+=1)for(var v=f;v<=d;v+=1)if(!c.extendedRowspan(m,v)&&!c.extendedColspan(m,v)){var g=c.getNodeAndPos(m,v),y=g.node,b=g.pos,w=u9(1,m,n,y.attrs);i.replaceWith(i.mapping.map(b),i.mapping.map(b+y.nodeSize),w)}return e(i),!0}return!1}},e.prototype.exitTable=function(){return function(t,e){var n=t.selection,r=t.tr,i=t.schema,o=n.$from,s=x8(o,(function(t){var e=t.type;return"tableHeadCell"===e.name||"tableBodyCell"===e.name}));if(s){var a=x8(o,(function(t){var e=t.type;return"paragraph"===e.name}));if(a){var u=h9(n).anchor,c=t9.create(u);return e(J7(r,c,i,!0)),!0}}return!1}},e.prototype.commands=function(){return{addTable:this.addTable(),removeTable:this.removeTable(),addColumnToLeft:this.addColumn("left"),addColumnToRight:this.addColumn("right"),removeColumn:this.removeColumn(),addRowToUp:this.addRow("up"),addRowToDown:this.addRow("down"),removeRow:this.removeRow(),alignColumn:this.alignColumn()}},e.prototype.keymaps=function(){var t=this.deleteCells();return{Tab:this.moveToCell("right"),"Shift-Tab":this.moveToCell("left"),ArrowUp:this.moveInCell("up"),ArrowDown:this.moveInCell("down"),ArrowLeft:this.moveInCell("left"),ArrowRight:this.moveInCell("right"),Backspace:t,"Mod-Backspace":t,Delete:t,"Mod-Delete":t,"Mod-Enter":this.exitTable()}},e}(Bl),stt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ya(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"tableHead"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"tableRow{1}",attrs:ba({rawHTML:{default:null}},M8()),parseDOM:[N8("thead")],toDOM:function(t){var e=t.attrs;return["thead",R8(e),0]}}},enumerable:!1,configurable:!0}),e}(Bl),att=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ya(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"tableBody"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"tableRow+",attrs:ba({rawHTML:{default:null}},M8()),parseDOM:[{tag:"tbody",getAttrs:function(t){var e=t.querySelectorAll("tr"),n=e[0].children.length,r=t.getAttribute("data-raw-html");return!!n&&ba({},r&&{rawHTML:r})}}],toDOM:function(t){var e=t.attrs;return["tbody",R8(e),0]}}},enumerable:!1,configurable:!0}),e}(Bl),utt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ya(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"tableRow"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"(tableHeadCell | tableBodyCell)*",attrs:ba({rawHTML:{default:null}},M8()),parseDOM:[{tag:"tr",getAttrs:function(t){var e=t.children.length,n=t.getAttribute("data-raw-html");return!!e&&ba({},n&&{rawHTML:n})}}],toDOM:function(t){var e=t.attrs;return["tr",R8(e),0]}}},enumerable:!1,configurable:!0}),e}(Bl),ctt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ya(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"tableHeadCell"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"paragraph+",attrs:ba({align:{default:null},className:{default:null},rawHTML:{default:null},colspan:{default:null},extended:{default:null}},M8()),isolating:!0,parseDOM:[D8("th")],toDOM:function(t){var e=t.attrs,n=O8(e);return["th",ba(ba({},n),R8(e)),0]}}},enumerable:!1,configurable:!0}),e}(Bl),ltt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ya(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"tableBodyCell"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"(paragraph | bulletList | orderedList)+",attrs:{align:{default:null},className:{default:null},rawHTML:{default:null},colspan:{default:null},rowspan:{default:null},extended:{default:null}},isolating:!0,parseDOM:[D8("td")],toDOM:function(t){var e=t.attrs,n=O8(e);return["td",n,0]}}},enumerable:!1,configurable:!0}),e}(Bl),htt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ya(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"image"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{inline:!0,attrs:ba({imageUrl:{default:""},altText:{default:null},rawHTML:{default:null}},M8()),group:"inline",selectable:!1,parseDOM:[{tag:"img[src]",getAttrs:function(t){var e=K5(t,{RETURN_DOM_FRAGMENT:!0}).firstChild,n=e.getAttribute("src")||"",r=e.getAttribute("data-raw-html"),i=e.getAttribute("alt");return ba({imageUrl:n,altText:i},r&&{rawHTML:r})}}],toDOM:function(t){var e=t.attrs;return[e.rawHTML||"img",ba(ba({src:Ru(e.imageUrl)},e.altText&&{alt:e.altText}),R8(e))]}}},enumerable:!1,configurable:!0}),e.prototype.addImage=function(){return function(t){return function(e,n){var r=e.schema,i=e.tr,o=t,s=o.imageUrl,a=o.altText;if(!s)return!1;var u=r.nodes.image.createAndFill(ba({imageUrl:s},a&&{altText:a}));return n(i.replaceSelectionWith(u).scrollIntoView()),!0}}},e.prototype.commands=function(){return{addImage:this.addImage()}},e}(Bl),ftt=1,ptt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ya(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"thematicBreak"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:ba({rawHTML:{default:null}},M8()),group:"block",parseDOM:[{tag:"hr"}],selectable:!1,toDOM:function(t){var e=t.attrs;return["div",R8(e),[e.rawHTML||"hr"]]}}},enumerable:!1,configurable:!0}),e.prototype.hr=function(){var t=this;return function(){return function(e,n){var r,i=e.selection,o=i.$from,s=i.$to;if(o===s){var a=e.doc,u=e.schema.nodes,c=u.thematicBreak,l=u.paragraph,h=[c.create()],f=o.node(ftt),p=a.child(a.childCount-1)===f,d=a.resolve(o.after(ftt)),m=(null===(r=o.nodeAfter)||void 0===r?void 0:r.type.name)===t.name;return(p||m)&&h.push(l.create()),n(e.tr.insert(d.pos,h).scrollIntoView()),!0}return!1}}},e.prototype.commands=function(){return{hr:this.hr()}},e.prototype.keymaps=function(){var t=this.hr()();return{"Mod-l":t,"Mod-L":t}},e}(Bl),dtt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ya(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"strong"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var t=["b","strong"].map((function(t){return{tag:t,getAttrs:function(t){var e=t.getAttribute("data-raw-html");return ba({},e&&{rawHTML:e})}}}));return{attrs:ba({rawHTML:{default:null}},M8()),parseDOM:t,toDOM:function(t){var e=t.attrs;return[e.rawHTML||"strong",R8(e)]}}},enumerable:!1,configurable:!0}),e.prototype.bold=function(){return function(){return function(t,e){return Os(t.schema.marks.strong)(t,e)}}},e.prototype.commands=function(){return{bold:this.bold()}},e.prototype.keymaps=function(){var t=this.bold()();return{"Mod-b":t,"Mod-B":t}},e}(Qh),mtt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ya(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"emph"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var t=["i","em"].map((function(t){return{tag:t,getAttrs:function(t){var e=t.getAttribute("data-raw-html");return ba({},e&&{rawHTML:e})}}}));return{attrs:ba({rawHTML:{default:null}},M8()),parseDOM:t,toDOM:function(t){var e=t.attrs;return[e.rawHTML||"em",R8(e)]}}},enumerable:!1,configurable:!0}),e.prototype.italic=function(){return function(){return function(t,e){return Os(t.schema.marks.emph)(t,e)}}},e.prototype.commands=function(){return{italic:this.italic()}},e.prototype.keymaps=function(){var t=this.italic()();return{"Mod-i":t,"Mod-I":t}},e}(Qh),vtt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ya(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"strike"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var t=["s","del"].map((function(t){return{tag:t,getAttrs:function(t){var e=t.getAttribute("data-raw-html");return ba({},e&&{rawHTML:e})}}}));return{attrs:ba({rawHTML:{default:null}},M8()),parseDOM:t,toDOM:function(t){var e=t.attrs;return[e.rawHTML||"del",R8(e)]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,e){return Os(t.schema.marks.strike)(t,e)}}},e.prototype.keymaps=function(){var t=this.commands()();return{"Mod-s":t,"Mod-S":t}},e}(Qh),gtt=function(t){function e(e){var n=t.call(this)||this;return n.linkAttributes=e,n}return ya(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"link"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var t=this;return{attrs:ba({linkUrl:{default:""},title:{default:null},rawHTML:{default:null}},M8()),inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:function(t){var e=K5(t,{RETURN_DOM_FRAGMENT:!0}).firstChild,n=e.getAttribute("href")||"",r=e.getAttribute("title")||"",i=e.getAttribute("data-raw-html");return ba({linkUrl:n,title:r},i&&{rawHTML:i})}}],toDOM:function(e){var n=e.attrs;return[n.rawHTML||"a",ba(ba({href:Ru(n.linkUrl)},t.linkAttributes),R8(n))]}}},enumerable:!1,configurable:!0}),e.prototype.addLink=function(){return function(t){return function(e,n){var r=t,i=r.linkUrl,o=r.linkText,s=void 0===o?"":o,a=e.schema,u=e.tr,c=e.selection,l=c.empty,h=c.from,f=c.to;if(h&&f&&i){var p={linkUrl:i},d=a.mark("link",p);if(l&&s){var m=oc(a,s,d);u.replaceRangeWith(h,f,m)}else u.addMark(h,f,d);return n(u.scrollIntoView()),!0}return!1}}},e.prototype.toggleLink=function(){return function(t){return function(e,n){return Os(e.schema.marks.link,t)(e,n)}}},e.prototype.commands=function(){return{addLink:this.addLink(),toggleLink:this.toggleLink()}},e}(Qh),ytt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ya(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"code"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:ba({rawHTML:{default:null}},M8()),parseDOM:[{tag:"code",getAttrs:function(t){var e=t.getAttribute("data-raw-html");return ba({},e&&{rawHTML:e})}}],toDOM:function(t){var e=t.attrs;return[e.rawHTML||"code",R8(e)]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,e){return Os(t.schema.marks.code)(t,e)}}},e.prototype.keymaps=function(){var t=this.commands()();return{"Shift-Mod-c":t,"Shift-Mod-C":t}},e}(Qh),btt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ya(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"customBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"text*",group:"block",attrs:{info:{default:null}},atom:!0,code:!0,defining:!0,parseDOM:[{tag:"div[data-custom-info]",getAttrs:function(t){var e=t.getAttribute("data-custom-info");return{info:e}}}],toDOM:function(t){var e=t.attrs;return["div",{"data-custom-info":e.info||null},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(t){return function(e,n){return!!(null===t||void 0===t?void 0:t.info)&&As(e.schema.nodes.customBlock,t)(e,n)}}},e}(Bl),wtt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ya(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"frontMatter"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"text*",group:"block",code:!0,defining:!0,parseDOM:[{preserveWhitespace:"full",tag:"div[data-front-matter]"}],toDOM:function(){return["div",{"data-front-matter":"true"},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,e,n){var r=t.selection.$from;return!(!n.endOfTextblock("down")||"frontMatter"!==r.node().type.name)&&ys(t,e)}}},e.prototype.keymaps=function(){return{Enter:this.commands()()}},e}(Bl),ktt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ya(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"htmlComment"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"text*",group:"block",code:!0,defining:!0,parseDOM:[{preserveWhitespace:"full",tag:"div[data-html-comment]"}],toDOM:function(){return["div",{"data-html-comment":"true"},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,e,n){var r=t.selection.$from;return!(!n.endOfTextblock("down")||"htmlComment"!==r.node().type.name)&&ys(t,e)}}},e.prototype.keymaps=function(){return{Enter:this.commands()()}},e}(Bl);function _tt(t){return new Kl([new O7,new D7,new R7,new L7,new P7,new F7,new j7,new B7,new V7,new ott,new stt,new att,new utt,new ctt,new ltt,new htt,new ptt,new dtt,new mtt,new vtt,new gtt(t),new ytt,new btt,new wtt,new ql,new ktt])}var Ttt=ml("contents"),Ett=function(t){function e(e,n){var r=t.call(this,e)||this,i=n.toDOMAdaptor,o=n.htmlSchemaMap,s=void 0===o?{}:o,a=n.linkAttributes,u=void 0===a?{}:a,c=n.useCommandShortcut,l=void 0===c||c,h=n.wwPlugins,f=void 0===h?[]:h,p=n.wwNodeViews,d=void 0===p?{}:p;return r.editorType="wysiwyg",r.el.classList.add("ww-mode"),r.toDOMAdaptor=i,r.linkAttributes=u,r.extraPlugins=f,r.pluginNodeViews=d,r.specs=r.createSpecs(),r.schema=r.createSchema(s),r.context=r.createContext(),r.keymaps=r.createKeymaps(l),r.view=r.createView(),r.commands=r.createCommands(),r.specs.setContext(ba(ba({},r.context),{view:r.view})),r.initEvent(),r}return ya(e,t),e.prototype.createSpecs=function(){return _tt(this.linkAttributes)},e.prototype.createContext=function(){return{schema:this.schema,eventEmitter:this.eventEmitter}},e.prototype.createSchema=function(t){return new ht({nodes:ba(ba({},this.specs.nodes),t.nodes),marks:ba(ba({},this.specs.marks),t.marks)})},e.prototype.createPlugins=function(){return this.defaultPlugins.concat(wa([w9(),S9(this.eventEmitter),I9(),P9(this.eventEmitter)],this.createPluginProps()))},e.prototype.createPluginNodeViews=function(){var t=this,e=t.eventEmitter,n=t.pluginNodeViews,r={};return n&&Object.keys(n).forEach((function(t){r[t]=function(r,i,o){return n[t](r,i,o,e)}})),r},e.prototype.createView=function(){var t=this,e=this,n=e.toDOMAdaptor,r=e.eventEmitter;return new Lo(this.el,{state:this.createState(),attributes:{class:Ttt},nodeViews:ba({customBlock:function(t,e,r){return new F9(t,e,r,n)},image:function(t,e,n){return new B9(t,e,n,r)},codeBlock:function(t,e,n){return new q9(t,e,n,r)},widget:Vl},this.createPluginNodeViews()),dispatchTransaction:function(e){var n=t.view.state.applyTransaction(e).state;t.view.updateState(n),t.emitChangeEvent(e.scrollIntoView()),t.eventEmitter.emit("setFocusedNode",n.selection.$from.node(1))},transformPastedHTML:u7,transformPasted:function(e){return y7(e,t.schema,I8(t.view.state.selection.$from))},handlePaste:function(t,e,n){return I7(t,n)},handleKeyDown:function(e,n){return t.eventEmitter.emit("keydown",t.editorType,n),!1},handleDOMEvents:{paste:function(e,n){var r=n.clipboardData||window.clipboardData,i=null===r||void 0===r?void 0:r.items;if(i){var o=rc(i).some((function(t){return"string"===t.kind&&"text/rtf"===t.type}));if(!o){var s=Fl(i);s&&(n.preventDefault(),Pl(t.eventEmitter,s,n.type))}}return!1},keyup:function(e,n){return t.eventEmitter.emit("keyup",t.editorType,n),!1},scroll:function(){return t.eventEmitter.emit("scroll","editor"),!0}}})},e.prototype.createCommands=function(){return this.specs.commands(this.view,Y8())},e.prototype.getHTML=function(){return this.view.dom.innerHTML},e.prototype.getModel=function(){return this.view.state.doc},e.prototype.getSelection=function(){var t=this.view.state.selection,e=t.from,n=t.to;return[e,n]},e.prototype.getSchema=function(){return this.view.state.schema},e.prototype.replaceSelection=function(t,e,n){var r=this.view.state,i=r.schema,o=r.tr,s=t.split("\n"),a=s.map((function(t){return ic(i,jc(t,i))})),c=new m(u.from(a),1,1),l=fu(e)&&fu(n)?o.replaceRange(e,n,c):o.replaceSelection(c);this.view.dispatch(l),this.focus()},e.prototype.deleteSelection=function(t,e){var n=this.view.state.tr,r=fu(t)&&fu(e)?n.deleteRange(t,e):n.deleteSelection();this.view.dispatch(r.scrollIntoView())},e.prototype.getSelectedText=function(t,e){var n=this.view.state,r=n.doc,i=n.selection,o=i.from,s=i.to;return fu(t)&&fu(e)&&(o=t,s=e),r.textBetween(o,s,"\n")},e.prototype.setModel=function(t,e){void 0===e&&(e=!1);var n=this.view.state,r=n.tr,i=n.doc;this.view.dispatch(r.replaceWith(0,i.content.size,t)),e&&this.moveCursorToEnd(!0)},e.prototype.setSelection=function(t,e){void 0===e&&(e=t);var n=this.view.state.tr,r=sc(n,t,e);this.view.dispatch(n.setSelection(r).scrollIntoView())},e.prototype.addWidget=function(t,e,n){var r=this.view,i=r.dispatch,o=r.state;i(o.tr.setMeta("widget",{pos:null!==n&&void 0!==n?n:o.selection.to,node:t,style:e}))},e.prototype.replaceWithWidget=function(t,e,n){var r=this.view.state,i=r.tr,o=r.schema,s=jc(n,o);this.view.dispatch(i.replaceWith(t,e,s))},e.prototype.getRangeInfoOfNode=function(t){var e=this.view.state,n=e.doc,r=e.selection,i=t?n.resolve(t):r.$from,o=i.marks(),s=i.node(),a=i.start(),u=i.end(),c=s.type.name;if(o.length||"paragraph"===c){var l=o[o.length-1],h=function(t){return!t.length||Pu(t,l)};c=l?l.type.name:"text",s.forEach((function(t,e){var n=t.isText,r=t.nodeSize,o=t.marks,s=i.pos-a;n&&e<=s&&e+r>=s&&h(o)&&(a+=e,u=a+r)}))}return{range:[a,u],type:c}},e}(Hl),Ctt=$a,xtt=du;function Stt(t){return!Ctt(t)&&!xtt(t)}var Itt=Stt,Att=Itt;function Ntt(t){return Att(t)&&!1!==t}var Ott=Ntt,Dtt=Ott;function Mtt(t){return!Dtt(t)}var Rtt=Mtt,Ltt=["afterPreviewRender","updatePreview","changeMode","needChangeMode","command","changePreviewStyle","changePreviewTabPreview","changePreviewTabWrite","scroll","contextmenu","show","hide","changeLanguage","changeToolbarState","toggleScrollSync","mixinTableOffsetMapPrototype","setFocusedNode","removePopupWidget","query","openPopup","closePopup","addImageBlobHook","beforePreviewRender","beforeConvertWysiwygToMarkdown","load","loadUI","change","caretChange","destroy","focus","blur","keydown","keyup"],Ptt=function(){function t(){var t=this;this.events=new k9,this.eventTypes=Ltt.reduce((function(t,e){return ba(ba({},t),{type:e})}),{}),this.hold=!1,Ltt.forEach((function(e){t.addEventType(e)}))}return t.prototype.listen=function(t,e){var n=this.getTypeInfo(t),r=this.events.get(n.type)||[];if(!this.hasEventType(n.type))throw new Error("There is no event type "+n.type);n.namespace&&(e.namespace=n.namespace),r.push(e),this.events.set(n.type,r)},t.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=this.getTypeInfo(t),i=this.events.get(r.type),o=[];return!this.hold&&i&&i.forEach((function(t){var n=t.apply(void 0,e);$a(n)||o.push(n)})),o},t.prototype.emitReduce=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=this.events.get(t);return!this.hold&&i&&i.forEach((function(t){var r=t.apply(void 0,wa([e],n));Rtt(r)||(e=r)})),e},t.prototype.getTypeInfo=function(t){var e=t.split(".");return{type:e[0],namespace:e[1]}},t.prototype.hasEventType=function(t){return!$a(this.eventTypes[this.getTypeInfo(t).type])},t.prototype.addEventType=function(t){if(this.hasEventType(t))throw new Error("There is already have event type "+t);this.eventTypes[t]=t},t.prototype.removeEventHandler=function(t,e){var n=this,r=this.getTypeInfo(t),i=r.type,o=r.namespace;i&&e?this.removeEventHandlerWithHandler(i,e):i&&!o?this.events.delete(i):!i&&o?this.events.forEach((function(t,e){n.removeEventHandlerWithTypeInfo(e,o)})):i&&o&&this.removeEventHandlerWithTypeInfo(i,o)},t.prototype.removeEventHandlerWithHandler=function(t,e){var n=this.events.get(t);if(n){var r=n.indexOf(e);n.indexOf(e)>=0&&n.splice(r,1)}},t.prototype.removeEventHandlerWithTypeInfo=function(t,e){var n=[],r=this.events.get(t);r&&(r.map((function(t){return t.namespace!==e&&n.push(t),null})),this.events.set(t,n))},t.prototype.getEvents=function(){return this.events},t.prototype.holdEventInvoke=function(t){this.hold=!0,t(),this.hold=!1},t}(),Ftt=function(){function t(t,e,n,r){this.eventEmitter=t,this.mdCommands=e,this.wwCommands=n,this.getEditorType=r,this.initEvent()}return t.prototype.initEvent=function(){var t=this;this.eventEmitter.listen("command",(function(e,n){t.exec(e,n)}))},t.prototype.addCommand=function(t,e,n){"markdown"===t?this.mdCommands[e]=n:this.wwCommands[e]=n},t.prototype.deleteCommand=function(t,e){"markdown"===t?delete this.mdCommands[e]:delete this.wwCommands[e]},t.prototype.exec=function(t,e){var n=this.getEditorType();"markdown"===n?this.mdCommands[t](e):this.wwCommands[t](e)},t}();function jtt(t){return"\n"===t[t.length-1]?t.slice(0,t.length-1):t}function Btt(t,e){var n=t.schema,r=e.literal,i=r.match(cl);if(i){var o=i[1],s=i[3],a=(o||s).toLowerCase();return"htmlInline"===e.type&&!(!n.marks[a]&&!n.nodes[a])}return!1}function Vtt(t){var e=t.type;return Pu(["text","strong","emph","strike","image","link","code"],e)}function Utt(t){return"softbreak"===(null===t||void 0===t?void 0:t.type)}function qtt(t){var e=t.type,n=t.literal,r="htmlInline"===e&&n.match(cl);if(r){var i=r[1],o=r[3],s=i||o;if(s)return Pu(["ul","ol","li"],s.toLowerCase())}return!1}function Htt(t){var e=t.literal,n=/data-task/.test(e),r=/data-task-checked/.test(e);return{task:n,checked:r}}function ztt(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=document.createElement("div");r.innerHTML=K5(t);var i=r.firstChild;return e.map((function(t){return i.getAttribute(t)||""}))}function $tt(t){var e={};return Object.keys(t).forEach((function(n){var r=n.split(", ");r.forEach((function(r){var i=r.toLowerCase();e[i]=t[n]}))})),e}var Gtt={"b, strong":function(t,e,n){var r=t.schema.marks.strong;n?t.openMark(r.create({rawHTML:n})):t.closeMark(r)},"i, em":function(t,e,n){var r=t.schema.marks.emph;n?t.openMark(r.create({rawHTML:n})):t.closeMark(r)},"s, del":function(t,e,n){var r=t.schema.marks.strike;n?t.openMark(r.create({rawHTML:n})):t.closeMark(r)},code:function(t,e,n){var r=t.schema.marks.code;n?t.openMark(r.create({rawHTML:n})):t.closeMark(r)},a:function(t,e,n){var r=e.literal,i=t.schema.marks.link;if(n){var o=ztt(r,"href")[0];t.openMark(i.create({linkUrl:o,rawHTML:n}))}else t.closeMark(i)},img:function(t,e,n){var r=e.literal;if(n){var i=ztt(r,"src","alt"),o=i[0],s=i[1],a=t.schema.nodes.image;t.addNode(a,ba({rawHTML:n,imageUrl:o},s&&{altText:s}))}},hr:function(t,e,n){t.addNode(t.schema.nodes.thematicBreak,{rawHTML:n})},br:function(t,e){var n=t.schema.nodes.paragraph,r=e.parent,i=e.prev,o=e.next;"paragraph"===(null===r||void 0===r?void 0:r.type)?(Utt(i)&&t.openNode(n),Utt(o)?t.closeNode():o&&(t.closeNode(),t.openNode(n))):"tableCell"===(null===r||void 0===r?void 0:r.type)&&(i&&(Vtt(i)||Btt(t,i))&&t.closeNode(),o&&(Vtt(o)||Btt(t,o))&&t.openNode(n))},pre:function(t,e,n){var r,i,o=document.createElement("div");o.innerHTML=e.literal;var s=null===(i=null===(r=o.firstChild)||void 0===r?void 0:r.firstChild)||void 0===i?void 0:i.textContent;t.openNode(t.schema.nodes.codeBlock,{rawHTML:n}),t.addText(jtt(s)),t.closeNode()},"ul, ol":function(t,e,n){if("tableCell"===e.parent.type){var r=t.schema.nodes,i=r.bulletList,o=r.orderedList,s=r.paragraph,a="ul"===n?i:o;n?(e.prev&&!qtt(e.prev)&&t.closeNode(),t.openNode(a,{rawHTML:n})):(t.closeNode(),e.next&&!qtt(e.next)&&t.openNode(s))}},li:function(t,e,n){var r;if("tableCell"===(null===(r=e.parent)||void 0===r?void 0:r.type)){var i=t.schema.nodes,o=i.listItem,s=i.paragraph;if(n){var a=Htt(e);e.prev&&!qtt(e.prev)&&t.closeNode(),t.openNode(o,ba({rawHTML:n},a)),e.next&&!qtt(e.next)&&t.openNode(s)}else e.prev&&!qtt(e.prev)&&t.closeNode(),t.closeNode()}}},Wtt=$tt(Gtt);function Ktt(t){return"htmlInline"===t.type&&ll.test(t.literal)}function Jtt(t){rc(t.childNodes).forEach((function(t){if(yl(t)){var e=t.nodeName.toLowerCase();t.setAttribute("data-raw-html",e),t.childNodes&&Jtt(t)}}))}var Xtt={text:function(t,e){t.addText(e.literal||"")},paragraph:function(t,e,n,r){var i,o=n.entering;if(o){var s=t.schema.nodes.paragraph;"paragraph"===(null===(i=e.prev)||void 0===i?void 0:i.type)&&(t.openNode(s,r),t.closeNode()),t.openNode(s,r)}else t.closeNode()},heading:function(t,e,n,r){var i=n.entering;if(i){var o=e,s=o.level,a=o.headingType;t.openNode(t.schema.nodes.heading,ba({level:s,headingType:a},r))}else t.closeNode()},codeBlock:function(t,e,n){var r=t.schema.nodes.codeBlock,i=e,o=i.info,s=i.literal;t.openNode(r,ba({language:o},n)),t.addText(jtt(s||"")),t.closeNode()},list:function(t,e,n,r){var i=n.entering;if(i){var o=t.schema.nodes,s=o.bulletList,a=o.orderedList,u=e.listData,c=u.type,l=u.start;"bullet"===c?t.openNode(s,r):t.openNode(a,ba({order:l},r))}else t.closeNode()},item:function(t,e,n,r){var i=n.entering,o=t.schema.nodes.listItem,s=e.listData,a=s.task,u=s.checked;if(i){var c=ba(ba(ba({},a&&{task:a}),u&&{checked:u}),r);t.openNode(o,c)}else t.closeNode()},blockQuote:function(t,e,n,r){var i=n.entering;i?t.openNode(t.schema.nodes.blockQuote,r):t.closeNode()},image:function(t,e,n,r){var i=n.entering,o=n.skipChildren,s=t.schema.nodes.image,a=e,u=a.destination,c=a.firstChild;i&&o&&o(),t.addNode(s,ba(ba({imageUrl:u},c&&{altText:c.literal}),r))},thematicBreak:function(t,e,n,r){t.addNode(t.schema.nodes.thematicBreak,r)},strong:function(t,e,n,r){var i=n.entering,o=t.schema.marks.strong;i?t.openMark(o.create(r)):t.closeMark(o)},emph:function(t,e,n,r){var i=n.entering,o=t.schema.marks.emph;i?t.openMark(o.create(r)):t.closeMark(o)},link:function(t,e,n,r){var i=n.entering,o=t.schema.marks.link,s=e,a=s.destination,u=s.title;if(i){var c=ba({linkUrl:a,title:u},r);t.openMark(o.create(c))}else t.closeMark(o)},softbreak:function(t,e){if("paragraph"===e.parent.type){var n=e.prev,r=e.next;n&&!Ktt(n)&&t.closeNode(),r&&!Ktt(r)&&t.openNode(t.schema.nodes.paragraph)}},table:function(t,e,n,r){var i=n.entering;i?t.openNode(t.schema.nodes.table,r):t.closeNode()},tableHead:function(t,e,n,r){var i=n.entering;i?t.openNode(t.schema.nodes.tableHead,r):t.closeNode()},tableBody:function(t,e,n,r){var i=n.entering;i?t.openNode(t.schema.nodes.tableBody,r):t.closeNode()},tableRow:function(t,e,n,r){var i=n.entering;i?t.openNode(t.schema.nodes.tableRow,r):t.closeNode()},tableCell:function(t,e,n){var r=n.entering;if(!e.ignored){var i=function(e){return e&&(Vtt(e)||Btt(t,e))};if(r){var o=t.schema.nodes,s=o.tableHeadCell,a=o.tableBodyCell,u=o.paragraph,c=e.parent.parent,l="tableHead"===c.type?s:a,h=c.parent,f=(h.columns[e.startIdx]||{}).align,p=ba({},e.attrs);f&&(p.align=f),t.openNode(l,p),i(e.firstChild)&&t.openNode(u)}else i(e.lastChild)&&t.closeNode(),t.closeNode()}},strike:function(t,e,n,r){var i=n.entering,o=t.schema.marks.strike;i?t.openMark(o.create(r)):t.closeMark(o)},code:function(t,e,n,r){var i=t.schema.marks.code;t.openMark(i.create(r)),t.addText(jtt(e.literal||"")),t.closeMark(i)},customBlock:function(t,e){var n=t.schema.nodes,r=n.customBlock,i=n.paragraph,o=e,s=o.info,a=o.literal;t.openNode(r,{info:s}),t.addText(jtt(a||"")),t.closeNode(),e.next||(t.openNode(i),t.closeNode())},frontMatter:function(t,e){t.openNode(t.schema.nodes.frontMatter),t.addText(e.literal),t.closeNode()},htmlInline:function(t,e){var n=e.literal,r=n.match(cl),i=r[1],o=r[3],s=(i||o).toLowerCase(),a=t.schema.marks[s],u=K5(n);if(null===a||void 0===a?void 0:a.spec.attrs.htmlInline)if(i){var c=X5(u);t.openMark(a.create({htmlAttrs:c}))}else t.closeMark(a);else{var l=Wtt[s];l&&l(t,e,i)}},htmlBlock:function(t,e){var n=e.literal,r=document.createElement("div"),i=hl.test(n);if(i)t.openNode(t.schema.nodes.htmlComment),t.addText(e.literal),t.closeNode();else{var o=n.match(cl),s=o[1],a=o[3],u=(s||a).toLowerCase(),c=t.schema.nodes[u],l=K5(n);if(null===c||void 0===c?void 0:c.spec.attrs.htmlBlock){var h=X5(l),f=J5(e,u);t.addNode(c,{htmlAttrs:h,childrenHTML:f})}else r.innerHTML=l,Jtt(r),t.convertByDOMParser(r)}},customInline:function(t,e,n){var r=n.entering,i=n.skipChildren,o=e,s=o.info,a=o.firstChild,u=t.schema;if(-1!==s.indexOf("widget")&&r){var c=Bc(e);i(),t.addNode(u.nodes.widget,{info:s},[u.text(Mc(s,c))])}else{var l="$$";r&&(l+=a?s+" ":s),t.addText(l)}}};function Qtt(t){var e=Object.keys(t),n=ba({},Xtt),r=new W6({gfm:!0,nodeId:!0,convertors:t}),i=r.getConvertors();return e.forEach((function(e){var r=Xtt[e];r&&!Pu(["htmlBlock","htmlInline"],e)&&(n[e]=function(n,o,s){s.origin=function(){return i[e](o,s,i)};var a,u=t[e](o,s);if(u){var c=Array.isArray(u)?u[0]:u,l=c.attributes,h=c.classNames;a={htmlAttrs:l,classNames:h}}r(n,o,s,a)})})),n}function Ytt(t,e){return!!(t.isText&&e.isText&&p.sameSet(t.marks,e.marks))&&t.withText(t.text+e.text)}var Ztt=function(){function t(t,e){this.schema=t,this.convertors=e,this.stack=[{type:this.schema.topNodeType,attrs:null,content:[]}],this.marks=p.none}return t.prototype.top=function(){return Wu(this.stack)},t.prototype.push=function(t){this.stack.length&&this.top().content.push(t)},t.prototype.addText=function(t){if(t){var e=this.top().content,n=Wu(e),r=this.schema.text(t,this.marks),i=n&&Ytt(n,r);i?e[e.length-1]=i:e.push(r)}},t.prototype.openMark=function(t){this.marks=t.addToSet(this.marks)},t.prototype.closeMark=function(t){this.marks=t.removeFromSet(this.marks)},t.prototype.addNode=function(t,e,n){var r=t.createAndFill(e,n,this.marks);return r?(this.push(r),r):null},t.prototype.openNode=function(t,e){this.stack.push({type:t,attrs:e,content:[]})},t.prototype.closeNode=function(){this.marks.length&&(this.marks=p.none);var t=this.stack.pop(),e=t.type,n=t.attrs,r=t.content;return this.addNode(e,n,r)},t.prototype.convertByDOMParser=function(t){var e=this,n=pt.fromSchema(this.schema).parse(t);n.content.forEach((function(t){return e.push(t)}))},t.prototype.closeUnmatchedHTMLInline=function(t,e){var n;if(!e&&"htmlInline"!==t.type)for(var r=this.stack.length-1,i=r;i>=0;i-=1){var o=this.stack[i];if(!(null===(n=o.attrs)||void 0===n?void 0:n.rawHTML))break;o.content.length?this.closeNode():this.stack.pop()}},t.prototype.convert=function(t,e){var n=t.walker(),r=n.next(),i=function(){var t=r.node,i=r.entering,s=o.convertors[t.type],a=!1;if(s){var u={entering:i,leaf:!Sc(t),getChildrenText:Ic,options:{gfm:!0,nodeId:!1,tagFilter:!1,softbreak:"\n"},skipChildren:function(){a=!0}};if(o.closeUnmatchedHTMLInline(t,i),s(o,t,u),(null===e||void 0===e?void 0:e.node)===t){var c=o.stack.reduce((function(t,e){return t+e.content.reduce((function(t,e){return t+e.nodeSize}),0)}),0)+1;e.setMappedPos(c)}}a&&(n.resumeAt(t,!1),n.next()),r=n.next()},o=this;while(r)i()},t.prototype.convertNode=function(t,e){return this.convert(t,e),this.stack.length?this.closeNode():null},t}();function tet(t,e,n){var r=n[0],i=n[1];t.write(r),t.convertInline(e),t.write(i)}function eet(t,e,n){var r=e.node,i=e.parent,o=n[0],s=n[1];t.stopNewline=!0,t.write(o),t.convertNode(r),t.write(s),"doc"===(null===i||void 0===i?void 0:i.type.name)&&(t.closeBlock(r),t.stopNewline=!1)}function net(t,e){var n=t.length,r="",i="";return"left"===e?(r=":",n-=1):"right"===e?(i=":",n-=1):"center"===e&&(r=":",i=":",n-=2),""+r+Vu("-",Math.max(n,3))+i}var ret={text:function(t,e){var n,r=e.node,i=null!==(n=r.text)&&void 0!==n?n:"";(r.marks||[]).some((function(t){return"link"===t.type.name}))?t.text(qu(i),!1):t.text(i)},paragraph:function(t,e){var n=e.node,r=e.parent,i=e.index,o=void 0===i?0:i;if(t.stopNewline)t.convertInline(n);else{var s=0===o,a=!s&&r.child(o-1),u=a&&0===a.childCount,c=o<r.childCount-1&&r.child(o+1),l=c&&"paragraph"===c.type.name,h=0===n.childCount;h&&u?t.write("<br>\n"):!h||u||s?(t.convertInline(n),l?t.write("\n"):t.closeBlock(n)):t.write("\n")}},heading:function(t,e,n){var r=e.node,i=n.delim,o=r.attrs.headingType;"atx"===o?(t.write(i+" "),t.convertInline(r),t.closeBlock(r)):(t.convertInline(r),t.ensureNewLine(),t.write(i),t.closeBlock(r))},codeBlock:function(t,e,n){var r=e.node,i=n.delim,o=n.text,s=i,a=s[0],u=s[1];t.write(a),t.ensureNewLine(),t.text(o,!1),t.ensureNewLine(),t.write(u),t.closeBlock(r)},blockQuote:function(t,e,n){var r=e.node,i=e.parent,o=n.delim;(null===i||void 0===i?void 0:i.type.name)===r.type.name&&t.flushClose(1),t.wrapBlock(o,null,r,(function(){return t.convertNode(r)}))},bulletList:function(t,e,n){var r=e.node,i=n.delim;t.convertList(r,Vu(" ",4),(function(){return i+" "}))},orderedList:function(t,e){var n=e.node,r=n.attrs.order||1;t.convertList(n,Vu(" ",4),(function(t){var e=String(r+t);return e+". "}))},listItem:function(t,e){var n=e.node,r=n.attrs,i=r.task,o=r.checked;i&&t.write("["+(o?"x":" ")+"] "),t.convertNode(n)},image:function(t,e,n){var r=n.attrs;t.write("!["+(null===r||void 0===r?void 0:r.altText)+"]("+(null===r||void 0===r?void 0:r.imageUrl)+")")},thematicBreak:function(t,e,n){var r=e.node,i=n.delim;t.write(i),t.closeBlock(r)},table:function(t,e){var n=e.node;t.convertNode(n),t.closeBlock(n)},tableHead:function(t,e,n){var r=e.node,i=n.delim,o=r.firstChild;t.convertNode(r);var s=null!==i&&void 0!==i?i:"";!i&&o&&o.forEach((function(t){var e=t.textContent,n=t.attrs,r=net(e,n.align);s+="| "+r+" "})),t.write(s+"|"),t.ensureNewLine()},tableBody:function(t,e){var n=e.node;t.convertNode(n)},tableRow:function(t,e){var n=e.node;t.convertNode(n),t.write("|"),t.ensureNewLine()},tableHeadCell:function(t,e,n){var r=e.node,i=n.delim,o=void 0===i?"| ":i;t.write(o),t.convertTableCell(r),t.write(" ")},tableBodyCell:function(t,e,n){var r=e.node,i=n.delim,o=void 0===i?"| ":i;t.write(o),t.convertTableCell(r),t.write(" ")},customBlock:function(t,e,n){var r=e.node,i=n.delim,o=n.text,s=i,a=s[0],u=s[1];t.write(a),t.ensureNewLine(),t.text(o,!1),t.ensureNewLine(),t.write(u),t.closeBlock(r)},frontMatter:function(t,e,n){var r=e.node,i=n.text;t.text(i,!1),t.closeBlock(r)},widget:function(t,e,n){var r=n.text;t.write(r)},html:function(t,e,n){var r=e.node,i=n.text;t.write(i),r.attrs.htmlBlock&&t.closeBlock(r)},htmlComment:function(t,e,n){var r=e.node,i=n.text;t.write(i),t.closeBlock(r)}};function iet(t,e){var n=e.state,r=e.nodeInfo,i=e.params,o=i.rawHTML;o?Ha(t,["heading","codeBlock"])>-1?tet(n,r.node,o):Ha(t,["image","thematicBreak"])>-1?n.write(o):eet(n,r,o):ret[t](n,r,i)}function oet(t,e){var n=t.text,r=/`+/g,i=0;if(t.isText&&n){var o=r.exec(n);while(o)i=Math.max(i,o[0].length),o=r.exec(n)}for(var s=i>0&&e>0?" `":"`",a=0;a<i;a+=1)s+="`";return i>0&&e<0&&(s+=" "),s}function set(t){return t?["<"+t+">","</"+t+">"]:null}function aet(t){return t?"<"+t+">":null}function uet(t){return t?"</"+t+">":null}var cet={heading:function(t){var e=t.node,n=e.attrs,r=n.level,i=Vu("#",r);return"setext"===n.headingType&&(i=1===r?"===":"---"),{delim:i,rawHTML:set(n.rawHTML)}},codeBlock:function(t){var e=t.node,n=e,r=n.attrs,i=n.textContent;return{delim:["```"+(r.language||""),"```"],rawHTML:set(r.rawHTML),text:i}},blockQuote:function(t){var e=t.node;return{delim:"> ",rawHTML:set(e.attrs.rawHTML)}},bulletList:function(t,e){var n=t.node,r=e.inTable,i=n.attrs.rawHTML;return r&&(i=i||"ul"),{delim:"*",rawHTML:set(i)}},orderedList:function(t,e){var n=t.node,r=e.inTable,i=n.attrs.rawHTML;return r&&(i=i||"ol"),{rawHTML:set(i)}},listItem:function(t,e){var n=t.node,r=e.inTable,i=n.attrs,o=i.task,s=i.checked,a=n.attrs.rawHTML;r&&(a=a||"li");var u=o?' class="task-list-item'+(s?" checked":"")+'"':"",c=o?" data-task"+(s?" data-task-checked":""):"";return{rawHTML:a?["<"+a+u+c+">","</"+a+">"]:null}},table:function(t){var e=t.node;return{rawHTML:set(e.attrs.rawHTML)}},tableHead:function(t){var e=t.node;return{rawHTML:set(e.attrs.rawHTML)}},tableBody:function(t){var e=t.node;return{rawHTML:set(e.attrs.rawHTML)}},tableRow:function(t){var e=t.node;return{rawHTML:set(e.attrs.rawHTML)}},tableHeadCell:function(t){var e=t.node;return{rawHTML:set(e.attrs.rawHTML)}},tableBodyCell:function(t){var e=t.node;return{rawHTML:set(e.attrs.rawHTML)}},image:function(t){var e=t.node,n=e.attrs,r=n.rawHTML,i=n.altText,o=n.imageUrl.replace(/&amp;/g,"&"),s=i?' alt="'+Ru(i)+'"':"";return{rawHTML:r?"<"+r+' src="'+Ru(o)+'"'+s+">":null,attrs:{altText:qu(i||""),imageUrl:o}}},thematicBreak:function(t){var e=t.node;return{delim:"***",rawHTML:aet(e.attrs.rawHTML)}},customBlock:function(t){var e=t.node,n=e,r=n.attrs,i=n.textContent;return{delim:["$$"+r.info,"$$"],text:i}},frontMatter:function(t){var e=t.node;return{text:e.textContent}},widget:function(t){var e=t.node;return{text:e.textContent}},strong:function(t,e){var n=t.node,r=e.entering,i=n.attrs.rawHTML;return{delim:"**",rawHTML:r?aet(i):uet(i)}},emph:function(t,e){var n=t.node,r=e.entering,i=n.attrs.rawHTML;return{delim:"*",rawHTML:r?aet(i):uet(i)}},strike:function(t,e){var n=t.node,r=e.entering,i=n.attrs.rawHTML;return{delim:"~~",rawHTML:r?aet(i):uet(i)}},link:function(t,e){var n=t.node,r=e.entering,i=n.attrs,o=i.title,s=i.rawHTML,a=i.linkUrl.replace(/&amp;/g,"&"),u=o?' title="'+Ru(o)+'"':"";return r?{delim:"[",rawHTML:s?"<"+s+' href="'+Ru(a)+'"'+u+">":null}:{delim:"]("+a+(o?" "+zu(qu(o)):"")+")",rawHTML:uet(s)}},code:function(t,e){var n=t.node,r=t.parent,i=t.index,o=void 0===i?0:i,s=e.entering,a=s?oet(r.child(o),-1):oet(r.child(o-1),1),u=s?aet(n.attrs.rawHTML):uet(n.attrs.rawHTML);return{delim:a,rawHTML:u}},htmlComment:function(t){var e=t.node;return{text:e.textContent}},html:function(t,e){var n=t.node,r=e.entering,i=n.type.name,o=n.attrs.htmlAttrs,s="<"+i,a="</"+i+">";return Object.keys(o).forEach((function(t){s+=" "+t+'="'+o[t].replace(/"/g,"'")+'"'})),s+=">",n.attrs.htmlInline?{rawHTML:r?s:a}:{text:""+s+n.attrs.childrenHTML+a}}},het={strong:{mixable:!0,removedEnclosingWhitespace:!0},emph:{mixable:!0,removedEnclosingWhitespace:!0},strike:{mixable:!0,removedEnclosingWhitespace:!0},code:{escape:!1},link:null,html:null};function fet(t){var e={},n=Object.keys(ret);return n.forEach((function(n){e[n]=function(e,r){var i=ret[n];if(i){var o=t[n],s=o?o(r,{inTable:e.inTable}):{};iet(n,{state:e,nodeInfo:r,params:s})}}})),e}function pet(t){var e={},n=Object.keys(het);return n.forEach((function(n){e[n]=function(e,r){var i=het[n],o=t[n],s=o&&e&&!$a(r),a=s?o(e,{entering:r}):{};return ba(ba({},a),i)}})),e}function det(t){var e=Object.keys(t);e.forEach((function(e){var n=cet[e],r=t[e];cet[e]=n?function(t,e){return e.origin=function(){return n(t,e)},r(t,e)}:r,delete t[e]}));var n=fet(cet),r=pet(cet);return{nodeTypeConvertors:n,markTypeConvertors:r}}var met=function(){function t(t){var e=t.nodeTypeConvertors,n=t.markTypeConvertors;this.nodeTypeConvertors=e,this.markTypeConvertors=n,this.delim="",this.result="",this.closed=!1,this.tightList=!1,this.stopNewline=!1,this.inTable=!1}return t.prototype.getMarkConvertor=function(t){var e=t.attrs.htmlInline?"html":t.type.name;return this.markTypeConvertors[e]},t.prototype.isInBlank=function(){return/(^|\n)$/.test(this.result)},t.prototype.markText=function(t,e,n,r){var i=this.getMarkConvertor(t);if(i){var o=i({node:t,parent:n,index:r},e),s=o.delim,a=o.rawHTML;return a||s}return""},t.prototype.flushClose=function(t){if(!this.stopNewline&&this.closed){if(this.isInBlank()||(this.result+="\n"),t||(t=2),t>1){var e=this.delim,n=/\s+$/.exec(e);n&&(e=e.slice(0,e.length-n[0].length));for(var r=1;r<t;r+=1)this.result+=e+"\n"}this.closed=!1}},t.prototype.wrapBlock=function(t,e,n,r){var i=this.delim;this.write(e||t),this.delim+=t,r(),this.delim=i,this.closeBlock(n)},t.prototype.ensureNewLine=function(){this.isInBlank()||(this.result+="\n")},t.prototype.write=function(t){void 0===t&&(t=""),this.flushClose(),this.delim&&this.isInBlank()&&(this.result+=this.delim),t&&(this.result+=t)},t.prototype.closeBlock=function(t){this.closed=t},t.prototype.text=function(t,e){void 0===e&&(e=!0);for(var n=t.split("\n"),r=0;r<n.length;r+=1)this.write(),this.result+=e?Hu(n[r]):n[r],r!==n.length-1&&(this.result+="\n")},t.prototype.convertBlock=function(t,e,n){var r=t.type.name,i=this.nodeTypeConvertors[r],o={node:t,parent:e,index:n};t.attrs.htmlBlock?this.nodeTypeConvertors.html(this,o):i&&i(this,o)},t.prototype.convertInline=function(t){var e=this,n=[],r="",i=function(i,o,s){var a=i?i.marks:[],u=r;r="";var c=i&&i.isText&&a.some((function(t){var n=e.getMarkConvertor(t),r=n&&n();return r&&r.removedEnclosingWhitespace}));if(c&&i&&i.text){var l=/^(\s*)(.*?)(\s*)$/m.exec(i.text),h=l[1],f=l[2],p=l[3];u+=h,r=p,(h||p)&&(i=f?i.withText(f):null,i||(a=n))}for(var d=a.length&&Wu(a),m=d&&e.getMarkConvertor(d),v=m&&m(),g=v&&!1===v.escape,y=a.length-(g?1:0),b=0;b<y;b+=1){f=a[b];if(v&&!v.mixable)break;for(var w=0;w<n.length;w+=1){var k=n[w];if(v&&!v.mixable)break;if(f.eq(k)){b>w?a=a.slice(0,w).concat(f).concat(a.slice(w,b)).concat(a.slice(b+1,y)):w>b&&(a=a.slice(0,b).concat(a.slice(b+1,w)).concat(f).concat(a.slice(w,y)));break}}}var _=0;while(_<Math.min(n.length,y)&&a[_].eq(n[_]))_+=1;while(_<n.length){var T=n.pop();T&&e.text(e.markText(T,!1,t,s),!1)}if(u&&e.text(u),i){while(n.length<y){f=a[n.length];n.push(f),e.text(e.markText(f,!0,t,s),!1)}g&&i.isText?e.text(e.markText(d,!0,t,s)+i.text+e.markText(d,!1,t,s+1),!1):e.convertBlock(i,t,s)}};t.forEach(i),i(null,null,t.childCount)},t.prototype.convertList=function(t,e,n){var r,i=this;this.closed&&this.closed.type===t.type?this.flushClose(3):this.tightList&&this.flushClose(1);var o=null===(r=t.attrs.tight)||void 0===r||r,s=this.tightList;this.tightList=o,t.forEach((function(r,s,a){a&&o&&i.flushClose(1),i.wrapBlock(e,n(a),t,(function(){return i.convertBlock(r,t,a)}))})),this.tightList=s},t.prototype.convertTableCell=function(t){var e=this;this.stopNewline=!0,this.inTable=!0,t.forEach((function(n,r,i){if(Pu(["bulletList","orderedList"],n.type.name))e.convertBlock(n,t,i),e.closed=!1;else if(e.convertInline(n),i<t.childCount-1){var o=t.child(i+1);"paragraph"===o.type.name&&e.write("<br>")}})),this.stopNewline=!1,this.inTable=!1},t.prototype.convertNode=function(t,e){var n=this;return t.forEach((function(r,i,o){if(n.convertBlock(r,t,o),(null===e||void 0===e?void 0:e.node)===r){var s=n.result.split("\n");e.setMappedPos([s.length,Wu(s).length+1])}})),this.result},t}(),vet=function(){function t(t,e,n,r){var i=this;this.setMappedPos=function(t){i.mappedPosWhenConverting=t},this.schema=t,this.eventEmitter=r,this.focusedNode=null,this.mappedPosWhenConverting=null,this.toWwConvertors=Qtt(n),this.toMdConvertors=det(e||{}),this.eventEmitter.listen("setFocusedNode",(function(t){return i.focusedNode=t}))}return t.prototype.getMappedPos=function(){return this.mappedPosWhenConverting},t.prototype.getInfoForPosSync=function(){return{node:this.focusedNode,setMappedPos:this.setMappedPos}},t.prototype.toWysiwygModel=function(t){var e=new Ztt(this.schema,this.toWwConvertors);return e.convertNode(t,this.getInfoForPosSync())},t.prototype.toMarkdownText=function(t){var e=new met(this.toMdConvertors),n=e.convertNode(t,this.getInfoForPosSync());return n=this.eventEmitter.emitReduce("beforeConvertWysiwygToMarkdown",n),n},t}();function get(t,e,n){var r={Plugin:Ke,Selection:Ce,TextSelection:Ie},i={Decoration:yo,DecorationSet:_o},o={Fragment:u},s={eventEmitter:e,usageStatistics:n,pmState:r,pmView:i,pmModel:o,i18n:E9};if(Aa(t)){var a=t[0],c=t[1],l=void 0===c?{}:c;return a(s,l)}return t(s)}function yet(t,e,n){return e.listen("mixinTableOffsetMapPrototype",n9),(null!==t&&void 0!==t?t:[]).reduce((function(t,r){var i=get(r,e,n);if(!i)throw new Error("The return value of the executed plugin is empty.");var o=i.markdownParsers,s=i.toHTMLRenderers,a=i.toMarkdownRenderers,u=i.markdownPlugins,c=i.wysiwygPlugins,l=i.wysiwygNodeViews,h=i.markdownCommands,f=i.wysiwygCommands,p=i.toolbarItems;return s&&(t.toHTMLRenderers=Xu(t.toHTMLRenderers,s)),a&&(t.toMarkdownRenderers=Xu(t.toMarkdownRenderers,a)),u&&(t.mdPlugins=t.mdPlugins.concat(u)),c&&(t.wwPlugins=t.wwPlugins.concat(c)),l&&(t.wwNodeViews=ba(ba({},t.wwNodeViews),l)),h&&(t.mdCommands=ba(ba({},t.mdCommands),h)),f&&(t.wwCommands=ba(ba({},t.wwCommands),f)),p&&(t.toolbarItems=t.toolbarItems.concat(p)),o&&(t.markdownParsers=ba(ba({},t.markdownParsers),o)),t}),{toHTMLRenderers:{},toMarkdownRenderers:{},mdPlugins:[],wwPlugins:[],wwNodeViews:{},mdCommands:{},wwCommands:{},toolbarItems:[],markdownParsers:{}})}var bet="data-task",wet="data-task-disabled",ket="checked";function _et(t){["htmlBlock","htmlInline"].forEach((function(e){t[e]&&Object.keys(t[e]).forEach((function(t){return W5(t)}))}))}var Tet=function(){function t(t){var e=this;this.options=Ca({linkAttributes:null,extendedAutolinks:!1,customHTMLRenderer:null,referenceDefinition:!1,customHTMLSanitizer:null,frontMatter:!1,usageStatistics:!0,theme:"light"},t),this.eventEmitter=new Ptt;var n=Bu(this.options.linkAttributes),r=yet(this.options.plugins,this.eventEmitter,this.options.usageStatistics)||{},i=r.toHTMLRenderers,o=r.markdownParsers,s=this.options,a=s.customHTMLRenderer,u=s.extendedAutolinks,c=s.referenceDefinition,l=s.frontMatter,h=s.customHTMLSanitizer,f={linkAttributes:n,customHTMLRenderer:ba(ba({},i),a),extendedAutolinks:u,referenceDefinition:c,frontMatter:l,sanitizer:h||K5};_et(f.customHTMLRenderer),this.options.events&&Ta(this.options.events,(function(t,n){e.on(n,t)}));var p=this.options,d=p.el,m=p.initialValue,v=p.theme,g=d.innerHTML;"light"!==v&&d.classList.add(ml(v)),d.innerHTML="",this.toastMark=new B6("",{disallowedHtmlBlockTags:["br","img"],extendedAutolinks:u,referenceDefinition:c,disallowDeepHeading:!0,frontMatter:l,customParser:o}),this.preview=new C8(this.eventEmitter,ba(ba({},f),{isViewer:!0})),Dp(this.preview.previewContent,"mousedown",this.toggleTask.bind(this)),m?this.setMarkdown(m):g&&this.preview.setHTML(g),d.appendChild(this.preview.previewContent),this.eventEmitter.emit("load",this)}return t.prototype.toggleTask=function(t){var e=t.target,n=getComputedStyle(e,":before");!e.hasAttribute(wet)&&e.hasAttribute(bet)&&pl(n,t.offsetX,t.offsetY)&&El(e,ket)},t.prototype.setMarkdown=function(t){var e=this.toastMark.getLineTexts(),n=e.length,r=Wu(e),i=[n,r.length+1],o=this.toastMark.editMarkdown([1,1],i,t||"");this.eventEmitter.emit("updatePreview",o)},t.prototype.on=function(t,e){this.eventEmitter.listen(t,e)},t.prototype.off=function(t){this.eventEmitter.removeEventHandler(t)},t.prototype.addHook=function(t,e){this.eventEmitter.removeEventHandler(t),this.eventEmitter.listen(t,e)},t.prototype.destroy=function(){Cp(this.preview.el,"mousedown",this.toggleTask.bind(this)),this.preview.destroy(),this.eventEmitter.emit("destroy")},t.prototype.isViewer=function(){return!0},t.prototype.isMarkdownMode=function(){return!1},t.prototype.isWysiwygMode=function(){return!1},t}();function Eet(t){return t instanceof F}function Cet(t){var e=["document","blockQuote","bulletList","orderedList","listItem","paragraph","heading","emph","strong","strike","link","image","table","tableHead","tableBody","tableRow","tableHeadCell","tableBodyCell"];return Pu(e,t)}function xet(t){var e=t.attrs,n=t.type,r=n.name,i={type:r,wysiwygNode:!0,literal:!Cet(r)&&Eet(t)?t.textContent:null},o={heading:{level:e.level},link:{destination:e.linkUrl,title:e.title},image:{destination:e.imageUrl},codeBlock:{info:e.language},bulletList:{type:"list",listData:{type:"bullet"}},orderedList:{type:"list",listData:{type:"ordered",start:e.order}},listItem:{type:"item",listData:{task:e.task,checked:e.checked}},tableHeadCell:{type:"tableCell",cellType:"head",align:e.align},tableBodyCell:{type:"tableCell",cellType:"body",align:e.align},customBlock:{info:e.info}},s=o[r],a=ba(ba({},i),s),u=t.attrs,c=u.htmlAttrs,l=u.childrenHTML;return c?ba(ba({},a),{attrs:c,childrenHTML:l}):a}var Set={openTag:function(t,e){var n=t,r=n.tagName,i=n.classNames,o=n.attributes,s=document.createElement(r),a={};i&&(s.className=i.join(" ")),o&&(a=ba(ba({},a),o)),Al(a,s),e.push(s)},closeTag:function(t,e){if(e.length>1){var n=e.pop();Wu(e).appendChild(n)}},html:function(t,e){Wu(e).insertAdjacentHTML("beforeend",t.content)},text:function(t,e){var n=document.createTextNode(t.content);Wu(e).appendChild(n)}},Iet=function(){function t(t,e){var n=r8(t,e),r=ba(ba({},e.htmlBlock),e.htmlInline);this.customConvertorKeys=Object.keys(e).concat(Object.keys(r)),this.renderer=new W6({gfm:!0,convertors:ba(ba({},n),r)}),this.convertors=this.renderer.getConvertors()}return t.prototype.generateTokens=function(t){var e=xet(t),n={entering:!0,leaf:!!Eet(t)&&t.isLeaf,options:this.renderer.getOptions(),getChildrenText:function(){return Eet(t)?t.textContent:""},skipChildren:function(){return!1}},r=this.convertors[t.type.name],i=r(e,n,this.convertors),o=Aa(i)?i:[i];return(Cet(t.type.name)||t.attrs.htmlInline)&&(n.entering=!1,o.push({type:"text",content:Eet(t)?t.textContent:""}),o=o.concat(r(e,n,this.convertors))),o},t.prototype.toDOMNode=function(t){var e=this.generateTokens(t),n=[];return e.forEach((function(t){return Set[t.type](t,n)})),n[0]},t.prototype.getToDOMNode=function(t){return Pu(this.customConvertorKeys,t)?this.toDOMNode.bind(this):null},t}(),Aet=100,Net=15,Oet=null,Det=null;function Met(t,e){var n=e.syncScrollTop,r=e.releaseEventBlock;Det&&clearTimeout(Det),n(t),Det=setTimeout((function(){r()}),Net)}function Ret(t,e,n){var r=e-t,i=Date.now(),o=function(){var s,a=Date.now(),u=(a-i)/Aet;Oet&&clearTimeout(Oet),u<1?(s=t+r*Math.cos((1-u)*Math.PI/2),Met(Math.ceil(s),n),Oet=setTimeout(o,1)):(Met(e,n),Oet=null)};o()}var Let=18,Pet=function(){function t(t,e,n){this.latestEditorScrollTop=null,this.latestPreviewScrollTop=null,this.blockedScroll=null,this.active=!0,this.timer=null;var r=e.previewContent,i=e.el;this.previewRoot=r,this.previewEl=i,this.mdEditor=t,this.editorView=t.view,this.toastMark=t.getToastMark(),this.eventEmitter=n,this.addScrollSyncEvent()}return t.prototype.addScrollSyncEvent=function(){var t=this;this.eventEmitter.listen("afterPreviewRender",(function(){t.clearTimer(),t.timer=setTimeout((function(){t.syncPreviewScrollTop(!0)}),200)})),this.eventEmitter.listen("scroll",(function(e,n){t.active&&("editor"===e&&"editor"!==t.blockedScroll?t.syncPreviewScrollTop():"preview"===e&&"preview"!==t.blockedScroll&&t.syncEditorScrollTop(n))})),this.eventEmitter.listen("toggleScrollSync",(function(e){t.active=e}))},t.prototype.getMdNodeAtPos=function(t,e){var n=t.content.findIndex(e.pos),r=n.index;return this.toastMark.findFirstNodeAtLine(r+1)},t.prototype.getScrollTopByCaretPos=function(){var t=this.mdEditor.getSelection(),e=this.toastMark.findFirstNodeAtLine(t[0][0]),n=this.previewEl.clientHeight,r=d8(this.previewRoot,e).el,i=l8(r,this.previewRoot)||r.offsetTop,o=r.clientHeight,s=i+o-.5*n;this.latestEditorScrollTop=null;var a=r.getBoundingClientRect().top-this.previewEl.getBoundingClientRect().top;return a<n?null:s},t.prototype.syncPreviewScrollTop=function(t){void 0===t&&(t=!1);var e=this,n=e.editorView,r=e.previewEl,i=e.previewRoot,o=n.dom.getBoundingClientRect(),s=o.left,a=o.top,u=n.posAtCoords({left:s,top:a}),c=n.state.doc,l=this.getMdNodeAtPos(c,u);if(l&&!dc(l)){var h=r.scrollTop,f=n.dom,p=f.scrollTop,d=f.scrollHeight,m=f.clientHeight,v=f.children,g=d-p<=m+Let,y=g?r.scrollHeight:0;if(p&&!g){if(t){var b=this.getScrollTopByCaretPos();if(!b)return;y=b}else{var w=d8(this.previewRoot,l),k=w.el,_=w.mdNode,T=a8(c,_,v),E=T.height,C=T.rect,x=l8(k,i)||k.offsetTop,S=k.clientHeight,I=a>C.top?Math.min((a-C.top)/E,1):0;y=x+S*I}y=this.getResolvedScrollTop("editor",p,y,h),this.latestEditorScrollTop=p}y!==h&&this.run("editor",y,h)}},t.prototype.syncEditorScrollTop=function(t){var e=this,n=e.toastMark,r=e.editorView,i=e.previewRoot,o=e.previewEl,s=r.dom,a=r.state,u=o.scrollTop,c=o.clientHeight,l=o.scrollHeight,h=l-u<=c,f=s.scrollTop,p=h?s.scrollHeight:0;if(u&&t&&!h){if(t=c8(t,i),!t.getAttribute("data-nodeid"))return;var d=s.children,m=Number(t.getAttribute("data-nodeid")),v=d8(this.previewRoot,n.findNodeById(m)),g=v.mdNode,y=v.el,b=lc(g);p=d[b-1].offsetTop;var w=a8(a.doc,g,d).height,k=_8(y,i,m),_=k.nodeHeight,T=k.offsetTop;p+=p8(u,T,_,w),p=this.getResolvedScrollTop("preview",u,p,f),this.latestPreviewScrollTop=u}p!==f&&this.run("preview",p,f)},t.prototype.getResolvedScrollTop=function(t,e,n,r){var i="editor"===t?this.latestEditorScrollTop:this.latestPreviewScrollTop;return null===i?n:i<e?Math.max(n,r):Math.min(n,r)},t.prototype.run=function(t,e,n){var r,i=this;"editor"===t?(r=this.previewEl,this.blockedScroll="preview"):(r=this.editorView.dom,this.blockedScroll="editor");var o={syncScrollTop:function(t){return r.scrollTop=t},releaseEventBlock:function(){return i.blockedScroll=null}};Ret(n,e,o)},t.prototype.clearTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},t.prototype.destroy=function(){this.clearTimer(),this.eventEmitter.removeEventHandler("scroll"),this.eventEmitter.removeEventHandler("afterPreviewRender")},t}(),Fet={getPopupInitialValues:function(t,e){var n=e.popupName;return"link"===n?{linkText:t.getSelectedText()}:{}}};function jet(t){t.eventEmitter.listen("query",(function(e,n){return Fet[e](t,n)}))}var Bet=function(){function t(t){var e=this;this.initialHTML=t.el.innerHTML,t.el.innerHTML="",this.options=Ca({previewStyle:"tab",previewHighlight:!0,initialEditType:"markdown",height:"300px",minHeight:"200px",language:"en-US",useCommandShortcut:!0,usageStatistics:!0,toolbarItems:[["heading","bold","italic","strike"],["hr","quote"],["ul","ol","task","indent","outdent"],["table","image","link"],["code","codeblock"],["scrollSync"]],hideModeSwitch:!1,linkAttributes:null,extendedAutolinks:!1,customHTMLRenderer:null,customMarkdownRenderer:null,referenceDefinition:!1,customHTMLSanitizer:null,frontMatter:!1,widgetRules:[],theme:"light",autofocus:!0},t);var n=this.options,r=n.customHTMLRenderer,i=n.extendedAutolinks,o=n.referenceDefinition,s=n.frontMatter,a=n.customMarkdownRenderer,u=n.useCommandShortcut,c=n.initialEditType,l=n.widgetRules,h=n.customHTMLSanitizer;this.mode=c||"markdown",this.mdPreviewStyle=this.options.previewStyle,this.i18n=E9,this.i18n.setCode(this.options.language),this.eventEmitter=new Ptt,Pc(l);var f=Bu(this.options.linkAttributes);this.pluginInfo=yet(this.options.plugins,this.eventEmitter,this.options.usageStatistics);var p=this.pluginInfo,d=p.toHTMLRenderers,m=p.toMarkdownRenderers,v=p.mdPlugins,g=p.wwPlugins,y=p.wwNodeViews,b=p.mdCommands,w=p.wwCommands,k=p.markdownParsers,_={linkAttributes:f,customHTMLRenderer:Xu(d,r),extendedAutolinks:i,referenceDefinition:o,frontMatter:s,sanitizer:h||K5},T=new Iet(f,_.customHTMLRenderer),E=t8(_.customHTMLRenderer,_.sanitizer,T);this.toastMark=new B6("",{disallowedHtmlBlockTags:["br","img"],extendedAutolinks:i,referenceDefinition:o,disallowDeepHeading:!0,frontMatter:s,customParser:k}),this.mdEditor=new mp(this.eventEmitter,{toastMark:this.toastMark,useCommandShortcut:u,mdPlugins:v}),this.preview=new C8(this.eventEmitter,ba(ba({},_),{isViewer:!1,highlight:this.options.previewHighlight})),this.wwEditor=new Ett(this.eventEmitter,{toDOMAdaptor:T,useCommandShortcut:u,htmlSchemaMap:E,linkAttributes:f,wwPlugins:g,wwNodeViews:y}),this.convertor=new vet(this.wwEditor.getSchema(),ba(ba({},m),a),r8(f,_.customHTMLRenderer),this.eventEmitter),this.setMinHeight(this.options.minHeight),this.setHeight(this.options.height),this.setMarkdown(this.options.initialValue,!1),this.options.placeholder&&this.setPlaceholder(this.options.placeholder),this.options.initialValue||this.setHTML(this.initialHTML,!1),this.commandManager=new Ftt(this.eventEmitter,this.mdEditor.commands,this.wwEditor.commands,(function(){return e.mode})),this.options.usageStatistics&&Lu(),this.scrollSync=new Pet(this.mdEditor,this.preview,this.eventEmitter),this.addInitEvent(),this.addInitCommand(b,w),jet(this),this.options.hooks&&Ta(this.options.hooks,(function(t,n){return e.addHook(n,t)})),this.options.events&&Ta(this.options.events,(function(t,n){return e.on(n,t)})),this.eventEmitter.emit("load",this),this.moveCursorToStart(this.options.autofocus)}return t.prototype.addInitEvent=function(){var t=this;this.on("needChangeMode",this.changeMode.bind(this)),this.on("loadUI",(function(){if("auto"!==t.height){var e=Math.min(parseInt(t.minHeight,10),parseInt(t.height,10)-75)+"px";t.setMinHeight(e)}})),Ll(this.eventEmitter)},t.prototype.addInitCommand=function(t,e){var n=this,r=function(t,e){Object.keys(e).forEach((function(r){n.addCommand(t,r,e[r])}))};this.addCommand("markdown","toggleScrollSync",(function(t){return n.eventEmitter.emit("toggleScrollSync",t.active),!0})),r("markdown",t),r("wysiwyg",e)},t.prototype.getCurrentModeEditor=function(){return this.isMarkdownMode()?this.mdEditor:this.wwEditor},t.factory=function(e){return e.viewer?new Tet(e):new t(e)},t.setLanguage=function(t,e){E9.setLanguage(t,e)},t.prototype.changePreviewStyle=function(t){this.mdPreviewStyle!==t&&(this.mdPreviewStyle=t,this.eventEmitter.emit("changePreviewStyle",t))},t.prototype.exec=function(t,e){this.commandManager.exec(t,e)},t.prototype.addCommand=function(t,e,n){var r=this,i=function(e){void 0===e&&(e={});var i=("markdown"===t?r.mdEditor:r.wwEditor).view;n(e,i.state,i.dispatch,i)};this.commandManager.addCommand(t,e,i)},t.prototype.on=function(t,e){this.eventEmitter.listen(t,e)},t.prototype.off=function(t){this.eventEmitter.removeEventHandler(t)},t.prototype.addHook=function(t,e){this.eventEmitter.removeEventHandler(t),this.eventEmitter.listen(t,e)},t.prototype.removeHook=function(t){this.eventEmitter.removeEventHandler(t)},t.prototype.focus=function(){this.getCurrentModeEditor().focus()},t.prototype.blur=function(){this.getCurrentModeEditor().blur()},t.prototype.moveCursorToEnd=function(t){void 0===t&&(t=!0),this.getCurrentModeEditor().moveCursorToEnd(t)},t.prototype.moveCursorToStart=function(t){void 0===t&&(t=!0),this.getCurrentModeEditor().moveCursorToStart(t)},t.prototype.setMarkdown=function(t,e){if(void 0===t&&(t=""),void 0===e&&(e=!0),this.mdEditor.setMarkdown(t,e),this.isWysiwygMode()){var n=this.toastMark.getRootNode(),r=this.convertor.toWysiwygModel(n);this.wwEditor.setModel(r,e)}},t.prototype.setHTML=function(t,e){void 0===t&&(t=""),void 0===e&&(e=!0);var n=document.createElement("div");n.innerHTML=Nl(t);var r=pt.fromSchema(this.wwEditor.schema).parse(n);this.isMarkdownMode()?this.mdEditor.setMarkdown(this.convertor.toMarkdownText(r),e):this.wwEditor.setModel(r,e)},t.prototype.getMarkdown=function(){return this.isMarkdownMode()?this.mdEditor.getMarkdown():this.convertor.toMarkdownText(this.wwEditor.getModel())},t.prototype.getHTML=function(){var t=this;return this.eventEmitter.holdEventInvoke((function(){if(t.isMarkdownMode()){var e=t.toastMark.getRootNode(),n=t.convertor.toWysiwygModel(e);t.wwEditor.setModel(n)}})),this.wwEditor.view.dom.innerHTML},t.prototype.insertText=function(t){this.getCurrentModeEditor().replaceSelection(t)},t.prototype.setSelection=function(t,e){this.getCurrentModeEditor().setSelection(t,e)},t.prototype.replaceSelection=function(t,e,n){this.getCurrentModeEditor().replaceSelection(t,e,n)},t.prototype.deleteSelection=function(t,e){this.getCurrentModeEditor().deleteSelection(t,e)},t.prototype.getSelectedText=function(t,e){return this.getCurrentModeEditor().getSelectedText(t,e)},t.prototype.getRangeInfoOfNode=function(t){return this.getCurrentModeEditor().getRangeInfoOfNode(t)},t.prototype.addWidget=function(t,e,n){this.getCurrentModeEditor().addWidget(t,e,n)},t.prototype.replaceWithWidget=function(t,e,n){this.getCurrentModeEditor().replaceWithWidget(t,e,n)},t.prototype.setHeight=function(t){var e=this.options.el;Sa(t)&&("auto"===t?iu(e,"auto-height"):lu(e,"auto-height"),this.setMinHeight(this.getMinHeight())),Va(e,{height:t}),this.height=t},t.prototype.getHeight=function(){return this.height},t.prototype.setMinHeight=function(t){if(t!==this.minHeight){var e=this.height||this.options.height;"auto"!==e&&this.options.el.querySelector("."+ml("main"))&&(t=Math.min(parseInt(t,10),parseInt(e,10)-75)+"px");var n=parseInt(t,10);this.minHeight=t,this.wwEditor.setMinHeight(n),this.mdEditor.setMinHeight(n),this.preview.setMinHeight(n)}},t.prototype.getMinHeight=function(){return this.minHeight},t.prototype.isMarkdownMode=function(){return"markdown"===this.mode},t.prototype.isWysiwygMode=function(){return"wysiwyg"===this.mode},t.prototype.isViewer=function(){return!1},t.prototype.getCurrentPreviewStyle=function(){return this.mdPreviewStyle},t.prototype.changeMode=function(t,e){if(this.mode!==t){if(this.mode=t,this.isWysiwygMode()){var n=this.toastMark.getRootNode(),r=this.convertor.toWysiwygModel(n);this.wwEditor.setModel(r)}else{r=this.wwEditor.getModel();this.mdEditor.setMarkdown(this.convertor.toMarkdownText(r),!e)}if(this.eventEmitter.emit("removePopupWidget"),this.eventEmitter.emit("changeMode",t),!e){var i=this.convertor.getMappedPos();this.focus(),this.isWysiwygMode()&&fu(i)?this.wwEditor.setSelection(i):Array.isArray(i)&&this.mdEditor.setSelection(i)}}},t.prototype.destroy=function(){var t=this;this.wwEditor.destroy(),this.mdEditor.destroy(),this.preview.destroy(),this.scrollSync.destroy(),this.eventEmitter.emit("destroy"),this.eventEmitter.getEvents().forEach((function(e,n){return t.off(n)}))},t.prototype.hide=function(){this.eventEmitter.emit("hide")},t.prototype.show=function(){this.eventEmitter.emit("show")},t.prototype.setScrollTop=function(t){this.getCurrentModeEditor().setScrollTop(t)},t.prototype.getScrollTop=function(){return this.getCurrentModeEditor().getScrollTop()},t.prototype.reset=function(){this.wwEditor.setModel([]),this.mdEditor.setMarkdown("")},t.prototype.getSelection=function(){return this.getCurrentModeEditor().getSelection()},t.prototype.setPlaceholder=function(t){this.mdEditor.setPlaceholder(t),this.wwEditor.setPlaceholder(t)},t.prototype.getEditorElements=function(){return{mdEditor:this.mdEditor.getElement(),mdPreview:this.preview.getElement(),wwEditor:this.wwEditor.getElement()}},t}();function Vet(t){for(var e,n,r=arguments,i=1,o="",s="",a=[0],u=function(t){1===i&&(t||(o=o.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?a.push(t?r[t]:o):3===i&&(t||o)?(a[1]=t?r[t]:o,i=2):2===i&&"..."===o&&t?a[2]=Zu(a[2]||{},r[t]):2===i&&o&&!t?(a[2]=a[2]||{})[o]=!0:i>=5&&(5===i?((a[2]=a[2]||{})[n]=t?o?o+r[t]:r[t]:o,i=6):(t||o)&&(a[2][n]+=t?o+r[t]:o)),o=""},c=0;c<t.length;c++){c&&(1===i&&u(),u(c));for(let r=0;r<t[c].length;r++)e=t[c][r],1===i?"<"===e?(u(),a=[a,"",null],i=3):o+=e:4===i?"--"===o&&">"===e?(i=1,o=""):o=e+o[0]:s?e===s?s="":o+=e:'"'===e||"'"===e?s=e:">"===e?(u(),i=1):i&&("="===e?(i=5,n=o,o=""):"/"===e&&(i<5||">"===t[c][r+1])?(u(),3===i&&(a=a[0]),i=a,(a=a[0]).push(this.apply(null,i.slice(1))),i=0):" "===e||"\t"===e||"\n"===e||"\r"===e?(u(),i=2):o+=e),3===i&&"!--"===o&&(i=4,a=a[0])}return u(),a.length>2?a.slice(1):a[1]}function Uet(t){return"boolean"===typeof t||t instanceof Boolean}var qet=Uet,Het=function(){function t(t){this.current=t,this.root=t,this.entering=!0}return t.prototype.walk=function(){var t=this,e=t.entering,n=t.current;return n?(e?n.firstChild?(this.current=n.firstChild,this.entering=!0):this.entering=!1:n===this.root?this.current=null:n.next?(this.current=n.next,this.entering=!0):(this.current=n.parent,this.entering=!1),{vnode:n,entering:e}):null},t}(),zet=function(){function t(t,e,n){this.parent=null,this.old=null,this.firstChild=null,this.next=null,this.skip=!1,this.type=t,this.props=e,this.children=n,this.props.children=n,e.ref&&(this.ref=e.ref,delete e.ref),e.key&&(this.key=e.key,delete e.key)}return t.prototype.walker=function(){return new Het(this)},t.removalNodes=[],t}();function $et(t){return new zet("TEXT_NODE",{nodeValue:t},[])}function Get(t,e){var n=t;qet(t)||null==t?n=null:(Sa(t)||fu(t))&&(n=$et(String(t))),n&&e.push(n)}function Wet(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=[];return n.forEach((function(t){Array.isArray(t)?t.forEach((function(t){Get(t,i)})):Get(t,i)})),new zet(t,e||{},i)}var Ket=Vet.bind(Wet);function Jet(t){return t===Object(t)}var Xet=Jet;function Qet(t){var e;return"TEXT_NODE"===t.type?e=document.createTextNode(t.props.nodeValue):(e=document.createElement(t.type),ent(e,{},t.props)),e}function Yet(t,e){t.node?e.removeChild(t.node):Yet(t.firstChild,e)}function Zet(t,e,n){Object.keys(e).forEach((function(r){if(/^on/.test(r)){if(!n[r]||e[r]!==n[r]){var i=r.slice(2).toLowerCase();t.removeEventListener(i,e[r])}}else"children"===r||n[r]||gl(t)||t.removeAttribute(r)})),ent(t,e,n,(function(t){return!Gu(e[t],n[t])}))}var tnt=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i;function ent(t,e,n,r){Object.keys(n).forEach((function(i){if(!r||r(i))if(/^on/.test(i)){var o=i.slice(2).toLowerCase();t.addEventListener(o,n[i])}else"nodeValue"===i?t[i]=n[i]:"style"===i&&Xet(n[i])?nnt(t,e[i],n[i]):"children"!==i&&(!1===n[i]?t.removeAttribute(i):t.setAttribute(i,n[i]))}))}function nnt(t,e,n){e&&Object.keys(e).forEach((function(e){t.style[e]=""})),Object.keys(n).forEach((function(e){var r=n[e];t.style[e]=fu(r)&&!tnt.test(e)?r+"px":r}))}function rnt(t){if(zet.removalNodes.forEach((function(t){return ont(t)})),t){var e=void 0,n=t.walker();while(e=n.walk())if(t=e.vnode,e.entering)ont(t);else if($l(t.type)){var r=t.component;if(!t.old&&r.mounted&&r.mounted(),t.old&&r.updated){var i=r.prevProps||{};r.updated(i)}}}}function int(t){var e=t.parent;while(!e.node)e=e.parent;return e.node}function ont(t){if(t&&t.parent){if(t.node){var e=int(t);"A"===t.effect?e.appendChild(t.node):"U"===t.effect&&Zet(t.node,t.old.props,t.props)}if("D"===t.effect){var n=void 0,r=t.walker();while(n=r.walk())if(t=n.vnode,!n.entering)if($l(t.type)){var i=t.component;i.beforeDestroy&&i.beforeDestroy()}else{e=int(t);Yet(t,e)}}t.ref&&(t.component?t.ref(t.component):t.node&&t.ref(t.node))}}function snt(t,e){var n=e.props,r=e.component;return r?(r.prevProps=r.props,r.props=e.props,r):new t(n)}function ant(t){var e=t;while(t&&!t.skip){if($l(t.type)){var n=snt(t.type,t);n.vnode=t,t.component=n,t.props.children=t.children=[n.render()],cnt(t)}else t.node||(t.node=Qet(t)),cnt(t);if(t.firstChild)t=t.firstChild;else{while(t&&t.parent&&!t.next)if(t=t.parent,t===e)break;t=t.next}}}function unt(t,e){return t&&e&&e.type===t.type&&(!e.key||e.key===t.key)}function cnt(t){var e=t.children,n=t.old?t.old.firstChild:null,r=null;e.forEach((function(e,i){var o=unt(n,e);o&&(e.old=n,e.parent=t,e.node=n.node,e.component=n.component,e.effect="U"),e&&!o&&(e.old=null,e.parent=t,e.node=null,e.effect="A"),n&&!o&&(zet.removalNodes.push(n),n.effect="D"),n&&(n=n.next),0===i?t.firstChild=e:e&&(r.next=e),r=e}));var i=Wu(e);if(!e.length)while(n)zet.removalNodes.push(n),n.effect="D",n=n.next;while(n&&i)n&&i.old!==n&&(zet.removalNodes.push(n),n.effect="D",n=n.next)}function lnt(t){t.effect="D",zet.removalNodes=[t],rnt(),zet.removalNodes=[]}function hnt(t){var e=t.vnode;e.effect="U",e.old=e,e.next&&(e.next.skip=!0),zet.removalNodes=[],ant(e),rnt(e),e.next&&(e.next.skip=!1)}function fnt(t,e){var n=new zet(t.tagName.toLowerCase(),{},[e]);return n.node=t,zet.removalNodes=[],ant(n),rnt(n),function(){return lnt(n.firstChild)}}var pnt,dnt=function(){function t(t){this.props=t,this.state={},this.refs={}}return t.prototype.setState=function(t){var e=ba(ba({},this.state),t);Gu(this.state,e)||(this.state=e,hnt(this))},t}(),mnt=function(t){function e(e){var n=t.call(this,e)||this;return n.state={hide:!1},n}return ya(e,t),e.prototype.show=function(){this.setState({hide:!1})},e.prototype.hide=function(){this.setState({hide:!0})},e.prototype.render=function(){var t=this.props,e=t.editorType,n=t.eventEmitter;return Ket(pnt||(pnt=ka(['\n      <div class="','" style="display: ','">\n        <div\n          class="tab-item','"\n          onClick=',"\n        >\n          ",'\n        </div>\n        <div\n          class="tab-item','"\n          onClick=',"\n        >\n          ","\n        </div>\n      </div>\n    "],['\n      <div class="','" style="display: ','">\n        <div\n          class="tab-item','"\n          onClick=',"\n        >\n          ",'\n        </div>\n        <div\n          class="tab-item','"\n          onClick=',"\n        >\n          ","\n        </div>\n      </div>\n    "])),ml("mode-switch"),this.state.hide?"none":"block","markdown"===e?" active":"",(function(){n.emit("needChangeMode","markdown")}),E9.get("Markdown"),"wysiwyg"===e?" active":"",(function(){n.emit("needChangeMode","wysiwyg")}),E9.get("WYSIWYG"))},e}(dnt);function vnt(t,e){var n,r;function i(){r=Array.prototype.slice.call(arguments),window.clearTimeout(n),n=window.setTimeout((function(){t.apply(null,r)}),e)}return e=e||0,i}var gnt=vnt,ynt=gnt;function bnt(t,e){var n,r,i,o,s=!0,a=function(e){t.apply(null,e),n=null};function u(){if(o=Array.prototype.slice.call(arguments),s)return a(o),void(s=!1);i=Number(new Date),n=n||i,r(o),i-n>=e&&a(o)}function c(){s=!0,n=null}return e=e||0,r=ynt(a,e),u.reset=c,u}var wnt=bnt,knt=function(){if("undefined"!==typeof Map)return Map;function t(t,e){var n=-1;return t.some((function(t,r){return t[0]===e&&(n=r,!0)})),n}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var n=t(this.__entries__,e),r=this.__entries__[n];return r&&r[1]},e.prototype.set=function(e,n){var r=t(this.__entries__,e);~r?this.__entries__[r][1]=n:this.__entries__.push([e,n])},e.prototype.delete=function(e){var n=this.__entries__,r=t(n,e);~r&&n.splice(r,1)},e.prototype.has=function(e){return!!~t(this.__entries__,e)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];t.call(e,i[1],i[0])}},e}()}(),_nt="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,Tnt=function(){return"undefined"!==typeof n.g&&n.g.Math===Math?n.g:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")()}(),Ent=function(){return"function"===typeof requestAnimationFrame?requestAnimationFrame.bind(Tnt):function(t){return setTimeout((function(){return t(Date.now())}),1e3/60)}}(),Cnt=2;function xnt(t,e){var n=!1,r=!1,i=0;function o(){n&&(n=!1,t()),r&&a()}function s(){Ent(o)}function a(){var t=Date.now();if(n){if(t-i<Cnt)return;r=!0}else n=!0,r=!1,setTimeout(s,e);i=t}return a}var Snt=20,Int=["top","right","bottom","left","width","height","size","weight"],Ant="undefined"!==typeof MutationObserver,Nnt=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=xnt(this.refresh.bind(this),Snt)}return t.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},t.prototype.removeObserver=function(t){var e=this.observers_,n=e.indexOf(t);~n&&e.splice(n,1),!e.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var t=this.updateObservers_();t&&this.refresh()},t.prototype.updateObservers_=function(){var t=this.observers_.filter((function(t){return t.gatherActive(),t.hasActive()}));return t.forEach((function(t){return t.broadcastActive()})),t.length>0},t.prototype.connect_=function(){_nt&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Ant?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){_nt&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(t){var e=t.propertyName,n=void 0===e?"":e,r=Int.some((function(t){return!!~n.indexOf(t)}));r&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),Ont=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},Dnt=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||Tnt},Mnt=Hnt(0,0,0,0);function Rnt(t){return parseFloat(t)||0}function Lnt(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce((function(e,n){var r=t["border-"+n+"-width"];return e+Rnt(r)}),0)}function Pnt(t){for(var e=["top","right","bottom","left"],n={},r=0,i=e;r<i.length;r++){var o=i[r],s=t["padding-"+o];n[o]=Rnt(s)}return n}function Fnt(t){var e=t.getBBox();return Hnt(0,0,e.width,e.height)}function jnt(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return Mnt;var r=Dnt(t).getComputedStyle(t),i=Pnt(r),o=i.left+i.right,s=i.top+i.bottom,a=Rnt(r.width),u=Rnt(r.height);if("border-box"===r.boxSizing&&(Math.round(a+o)!==e&&(a-=Lnt(r,"left","right")+o),Math.round(u+s)!==n&&(u-=Lnt(r,"top","bottom")+s)),!Vnt(t)){var c=Math.round(a+o)-e,l=Math.round(u+s)-n;1!==Math.abs(c)&&(a-=c),1!==Math.abs(l)&&(u-=l)}return Hnt(i.left,i.top,a,u)}var Bnt=function(){return"undefined"!==typeof SVGGraphicsElement?function(t){return t instanceof Dnt(t).SVGGraphicsElement}:function(t){return t instanceof Dnt(t).SVGElement&&"function"===typeof t.getBBox}}();function Vnt(t){return t===Dnt(t).document.documentElement}function Unt(t){return _nt?Bnt(t)?Fnt(t):jnt(t):Mnt}function qnt(t){var e=t.x,n=t.y,r=t.width,i=t.height,o="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,s=Object.create(o.prototype);return Ont(s,{x:e,y:n,width:r,height:i,top:n,right:e+r,bottom:i+n,left:e}),s}function Hnt(t,e,n,r){return{x:t,y:e,width:n,height:r}}var znt=function(){function t(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Hnt(0,0,0,0),this.target=t}return t.prototype.isActive=function(){var t=Unt(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},t}(),$nt=function(){function t(t,e){var n=qnt(e);Ont(this,{target:t,contentRect:n})}return t}(),Gnt=function(){function t(t,e,n){if(this.activeObservations_=[],this.observations_=new knt,"function"!==typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=n}return t.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(t instanceof Dnt(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new znt(t)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(t instanceof Dnt(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach((function(e){e.isActive()&&t.activeObservations_.push(e)}))},t.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map((function(t){return new $nt(t.target,t.broadcastRect())}));this.callback_.call(t,e,t),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),Wnt="undefined"!==typeof WeakMap?new WeakMap:new knt,Knt=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=Nnt.getInstance(),r=new Gnt(e,n,this);Wnt.set(this,r)}return t}();["observe","unobserve","disconnect"].forEach((function(t){Knt.prototype[t]=function(){var e;return(e=Wnt.get(this))[t].apply(e,arguments)}}));var Jnt,Xnt,Qnt,Ynt,Znt,trt,ert,nrt,rrt,irt,ort,srt,art,urt,crt,lrt,hrt=function(){return"undefined"!==typeof Tnt.ResizeObserver?Tnt.ResizeObserver:Knt}(),frt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ya(e,t),e.prototype.execCommand=function(t){var e=Sl(t.target,"li");this.props.execCommand("heading",{level:Number(e.getAttribute("data-level"))})},e.prototype.render=function(){var t=this;return Ket(Xnt||(Xnt=ka(["\n      <ul\n        onClick=",'\n        aria-role="menu"\n        aria-label="','"\n      >\n        ','\n        <li data-type="Paragraph" aria-role="menuitem">\n          <div>',"</div>\n        </li>\n      </ul>\n    "],["\n      <ul\n        onClick=",'\n        aria-role="menu"\n        aria-label="','"\n      >\n        ','\n        <li data-type="Paragraph" aria-role="menuitem">\n          <div>',"</div>\n        </li>\n      </ul>\n    "])),(function(e){return t.execCommand(e)}),E9.get("Headings"),[1,2,3,4,5,6].map((function(t){return Ket(Jnt||(Jnt=ka(['\n              <li data-level="','" data-type="Heading" aria-role="menuitem">\n                <',">"," ","</$>\n              </li>\n            "],['\n              <li data-level="','" data-type="Heading" aria-role="menuitem">\n                <',">"," ","</$>\n              </li>\n            "])),t,"h"+t,E9.get("Heading"),t)})),E9.get("Paragraph"))},e}(dnt),prt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ya(e,t),e.prototype.toggleTab=function(t,e){this.props.onClick(t,e)},e.prototype.render=function(){var t=this;return Ket(Ynt||(Ynt=ka(['\n      <div class="','" aria-role="tabpanel">\n        ',"\n      </div>\n    "],['\n      <div class="','" aria-role="tabpanel">\n        ',"\n      </div>\n    "])),ml("tabs"),this.props.tabs.map((function(e){var n=e.name,r=e.text,i=t.props.activeTab===n;return Ket(Qnt||(Qnt=ka(['\n            <div\n              class="tab-item','"\n              onClick=','\n              aria-role="tab"\n              aria-label="','"\n              aria-selected="','"\n              tabindex="','"\n            >\n              ',"\n            </div>\n          "],['\n            <div\n              class="tab-item','"\n              onClick=','\n              aria-role="tab"\n              aria-label="','"\n              aria-selected="','"\n              tabindex="','"\n            >\n              ',"\n            </div>\n          "])),i?" active":"",(function(e){return t.toggleTab(e,n)}),E9.get(r),i?"true":"false",i?"0":"-1",E9.get(r))})))},e}(dnt),drt="ui",mrt=function(t){function e(e){var n=t.call(this,e)||this;return n.initialize=function(t){void 0===t&&(t="file");var e=n.refs.url;e.value="",n.refs.altText.value="",n.refs.file.value="",lu(e,"wrong"),n.setState({activeTab:t,file:null,fileNameElClassName:""})},n.execCommand=function(){"file"===n.state.activeTab?n.emitAddImageBlob():n.emitAddImage()},n.toggleTab=function(t,e){e!==n.state.activeTab&&n.initialize(e)},n.showFileSelectBox=function(){n.refs.file.click()},n.changeFile=function(t){var e=t.target.files;(null===e||void 0===e?void 0:e.length)&&n.setState({file:e[0]})},n.state={activeTab:"file",file:null,fileNameElClassName:""},n.tabs=[{name:"file",text:"File"},{name:"url",text:"URL"}],n}return ya(e,t),e.prototype.emitAddImageBlob=function(){var t=this,e=this.refs.file.files,n=this.refs.altText,r=" wrong";if(null===e||void 0===e?void 0:e.length){r="";var i=e.item(0),o=function(e,r){return t.props.execCommand("addImage",{imageUrl:e,altText:r||n.value})};this.props.eventEmitter.emit("addImageBlobHook",i,o,drt)}this.setState({fileNameElClassName:r})},e.prototype.emitAddImage=function(){var t=this.refs.url,e=this.refs.altText,n=t.value,r=e.value||"image";lu(t,"wrong"),n.length?n&&this.props.execCommand("addImage",{imageUrl:n,altText:r}):iu(t,"wrong")},e.prototype.preventSelectStart=function(t){t.preventDefault()},e.prototype.updated=function(){this.props.show||this.initialize()},e.prototype.render=function(){var t=this,e=this.state,n=e.activeTab,r=e.file,i=e.fileNameElClassName;return Ket(Znt||(Znt=ka(['\n      <div aria-label="','">\n        <'," tabs="," activeTab="," onClick=",' />\n        <div style="display:','">\n          <label for="toastuiImageUrlInput">','</label>\n          <input\n            id="toastuiImageUrlInput"\n            type="text"\n            ref=','\n          />\n        </div>\n        <div style="display:',';position: relative;">\n          <label for="toastuiImageFileInput">','</label>\n          <span\n            class="',"",'"\n            onClick=',"\n            onSelectstart=","\n          >\n            ",'\n          </span>\n          <button\n            type="button"\n            class="','"\n            onClick=',"\n          >\n            ",'\n          </button>\n          <input\n            id="toastuiImageFileInput"\n            type="file"\n            accept="image/*"\n            onChange=',"\n            ref=",'\n          />\n        </div>\n        <label for="toastuiAltTextInput">','</label>\n        <input\n          id="toastuiAltTextInput"\n          type="text"\n          ref=','\n        />\n        <div class="','">\n          <button type="button" class="','" onClick=',">\n            ",'\n          </button>\n          <button type="button" class="','" onClick=',">\n            ","\n          </button>\n        </div>\n      </div>\n    "],['\n      <div aria-label="','">\n        <'," tabs="," activeTab="," onClick=",' />\n        <div style="display:','">\n          <label for="toastuiImageUrlInput">','</label>\n          <input\n            id="toastuiImageUrlInput"\n            type="text"\n            ref=','\n          />\n        </div>\n        <div style="display:',';position: relative;">\n          <label for="toastuiImageFileInput">','</label>\n          <span\n            class="',"",'"\n            onClick=',"\n            onSelectstart=","\n          >\n            ",'\n          </span>\n          <button\n            type="button"\n            class="','"\n            onClick=',"\n          >\n            ",'\n          </button>\n          <input\n            id="toastuiImageFileInput"\n            type="file"\n            accept="image/*"\n            onChange=',"\n            ref=",'\n          />\n        </div>\n        <label for="toastuiAltTextInput">','</label>\n        <input\n          id="toastuiAltTextInput"\n          type="text"\n          ref=','\n        />\n        <div class="','">\n          <button type="button" class="','" onClick=',">\n            ",'\n          </button>\n          <button type="button" class="','" onClick=',">\n            ","\n          </button>\n        </div>\n      </div>\n    "])),E9.get("Insert image"),prt,this.tabs,n,this.toggleTab,"url"===n?"block":"none",E9.get("Image URL"),(function(e){return t.refs.url=e}),"file"===n?"block":"none",E9.get("Select image file"),ml("file-name"),r?" has-file":i,this.showFileSelectBox,this.preventSelectStart,r?r.name:E9.get("No file"),ml("file-select-button"),this.showFileSelectBox,E9.get("Choose a file"),this.changeFile,(function(e){return t.refs.file=e}),E9.get("Description"),(function(e){return t.refs.altText=e}),ml("button-container"),ml("close-button"),this.props.hidePopup,E9.get("Cancel"),ml("ok-button"),this.execCommand,E9.get("OK"))},e}(dnt),vrt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.execCommand=function(){var t=e.refs.url,n=e.refs.text;if(lu(t,"wrong"),lu(n,"wrong"),t.value.length<1)iu(t,"wrong");else{var r=$a(e.props.initialValues.linkUrl);r&&n.value.length<1?iu(n,"wrong"):e.props.execCommand("addLink",{linkUrl:t.value,linkText:n.value})}},e}return ya(e,t),e.prototype.initialize=function(){var t=this.props.initialValues,e=t.linkUrl,n=t.linkText,r=this.refs.url,i=this.refs.text;lu(r,"wrong"),lu(i,"wrong","disabled"),i.removeAttribute("disabled"),e&&(iu(i,"disabled"),i.setAttribute("disabled","disabled")),r.value=e||"",i.value=n||""},e.prototype.mounted=function(){this.initialize()},e.prototype.updated=function(t){!t.show&&this.props.show&&this.initialize()},e.prototype.render=function(){var t=this;return Ket(trt||(trt=ka(['\n      <div aria-label="','">\n        <label for="toastuiLinkUrlInput">','</label>\n        <input\n          id="toastuiLinkUrlInput"\n          type="text"\n          ref=','\n        />\n        <label for="toastuiLinkTextInput">','</label>\n        <input\n          id="toastuiLinkTextInput"\n          type="text"\n          ref=','\n        />\n        <div class="','">\n          <button type="button" class="','" onClick=',">\n            ",'\n          </button>\n          <button type="button" class="','" onClick=',">\n            ","\n          </button>\n        </div>\n      </div>\n    "],['\n      <div aria-label="','">\n        <label for="toastuiLinkUrlInput">','</label>\n        <input\n          id="toastuiLinkUrlInput"\n          type="text"\n          ref=','\n        />\n        <label for="toastuiLinkTextInput">','</label>\n        <input\n          id="toastuiLinkTextInput"\n          type="text"\n          ref=','\n        />\n        <div class="','">\n          <button type="button" class="','" onClick=',">\n            ",'\n          </button>\n          <button type="button" class="','" onClick=',">\n            ","\n          </button>\n        </div>\n      </div>\n    "])),E9.get("Insert link"),E9.get("URL"),(function(e){return t.refs.url=e}),E9.get("Link text"),(function(e){return t.refs.text=e}),ml("button-container"),ml("close-button"),this.props.hidePopup,E9.get("Cancel"),ml("ok-button"),this.execCommand,E9.get("OK"))},e}(dnt),grt=20,yrt=20,brt=5,wrt=14,krt=5,_rt=9,Trt=1,Ert=1,Crt=1,xrt=function(t){function e(e){var n=t.call(this,e)||this;return n.extendSelectionRange=function(t){var e=t.pageX,r=t.pageY,i=e-n.offsetRect.left,o=r-n.offsetRect.top,s=n.getSelectionRangeByOffset(i,o);n.setState(ba({},s))},n.execCommand=function(){n.props.execCommand("addTable",{rowCount:n.state.rowIdx+1,columnCount:n.state.colIdx+1})},n.state={rowIdx:-1,colIdx:-1},n}return ya(e,t),e.prototype.getDescription=function(){return-1===this.state.colIdx?"":this.state.colIdx+1+" x "+(this.state.rowIdx+1)},e.prototype.getBoundByRange=function(t,e){return{width:(t+1)*grt,height:(e+1)*yrt}},e.prototype.getRangeByOffset=function(t,e){return{colIdx:Math.floor(t/grt),rowIdx:Math.floor(e/yrt)}},e.prototype.getTableRange=function(){var t=this.state,e=t.colIdx,n=t.rowIdx,r=Math.max(e,krt),i=Math.max(n,brt);return e>=krt&&r<_rt&&(r+=1),n>=brt&&i<wrt&&(i+=1),{colIdx:r+1,rowIdx:i+1}},e.prototype.getSelectionAreaBound=function(){var t=this.getBoundByRange(this.state.colIdx,this.state.rowIdx),e=t.width,n=t.height;return e||n?{width:e-Crt,height:n-Crt,display:"block"}:{display:"none"}},e.prototype.getSelectionRangeByOffset=function(t,e){var n=this.getRangeByOffset(t,e);return n.rowIdx=Math.min(Math.max(n.rowIdx,Trt),wrt),n.colIdx=Math.min(Math.max(n.colIdx,Ert),_rt),n},e.prototype.updated=function(){if(this.props.show){if(-1===this.state.colIdx&&-1===this.state.rowIdx){var t=this.refs.tableEl.getBoundingClientRect(),e=t.left,n=t.top;this.offsetRect={left:window.pageXOffset+e,top:window.pageYOffset+n}}}else this.setState({colIdx:-1,rowIdx:-1})},e.prototype.createTableArea=function(t){for(var e=t.colIdx,n=t.rowIdx,r=[],i=0;i<n;i+=1){for(var o=[],s=0;s<e;s+=1){var a=ml("table-cell")+(i>0?"":" header");o.push(Ket(ert||(ert=ka(['<div class="','"></div>'],['<div class="','"></div>'])),a))}r.push(Ket(nrt||(nrt=ka(['<div class="','">',"</div>"],['<div class="','">',"</div>"])),ml("table-row"),o))}return Ket(rrt||(rrt=ka(['<div class="','">',"</div>"],['<div class="','">',"</div>"])),ml("table"),r)},e.prototype.render=function(){var t=this,e=this.getTableRange(),n=this.getSelectionAreaBound();return Ket(irt||(irt=ka(['\n      <div aria-label="','">\n        <div\n          class="','"\n          ref=',"\n          onMousemove=","\n          onClick=","\n        >\n          ",'\n          <div class="','" style=','></div>\n        </div>\n        <p class="','">',"</p>\n      </div>\n    "],['\n      <div aria-label="','">\n        <div\n          class="','"\n          ref=',"\n          onMousemove=","\n          onClick=","\n        >\n          ",'\n          <div class="','" style=','></div>\n        </div>\n        <p class="','">',"</p>\n      </div>\n    "])),E9.get("Insert table"),ml("table-selection"),(function(e){return t.refs.tableEl=e}),this.extendSelectionRange,this.execCommand,this.createTableArea(e),ml("table-selection-layer"),n,ml("table-description"),this.getDescription())},e}(dnt),Srt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ya(e,t),e.prototype.mounted=function(){this.refs.el.appendChild(this.props.body)},e.prototype.updated=function(t){this.refs.el.replaceChild(this.props.body,t.body)},e.prototype.render=function(){var t=this;return Ket(ort||(ort=ka(["<div ref=","></div>"],["<div ref=","></div>"])),(function(e){return t.refs.el=e}))},e}(dnt);function Irt(t){return Sa(t)?Nrt(t):t}function Art(){var t=document.createElement("label"),e=document.createElement("input"),n=document.createElement("span");t.className="scroll-sync active",e.type="checkbox",e.checked=!0,n.className="switch";var r=function(n){return e.addEventListener("change",(function(e){var r=e.target.checked;r?iu(t,"active"):lu(t,"active"),n("toggleScrollSync",{active:r})}))};return t.appendChild(e),t.appendChild(n),{name:"scrollSync",el:t,onMounted:r}}function Nrt(t){var e;switch(t){case"heading":e={name:"heading",className:"heading",tooltip:E9.get("Headings"),state:"heading"};break;case"bold":e={name:"bold",className:"bold",command:"bold",tooltip:E9.get("Bold"),state:"strong"};break;case"italic":e={name:"italic",className:"italic",command:"italic",tooltip:E9.get("Italic"),state:"emph"};break;case"strike":e={name:"strike",className:"strike",command:"strike",tooltip:E9.get("Strike"),state:"strike"};break;case"hr":e={name:"hr",className:"hrline",command:"hr",tooltip:E9.get("Line"),state:"thematicBreak"};break;case"quote":e={name:"quote",className:"quote",command:"blockQuote",tooltip:E9.get("Blockquote"),state:"blockQuote"};break;case"ul":e={name:"ul",className:"bullet-list",command:"bulletList",tooltip:E9.get("Unordered list"),state:"bulletList"};break;case"ol":e={name:"ol",className:"ordered-list",command:"orderedList",tooltip:E9.get("Ordered list"),state:"orderedList"};break;case"task":e={name:"task",className:"task-list",command:"taskList",tooltip:E9.get("Task"),state:"taskList"};break;case"table":e={name:"table",className:"table",tooltip:E9.get("Insert table"),state:"table"};break;case"image":e={name:"image",className:"image",tooltip:E9.get("Insert image")};break;case"link":e={name:"link",className:"link",tooltip:E9.get("Insert link")};break;case"code":e={name:"code",className:"code",command:"code",tooltip:E9.get("Code"),state:"code"};break;case"codeblock":e={name:"codeblock",className:"codeblock",command:"codeBlock",tooltip:E9.get("Insert CodeBlock"),state:"codeBlock"};break;case"indent":e={name:"indent",className:"indent",command:"indent",tooltip:E9.get("Indent"),state:"indent"};break;case"outdent":e={name:"outdent",className:"outdent",command:"outdent",tooltip:E9.get("Outdent"),state:"outdent"};break;case"scrollSync":e=Art();break;case"more":e={name:"more",className:"more",tooltip:E9.get("More")};break}return"scrollSync"!==e.name&&(e.className+=" "+ml("toolbar-icons")),e}function Ort(t,e){var n=e.el,r=e.pos,i=e.popup,o=e.initialValues;switch(t){case"heading":return{render:function(t){return Ket(srt||(srt=ka(["<"," ..."," />"],["<"," ..."," />"])),frt,t)},className:ml("popup-add-heading"),fromEl:n,pos:r};case"link":return{render:function(t){return Ket(art||(art=ka(["<"," ..."," />"],["<"," ..."," />"])),vrt,t)},className:ml("popup-add-link"),fromEl:n,pos:r,initialValues:o};case"image":return{render:function(t){return Ket(urt||(urt=ka(["<"," ..."," />"],["<"," ..."," />"])),mrt,t)},className:ml("popup-add-image"),fromEl:n,pos:r};case"table":return{render:function(t){return Ket(crt||(crt=ka(["<"," ..."," />"],["<"," ..."," />"])),xrt,t)},className:ml("popup-add-table"),fromEl:n,pos:r};case"customPopupBody":return i?ba({render:function(t){return Ket(lrt||(lrt=ka(["<"," ..."," body="," />"],["<"," ..."," body="," />"])),Srt,t,i.body)},fromEl:n,pos:r},i):null;default:return null}}function Drt(t){t.hidden=t.length===t.filter((function(t){return t.hidden})).length}function Mrt(t,e){var n=function(t){return t.hidden="scrollSync"===t.name&&e,t};return t.reduce((function(t,e){t.push(e.map((function(t){return n(Irt(t))})));var r=t[(t.length||1)-1];return r&&Drt(r),t}),[])}function Rrt(t,e){t.forEach((function(t){t.forEach((function(t){return t.hidden="scrollSync"===t.name&&e})),Drt(t)}))}var Lrt,Prt,Frt=20,jrt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.handleMousedown=function(t){Sl(t.target,"."+ml("popup"))||Sl(t.target,e.props.info.fromEl)||e.props.hidePopup()},e}return ya(e,t),e.prototype.mounted=function(){document.addEventListener("mousedown",this.handleMousedown),this.props.eventEmitter.listen("closePopup",this.props.hidePopup)},e.prototype.beforeDestroy=function(){document.removeEventListener("mousedown",this.handleMousedown)},e.prototype.updated=function(t){var e=this.props,n=e.show,r=e.info;if(n&&r.pos&&t.show!==n){var i=ba({},r.pos),o=this.refs.el.offsetWidth,s=Sl(this.refs.el,"."+ml("toolbar")),a=s.offsetWidth;i.left+o>=a&&(i.left=a-o-Frt),Gu(this.state.popupPos,i)||this.setState({popupPos:i})}},e.prototype.render=function(){var t=this,e=this.props,n=e.info,r=e.show,i=e.hidePopup,o=e.eventEmitter,s=e.execCommand,a=n||{},u=a.className,c=void 0===u?"":u,l=a.style,h=a.render,f=a.initialValues,p=void 0===f?{}:f,d=ba(ba({display:r?"block":"none"},l),this.state.popupPos);return Ket(Lrt||(Lrt=ka(['\n      <div\n        class="'," ",'"\n        style=',"\n        ref=",'\n        aria-role="dialog"\n      >\n        <div class="','">\n          ',"\n        </div>\n      </div>\n    "],['\n      <div\n        class="'," ",'"\n        style=',"\n        ref=",'\n        aria-role="dialog"\n      >\n        <div class="','">\n          ',"\n        </div>\n      </div>\n    "])),ml("popup"),c,d,(function(e){return t.refs.el=e}),ml("popup-body"),h&&h({eventEmitter:o,show:r,hidePopup:i,execCommand:s,initialValues:p}))},e}(dnt),Brt=6;function Vrt(t){return function(e){function n(t){var n=e.call(this,t)||this;return n.showTooltip=function(t){var e=n.props.item.tooltip;if(!n.props.disabled&&e){var r=n.getBound(t),i=r.left+Brt+"px",o=r.top+Brt+"px";Va(n.props.tooltipRef.current,{display:"block",left:i,top:o}),n.props.tooltipRef.current.querySelector(".text").textContent=e}},n.hideTooltip=function(){Va(n.props.tooltipRef.current,"display","none")},n.state={active:!1,disabled:t.disabled},n.addEvent(),n}return ya(n,e),n.prototype.addEvent=function(){var t=this,e=this.props,n=e.item,r=e.eventEmitter;n.state&&r.listen("changeToolbarState",(function(e){var r,i=e.toolbarState,o=null!==(r=i[n.state])&&void 0!==r?r:{},s=o.active,a=o.disabled;t.setState({active:!!s,disabled:null!==a&&void 0!==a?a:t.props.disabled})}))},n.prototype.getBound=function(t){var e=Il(t,Sl(t,"."+ml("toolbar"))),n=e.offsetLeft,r=e.offsetTop;return{left:n,top:t.offsetHeight+r}},n.prototype.render=function(){return Ket(Prt||(Prt=ka(["\n        <","\n          ...","\n          active=","\n          showTooltip=","\n          hideTooltip=","\n          getBound=","\n          disabled=","\n        />\n      "],["\n        <","\n          ...","\n          active=","\n          showTooltip=","\n          hideTooltip=","\n          getBound=","\n          disabled=","\n        />\n      "])),t,this.props,this.state.active,this.showTooltip,this.hideTooltip,this.getBound,this.state.disabled||this.props.disabled)},n}(dnt)}var Urt,qrt,Hrt,zrt,$rt,Grt,Wrt,Krt,Jrt,Xrt,Qrt,Yrt,Zrt,tit,eit=80,nit=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.showTooltip=function(){e.props.showTooltip(e.refs.el)},e.execCommand=function(){var t=e.props,n=t.item,r=t.execCommand,i=t.setPopupInfo,o=t.getBound,s=t.eventEmitter,a=n.command,u=n.name,c=n.popup;if(a)r(a);else{var l=c?"customPopupBody":u,h=s.emit("query","getPopupInitialValues",{popupName:l})[0],f=Ort(l,{el:e.refs.el,pos:o(e.refs.el),popup:c,initialValues:h});f&&i(f)}},e}return ya(e,t),e.prototype.mounted=function(){this.setItemWidth()},e.prototype.updated=function(t){t.item.name!==this.props.item.name&&this.setItemWidth()},e.prototype.setItemWidth=function(){var t=this.props,e=t.setItemWidth,n=t.item;e&&e(n.name,xl(this.refs.el)+(n.hidden?eit:0))},e.prototype.render=function(){var t=this,e=this.props,n=e.hideTooltip,r=e.disabled,i=e.item,o=e.active,s=ba({display:i.hidden?"none":null},i.style),a=(i.className||"")+(o?" active":"");return Ket(Urt||(Urt=ka(["\n      <button\n        ref=",'\n        type="button"\n        style=',"\n        class=","\n        onClick=","\n        onMouseover=","\n        onMouseout=","\n        disabled=","\n        aria-label=","\n      >\n        ","\n      </button>\n    "],["\n      <button\n        ref=",'\n        type="button"\n        style=',"\n        class=","\n        onClick=","\n        onMouseover=","\n        onMouseout=","\n        disabled=","\n        aria-label=","\n      >\n        ","\n      </button>\n    "])),(function(e){return t.refs.el=e}),s,a,this.execCommand,this.showTooltip,n,!!r,i.text||i.tooltip||"",i.text||"")},e}(dnt),rit=Vrt(nit),iit=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.showTooltip=function(){e.props.showTooltip(e.refs.el)},e.showPopup=function(){var t=Ort("customPopupBody",{el:e.refs.el,pos:e.props.getBound(e.refs.el),popup:e.props.item.popup});t&&e.props.setPopupInfo(t)},e}return ya(e,t),e.prototype.mounted=function(){var t=this.props,e=t.setItemWidth,n=t.item;this.refs.el.appendChild(n.el),e&&e(n.name,xl(this.refs.el)),n.onMounted&&n.onMounted(this.props.execCommand)},e.prototype.updated=function(t){var e,n=this.props,r=n.item,i=n.active,o=n.disabled;t.active===i&&t.disabled===o||null===(e=r.onUpdated)||void 0===e||e.call(r,{active:i,disabled:o})},e.prototype.render=function(){var t=this,e=this.props,n=e.disabled,r=e.item,i={display:r.hidden?"none":"inline-block"},o=function(t){return n?null:t};return Ket(qrt||(qrt=ka(["\n      <div\n        ref=","\n        style=","\n        class=","\n        onClick=","\n        onMouseover=","\n        onMouseout=","\n      ></div>\n    "],["\n      <div\n        ref=","\n        style=","\n        class=","\n        onClick=","\n        onMouseover=","\n        onMouseout=","\n      ></div>\n    "])),(function(e){return t.refs.el=e}),i,ml("toolbar-item-wrapper"),o(this.showPopup),o(this.showTooltip),o(this.props.hideTooltip))},e}(dnt),oit=Vrt(iit),sit=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ya(e,t),e.prototype.render=function(){var t=this,e=this.props,n=e.group,r=e.hiddenDivider,i=n.hidden?{display:"none"}:null,o=r?{display:"none"}:null;return Ket(zrt||(zrt=ka(['\n      <div class="','" style=',">\n        ",'\n        <div class="','" style=',"></div>\n      </div>\n    "],['\n      <div class="','" style=',">\n        ",'\n        <div class="','" style=',"></div>\n      </div>\n    "])),ml("toolbar-group"),i,n.map((function(e){var n=e.el?oit:rit;return Ket(Hrt||(Hrt=ka(["<"," key="," ..."," item="," />"],["<"," key="," ..."," item="," />"])),n,e.name,t.props,e)})),ml("toolbar-divider"),o)},e}(dnt),ait=4,uit=function(t){function e(e){var n=t.call(this,e)||this;return n.handleClickDocument=function(t){var e=t.target;Sl(e,"."+ml("dropdown-toolbar"))||Sl(e,".more")||n.setState({showDropdown:!1,dropdownPos:null})},n.showTooltip=function(){n.props.showTooltip(n.refs.el)},n.state={showDropdown:!1,dropdownPos:null},n}return ya(e,t),e.prototype.getBound=function(){var t=this.props.getBound(this.refs.el);return t.top+=ait,ba(ba({},t),{left:null,right:10})},e.prototype.mounted=function(){document.addEventListener("click",this.handleClickDocument)},e.prototype.updated=function(){this.state.showDropdown&&!this.state.dropdownPos&&this.setState({dropdownPos:this.getBound()})},e.prototype.beforeDestroy=function(){document.removeEventListener("click",this.handleClickDocument)},e.prototype.render=function(){var t=this,e=this.state,n=e.showDropdown,r=e.dropdownPos,i=this.props,o=i.disabled,s=i.item,a=i.items,u=i.hideTooltip,c=a.filter((function(t){return!t.hidden})),l=c.length?null:{display:"none"},h=n?null:{display:"none"};return Ket(Grt||(Grt=ka(['\n      <div class="','" style=',">\n        <button\n          ref=",'\n          type="button"\n          class=',"\n          onClick=","\n          onMouseover=","\n          onMouseout=","\n          disabled=",'\n        ></button>\n        <div\n          class="','"\n          style=',"\n          ref=","\n        >\n          ","\n        </div>\n      </div>\n    "],['\n      <div class="','" style=',">\n        <button\n          ref=",'\n          type="button"\n          class=',"\n          onClick=","\n          onMouseover=","\n          onMouseout=","\n          disabled=",'\n        ></button>\n        <div\n          class="','"\n          style=',"\n          ref=","\n        >\n          ","\n        </div>\n      </div>\n    "])),ml("toolbar-group"),l,(function(e){return t.refs.el=e}),s.className,(function(){return t.setState({showDropdown:!0})}),this.showTooltip,u,o,ml("dropdown-toolbar"),ba(ba({},h),r),(function(e){return t.refs.dropdownEl=e}),c.length?c.map((function(e,n){var r;return Ket($rt||($rt=ka(["\n                  <","\n                    group=","\n                    hiddenDivider=","\n                    ...","\n                  />\n                "],["\n                  <","\n                    group=","\n                    hiddenDivider=","\n                    ...","\n                  />\n                "])),sit,e,n===c.length-1||(null===(r=c[n+1])||void 0===r?void 0:r.hidden),t.props)})):null)},e}(dnt),cit=Vrt(uit),lit=50,hit=function(t){function e(e){var n=t.call(this,e)||this;return n.toggleTab=function(t,e){var r=n.props.eventEmitter;if(n.state.activeTab!==e){var i="write"===e?"changePreviewTabWrite":"changePreviewTabPreview";r.emit(i),n.setState({activeTab:e})}},n.setItemWidth=function(t,e){n.itemWidthMap[t]=e},n.setPopupInfo=function(t){n.setState({showPopup:!0,popupInfo:t})},n.openPopup=function(t,e){void 0===e&&(e={});var r=n.refs.el.querySelector("."+ml("toolbar-group")+" ."+t);if(r){var i=Il(r,Sl(r,"."+ml("toolbar"))),o=i.offsetLeft,s=i.offsetTop,a=Ort(t,{el:r,pos:{left:o,top:r.offsetHeight+s},initialValues:e});a&&n.setPopupInfo(a)}},n.hidePopup=function(){n.state.showPopup&&n.setState({showPopup:!1})},n.execCommand=function(t,e){var r=n.props.eventEmitter;r.emit("command",t,e),n.hidePopup()},n.tabs=[{name:"write",text:"Write"},{name:"preview",text:"Preview"}],n.itemWidthMap={},n.initialItems=Mrt(e.toolbarItems||[],n.hiddenScrollSync()),n.state={items:n.initialItems,dropdownItems:[],showPopup:!1,popupInfo:{},activeTab:"write"},n.tooltipRef={current:null},n.resizeObserver=new hrt((function(){return n.handleResize()})),n.addEvent(),n}return ya(e,t),e.prototype.insertToolbarItem=function(t,e){var n=t.groupIndex,r=t.itemIndex,i=this.initialItems[n];e=Irt(e),i?i.splice(r,0,e):this.initialItems.push([e]),this.setState(this.classifyToolbarItems())},e.prototype.removeToolbarItem=function(t){var e=this;Oa(this.initialItems,(function(n){var r=!1;return Oa(n,(function(i,o){return i.name!==t||(r=!0,n.splice(o,1),e.setState(e.classifyToolbarItems()),!1)})),!r}))},e.prototype.addEvent=function(){var t=this,e=this.props.eventEmitter;this.handleResize=wnt((function(){t.setState({items:t.initialItems,dropdownItems:[]}),t.setState(t.classifyToolbarItems())}),200),e.listen("openPopup",this.openPopup)},e.prototype.appendTooltipToRoot=function(){var t='<div class="'+ml("tooltip")+'" style="display:none">\n        <div class="arrow"></div>\n        <span class="text"></span>\n      </div>';this.tooltipRef.current=Cl(t,this.refs.el)},e.prototype.hiddenScrollSync=function(){return"wysiwyg"===this.props.editorType||"tab"===this.props.previewStyle},e.prototype.movePrevItemToDropdownToolbar=function(t,e,n,r){var i=function(t){var e=t.pop();e&&r.push(e)};if(t>1)i(n);else{var o=Wu(e);o&&i(o)}},e.prototype.classifyToolbarItems=function(){var t=this,e=0,n=this.refs.el.clientWidth,r=this.refs.el.querySelector("."+ml("toolbar-divider")),i=r?xl(r):0,o=[],s=[],a=!1;return this.initialItems.forEach((function(r,u){var c=[],l=[];r.forEach((function(r,i){r.hidden||(e+=t.itemWidthMap[r.name],e>n-lit?(a||(t.movePrevItemToDropdownToolbar(i,o,c,l),a=!0),l.push(r)):c.push(r))})),c.length&&(Drt(c),o.push(c)),l.length&&(Drt(l),s.push(l)),u<t.state.items.length-1&&(e+=i)})),{items:o,dropdownItems:s}},e.prototype.mounted=function(){"tab"===this.props.previewStyle&&this.props.eventEmitter.emit("changePreviewTabWrite",!0),this.setState(this.classifyToolbarItems()),this.appendTooltipToRoot(),this.resizeObserver.observe(this.refs.el)},e.prototype.updated=function(t){var e=this.props,n=e.editorType,r=e.previewStyle,i=e.eventEmitter,o=r!==t.previewStyle,s=n!==t.editorType;if(o||s){Rrt(this.initialItems,this.hiddenScrollSync());var a=this.classifyToolbarItems();(o||"tab"===r&&"markdown"===n)&&(i.emit("changePreviewTabWrite"),a.activeTab="write"),this.setState(a)}},e.prototype.beforeDestroy=function(){window.removeEventListener("resize",this.handleResize),this.resizeObserver.disconnect(),_l(this.tooltipRef.current)},e.prototype.render=function(){var t=this,e=this.props,n=e.previewStyle,r=e.eventEmitter,i=e.editorType,o=this.state,s=o.popupInfo,a=o.showPopup,u=o.activeTab,c=o.items,l=o.dropdownItems,h={eventEmitter:r,tooltipRef:this.tooltipRef,disabled:"markdown"===i&&"tab"===n&&"preview"===u,execCommand:this.execCommand,setPopupInfo:this.setPopupInfo},f="tab"===n?{borderTopLeftRadius:0}:null;return Ket(Krt||(Krt=ka(['\n      <div class="','">\n        <div\n          class="','"\n          style="display: ','"\n        >\n          <'," tabs="," activeTab="," onClick=",' />\n        </div>\n        <div\n          class="','"\n          ref=',"\n          style=","\n        >\n          ","\n          <","\n            item=","\n            items=","\n            ...","\n          />\n        </div>\n        <","\n          info=","\n          show=","\n          eventEmitter=","\n          hidePopup=","\n          execCommand=","\n        />\n      </div>\n    "],['\n      <div class="','">\n        <div\n          class="','"\n          style="display: ','"\n        >\n          <'," tabs="," activeTab="," onClick=",' />\n        </div>\n        <div\n          class="','"\n          ref=',"\n          style=","\n        >\n          ","\n          <","\n            item=","\n            items=","\n            ...","\n          />\n        </div>\n        <","\n          info=","\n          show=","\n          eventEmitter=","\n          hidePopup=","\n          execCommand=","\n        />\n      </div>\n    "])),ml("toolbar"),ml("md-tab-container"),"wysiwyg"===i||"vertical"===n?"none":"block",prt,this.tabs,u,this.toggleTab,ml("defaultUI-toolbar"),(function(e){return t.refs.el=e}),f,c.map((function(e,n){var r;return Ket(Wrt||(Wrt=ka(["\n              <","\n                group=","\n                hiddenDivider=","\n                setItemWidth=","\n                ...","\n              />\n            "],["\n              <","\n                group=","\n                hiddenDivider=","\n                setItemWidth=","\n                ...","\n              />\n            "])),sit,e,n===c.length-1||(null===(r=c[n+1])||void 0===r?void 0:r.hidden),t.setItemWidth,h)})),cit,Irt("more"),l,h,jrt,s,a,r,this.hidePopup,this.execCommand)},e}(dnt),fit=function(t){function e(e){var n=t.call(this,e)||this;return n.handleClickDocument=function(t){Sl(t.target,"."+ml("context-menu"))||n.setState({pos:null})},n.state={pos:null,menuGroups:[]},n.addEvent(),n}return ya(e,t),e.prototype.addEvent=function(){var t=this;this.props.eventEmitter.listen("contextmenu",(function(e){var n=e.pos,r=e.menuGroups;t.setState({pos:n,menuGroups:r})}))},e.prototype.mounted=function(){document.addEventListener("click",this.handleClickDocument)},e.prototype.beforeDestroy=function(){document.removeEventListener("click",this.handleClickDocument)},e.prototype.getMenuGroupElements=function(){var t=this,e=this.state,n=e.pos,r=e.menuGroups;return n?r.reduce((function(e,n){var r=[];return n.forEach((function(e){var n=e.label,i=e.className,o=void 0!==i&&i,s=e.disabled,a=e.onClick,u=function(){s||(a(),t.setState({pos:null}))};r.push(Ket(Jrt||(Jrt=ka(["\n                <li\n                  onClick=",'\n                  class="menu-item','"\n                  aria-role="menuitem"\n                >\n                  <span class="','">',"</span>\n                </li>\n              "],["\n                <li\n                  onClick=",'\n                  class="menu-item','"\n                  aria-role="menuitem"\n                >\n                  <span class="','">',"</span>\n                </li>\n              "])),u,s?" disabled":"",o,n))})),e.push(Ket(Xrt||(Xrt=ka(['<ul class="menu-group">\n              ',"\n            </ul>"],['<ul class="menu-group">\n              ',"\n            </ul>"])),r)),e}),[]):[]},e.prototype.render=function(){var t=ba({display:this.state.pos?"block":"none"},this.state.pos);return Ket(Qrt||(Qrt=ka(['<div class="','" style=',' aria-role="menu">\n      ',"\n    </div>"],['<div class="','" style=',' aria-role="menu">\n      ',"\n    </div>"])),ml("context-menu"),t,this.getMenuGroupElements())},e}(dnt),pit=function(t){function e(e){var n=t.call(this,e)||this;n.changeMode=function(t){t!==n.state.editorType&&n.setState({editorType:t})},n.changePreviewStyle=function(t){t!==n.state.previewStyle&&n.setState({previewStyle:t})},n.hide=function(){n.setState({hide:!0})},n.show=function(){n.setState({hide:!1})};var r=e.editorType,i=e.previewStyle;return n.state={editorType:r,previewStyle:i,hide:!1},n.addEvent(),n}return ya(e,t),e.prototype.mounted=function(){var t=this.props.slots,e=t.wwEditor,n=t.mdEditor,r=t.mdPreview;this.refs.wwContainer.appendChild(e),this.refs.mdContainer.insertAdjacentElement("afterbegin",n),this.refs.mdContainer.appendChild(r)},e.prototype.insertToolbarItem=function(t,e){this.toolbar.insertToolbarItem(t,e)},e.prototype.removeToolbarItem=function(t){this.toolbar.removeToolbarItem(t)},e.prototype.render=function(){var t=this,e=this.props,n=e.eventEmitter,r=e.hideModeSwitch,i=e.toolbarItems,o=e.theme,s=this.state,a=s.hide,u=s.previewStyle,c=s.editorType,l=a?" hidden":"",h=ml("markdown"===c?"md-mode":"ww-mode"),f=ml("md")+"-"+u+"-style",p=ml(["light"!==o,o+" "]);return Ket(Zrt||(Zrt=ka(['\n      <div\n        class="',"","",'"\n        ref=',"\n      >\n        <","\n          ref=","\n          eventEmitter=","\n          previewStyle=","\n          toolbarItems=","\n          editorType=",'\n        />\n        <div\n          class="'," ",'"\n          ref=','\n        >\n          <div class="','">\n            <div\n              class="'," ",'"\n              ref=','\n            >\n              <div class="','"></div>\n            </div>\n            <div\n              class="','"\n              ref=',"\n            />\n          </div>\n        </div>\n        ","\n        <"," eventEmitter="," />\n      </div>\n    "],['\n      <div\n        class="',"","",'"\n        ref=',"\n      >\n        <","\n          ref=","\n          eventEmitter=","\n          previewStyle=","\n          toolbarItems=","\n          editorType=",'\n        />\n        <div\n          class="'," ",'"\n          ref=','\n        >\n          <div class="','">\n            <div\n              class="'," ",'"\n              ref=','\n            >\n              <div class="','"></div>\n            </div>\n            <div\n              class="','"\n              ref=',"\n            />\n          </div>\n        </div>\n        ","\n        <"," eventEmitter="," />\n      </div>\n    "])),p,ml("defaultUI"),l,(function(e){return t.refs.el=e}),hit,(function(e){return t.toolbar=e}),n,u,i,c,ml("main"),h,(function(e){return t.refs.editorSection=e}),ml("main-container"),ml("md-container"),f,(function(e){return t.refs.mdContainer=e}),ml("md-splitter"),ml("ww-container"),(function(e){return t.refs.wwContainer=e}),!r&&Ket(Yrt||(Yrt=ka(["<"," eventEmitter="," editorType="," />"],["<"," eventEmitter="," editorType="," />"])),mnt,n,c),fit,n)},e.prototype.addEvent=function(){var t=this.props.eventEmitter;t.listen("hide",this.hide),t.listen("show",this.show),t.listen("changeMode",this.changeMode),t.listen("changePreviewStyle",this.changePreviewStyle)},e}(dnt),dit=function(t){function e(e){var n,r,i=t.call(this,e)||this,o=fnt(i.options.el,Ket(tit||(tit=ka(["\n        <","\n          ref=","\n          eventEmitter=","\n          slots=","\n          hideModeSwitch=","\n          toolbarItems=","\n          previewStyle=","\n          editorType=","\n          theme=","\n        />\n      "],["\n        <","\n          ref=","\n          eventEmitter=","\n          slots=","\n          hideModeSwitch=","\n          toolbarItems=","\n          previewStyle=","\n          editorType=","\n          theme=","\n        />\n      "])),pit,(function(t){return r=t}),i.eventEmitter,i.getEditorElements(),i.options.hideModeSwitch,i.options.toolbarItems,i.options.previewStyle,i.options.initialEditType,i.options.theme));return i.setMinHeight(i.options.minHeight),i.setHeight(i.options.height),i.defaultUI={insertToolbarItem:r.insertToolbarItem.bind(r),removeToolbarItem:r.removeToolbarItem.bind(r),destroy:o},null===(n=i.pluginInfo.toolbarItems)||void 0===n||n.forEach((function(t){var e=t.groupIndex,n=t.itemIndex,r=t.item;i.defaultUI.insertToolbarItem({groupIndex:e,itemIndex:n},r)})),i.eventEmitter.emit("loadUI",i),i}return ya(e,t),e.factory=function(t){return t.viewer?new Tet(t):new e(t)},e.prototype.insertToolbarItem=function(t,e){this.defaultUI.insertToolbarItem(t,e)},e.prototype.removeToolbarItem=function(t){this.defaultUI.removeToolbarItem(t)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.defaultUI.destroy()},e}(Bet);Bet.setLanguage(["en","en-US"],{Markdown:"Markdown",WYSIWYG:"WYSIWYG",Write:"Write",Preview:"Preview",Headings:"Headings",Paragraph:"Paragraph",Bold:"Bold",Italic:"Italic",Strike:"Strike",Code:"Inline code",Line:"Line",Blockquote:"Blockquote","Unordered list":"Unordered list","Ordered list":"Ordered list",Task:"Task",Indent:"Indent",Outdent:"Outdent","Insert link":"Insert link","Insert CodeBlock":"Insert codeBlock","Insert table":"Insert table","Insert image":"Insert image",Heading:"Heading","Image URL":"Image URL","Select image file":"Select image file","Choose a file":"Choose a file","No file":"No file",Description:"Description",OK:"OK",More:"More",Cancel:"Cancel",File:"File",URL:"URL","Link text":"Link text","Add row to up":"Add row to up","Add row to down":"Add row to down","Add column to left":"Add column to left","Add column to right":"Add column to right","Remove row":"Remove row","Remove column":"Remove column","Align column to left":"Align column to left","Align column to center":"Align column to center","Align column to right":"Align column to right","Remove table":"Remove table","Would you like to paste as table?":"Would you like to paste as table?","Text color":"Text color","Auto scroll enabled":"Auto scroll enabled","Auto scroll disabled":"Auto scroll disabled","Choose language":"Choose language"})},4870:function(t,e,n){"use strict";n.d(e,{Bj:function(){return o},Fl:function(){return qt},IU:function(){return St},Jd:function(){return T},PG:function(){return Tt},SU:function(){return jt},Um:function(){return wt},WL:function(){return Vt},X$:function(){return S},X3:function(){return xt},XI:function(){return Lt},Xl:function(){return It},dq:function(){return Mt},iH:function(){return Rt},j:function(){return C},lk:function(){return E},qj:function(){return bt},qq:function(){return b},yT:function(){return Ct}});var r=n(7139);let i;class o{constructor(t=!1){this.active=!0,this.effects=[],this.cleanups=[],!t&&i&&(this.parent=i,this.index=(i.scopes||(i.scopes=[])).push(this)-1)}run(t){if(this.active)try{return i=this,t()}finally{i=this.parent}else 0}on(){i=this}off(){i=this.parent}stop(t){if(this.active){let e,n;for(e=0,n=this.effects.length;e<n;e++)this.effects[e].stop();for(e=0,n=this.cleanups.length;e<n;e++)this.cleanups[e]();if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].stop(!0);if(this.parent&&!t){const t=this.parent.scopes.pop();t&&t!==this&&(this.parent.scopes[this.index]=t,t.index=this.index)}this.active=!1}}}function s(t,e=i){e&&e.active&&e.effects.push(t)}const a=t=>{const e=new Set(t);return e.w=0,e.n=0,e},u=t=>(t.w&d)>0,c=t=>(t.n&d)>0,l=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=d},h=t=>{const{deps:e}=t;if(e.length){let n=0;for(let r=0;r<e.length;r++){const i=e[r];u(i)&&!c(i)?i.delete(t):e[n++]=i,i.w&=~d,i.n&=~d}e.length=n}},f=new WeakMap;let p=0,d=1;const m=30;let v;const g=Symbol(""),y=Symbol("");class b{constructor(t,e=null,n){this.fn=t,this.scheduler=e,this.active=!0,this.deps=[],this.parent=void 0,s(this,n)}run(){if(!this.active)return this.fn();let t=v,e=k;while(t){if(t===this)return;t=t.parent}try{return this.parent=v,v=this,k=!0,d=1<<++p,p<=m?l(this):w(this),this.fn()}finally{p<=m&&h(this),d=1<<--p,v=this.parent,k=e,this.parent=void 0}}stop(){this.active&&(w(this),this.onStop&&this.onStop(),this.active=!1)}}function w(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let k=!0;const _=[];function T(){_.push(k),k=!1}function E(){const t=_.pop();k=void 0===t||t}function C(t,e,n){if(k&&v){let e=f.get(t);e||f.set(t,e=new Map);let r=e.get(n);r||e.set(n,r=a());const i=void 0;x(r,i)}}function x(t,e){let n=!1;p<=m?c(t)||(t.n|=d,n=!u(t)):n=!t.has(v),n&&(t.add(v),v.deps.push(t))}function S(t,e,n,i,o,s){const u=f.get(t);if(!u)return;let c=[];if("clear"===e)c=[...u.values()];else if("length"===n&&(0,r.kJ)(t))u.forEach(((t,e)=>{("length"===e||e>=i)&&c.push(t)}));else switch(void 0!==n&&c.push(u.get(n)),e){case"add":(0,r.kJ)(t)?(0,r.S0)(n)&&c.push(u.get("length")):(c.push(u.get(g)),(0,r._N)(t)&&c.push(u.get(y)));break;case"delete":(0,r.kJ)(t)||(c.push(u.get(g)),(0,r._N)(t)&&c.push(u.get(y)));break;case"set":(0,r._N)(t)&&c.push(u.get(g));break}if(1===c.length)c[0]&&I(c[0]);else{const t=[];for(const e of c)e&&t.push(...e);I(a(t))}}function I(t,e){for(const n of(0,r.kJ)(t)?t:[...t])(n!==v||n.allowRecurse)&&(n.scheduler?n.scheduler():n.run())}const A=(0,r.fY)("__proto__,__v_isRef,__isVue"),N=new Set(Object.getOwnPropertyNames(Symbol).map((t=>Symbol[t])).filter(r.yk)),O=P(),D=P(!1,!0),M=P(!0),R=L();function L(){const t={};return["includes","indexOf","lastIndexOf"].forEach((e=>{t[e]=function(...t){const n=St(this);for(let e=0,i=this.length;e<i;e++)C(n,"get",e+"");const r=n[e](...t);return-1===r||!1===r?n[e](...t.map(St)):r}})),["push","pop","shift","unshift","splice"].forEach((e=>{t[e]=function(...t){T();const n=St(this)[e].apply(this,t);return E(),n}})),t}function P(t=!1,e=!1){return function(n,i,o){if("__v_isReactive"===i)return!t;if("__v_isReadonly"===i)return t;if("__v_isShallow"===i)return e;if("__v_raw"===i&&o===(t?e?vt:mt:e?dt:pt).get(n))return n;const s=(0,r.kJ)(n);if(!t&&s&&(0,r.RI)(R,i))return Reflect.get(R,i,o);const a=Reflect.get(n,i,o);if((0,r.yk)(i)?N.has(i):A(i))return a;if(t||C(n,"get",i),e)return a;if(Mt(a)){const t=!s||!(0,r.S0)(i);return t?a.value:a}return(0,r.Kn)(a)?t?kt(a):bt(a):a}}const F=B(),j=B(!0);function B(t=!1){return function(e,n,i,o){let s=e[n];if(Et(s)&&Mt(s)&&!Mt(i))return!1;if(!t&&!Et(i)&&(Ct(i)||(i=St(i),s=St(s)),!(0,r.kJ)(e)&&Mt(s)&&!Mt(i)))return s.value=i,!0;const a=(0,r.kJ)(e)&&(0,r.S0)(n)?Number(n)<e.length:(0,r.RI)(e,n),u=Reflect.set(e,n,i,o);return e===St(o)&&(a?(0,r.aU)(i,s)&&S(e,"set",n,i,s):S(e,"add",n,i)),u}}function V(t,e){const n=(0,r.RI)(t,e),i=t[e],o=Reflect.deleteProperty(t,e);return o&&n&&S(t,"delete",e,void 0,i),o}function U(t,e){const n=Reflect.has(t,e);return(0,r.yk)(e)&&N.has(e)||C(t,"has",e),n}function q(t){return C(t,"iterate",(0,r.kJ)(t)?"length":g),Reflect.ownKeys(t)}const H={get:O,set:F,deleteProperty:V,has:U,ownKeys:q},z={get:M,set(t,e){return!0},deleteProperty(t,e){return!0}},$=(0,r.l7)({},H,{get:D,set:j}),G=t=>t,W=t=>Reflect.getPrototypeOf(t);function K(t,e,n=!1,r=!1){t=t["__v_raw"];const i=St(t),o=St(e);e!==o&&!n&&C(i,"get",e),!n&&C(i,"get",o);const{has:s}=W(i),a=r?G:n?Nt:At;return s.call(i,e)?a(t.get(e)):s.call(i,o)?a(t.get(o)):void(t!==i&&t.get(e))}function J(t,e=!1){const n=this["__v_raw"],r=St(n),i=St(t);return t!==i&&!e&&C(r,"has",t),!e&&C(r,"has",i),t===i?n.has(t):n.has(t)||n.has(i)}function X(t,e=!1){return t=t["__v_raw"],!e&&C(St(t),"iterate",g),Reflect.get(t,"size",t)}function Q(t){t=St(t);const e=St(this),n=W(e),r=n.has.call(e,t);return r||(e.add(t),S(e,"add",t,t)),this}function Y(t,e){e=St(e);const n=St(this),{has:i,get:o}=W(n);let s=i.call(n,t);s||(t=St(t),s=i.call(n,t));const a=o.call(n,t);return n.set(t,e),s?(0,r.aU)(e,a)&&S(n,"set",t,e,a):S(n,"add",t,e),this}function Z(t){const e=St(this),{has:n,get:r}=W(e);let i=n.call(e,t);i||(t=St(t),i=n.call(e,t));const o=r?r.call(e,t):void 0,s=e.delete(t);return i&&S(e,"delete",t,void 0,o),s}function tt(){const t=St(this),e=0!==t.size,n=void 0,r=t.clear();return e&&S(t,"clear",void 0,void 0,n),r}function et(t,e){return function(n,r){const i=this,o=i["__v_raw"],s=St(o),a=e?G:t?Nt:At;return!t&&C(s,"iterate",g),o.forEach(((t,e)=>n.call(r,a(t),a(e),i)))}}function nt(t,e,n){return function(...i){const o=this["__v_raw"],s=St(o),a=(0,r._N)(s),u="entries"===t||t===Symbol.iterator&&a,c="keys"===t&&a,l=o[t](...i),h=n?G:e?Nt:At;return!e&&C(s,"iterate",c?y:g),{next(){const{value:t,done:e}=l.next();return e?{value:t,done:e}:{value:u?[h(t[0]),h(t[1])]:h(t),done:e}},[Symbol.iterator](){return this}}}}function rt(t){return function(...e){return"delete"!==t&&this}}function it(){const t={get(t){return K(this,t)},get size(){return X(this)},has:J,add:Q,set:Y,delete:Z,clear:tt,forEach:et(!1,!1)},e={get(t){return K(this,t,!1,!0)},get size(){return X(this)},has:J,add:Q,set:Y,delete:Z,clear:tt,forEach:et(!1,!0)},n={get(t){return K(this,t,!0)},get size(){return X(this,!0)},has(t){return J.call(this,t,!0)},add:rt("add"),set:rt("set"),delete:rt("delete"),clear:rt("clear"),forEach:et(!0,!1)},r={get(t){return K(this,t,!0,!0)},get size(){return X(this,!0)},has(t){return J.call(this,t,!0)},add:rt("add"),set:rt("set"),delete:rt("delete"),clear:rt("clear"),forEach:et(!0,!0)},i=["keys","values","entries",Symbol.iterator];return i.forEach((i=>{t[i]=nt(i,!1,!1),n[i]=nt(i,!0,!1),e[i]=nt(i,!1,!0),r[i]=nt(i,!0,!0)})),[t,n,e,r]}const[ot,st,at,ut]=it();function ct(t,e){const n=e?t?ut:at:t?st:ot;return(e,i,o)=>"__v_isReactive"===i?!t:"__v_isReadonly"===i?t:"__v_raw"===i?e:Reflect.get((0,r.RI)(n,i)&&i in e?n:e,i,o)}const lt={get:ct(!1,!1)},ht={get:ct(!1,!0)},ft={get:ct(!0,!1)};const pt=new WeakMap,dt=new WeakMap,mt=new WeakMap,vt=new WeakMap;function gt(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function yt(t){return t["__v_skip"]||!Object.isExtensible(t)?0:gt((0,r.W7)(t))}function bt(t){return Et(t)?t:_t(t,!1,H,lt,pt)}function wt(t){return _t(t,!1,$,ht,dt)}function kt(t){return _t(t,!0,z,ft,mt)}function _t(t,e,n,i,o){if(!(0,r.Kn)(t))return t;if(t["__v_raw"]&&(!e||!t["__v_isReactive"]))return t;const s=o.get(t);if(s)return s;const a=yt(t);if(0===a)return t;const u=new Proxy(t,2===a?i:n);return o.set(t,u),u}function Tt(t){return Et(t)?Tt(t["__v_raw"]):!(!t||!t["__v_isReactive"])}function Et(t){return!(!t||!t["__v_isReadonly"])}function Ct(t){return!(!t||!t["__v_isShallow"])}function xt(t){return Tt(t)||Et(t)}function St(t){const e=t&&t["__v_raw"];return e?St(e):t}function It(t){return(0,r.Nj)(t,"__v_skip",!0),t}const At=t=>(0,r.Kn)(t)?bt(t):t,Nt=t=>(0,r.Kn)(t)?kt(t):t;function Ot(t){k&&v&&(t=St(t),x(t.dep||(t.dep=a())))}function Dt(t,e){t=St(t),t.dep&&I(t.dep)}function Mt(t){return!(!t||!0!==t.__v_isRef)}function Rt(t){return Pt(t,!1)}function Lt(t){return Pt(t,!0)}function Pt(t,e){return Mt(t)?t:new Ft(t,e)}class Ft{constructor(t,e){this.__v_isShallow=e,this.dep=void 0,this.__v_isRef=!0,this._rawValue=e?t:St(t),this._value=e?t:At(t)}get value(){return Ot(this),this._value}set value(t){t=this.__v_isShallow?t:St(t),(0,r.aU)(t,this._rawValue)&&(this._rawValue=t,this._value=this.__v_isShallow?t:At(t),Dt(this,t))}}function jt(t){return Mt(t)?t.value:t}const Bt={get:(t,e,n)=>jt(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return Mt(i)&&!Mt(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function Vt(t){return Tt(t)?t:new Proxy(t,Bt)}class Ut{constructor(t,e,n,r){this._setter=e,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new b(t,(()=>{this._dirty||(this._dirty=!0,Dt(this))})),this.effect.computed=this,this.effect.active=this._cacheable=!r,this["__v_isReadonly"]=n}get value(){const t=St(this);return Ot(t),!t._dirty&&t._cacheable||(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function qt(t,e,n=!1){let i,o;const s=(0,r.mf)(t);s?(i=t,o=r.dG):(i=t.get,o=t.set);const a=new Ut(i,o,s||!o,n);return a}Promise.resolve()},3396:function(t,e,n){"use strict";n.d(e,{$d:function(){return s},FN:function(){return dn},Fl:function(){return Nn},HY:function(){return Ne},JJ:function(){return J},Ko:function(){return sn},P$:function(){return st},Q6:function(){return ft},U2:function(){return ut},Us:function(){return be},Wm:function(){return Ke},Y3:function(){return _},Y8:function(){return rt},YP:function(){return Y},_:function(){return We},aZ:function(){return pt},f3:function(){return X},h:function(){return On},iD:function(){return Ue},ic:function(){return It},nK:function(){return ht},uE:function(){return Ze},up:function(){return xe},w5:function(){return V},wg:function(){return Pe},wy:function(){return he}});n(1703);var r=n(4870),i=n(7139);function o(t,e,n,r){let i;try{i=r?t(...r):t()}catch(o){a(o,e,n)}return i}function s(t,e,n,r){if((0,i.mf)(t)){const s=o(t,e,n,r);return s&&(0,i.tI)(s)&&s.catch((t=>{a(t,e,n)})),s}const u=[];for(let i=0;i<t.length;i++)u.push(s(t[i],e,n,r));return u}function a(t,e,n,r=!0){const i=e?e.vnode:null;if(e){let r=e.parent;const i=e.proxy,s=n;while(r){const e=r.ec;if(e)for(let n=0;n<e.length;n++)if(!1===e[n](t,i,s))return;r=r.parent}const a=e.appContext.config.errorHandler;if(a)return void o(a,null,10,[t,i,s])}u(t,n,i,r)}function u(t,e,n,r=!0){console.error(t)}let c=!1,l=!1;const h=[];let f=0;const p=[];let d=null,m=0;const v=[];let g=null,y=0;const b=Promise.resolve();let w=null,k=null;function _(t){const e=w||b;return t?e.then(this?t.bind(this):t):e}function T(t){let e=f+1,n=h.length;while(e<n){const r=e+n>>>1,i=D(h[r]);i<t?e=r+1:n=r}return e}function E(t){h.length&&h.includes(t,c&&t.allowRecurse?f+1:f)||t===k||(null==t.id?h.push(t):h.splice(T(t.id),0,t),C())}function C(){c||l||(l=!0,w=b.then(M))}function x(t){const e=h.indexOf(t);e>f&&h.splice(e,1)}function S(t,e,n,r){(0,i.kJ)(t)?n.push(...t):e&&e.includes(t,t.allowRecurse?r+1:r)||n.push(t),C()}function I(t){S(t,d,p,m)}function A(t){S(t,g,v,y)}function N(t,e=null){if(p.length){for(k=e,d=[...new Set(p)],p.length=0,m=0;m<d.length;m++)d[m]();d=null,m=0,k=null,N(t,e)}}function O(t){if(v.length){const t=[...new Set(v)];if(v.length=0,g)return void g.push(...t);for(g=t,g.sort(((t,e)=>D(t)-D(e))),y=0;y<g.length;y++)g[y]();g=null,y=0}}const D=t=>null==t.id?1/0:t.id;function M(t){l=!1,c=!0,N(t),h.sort(((t,e)=>D(t)-D(e)));i.dG;try{for(f=0;f<h.length;f++){const t=h[f];t&&!1!==t.active&&o(t,null,14)}}finally{f=0,h.length=0,O(t),c=!1,w=null,(h.length||p.length||v.length)&&M(t)}}new Set;new Map;function R(t,e,...n){const r=t.vnode.props||i.kT;let o=n;const a=e.startsWith("update:"),u=a&&e.slice(7);if(u&&u in r){const t=`${"modelValue"===u?"model":u}Modifiers`,{number:e,trim:s}=r[t]||i.kT;s?o=n.map((t=>t.trim())):e&&(o=n.map(i.He))}let c;let l=r[c=(0,i.hR)(e)]||r[c=(0,i.hR)((0,i._A)(e))];!l&&a&&(l=r[c=(0,i.hR)((0,i.rs)(e))]),l&&s(l,t,6,o);const h=r[c+"Once"];if(h){if(t.emitted){if(t.emitted[c])return}else t.emitted={};t.emitted[c]=!0,s(h,t,6,o)}}function L(t,e,n=!1){const r=e.emitsCache,o=r.get(t);if(void 0!==o)return o;const s=t.emits;let a={},u=!1;if(!(0,i.mf)(t)){const r=t=>{const n=L(t,e,!0);n&&(u=!0,(0,i.l7)(a,n))};!n&&e.mixins.length&&e.mixins.forEach(r),t.extends&&r(t.extends),t.mixins&&t.mixins.forEach(r)}return s||u?((0,i.kJ)(s)?s.forEach((t=>a[t]=null)):(0,i.l7)(a,s),r.set(t,a),a):(r.set(t,null),null)}function P(t,e){return!(!t||!(0,i.F7)(e))&&(e=e.slice(2).replace(/Once$/,""),(0,i.RI)(t,e[0].toLowerCase()+e.slice(1))||(0,i.RI)(t,(0,i.rs)(e))||(0,i.RI)(t,e))}let F=null,j=null;function B(t){const e=F;return F=t,j=t&&t.type.__scopeId||null,e}function V(t,e=F,n){if(!e)return t;if(t._n)return t;const r=(...n)=>{r._d&&Be(-1);const i=B(e),o=t(...n);return B(i),r._d&&Be(1),o};return r._n=!0,r._c=!0,r._d=!0,r}function U(t){const{type:e,vnode:n,proxy:r,withProxy:o,props:s,propsOptions:[u],slots:c,attrs:l,emit:h,render:f,renderCache:p,data:d,setupState:m,ctx:v,inheritAttrs:g}=t;let y,b;const w=B(t);try{if(4&n.shapeFlag){const t=o||r;y=tn(f.call(t,t,p,s,m,d,v)),b=l}else{const t=e;0,y=tn(t.length>1?t(s,{attrs:l,slots:c,emit:h}):t(s,null)),b=e.props?l:q(l)}}catch(_){Re.length=0,a(_,t,1),y=Ke(De)}let k=y;if(b&&!1!==g){const t=Object.keys(b),{shapeFlag:e}=k;t.length&&7&e&&(u&&t.some(i.tR)&&(b=H(b,u)),k=Qe(k,b))}return n.dirs&&(k.dirs=k.dirs?k.dirs.concat(n.dirs):n.dirs),n.transition&&(k.transition=n.transition),y=k,B(w),y}const q=t=>{let e;for(const n in t)("class"===n||"style"===n||(0,i.F7)(n))&&((e||(e={}))[n]=t[n]);return e},H=(t,e)=>{const n={};for(const r in t)(0,i.tR)(r)&&r.slice(9)in e||(n[r]=t[r]);return n};function z(t,e,n){const{props:r,children:i,component:o}=t,{props:s,children:a,patchFlag:u}=e,c=o.emitsOptions;if(e.dirs||e.transition)return!0;if(!(n&&u>=0))return!(!i&&!a||a&&a.$stable)||r!==s&&(r?!s||$(r,s,c):!!s);if(1024&u)return!0;if(16&u)return r?$(r,s,c):!!s;if(8&u){const t=e.dynamicProps;for(let e=0;e<t.length;e++){const n=t[e];if(s[n]!==r[n]&&!P(c,n))return!0}}return!1}function $(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const o=r[i];if(e[o]!==t[o]&&!P(n,o))return!0}return!1}function G({vnode:t,parent:e},n){while(e&&e.subTree===t)(t=e.vnode).el=n,e=e.parent}const W=t=>t.__isSuspense;function K(t,e){e&&e.pendingBranch?(0,i.kJ)(t)?e.effects.push(...t):e.effects.push(t):A(t)}function J(t,e){if(pn){let n=pn.provides;const r=pn.parent&&pn.parent.provides;r===n&&(n=pn.provides=Object.create(r)),n[t]=e}else 0}function X(t,e,n=!1){const r=pn||F;if(r){const o=null==r.parent?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(o&&t in o)return o[t];if(arguments.length>1)return n&&(0,i.mf)(e)?e.call(r.proxy):e}else 0}const Q={};function Y(t,e,n){return Z(t,e,n)}function Z(t,e,{immediate:n,deep:a,flush:u,onTrack:c,onTrigger:l}=i.kT){const h=pn;let f,p,d=!1,m=!1;if((0,r.dq)(t)?(f=()=>t.value,d=(0,r.yT)(t)):(0,r.PG)(t)?(f=()=>t,a=!0):(0,i.kJ)(t)?(m=!0,d=t.some(r.PG),f=()=>t.map((t=>(0,r.dq)(t)?t.value:(0,r.PG)(t)?nt(t):(0,i.mf)(t)?o(t,h,2):void 0))):f=(0,i.mf)(t)?e?()=>o(t,h,2):()=>{if(!h||!h.isUnmounted)return p&&p(),s(t,h,3,[v])}:i.dG,e&&a){const t=f;f=()=>nt(t())}let v=t=>{p=w.onStop=()=>{o(t,h,4)}};if(wn)return v=i.dG,e?n&&s(e,h,3,[f(),m?[]:void 0,v]):f(),i.dG;let g=m?[]:Q;const y=()=>{if(w.active)if(e){const t=w.run();(a||d||(m?t.some(((t,e)=>(0,i.aU)(t,g[e]))):(0,i.aU)(t,g)))&&(p&&p(),s(e,h,3,[t,g===Q?void 0:g,v]),g=t)}else w.run()};let b;y.allowRecurse=!!e,b="sync"===u?y:"post"===u?()=>ye(y,h&&h.suspense):()=>{!h||h.isMounted?I(y):y()};const w=new r.qq(f,b);return e?n?y():g=w.run():"post"===u?ye(w.run.bind(w),h&&h.suspense):w.run(),()=>{w.stop(),h&&h.scope&&(0,i.Od)(h.scope.effects,w)}}function tt(t,e,n){const r=this.proxy,o=(0,i.HD)(t)?t.includes(".")?et(r,t):()=>r[t]:t.bind(r,r);let s;(0,i.mf)(e)?s=e:(s=e.handler,n=e);const a=pn;mn(this);const u=Z(o,s.bind(r),n);return a?mn(a):vn(),u}function et(t,e){const n=e.split(".");return()=>{let e=t;for(let t=0;t<n.length&&e;t++)e=e[n[t]];return e}}function nt(t,e){if(!(0,i.Kn)(t)||t["__v_skip"])return t;if(e=e||new Set,e.has(t))return t;if(e.add(t),(0,r.dq)(t))nt(t.value,e);else if((0,i.kJ)(t))for(let n=0;n<t.length;n++)nt(t[n],e);else if((0,i.DM)(t)||(0,i._N)(t))t.forEach((t=>{nt(t,e)}));else if((0,i.PO)(t))for(const n in t)nt(t[n],e);return t}function rt(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return xt((()=>{t.isMounted=!0})),At((()=>{t.isUnmounting=!0})),t}const it=[Function,Array],ot={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:it,onEnter:it,onAfterEnter:it,onEnterCancelled:it,onBeforeLeave:it,onLeave:it,onAfterLeave:it,onLeaveCancelled:it,onBeforeAppear:it,onAppear:it,onAfterAppear:it,onAppearCancelled:it},setup(t,{slots:e}){const n=dn(),i=rt();let o;return()=>{const s=e.default&&ft(e.default(),!0);if(!s||!s.length)return;const a=(0,r.IU)(t),{mode:u}=a;const c=s[0];if(i.isLeaving)return ct(c);const l=lt(c);if(!l)return ct(c);const h=ut(l,a,i,n);ht(l,h);const f=n.subTree,p=f&&lt(f);let d=!1;const{getTransitionKey:m}=l.type;if(m){const t=m();void 0===o?o=t:t!==o&&(o=t,d=!0)}if(p&&p.type!==De&&(!He(l,p)||d)){const t=ut(p,a,i,n);if(ht(p,t),"out-in"===u)return i.isLeaving=!0,t.afterLeave=()=>{i.isLeaving=!1,n.update()},ct(c);"in-out"===u&&l.type!==De&&(t.delayLeave=(t,e,n)=>{const r=at(i,p);r[String(p.key)]=p,t._leaveCb=()=>{e(),t._leaveCb=void 0,delete h.delayedLeave},h.delayedLeave=n})}return c}}},st=ot;function at(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function ut(t,e,n,r){const{appear:i,mode:o,persisted:a=!1,onBeforeEnter:u,onEnter:c,onAfterEnter:l,onEnterCancelled:h,onBeforeLeave:f,onLeave:p,onAfterLeave:d,onLeaveCancelled:m,onBeforeAppear:v,onAppear:g,onAfterAppear:y,onAppearCancelled:b}=e,w=String(t.key),k=at(n,t),_=(t,e)=>{t&&s(t,r,9,e)},T={mode:o,persisted:a,beforeEnter(e){let r=u;if(!n.isMounted){if(!i)return;r=v||u}e._leaveCb&&e._leaveCb(!0);const o=k[w];o&&He(t,o)&&o.el._leaveCb&&o.el._leaveCb(),_(r,[e])},enter(t){let e=c,r=l,o=h;if(!n.isMounted){if(!i)return;e=g||c,r=y||l,o=b||h}let s=!1;const a=t._enterCb=e=>{s||(s=!0,_(e?o:r,[t]),T.delayedLeave&&T.delayedLeave(),t._enterCb=void 0)};e?(e(t,a),e.length<=1&&a()):a()},leave(e,r){const i=String(t.key);if(e._enterCb&&e._enterCb(!0),n.isUnmounting)return r();_(f,[e]);let o=!1;const s=e._leaveCb=n=>{o||(o=!0,r(),_(n?m:d,[e]),e._leaveCb=void 0,k[i]===t&&delete k[i])};k[i]=t,p?(p(e,s),p.length<=1&&s()):s()},clone(t){return ut(t,e,n,r)}};return T}function ct(t){if(mt(t))return t=Qe(t),t.children=null,t}function lt(t){return mt(t)?t.children?t.children[0]:void 0:t}function ht(t,e){6&t.shapeFlag&&t.component?ht(t.component.subTree,e):128&t.shapeFlag?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function ft(t,e=!1){let n=[],r=0;for(let i=0;i<t.length;i++){const o=t[i];o.type===Ne?(128&o.patchFlag&&r++,n=n.concat(ft(o.children,e))):(e||o.type!==De)&&n.push(o)}if(r>1)for(let i=0;i<n.length;i++)n[i].patchFlag=-2;return n}function pt(t){return(0,i.mf)(t)?{setup:t,name:t.name}:t}const dt=t=>!!t.type.__asyncLoader;const mt=t=>t.type.__isKeepAlive;RegExp,RegExp;function vt(t,e){return(0,i.kJ)(t)?t.some((t=>vt(t,e))):(0,i.HD)(t)?t.split(",").includes(e):!!t.test&&t.test(e)}function gt(t,e){bt(t,"a",e)}function yt(t,e){bt(t,"da",e)}function bt(t,e,n=pn){const r=t.__wdc||(t.__wdc=()=>{let e=n;while(e){if(e.isDeactivated)return;e=e.parent}return t()});if(Tt(e,r,n),n){let t=n.parent;while(t&&t.parent)mt(t.parent.vnode)&&wt(r,e,n,t),t=t.parent}}function wt(t,e,n,r){const o=Tt(e,t,r,!0);Nt((()=>{(0,i.Od)(r[e],o)}),n)}function kt(t){let e=t.shapeFlag;256&e&&(e-=256),512&e&&(e-=512),t.shapeFlag=e}function _t(t){return 128&t.shapeFlag?t.ssContent:t}function Tt(t,e,n=pn,i=!1){if(n){const o=n[t]||(n[t]=[]),a=e.__weh||(e.__weh=(...i)=>{if(n.isUnmounted)return;(0,r.Jd)(),mn(n);const o=s(e,n,t,i);return vn(),(0,r.lk)(),o});return i?o.unshift(a):o.push(a),a}}const Et=t=>(e,n=pn)=>(!wn||"sp"===t)&&Tt(t,e,n),Ct=Et("bm"),xt=Et("m"),St=Et("bu"),It=Et("u"),At=Et("bum"),Nt=Et("um"),Ot=Et("sp"),Dt=Et("rtg"),Mt=Et("rtc");function Rt(t,e=pn){Tt("ec",t,e)}let Lt=!0;function Pt(t){const e=Vt(t),n=t.proxy,o=t.ctx;Lt=!1,e.beforeCreate&&jt(e.beforeCreate,t,"bc");const{data:s,computed:a,methods:u,watch:c,provide:l,inject:h,created:f,beforeMount:p,mounted:d,beforeUpdate:m,updated:v,activated:g,deactivated:y,beforeDestroy:b,beforeUnmount:w,destroyed:k,unmounted:_,render:T,renderTracked:E,renderTriggered:C,errorCaptured:x,serverPrefetch:S,expose:I,inheritAttrs:A,components:N,directives:O,filters:D}=e,M=null;if(h&&Ft(h,o,M,t.appContext.config.unwrapInjectedRef),u)for(const r in u){const t=u[r];(0,i.mf)(t)&&(o[r]=t.bind(n))}if(s){0;const e=s.call(n,n);0,(0,i.Kn)(e)&&(t.data=(0,r.qj)(e))}if(Lt=!0,a)for(const r in a){const t=a[r],e=(0,i.mf)(t)?t.bind(n,n):(0,i.mf)(t.get)?t.get.bind(n,n):i.dG;0;const s=!(0,i.mf)(t)&&(0,i.mf)(t.set)?t.set.bind(n):i.dG,u=Nn({get:e,set:s});Object.defineProperty(o,r,{enumerable:!0,configurable:!0,get:()=>u.value,set:t=>u.value=t})}if(c)for(const r in c)Bt(c[r],o,n,r);if(l){const t=(0,i.mf)(l)?l.call(n):l;Reflect.ownKeys(t).forEach((e=>{J(e,t[e])}))}function R(t,e){(0,i.kJ)(e)?e.forEach((e=>t(e.bind(n)))):e&&t(e.bind(n))}if(f&&jt(f,t,"c"),R(Ct,p),R(xt,d),R(St,m),R(It,v),R(gt,g),R(yt,y),R(Rt,x),R(Mt,E),R(Dt,C),R(At,w),R(Nt,_),R(Ot,S),(0,i.kJ)(I))if(I.length){const e=t.exposed||(t.exposed={});I.forEach((t=>{Object.defineProperty(e,t,{get:()=>n[t],set:e=>n[t]=e})}))}else t.exposed||(t.exposed={});T&&t.render===i.dG&&(t.render=T),null!=A&&(t.inheritAttrs=A),N&&(t.components=N),O&&(t.directives=O)}function Ft(t,e,n=i.dG,o=!1){(0,i.kJ)(t)&&(t=$t(t));for(const s in t){const n=t[s];let a;a=(0,i.Kn)(n)?"default"in n?X(n.from||s,n.default,!0):X(n.from||s):X(n),(0,r.dq)(a)&&o?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>a.value,set:t=>a.value=t}):e[s]=a}}function jt(t,e,n){s((0,i.kJ)(t)?t.map((t=>t.bind(e.proxy))):t.bind(e.proxy),e,n)}function Bt(t,e,n,r){const o=r.includes(".")?et(n,r):()=>n[r];if((0,i.HD)(t)){const n=e[t];(0,i.mf)(n)&&Y(o,n)}else if((0,i.mf)(t))Y(o,t.bind(n));else if((0,i.Kn)(t))if((0,i.kJ)(t))t.forEach((t=>Bt(t,e,n,r)));else{const r=(0,i.mf)(t.handler)?t.handler.bind(n):e[t.handler];(0,i.mf)(r)&&Y(o,r,t)}else 0}function Vt(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:o,config:{optionMergeStrategies:s}}=t.appContext,a=o.get(e);let u;return a?u=a:i.length||n||r?(u={},i.length&&i.forEach((t=>Ut(u,t,s,!0))),Ut(u,e,s)):u=e,o.set(e,u),u}function Ut(t,e,n,r=!1){const{mixins:i,extends:o}=e;o&&Ut(t,o,n,!0),i&&i.forEach((e=>Ut(t,e,n,!0)));for(const s in e)if(r&&"expose"===s);else{const r=qt[s]||n&&n[s];t[s]=r?r(t[s],e[s]):e[s]}return t}const qt={data:Ht,props:Wt,emits:Wt,methods:Wt,computed:Wt,beforeCreate:Gt,created:Gt,beforeMount:Gt,mounted:Gt,beforeUpdate:Gt,updated:Gt,beforeDestroy:Gt,beforeUnmount:Gt,destroyed:Gt,unmounted:Gt,activated:Gt,deactivated:Gt,errorCaptured:Gt,serverPrefetch:Gt,components:Wt,directives:Wt,watch:Kt,provide:Ht,inject:zt};function Ht(t,e){return e?t?function(){return(0,i.l7)((0,i.mf)(t)?t.call(this,this):t,(0,i.mf)(e)?e.call(this,this):e)}:e:t}function zt(t,e){return Wt($t(t),$t(e))}function $t(t){if((0,i.kJ)(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Gt(t,e){return t?[...new Set([].concat(t,e))]:e}function Wt(t,e){return t?(0,i.l7)((0,i.l7)(Object.create(null),t),e):e}function Kt(t,e){if(!t)return e;if(!e)return t;const n=(0,i.l7)(Object.create(null),t);for(const r in e)n[r]=Gt(t[r],e[r]);return n}function Jt(t,e,n,o=!1){const s={},a={};(0,i.Nj)(a,ze,1),t.propsDefaults=Object.create(null),Qt(t,e,s,a);for(const r in t.propsOptions[0])r in s||(s[r]=void 0);n?t.props=o?s:(0,r.Um)(s):t.type.props?t.props=s:t.props=a,t.attrs=a}function Xt(t,e,n,o){const{props:s,attrs:a,vnode:{patchFlag:u}}=t,c=(0,r.IU)(s),[l]=t.propsOptions;let h=!1;if(!(o||u>0)||16&u){let r;Qt(t,e,s,a)&&(h=!0);for(const o in c)e&&((0,i.RI)(e,o)||(r=(0,i.rs)(o))!==o&&(0,i.RI)(e,r))||(l?!n||void 0===n[o]&&void 0===n[r]||(s[o]=Yt(l,c,o,void 0,t,!0)):delete s[o]);if(a!==c)for(const t in a)e&&(0,i.RI)(e,t)||(delete a[t],h=!0)}else if(8&u){const n=t.vnode.dynamicProps;for(let r=0;r<n.length;r++){let o=n[r];const u=e[o];if(l)if((0,i.RI)(a,o))u!==a[o]&&(a[o]=u,h=!0);else{const e=(0,i._A)(o);s[e]=Yt(l,c,e,u,t,!1)}else u!==a[o]&&(a[o]=u,h=!0)}}h&&(0,r.X$)(t,"set","$attrs")}function Qt(t,e,n,o){const[s,a]=t.propsOptions;let u,c=!1;if(e)for(let r in e){if((0,i.Gg)(r))continue;const l=e[r];let h;s&&(0,i.RI)(s,h=(0,i._A)(r))?a&&a.includes(h)?(u||(u={}))[h]=l:n[h]=l:P(t.emitsOptions,r)||r in o&&l===o[r]||(o[r]=l,c=!0)}if(a){const e=(0,r.IU)(n),o=u||i.kT;for(let r=0;r<a.length;r++){const u=a[r];n[u]=Yt(s,e,u,o[u],t,!(0,i.RI)(o,u))}}return c}function Yt(t,e,n,r,o,s){const a=t[n];if(null!=a){const t=(0,i.RI)(a,"default");if(t&&void 0===r){const t=a.default;if(a.type!==Function&&(0,i.mf)(t)){const{propsDefaults:i}=o;n in i?r=i[n]:(mn(o),r=i[n]=t.call(null,e),vn())}else r=t}a[0]&&(s&&!t?r=!1:!a[1]||""!==r&&r!==(0,i.rs)(n)||(r=!0))}return r}function Zt(t,e,n=!1){const r=e.propsCache,o=r.get(t);if(o)return o;const s=t.props,a={},u=[];let c=!1;if(!(0,i.mf)(t)){const r=t=>{c=!0;const[n,r]=Zt(t,e,!0);(0,i.l7)(a,n),r&&u.push(...r)};!n&&e.mixins.length&&e.mixins.forEach(r),t.extends&&r(t.extends),t.mixins&&t.mixins.forEach(r)}if(!s&&!c)return r.set(t,i.Z6),i.Z6;if((0,i.kJ)(s))for(let h=0;h<s.length;h++){0;const t=(0,i._A)(s[h]);te(t)&&(a[t]=i.kT)}else if(s){0;for(const t in s){const e=(0,i._A)(t);if(te(e)){const n=s[t],r=a[e]=(0,i.kJ)(n)||(0,i.mf)(n)?{type:n}:n;if(r){const t=re(Boolean,r.type),n=re(String,r.type);r[0]=t>-1,r[1]=n<0||t<n,(t>-1||(0,i.RI)(r,"default"))&&u.push(e)}}}}const l=[a,u];return r.set(t,l),l}function te(t){return"$"!==t[0]}function ee(t){const e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:null===t?"null":""}function ne(t,e){return ee(t)===ee(e)}function re(t,e){return(0,i.kJ)(e)?e.findIndex((e=>ne(e,t))):(0,i.mf)(e)&&ne(e,t)?0:-1}const ie=t=>"_"===t[0]||"$stable"===t,oe=t=>(0,i.kJ)(t)?t.map(tn):[tn(t)],se=(t,e,n)=>{const r=V(((...t)=>oe(e(...t))),n);return r._c=!1,r},ae=(t,e,n)=>{const r=t._ctx;for(const o in t){if(ie(o))continue;const n=t[o];if((0,i.mf)(n))e[o]=se(o,n,r);else if(null!=n){0;const t=oe(n);e[o]=()=>t}}},ue=(t,e)=>{const n=oe(e);t.slots.default=()=>n},ce=(t,e)=>{if(32&t.vnode.shapeFlag){const n=e._;n?(t.slots=(0,r.IU)(e),(0,i.Nj)(e,"_",n)):ae(e,t.slots={})}else t.slots={},e&&ue(t,e);(0,i.Nj)(t.slots,ze,1)},le=(t,e,n)=>{const{vnode:r,slots:o}=t;let s=!0,a=i.kT;if(32&r.shapeFlag){const t=e._;t?n&&1===t?s=!1:((0,i.l7)(o,e),n||1!==t||delete o._):(s=!e.$stable,ae(e,o)),a=e}else e&&(ue(t,e),a={default:1});if(s)for(const i in o)ie(i)||i in a||delete o[i]};function he(t,e){const n=F;if(null===n)return t;const r=n.proxy,o=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[t,n,a,u=i.kT]=e[s];(0,i.mf)(t)&&(t={mounted:t,updated:t}),t.deep&&nt(n),o.push({dir:t,instance:r,value:n,oldValue:void 0,arg:a,modifiers:u})}return t}function fe(t,e,n,i){const o=t.dirs,a=e&&e.dirs;for(let u=0;u<o.length;u++){const c=o[u];a&&(c.oldValue=a[u].value);let l=c.dir[i];l&&((0,r.Jd)(),s(l,n,8,[t.el,c,t,e]),(0,r.lk)())}}function pe(){return{app:null,config:{isNativeTag:i.NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let de=0;function me(t,e){return function(n,r=null){null==r||(0,i.Kn)(r)||(r=null);const o=pe(),s=new Set;let a=!1;const u=o.app={_uid:de++,_component:n,_props:r,_container:null,_context:o,_instance:null,version:Dn,get config(){return o.config},set config(t){0},use(t,...e){return s.has(t)||(t&&(0,i.mf)(t.install)?(s.add(t),t.install(u,...e)):(0,i.mf)(t)&&(s.add(t),t(u,...e))),u},mixin(t){return o.mixins.includes(t)||o.mixins.push(t),u},component(t,e){return e?(o.components[t]=e,u):o.components[t]},directive(t,e){return e?(o.directives[t]=e,u):o.directives[t]},mount(i,s,c){if(!a){const l=Ke(n,r);return l.appContext=o,s&&e?e(l,i):t(l,i,c),a=!0,u._container=i,i.__vue_app__=u,Sn(l.component)||l.component.proxy}},unmount(){a&&(t(null,u._container),delete u._container.__vue_app__)},provide(t,e){return o.provides[t]=e,u}};return u}}function ve(t,e,n,s,a=!1){if((0,i.kJ)(t))return void t.forEach(((t,r)=>ve(t,e&&((0,i.kJ)(e)?e[r]:e),n,s,a)));if(dt(s)&&!a)return;const u=4&s.shapeFlag?Sn(s.component)||s.component.proxy:s.el,c=a?null:u,{i:l,r:h}=t;const f=e&&e.r,p=l.refs===i.kT?l.refs={}:l.refs,d=l.setupState;if(null!=f&&f!==h&&((0,i.HD)(f)?(p[f]=null,(0,i.RI)(d,f)&&(d[f]=null)):(0,r.dq)(f)&&(f.value=null)),(0,i.mf)(h))o(h,l,12,[c,p]);else{const e=(0,i.HD)(h),o=(0,r.dq)(h);if(e||o){const o=()=>{if(t.f){const n=e?p[h]:h.value;a?(0,i.kJ)(n)&&(0,i.Od)(n,u):(0,i.kJ)(n)?n.includes(u)||n.push(u):e?p[h]=[u]:(h.value=[u],t.k&&(p[t.k]=h.value))}else e?(p[h]=c,(0,i.RI)(d,h)&&(d[h]=c)):(0,r.dq)(h)&&(h.value=c,t.k&&(p[t.k]=c))};c?(o.id=-1,ye(o,n)):o()}else 0}}function ge(){}const ye=K;function be(t){return we(t)}function we(t,e){ge();const n=(0,i.E9)();n.__VUE__=!0;const{insert:o,remove:s,patchProp:a,createElement:u,createText:c,createComment:l,setText:h,setElementText:f,parentNode:p,nextSibling:d,setScopeId:m=i.dG,cloneNode:v,insertStaticContent:g}=t,y=(t,e,n,r=null,i=null,o=null,s=!1,a=null,u=!!e.dynamicChildren)=>{if(t===e)return;t&&!He(t,e)&&(r=Z(t),K(t,i,o,!0),t=null),-2===e.patchFlag&&(u=!1,e.dynamicChildren=null);const{type:c,ref:l,shapeFlag:h}=e;switch(c){case Oe:b(t,e,n,r);break;case De:w(t,e,n,r);break;case Me:null==t&&k(e,n,r,s);break;case Ne:L(t,e,n,r,i,o,s,a,u);break;default:1&h?C(t,e,n,r,i,o,s,a,u):6&h?P(t,e,n,r,i,o,s,a,u):(64&h||128&h)&&c.process(t,e,n,r,i,o,s,a,u,et)}null!=l&&i&&ve(l,t&&t.ref,o,e||t,!e)},b=(t,e,n,r)=>{if(null==t)o(e.el=c(e.children),n,r);else{const n=e.el=t.el;e.children!==t.children&&h(n,e.children)}},w=(t,e,n,r)=>{null==t?o(e.el=l(e.children||""),n,r):e.el=t.el},k=(t,e,n,r)=>{[t.el,t.anchor]=g(t.children,e,n,r,t.el,t.anchor)},_=({el:t,anchor:e},n,r)=>{let i;while(t&&t!==e)i=d(t),o(t,n,r),t=i;o(e,n,r)},T=({el:t,anchor:e})=>{let n;while(t&&t!==e)n=d(t),s(t),t=n;s(e)},C=(t,e,n,r,i,o,s,a,u)=>{s=s||"svg"===e.type,null==t?S(e,n,r,i,o,s,a,u):D(t,e,i,o,s,a,u)},S=(t,e,n,r,s,c,l,h)=>{let p,d;const{type:m,props:g,shapeFlag:y,transition:b,patchFlag:w,dirs:k}=t;if(t.el&&void 0!==v&&-1===w)p=t.el=v(t.el);else{if(p=t.el=u(t.type,c,g&&g.is,g),8&y?f(p,t.children):16&y&&A(t.children,p,null,r,s,c&&"foreignObject"!==m,l,h),k&&fe(t,null,r,"created"),g){for(const e in g)"value"===e||(0,i.Gg)(e)||a(p,e,null,g[e],c,t.children,r,s,Y);"value"in g&&a(p,"value",null,g.value),(d=g.onVnodeBeforeMount)&&on(d,r,t)}I(p,t,t.scopeId,l,r)}k&&fe(t,null,r,"beforeMount");const _=(!s||s&&!s.pendingBranch)&&b&&!b.persisted;_&&b.beforeEnter(p),o(p,e,n),((d=g&&g.onVnodeMounted)||_||k)&&ye((()=>{d&&on(d,r,t),_&&b.enter(p),k&&fe(t,null,r,"mounted")}),s)},I=(t,e,n,r,i)=>{if(n&&m(t,n),r)for(let o=0;o<r.length;o++)m(t,r[o]);if(i){let n=i.subTree;if(e===n){const e=i.vnode;I(t,e,e.scopeId,e.slotScopeIds,i.parent)}}},A=(t,e,n,r,i,o,s,a,u=0)=>{for(let c=u;c<t.length;c++){const u=t[c]=a?en(t[c]):tn(t[c]);y(null,u,e,n,r,i,o,s,a)}},D=(t,e,n,r,o,s,u)=>{const c=e.el=t.el;let{patchFlag:l,dynamicChildren:h,dirs:p}=e;l|=16&t.patchFlag;const d=t.props||i.kT,m=e.props||i.kT;let v;n&&ke(n,!1),(v=m.onVnodeBeforeUpdate)&&on(v,n,e,t),p&&fe(e,t,n,"beforeUpdate"),n&&ke(n,!0);const g=o&&"foreignObject"!==e.type;if(h?M(t.dynamicChildren,h,c,n,r,g,s):u||q(t,e,c,null,n,r,g,s,!1),l>0){if(16&l)R(c,e,d,m,n,r,o);else if(2&l&&d.class!==m.class&&a(c,"class",null,m.class,o),4&l&&a(c,"style",d.style,m.style,o),8&l){const i=e.dynamicProps;for(let e=0;e<i.length;e++){const s=i[e],u=d[s],l=m[s];l===u&&"value"!==s||a(c,s,u,l,o,t.children,n,r,Y)}}1&l&&t.children!==e.children&&f(c,e.children)}else u||null!=h||R(c,e,d,m,n,r,o);((v=m.onVnodeUpdated)||p)&&ye((()=>{v&&on(v,n,e,t),p&&fe(e,t,n,"updated")}),r)},M=(t,e,n,r,i,o,s)=>{for(let a=0;a<e.length;a++){const u=t[a],c=e[a],l=u.el&&(u.type===Ne||!He(u,c)||70&u.shapeFlag)?p(u.el):n;y(u,c,l,null,r,i,o,s,!0)}},R=(t,e,n,r,o,s,u)=>{if(n!==r){for(const c in r){if((0,i.Gg)(c))continue;const l=r[c],h=n[c];l!==h&&"value"!==c&&a(t,c,h,l,u,e.children,o,s,Y)}if(n!==i.kT)for(const c in n)(0,i.Gg)(c)||c in r||a(t,c,n[c],null,u,e.children,o,s,Y);"value"in r&&a(t,"value",n.value,r.value)}},L=(t,e,n,r,i,s,a,u,l)=>{const h=e.el=t?t.el:c(""),f=e.anchor=t?t.anchor:c("");let{patchFlag:p,dynamicChildren:d,slotScopeIds:m}=e;m&&(u=u?u.concat(m):m),null==t?(o(h,n,r),o(f,n,r),A(e.children,n,f,i,s,a,u,l)):p>0&&64&p&&d&&t.dynamicChildren?(M(t.dynamicChildren,d,n,i,s,a,u),(null!=e.key||i&&e===i.subTree)&&_e(t,e,!0)):q(t,e,n,f,i,s,a,u,l)},P=(t,e,n,r,i,o,s,a,u)=>{e.slotScopeIds=a,null==t?512&e.shapeFlag?i.ctx.activate(e,n,r,s,u):F(e,n,r,i,o,s,u):j(t,e,u)},F=(t,e,n,r,i,o,s)=>{const a=t.component=fn(t,r,i);if(mt(t)&&(a.ctx.renderer=et),kn(a),a.asyncDep){if(i&&i.registerDep(a,B),!t.el){const t=a.subTree=Ke(De);w(null,t,e,n)}}else B(a,t,e,n,i,o,s)},j=(t,e,n)=>{const r=e.component=t.component;if(z(t,e,n)){if(r.asyncDep&&!r.asyncResolved)return void V(r,e,n);r.next=e,x(r.update),r.update()}else e.component=t.component,e.el=t.el,r.vnode=e},B=(t,e,n,o,s,a,u)=>{const c=()=>{if(t.isMounted){let e,{next:n,bu:r,u:o,parent:c,vnode:l}=t,h=n;0,ke(t,!1),n?(n.el=l.el,V(t,n,u)):n=l,r&&(0,i.ir)(r),(e=n.props&&n.props.onVnodeBeforeUpdate)&&on(e,c,n,l),ke(t,!0);const f=U(t);0;const d=t.subTree;t.subTree=f,y(d,f,p(d.el),Z(d),t,s,a),n.el=f.el,null===h&&G(t,f.el),o&&ye(o,s),(e=n.props&&n.props.onVnodeUpdated)&&ye((()=>on(e,c,n,l)),s)}else{let r;const{el:u,props:c}=e,{bm:l,m:h,parent:f}=t,p=dt(e);if(ke(t,!1),l&&(0,i.ir)(l),!p&&(r=c&&c.onVnodeBeforeMount)&&on(r,f,e),ke(t,!0),u&&rt){const n=()=>{t.subTree=U(t),rt(u,t.subTree,t,s,null)};p?e.type.__asyncLoader().then((()=>!t.isUnmounted&&n())):n()}else{0;const r=t.subTree=U(t);0,y(null,r,n,o,t,s,a),e.el=r.el}if(h&&ye(h,s),!p&&(r=c&&c.onVnodeMounted)){const t=e;ye((()=>on(r,f,t)),s)}256&e.shapeFlag&&t.a&&ye(t.a,s),t.isMounted=!0,e=n=o=null}},l=t.effect=new r.qq(c,(()=>E(t.update)),t.scope),h=t.update=l.run.bind(l);h.id=t.uid,ke(t,!0),h()},V=(t,e,n)=>{e.component=t;const i=t.vnode.props;t.vnode=e,t.next=null,Xt(t,e.props,i,n),le(t,e.children,n),(0,r.Jd)(),N(void 0,t.update),(0,r.lk)()},q=(t,e,n,r,i,o,s,a,u=!1)=>{const c=t&&t.children,l=t?t.shapeFlag:0,h=e.children,{patchFlag:p,shapeFlag:d}=e;if(p>0){if(128&p)return void $(c,h,n,r,i,o,s,a,u);if(256&p)return void H(c,h,n,r,i,o,s,a,u)}8&d?(16&l&&Y(c,i,o),h!==c&&f(n,h)):16&l?16&d?$(c,h,n,r,i,o,s,a,u):Y(c,i,o,!0):(8&l&&f(n,""),16&d&&A(h,n,r,i,o,s,a,u))},H=(t,e,n,r,o,s,a,u,c)=>{t=t||i.Z6,e=e||i.Z6;const l=t.length,h=e.length,f=Math.min(l,h);let p;for(p=0;p<f;p++){const r=e[p]=c?en(e[p]):tn(e[p]);y(t[p],r,n,null,o,s,a,u,c)}l>h?Y(t,o,s,!0,!1,f):A(e,n,r,o,s,a,u,c,f)},$=(t,e,n,r,o,s,a,u,c)=>{let l=0;const h=e.length;let f=t.length-1,p=h-1;while(l<=f&&l<=p){const r=t[l],i=e[l]=c?en(e[l]):tn(e[l]);if(!He(r,i))break;y(r,i,n,null,o,s,a,u,c),l++}while(l<=f&&l<=p){const r=t[f],i=e[p]=c?en(e[p]):tn(e[p]);if(!He(r,i))break;y(r,i,n,null,o,s,a,u,c),f--,p--}if(l>f){if(l<=p){const t=p+1,i=t<h?e[t].el:r;while(l<=p)y(null,e[l]=c?en(e[l]):tn(e[l]),n,i,o,s,a,u,c),l++}}else if(l>p)while(l<=f)K(t[l],o,s,!0),l++;else{const d=l,m=l,v=new Map;for(l=m;l<=p;l++){const t=e[l]=c?en(e[l]):tn(e[l]);null!=t.key&&v.set(t.key,l)}let g,b=0;const w=p-m+1;let k=!1,_=0;const T=new Array(w);for(l=0;l<w;l++)T[l]=0;for(l=d;l<=f;l++){const r=t[l];if(b>=w){K(r,o,s,!0);continue}let i;if(null!=r.key)i=v.get(r.key);else for(g=m;g<=p;g++)if(0===T[g-m]&&He(r,e[g])){i=g;break}void 0===i?K(r,o,s,!0):(T[i-m]=l+1,i>=_?_=i:k=!0,y(r,e[i],n,null,o,s,a,u,c),b++)}const E=k?Te(T):i.Z6;for(g=E.length-1,l=w-1;l>=0;l--){const t=m+l,i=e[t],f=t+1<h?e[t+1].el:r;0===T[l]?y(null,i,n,f,o,s,a,u,c):k&&(g<0||l!==E[g]?W(i,n,f,2):g--)}}},W=(t,e,n,r,i=null)=>{const{el:s,type:a,transition:u,children:c,shapeFlag:l}=t;if(6&l)return void W(t.component.subTree,e,n,r);if(128&l)return void t.suspense.move(e,n,r);if(64&l)return void a.move(t,e,n,et);if(a===Ne){o(s,e,n);for(let t=0;t<c.length;t++)W(c[t],e,n,r);return void o(t.anchor,e,n)}if(a===Me)return void _(t,e,n);const h=2!==r&&1&l&&u;if(h)if(0===r)u.beforeEnter(s),o(s,e,n),ye((()=>u.enter(s)),i);else{const{leave:t,delayLeave:r,afterLeave:i}=u,a=()=>o(s,e,n),c=()=>{t(s,(()=>{a(),i&&i()}))};r?r(s,a,c):c()}else o(s,e,n)},K=(t,e,n,r=!1,i=!1)=>{const{type:o,props:s,ref:a,children:u,dynamicChildren:c,shapeFlag:l,patchFlag:h,dirs:f}=t;if(null!=a&&ve(a,null,n,t,!0),256&l)return void e.ctx.deactivate(t);const p=1&l&&f,d=!dt(t);let m;if(d&&(m=s&&s.onVnodeBeforeUnmount)&&on(m,e,t),6&l)Q(t.component,n,r);else{if(128&l)return void t.suspense.unmount(n,r);p&&fe(t,null,e,"beforeUnmount"),64&l?t.type.remove(t,e,n,i,et,r):c&&(o!==Ne||h>0&&64&h)?Y(c,e,n,!1,!0):(o===Ne&&384&h||!i&&16&l)&&Y(u,e,n),r&&J(t)}(d&&(m=s&&s.onVnodeUnmounted)||p)&&ye((()=>{m&&on(m,e,t),p&&fe(t,null,e,"unmounted")}),n)},J=t=>{const{type:e,el:n,anchor:r,transition:i}=t;if(e===Ne)return void X(n,r);if(e===Me)return void T(t);const o=()=>{s(n),i&&!i.persisted&&i.afterLeave&&i.afterLeave()};if(1&t.shapeFlag&&i&&!i.persisted){const{leave:e,delayLeave:r}=i,s=()=>e(n,o);r?r(t.el,o,s):s()}else o()},X=(t,e)=>{let n;while(t!==e)n=d(t),s(t),t=n;s(e)},Q=(t,e,n)=>{const{bum:r,scope:o,update:s,subTree:a,um:u}=t;r&&(0,i.ir)(r),o.stop(),s&&(s.active=!1,K(a,t,e,n)),u&&ye(u,e),ye((()=>{t.isUnmounted=!0}),e),e&&e.pendingBranch&&!e.isUnmounted&&t.asyncDep&&!t.asyncResolved&&t.suspenseId===e.pendingId&&(e.deps--,0===e.deps&&e.resolve())},Y=(t,e,n,r=!1,i=!1,o=0)=>{for(let s=o;s<t.length;s++)K(t[s],e,n,r,i)},Z=t=>6&t.shapeFlag?Z(t.component.subTree):128&t.shapeFlag?t.suspense.next():d(t.anchor||t.el),tt=(t,e,n)=>{null==t?e._vnode&&K(e._vnode,null,null,!0):y(e._vnode||null,t,e,null,null,null,n),O(),e._vnode=t},et={p:y,um:K,m:W,r:J,mt:F,mc:A,pc:q,pbc:M,n:Z,o:t};let nt,rt;return e&&([nt,rt]=e(et)),{render:tt,hydrate:nt,createApp:me(tt,nt)}}function ke({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function _e(t,e,n=!1){const r=t.children,o=e.children;if((0,i.kJ)(r)&&(0,i.kJ)(o))for(let i=0;i<r.length;i++){const t=r[i];let e=o[i];1&e.shapeFlag&&!e.dynamicChildren&&((e.patchFlag<=0||32===e.patchFlag)&&(e=o[i]=en(o[i]),e.el=t.el),n||_e(t,e))}}function Te(t){const e=t.slice(),n=[0];let r,i,o,s,a;const u=t.length;for(r=0;r<u;r++){const u=t[r];if(0!==u){if(i=n[n.length-1],t[i]<u){e[r]=i,n.push(r);continue}o=0,s=n.length-1;while(o<s)a=o+s>>1,t[n[a]]<u?o=a+1:s=a;u<t[n[o]]&&(o>0&&(e[r]=n[o-1]),n[o]=r)}}o=n.length,s=n[o-1];while(o-- >0)n[o]=s,s=e[s];return n}const Ee=t=>t.__isTeleport;const Ce="components";function xe(t,e){return Ie(Ce,t,!0,e)||t}const Se=Symbol();function Ie(t,e,n=!0,r=!1){const o=F||pn;if(o){const n=o.type;if(t===Ce){const t=In(n);if(t&&(t===e||t===(0,i._A)(e)||t===(0,i.kC)((0,i._A)(e))))return n}const s=Ae(o[t]||n[t],e)||Ae(o.appContext[t],e);return!s&&r?n:s}}function Ae(t,e){return t&&(t[e]||t[(0,i._A)(e)]||t[(0,i.kC)((0,i._A)(e))])}const Ne=Symbol(void 0),Oe=Symbol(void 0),De=Symbol(void 0),Me=Symbol(void 0),Re=[];let Le=null;function Pe(t=!1){Re.push(Le=t?null:[])}function Fe(){Re.pop(),Le=Re[Re.length-1]||null}let je=1;function Be(t){je+=t}function Ve(t){return t.dynamicChildren=je>0?Le||i.Z6:null,Fe(),je>0&&Le&&Le.push(t),t}function Ue(t,e,n,r,i,o){return Ve(We(t,e,n,r,i,o,!0))}function qe(t){return!!t&&!0===t.__v_isVNode}function He(t,e){return t.type===e.type&&t.key===e.key}const ze="__vInternal",$e=({key:t})=>null!=t?t:null,Ge=({ref:t,ref_key:e,ref_for:n})=>null!=t?(0,i.HD)(t)||(0,r.dq)(t)||(0,i.mf)(t)?{i:F,r:t,k:e,f:!!n}:t:null;function We(t,e=null,n=null,r=0,o=null,s=(t===Ne?0:1),a=!1,u=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&$e(e),ref:e&&Ge(e),scopeId:j,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:o,dynamicChildren:null,appContext:null};return u?(nn(c,n),128&s&&t.normalize(c)):n&&(c.shapeFlag|=(0,i.HD)(n)?8:16),je>0&&!a&&Le&&(c.patchFlag>0||6&s)&&32!==c.patchFlag&&Le.push(c),c}const Ke=Je;function Je(t,e=null,n=null,o=0,s=null,a=!1){if(t&&t!==Se||(t=De),qe(t)){const r=Qe(t,e,!0);return n&&nn(r,n),r}if(An(t)&&(t=t.__vccOpts),e){e=Xe(e);let{class:t,style:n}=e;t&&!(0,i.HD)(t)&&(e.class=(0,i.C_)(t)),(0,i.Kn)(n)&&((0,r.X3)(n)&&!(0,i.kJ)(n)&&(n=(0,i.l7)({},n)),e.style=(0,i.j5)(n))}const u=(0,i.HD)(t)?1:W(t)?128:Ee(t)?64:(0,i.Kn)(t)?4:(0,i.mf)(t)?2:0;return We(t,e,n,o,s,u,a,!0)}function Xe(t){return t?(0,r.X3)(t)||ze in t?(0,i.l7)({},t):t:null}function Qe(t,e,n=!1){const{props:r,ref:o,patchFlag:s,children:a}=t,u=e?rn(r||{},e):r,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&$e(u),ref:e&&e.ref?n&&o?(0,i.kJ)(o)?o.concat(Ge(e)):[o,Ge(e)]:Ge(e):o,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ne?-1===s?16:16|s:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Qe(t.ssContent),ssFallback:t.ssFallback&&Qe(t.ssFallback),el:t.el,anchor:t.anchor};return c}function Ye(t=" ",e=0){return Ke(Oe,null,t,e)}function Ze(t,e){const n=Ke(Me,null,t);return n.staticCount=e,n}function tn(t){return null==t||"boolean"===typeof t?Ke(De):(0,i.kJ)(t)?Ke(Ne,null,t.slice()):"object"===typeof t?en(t):Ke(Oe,null,String(t))}function en(t){return null===t.el||t.memo?t:Qe(t)}function nn(t,e){let n=0;const{shapeFlag:r}=t;if(null==e)e=null;else if((0,i.kJ)(e))n=16;else if("object"===typeof e){if(65&r){const n=e.default;return void(n&&(n._c&&(n._d=!1),nn(t,n()),n._c&&(n._d=!0)))}{n=32;const r=e._;r||ze in e?3===r&&F&&(1===F.slots._?e._=1:(e._=2,t.patchFlag|=1024)):e._ctx=F}}else(0,i.mf)(e)?(e={default:e,_ctx:F},n=32):(e=String(e),64&r?(n=16,e=[Ye(e)]):n=8);t.children=e,t.shapeFlag|=n}function rn(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const t in r)if("class"===t)e.class!==r.class&&(e.class=(0,i.C_)([e.class,r.class]));else if("style"===t)e.style=(0,i.j5)([e.style,r.style]);else if((0,i.F7)(t)){const n=e[t],o=r[t];!o||n===o||(0,i.kJ)(n)&&n.includes(o)||(e[t]=n?[].concat(n,o):o)}else""!==t&&(e[t]=r[t])}return e}function on(t,e,n,r=null){s(t,e,7,[n,r])}function sn(t,e,n,r){let o;const s=n&&n[r];if((0,i.kJ)(t)||(0,i.HD)(t)){o=new Array(t.length);for(let n=0,r=t.length;n<r;n++)o[n]=e(t[n],n,void 0,s&&s[n])}else if("number"===typeof t){0,o=new Array(t);for(let n=0;n<t;n++)o[n]=e(n+1,n,void 0,s&&s[n])}else if((0,i.Kn)(t))if(t[Symbol.iterator])o=Array.from(t,((t,n)=>e(t,n,void 0,s&&s[n])));else{const n=Object.keys(t);o=new Array(n.length);for(let r=0,i=n.length;r<i;r++){const i=n[r];o[r]=e(t[i],i,r,s&&s[r])}}else o=[];return n&&(n[r]=o),o}const an=t=>t?gn(t)?Sn(t)||t.proxy:an(t.parent):null,un=(0,i.l7)(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>an(t.parent),$root:t=>an(t.root),$emit:t=>t.emit,$options:t=>Vt(t),$forceUpdate:t=>()=>E(t.update),$nextTick:t=>_.bind(t.proxy),$watch:t=>tt.bind(t)}),cn={get({_:t},e){const{ctx:n,setupState:o,data:s,props:a,accessCache:u,type:c,appContext:l}=t;let h;if("$"!==e[0]){const r=u[e];if(void 0!==r)switch(r){case 1:return o[e];case 2:return s[e];case 4:return n[e];case 3:return a[e]}else{if(o!==i.kT&&(0,i.RI)(o,e))return u[e]=1,o[e];if(s!==i.kT&&(0,i.RI)(s,e))return u[e]=2,s[e];if((h=t.propsOptions[0])&&(0,i.RI)(h,e))return u[e]=3,a[e];if(n!==i.kT&&(0,i.RI)(n,e))return u[e]=4,n[e];Lt&&(u[e]=0)}}const f=un[e];let p,d;return f?("$attrs"===e&&(0,r.j)(t,"get",e),f(t)):(p=c.__cssModules)&&(p=p[e])?p:n!==i.kT&&(0,i.RI)(n,e)?(u[e]=4,n[e]):(d=l.config.globalProperties,(0,i.RI)(d,e)?d[e]:void 0)},set({_:t},e,n){const{data:r,setupState:o,ctx:s}=t;return o!==i.kT&&(0,i.RI)(o,e)?(o[e]=n,!0):r!==i.kT&&(0,i.RI)(r,e)?(r[e]=n,!0):!(0,i.RI)(t.props,e)&&(("$"!==e[0]||!(e.slice(1)in t))&&(s[e]=n,!0))},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:o,propsOptions:s}},a){let u;return!!n[a]||t!==i.kT&&(0,i.RI)(t,a)||e!==i.kT&&(0,i.RI)(e,a)||(u=s[0])&&(0,i.RI)(u,a)||(0,i.RI)(r,a)||(0,i.RI)(un,a)||(0,i.RI)(o.config.globalProperties,a)},defineProperty(t,e,n){return null!=n.get?this.set(t,e,n.get(),null):null!=n.value&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};const ln=pe();let hn=0;function fn(t,e,n){const o=t.type,s=(e?e.appContext:t.appContext)||ln,a={uid:hn++,vnode:t,type:o,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new r.Bj(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Zt(o,s),emitsOptions:L(o,s),emit:null,emitted:null,propsDefaults:i.kT,inheritAttrs:o.inheritAttrs,ctx:i.kT,data:i.kT,props:i.kT,attrs:i.kT,slots:i.kT,refs:i.kT,setupState:i.kT,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=e?e.root:a,a.emit=R.bind(null,a),t.ce&&t.ce(a),a}let pn=null;const dn=()=>pn||F,mn=t=>{pn=t,t.scope.on()},vn=()=>{pn&&pn.scope.off(),pn=null};function gn(t){return 4&t.vnode.shapeFlag}let yn,bn,wn=!1;function kn(t,e=!1){wn=e;const{props:n,children:r}=t.vnode,i=gn(t);Jt(t,n,i,e),ce(t,r);const o=i?_n(t,e):void 0;return wn=!1,o}function _n(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=(0,r.Xl)(new Proxy(t.ctx,cn));const{setup:s}=n;if(s){const n=t.setupContext=s.length>1?xn(t):null;mn(t),(0,r.Jd)();const u=o(s,t,0,[t.props,n]);if((0,r.lk)(),vn(),(0,i.tI)(u)){if(u.then(vn,vn),e)return u.then((n=>{Tn(t,n,e)})).catch((e=>{a(e,t,0)}));t.asyncDep=u}else Tn(t,u,e)}else En(t,e)}function Tn(t,e,n){(0,i.mf)(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:(0,i.Kn)(e)&&(t.setupState=(0,r.WL)(e)),En(t,n)}function En(t,e,n){const o=t.type;if(!t.render){if(!e&&yn&&!o.render){const e=o.template;if(e){0;const{isCustomElement:n,compilerOptions:r}=t.appContext.config,{delimiters:s,compilerOptions:a}=o,u=(0,i.l7)((0,i.l7)({isCustomElement:n,delimiters:s},r),a);o.render=yn(e,u)}}t.render=o.render||i.dG,bn&&bn(t)}mn(t),(0,r.Jd)(),Pt(t),(0,r.lk)(),vn()}function Cn(t){return new Proxy(t.attrs,{get(e,n){return(0,r.j)(t,"get","$attrs"),e[n]}})}function xn(t){const e=e=>{t.exposed=e||{}};let n;return{get attrs(){return n||(n=Cn(t))},slots:t.slots,emit:t.emit,expose:e}}function Sn(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy((0,r.WL)((0,r.Xl)(t.exposed)),{get(e,n){return n in e?e[n]:n in un?un[n](t):void 0}}))}function In(t){return(0,i.mf)(t)&&t.displayName||t.name}function An(t){return(0,i.mf)(t)&&"__vccOpts"in t}const Nn=(t,e)=>(0,r.Fl)(t,e,wn);function On(t,e,n){const r=arguments.length;return 2===r?(0,i.Kn)(e)&&!(0,i.kJ)(e)?qe(e)?Ke(t,null,[e]):Ke(t,e):Ke(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):3===r&&qe(n)&&(n=[n]),Ke(t,e,n))}Symbol("");const Dn="3.2.31"},9242:function(t,e,n){"use strict";n.d(e,{nr:function(){return rt},ri:function(){return at}});var r=n(7139),i=n(3396);n(4870);const o="http://www.w3.org/2000/svg",s="undefined"!==typeof document?document:null,a=s&&s.createElement("template"),u={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e?s.createElementNS(o,t):s.createElement(t,n?{is:n}:void 0);return"select"===t&&r&&null!=r.multiple&&i.setAttribute("multiple",r.multiple),i},createText:t=>s.createTextNode(t),createComment:t=>s.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>s.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},cloneNode(t){const e=t.cloneNode(!0);return"_value"in t&&(e._value=t._value),e},insertStaticContent(t,e,n,r,i,o){const s=n?n.previousSibling:e.lastChild;if(i&&(i===o||i.nextSibling)){while(1)if(e.insertBefore(i.cloneNode(!0),n),i===o||!(i=i.nextSibling))break}else{a.innerHTML=r?`<svg>${t}</svg>`:t;const i=a.content;if(r){const t=i.firstChild;while(t.firstChild)i.appendChild(t.firstChild);i.removeChild(t)}e.insertBefore(i,n)}return[s?s.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function c(t,e,n){const r=t._vtc;r&&(e=(e?[e,...r]:[...r]).join(" ")),null==e?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function l(t,e,n){const i=t.style,o=(0,r.HD)(n);if(n&&!o){for(const t in n)f(i,t,n[t]);if(e&&!(0,r.HD)(e))for(const t in e)null==n[t]&&f(i,t,"")}else{const r=i.display;o?e!==n&&(i.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(i.display=r)}}const h=/\s*!important$/;function f(t,e,n){if((0,r.kJ)(n))n.forEach((n=>f(t,e,n)));else if(e.startsWith("--"))t.setProperty(e,n);else{const i=m(t,e);h.test(n)?t.setProperty((0,r.rs)(i),n.replace(h,""),"important"):t[i]=n}}const p=["Webkit","Moz","ms"],d={};function m(t,e){const n=d[e];if(n)return n;let i=(0,r._A)(e);if("filter"!==i&&i in t)return d[e]=i;i=(0,r.kC)(i);for(let r=0;r<p.length;r++){const n=p[r]+i;if(n in t)return d[e]=n}return e}const v="http://www.w3.org/1999/xlink";function g(t,e,n,i,o){if(i&&e.startsWith("xlink:"))null==n?t.removeAttributeNS(v,e.slice(6,e.length)):t.setAttributeNS(v,e,n);else{const i=(0,r.Pq)(e);null==n||i&&!(0,r.yA)(n)?t.removeAttribute(e):t.setAttribute(e,i?"":n)}}function y(t,e,n,i,o,s,a){if("innerHTML"===e||"textContent"===e)return i&&a(i,o,s),void(t[e]=null==n?"":n);if("value"===e&&"PROGRESS"!==t.tagName&&!t.tagName.includes("-")){t._value=n;const r=null==n?"":n;return t.value===r&&"OPTION"!==t.tagName||(t.value=r),void(null==n&&t.removeAttribute(e))}if(""===n||null==n){const i=typeof t[e];if("boolean"===i)return void(t[e]=(0,r.yA)(n));if(null==n&&"string"===i)return t[e]="",void t.removeAttribute(e);if("number"===i){try{t[e]=0}catch(u){}return void t.removeAttribute(e)}}try{t[e]=n}catch(c){0}}let b=Date.now,w=!1;if("undefined"!==typeof window){b()>document.createEvent("Event").timeStamp&&(b=()=>performance.now());const t=navigator.userAgent.match(/firefox\/(\d+)/i);w=!!(t&&Number(t[1])<=53)}let k=0;const _=Promise.resolve(),T=()=>{k=0},E=()=>k||(_.then(T),k=b());function C(t,e,n,r){t.addEventListener(e,n,r)}function x(t,e,n,r){t.removeEventListener(e,n,r)}function S(t,e,n,r,i=null){const o=t._vei||(t._vei={}),s=o[e];if(r&&s)s.value=r;else{const[n,a]=A(e);if(r){const s=o[e]=N(r,i);C(t,n,s,a)}else s&&(x(t,n,s,a),o[e]=void 0)}}const I=/(?:Once|Passive|Capture)$/;function A(t){let e;if(I.test(t)){let n;e={};while(n=t.match(I))t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[(0,r.rs)(t.slice(2)),e]}function N(t,e){const n=t=>{const r=t.timeStamp||b();(w||r>=n.attached-1)&&(0,i.$d)(O(t,n.value),e,5,[t])};return n.value=t,n.attached=E(),n}function O(t,e){if((0,r.kJ)(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map((t=>e=>!e._stopped&&t&&t(e)))}return e}const D=/^on[a-z]/,M=(t,e,n,i,o=!1,s,a,u,h)=>{"class"===e?c(t,i,o):"style"===e?l(t,n,i):(0,r.F7)(e)?(0,r.tR)(e)||S(t,e,n,i,a):("."===e[0]?(e=e.slice(1),1):"^"===e[0]?(e=e.slice(1),0):R(t,e,i,o))?y(t,e,i,s,a,u,h):("true-value"===e?t._trueValue=i:"false-value"===e&&(t._falseValue=i),g(t,e,i,o))};function R(t,e,n,i){return i?"innerHTML"===e||"textContent"===e||!!(e in t&&D.test(e)&&(0,r.mf)(n)):"spellcheck"!==e&&"draggable"!==e&&("form"!==e&&(("list"!==e||"INPUT"!==t.tagName)&&(("type"!==e||"TEXTAREA"!==t.tagName)&&((!D.test(e)||!(0,r.HD)(n))&&e in t))))}"undefined"!==typeof HTMLElement&&HTMLElement;const L="transition",P="animation",F=(t,{slots:e})=>(0,i.h)(i.P$,U(t),e);F.displayName="Transition";const j={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},B=(F.props=(0,r.l7)({},i.P$.props,j),(t,e=[])=>{(0,r.kJ)(t)?t.forEach((t=>t(...e))):t&&t(...e)}),V=t=>!!t&&((0,r.kJ)(t)?t.some((t=>t.length>1)):t.length>1);function U(t){const e={};for(const r in t)r in j||(e[r]=t[r]);if(!1===t.css)return e;const{name:n="v",type:i,duration:o,enterFromClass:s=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:u=`${n}-enter-to`,appearFromClass:c=s,appearActiveClass:l=a,appearToClass:h=u,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:p=`${n}-leave-active`,leaveToClass:d=`${n}-leave-to`}=t,m=q(o),v=m&&m[0],g=m&&m[1],{onBeforeEnter:y,onEnter:b,onEnterCancelled:w,onLeave:k,onLeaveCancelled:_,onBeforeAppear:T=y,onAppear:E=b,onAppearCancelled:C=w}=e,x=(t,e,n)=>{$(t,e?h:u),$(t,e?l:a),n&&n()},S=(t,e)=>{$(t,d),$(t,p),e&&e()},I=t=>(e,n)=>{const r=t?E:b,o=()=>x(e,t,n);B(r,[e,o]),G((()=>{$(e,t?c:s),z(e,t?h:u),V(r)||K(e,i,v,o)}))};return(0,r.l7)(e,{onBeforeEnter(t){B(y,[t]),z(t,s),z(t,a)},onBeforeAppear(t){B(T,[t]),z(t,c),z(t,l)},onEnter:I(!1),onAppear:I(!0),onLeave(t,e){const n=()=>S(t,e);z(t,f),Y(),z(t,p),G((()=>{$(t,f),z(t,d),V(k)||K(t,i,g,n)})),B(k,[t,n])},onEnterCancelled(t){x(t,!1),B(w,[t])},onAppearCancelled(t){x(t,!0),B(C,[t])},onLeaveCancelled(t){S(t),B(_,[t])}})}function q(t){if(null==t)return null;if((0,r.Kn)(t))return[H(t.enter),H(t.leave)];{const e=H(t);return[e,e]}}function H(t){const e=(0,r.He)(t);return e}function z(t,e){e.split(/\s+/).forEach((e=>e&&t.classList.add(e))),(t._vtc||(t._vtc=new Set)).add(e)}function $(t,e){e.split(/\s+/).forEach((e=>e&&t.classList.remove(e)));const{_vtc:n}=t;n&&(n.delete(e),n.size||(t._vtc=void 0))}function G(t){requestAnimationFrame((()=>{requestAnimationFrame(t)}))}let W=0;function K(t,e,n,r){const i=t._endId=++W,o=()=>{i===t._endId&&r()};if(n)return setTimeout(o,n);const{type:s,timeout:a,propCount:u}=J(t,e);if(!s)return r();const c=s+"end";let l=0;const h=()=>{t.removeEventListener(c,f),o()},f=e=>{e.target===t&&++l>=u&&h()};setTimeout((()=>{l<u&&h()}),a+1),t.addEventListener(c,f)}function J(t,e){const n=window.getComputedStyle(t),r=t=>(n[t]||"").split(", "),i=r(L+"Delay"),o=r(L+"Duration"),s=X(i,o),a=r(P+"Delay"),u=r(P+"Duration"),c=X(a,u);let l=null,h=0,f=0;e===L?s>0&&(l=L,h=s,f=o.length):e===P?c>0&&(l=P,h=c,f=u.length):(h=Math.max(s,c),l=h>0?s>c?L:P:null,f=l?l===L?o.length:u.length:0);const p=l===L&&/\b(transform|all)(,|$)/.test(n[L+"Property"]);return{type:l,timeout:h,propCount:f,hasTransform:p}}function X(t,e){while(t.length<e.length)t=t.concat(t);return Math.max(...e.map(((e,n)=>Q(e)+Q(t[n]))))}function Q(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}function Y(){return document.body.offsetHeight}new WeakMap,new WeakMap;const Z=t=>{const e=t.props["onUpdate:modelValue"];return(0,r.kJ)(e)?t=>(0,r.ir)(e,t):e};function tt(t){t.target.composing=!0}function et(t){const e=t.target;e.composing&&(e.composing=!1,nt(e,"input"))}function nt(t,e){const n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}const rt={created(t,{modifiers:{lazy:e,trim:n,number:i}},o){t._assign=Z(o);const s=i||o.props&&"number"===o.props.type;C(t,e?"change":"input",(e=>{if(e.target.composing)return;let i=t.value;n?i=i.trim():s&&(i=(0,r.He)(i)),t._assign(i)})),n&&C(t,"change",(()=>{t.value=t.value.trim()})),e||(C(t,"compositionstart",tt),C(t,"compositionend",et),C(t,"change",et))},mounted(t,{value:e}){t.value=null==e?"":e},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:i,number:o}},s){if(t._assign=Z(s),t.composing)return;if(document.activeElement===t){if(n)return;if(i&&t.value.trim()===e)return;if((o||"number"===t.type)&&(0,r.He)(t.value)===e)return}const a=null==e?"":e;t.value!==a&&(t.value=a)}};const it=(0,r.l7)({patchProp:M},u);let ot;function st(){return ot||(ot=(0,i.Us)(it))}const at=(...t)=>{const e=st().createApp(...t);const{mount:n}=e;return e.mount=t=>{const i=ut(t);if(!i)return;const o=e._component;(0,r.mf)(o)||o.render||o.template||(o.template=i.innerHTML),i.innerHTML="";const s=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),s},e};function ut(t){if((0,r.HD)(t)){const e=document.querySelector(t);return e}return t}},7139:function(t,e,n){"use strict";function r(t,e){const n=Object.create(null),r=t.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return e?t=>!!n[t.toLowerCase()]:t=>!!n[t]}n.d(e,{C_:function(){return p},DM:function(){return D},E9:function(){return rt},F7:function(){return E},Gg:function(){return z},HD:function(){return L},He:function(){return et},Kn:function(){return F},NO:function(){return _},Nj:function(){return tt},Od:function(){return S},PO:function(){return q},Pq:function(){return a},RI:function(){return A},S0:function(){return H},W7:function(){return U},WV:function(){return m},Z6:function(){return w},_A:function(){return W},_N:function(){return O},aU:function(){return Y},dG:function(){return k},e1:function(){return o},fY:function(){return r},hR:function(){return Q},hq:function(){return v},ir:function(){return Z},j5:function(){return c},kC:function(){return X},kJ:function(){return N},kT:function(){return b},l7:function(){return x},mf:function(){return R},rs:function(){return J},tI:function(){return j},tR:function(){return C},yA:function(){return u},yk:function(){return P},zw:function(){return g}});const i="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",o=r(i);const s="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",a=r(s);function u(t){return!!t||""===t}function c(t){if(N(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=L(r)?f(r):c(r);if(i)for(const t in i)e[t]=i[t]}return e}return L(t)||F(t)?t:void 0}const l=/;(?![^(]*\))/g,h=/:(.+)/;function f(t){const e={};return t.split(l).forEach((t=>{if(t){const n=t.split(h);n.length>1&&(e[n[0].trim()]=n[1].trim())}})),e}function p(t){let e="";if(L(t))e=t;else if(N(t))for(let n=0;n<t.length;n++){const r=p(t[n]);r&&(e+=r+" ")}else if(F(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function d(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=m(t[r],e[r]);return n}function m(t,e){if(t===e)return!0;let n=M(t),r=M(e);if(n||r)return!(!n||!r)&&t.getTime()===e.getTime();if(n=N(t),r=N(e),n||r)return!(!n||!r)&&d(t,e);if(n=F(t),r=F(e),n||r){if(!n||!r)return!1;const i=Object.keys(t).length,o=Object.keys(e).length;if(i!==o)return!1;for(const n in t){const r=t.hasOwnProperty(n),i=e.hasOwnProperty(n);if(r&&!i||!r&&i||!m(t[n],e[n]))return!1}}return String(t)===String(e)}function v(t,e){return t.findIndex((t=>m(t,e)))}const g=t=>L(t)?t:null==t?"":N(t)||F(t)&&(t.toString===B||!R(t.toString))?JSON.stringify(t,y,2):String(t),y=(t,e)=>e&&e.__v_isRef?y(t,e.value):O(e)?{[`Map(${e.size})`]:[...e.entries()].reduce(((t,[e,n])=>(t[`${e} =>`]=n,t)),{})}:D(e)?{[`Set(${e.size})`]:[...e.values()]}:!F(e)||N(e)||q(e)?e:String(e),b={},w=[],k=()=>{},_=()=>!1,T=/^on[^a-z]/,E=t=>T.test(t),C=t=>t.startsWith("onUpdate:"),x=Object.assign,S=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},I=Object.prototype.hasOwnProperty,A=(t,e)=>I.call(t,e),N=Array.isArray,O=t=>"[object Map]"===V(t),D=t=>"[object Set]"===V(t),M=t=>t instanceof Date,R=t=>"function"===typeof t,L=t=>"string"===typeof t,P=t=>"symbol"===typeof t,F=t=>null!==t&&"object"===typeof t,j=t=>F(t)&&R(t.then)&&R(t.catch),B=Object.prototype.toString,V=t=>B.call(t),U=t=>V(t).slice(8,-1),q=t=>"[object Object]"===V(t),H=t=>L(t)&&"NaN"!==t&&"-"!==t[0]&&""+parseInt(t,10)===t,z=r(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),$=t=>{const e=Object.create(null);return n=>{const r=e[n];return r||(e[n]=t(n))}},G=/-(\w)/g,W=$((t=>t.replace(G,((t,e)=>e?e.toUpperCase():"")))),K=/\B([A-Z])/g,J=$((t=>t.replace(K,"-$1").toLowerCase())),X=$((t=>t.charAt(0).toUpperCase()+t.slice(1))),Q=$((t=>t?`on${X(t)}`:"")),Y=(t,e)=>!Object.is(t,e),Z=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},tt=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},et=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let nt;const rt=()=>nt||(nt="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{})},3812:function(t,e,n){var r;t=n.nmd(t),n(1703),function(i){var o=e,s=(t&&t.exports,"object"==typeof n.g&&n.g);s.global!==s&&s.window;var a=function(t){this.message=t};a.prototype=new Error,a.prototype.name="InvalidCharacterError";var u=function(t){throw new a(t)},c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=/[\t\n\f\r ]/g,h=function(t){t=String(t).replace(l,"");var e=t.length;e%4==0&&(t=t.replace(/==?$/,""),e=t.length),(e%4==1||/[^+a-zA-Z0-9/]/.test(t))&&u("Invalid character: the string to be decoded is not correctly encoded.");var n,r,i=0,o="",s=-1;while(++s<e)r=c.indexOf(t.charAt(s)),n=i%4?64*n+r:r,i++%4&&(o+=String.fromCharCode(255&n>>(-2*i&6)));return o},f=function(t){t=String(t),/[^\0-\xFF]/.test(t)&&u("The string to be encoded contains characters outside of the Latin1 range.");var e,n,r,i,o=t.length%3,s="",a=-1,l=t.length-o;while(++a<l)e=t.charCodeAt(a)<<16,n=t.charCodeAt(++a)<<8,r=t.charCodeAt(++a),i=e+n+r,s+=c.charAt(i>>18&63)+c.charAt(i>>12&63)+c.charAt(i>>6&63)+c.charAt(63&i);return 2==o?(e=t.charCodeAt(a)<<8,n=t.charCodeAt(++a),i=e+n,s+=c.charAt(i>>10)+c.charAt(i>>4&63)+c.charAt(i<<2&63)+"="):1==o&&(i=t.charCodeAt(a),s+=c.charAt(i>>2)+c.charAt(i<<4&63)+"=="),s},p={encode:f,decode:h,version:"1.0.0"};r=function(){return p}.call(e,n,e,t),void 0===r||(t.exports=r)}()},8937:function(t,e,n){"use strict";var r={};n.r(r),n.d(r,{afterMain:function(){return T},afterRead:function(){return w},afterWrite:function(){return x},applyStyles:function(){return L},arrow:function(){return ot},auto:function(){return u},basePlacements:function(){return c},beforeMain:function(){return k},beforeRead:function(){return y},beforeWrite:function(){return E},bottom:function(){return o},clippingParents:function(){return f},computeStyles:function(){return ht},createPopper:function(){return ue},createPopperBase:function(){return se},createPopperLite:function(){return le},detectOverflow:function(){return Dt},end:function(){return h},eventListeners:function(){return dt},flip:function(){return Pt},hide:function(){return Vt},left:function(){return a},main:function(){return _},modifierPhases:function(){return S},offset:function(){return Ht},placements:function(){return g},popper:function(){return d},popperGenerator:function(){return oe},popperOffsets:function(){return $t},preventOverflow:function(){return Kt},read:function(){return b},reference:function(){return m},right:function(){return s},start:function(){return l},top:function(){return i},variationPlacements:function(){return v},viewport:function(){return p},write:function(){return C}});n(1703);var i="top",o="bottom",s="right",a="left",u="auto",c=[i,o,s,a],l="start",h="end",f="clippingParents",p="viewport",d="popper",m="reference",v=c.reduce((function(t,e){return t.concat([e+"-"+l,e+"-"+h])}),[]),g=[].concat(c,[u]).reduce((function(t,e){return t.concat([e,e+"-"+l,e+"-"+h])}),[]),y="beforeRead",b="read",w="afterRead",k="beforeMain",_="main",T="afterMain",E="beforeWrite",C="write",x="afterWrite",S=[y,b,w,k,_,T,E,C,x];function I(t){return t?(t.nodeName||"").toLowerCase():null}function A(t){if(null==t)return window;if("[object Window]"!==t.toString()){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function N(t){var e=A(t).Element;return t instanceof e||t instanceof Element}function O(t){var e=A(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function D(t){if("undefined"===typeof ShadowRoot)return!1;var e=A(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function M(t){var e=t.state;Object.keys(e.elements).forEach((function(t){var n=e.styles[t]||{},r=e.attributes[t]||{},i=e.elements[t];O(i)&&I(i)&&(Object.assign(i.style,n),Object.keys(r).forEach((function(t){var e=r[t];!1===e?i.removeAttribute(t):i.setAttribute(t,!0===e?"":e)})))}))}function R(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach((function(t){var r=e.elements[t],i=e.attributes[t]||{},o=Object.keys(e.styles.hasOwnProperty(t)?e.styles[t]:n[t]),s=o.reduce((function(t,e){return t[e]="",t}),{});O(r)&&I(r)&&(Object.assign(r.style,s),Object.keys(i).forEach((function(t){r.removeAttribute(t)})))}))}}var L={name:"applyStyles",enabled:!0,phase:"write",fn:M,effect:R,requires:["computeStyles"]};function P(t){return t.split("-")[0]}var F=Math.max,j=Math.min,B=Math.round;function V(t,e){void 0===e&&(e=!1);var n=t.getBoundingClientRect(),r=1,i=1;if(O(t)&&e){var o=t.offsetHeight,s=t.offsetWidth;s>0&&(r=B(n.width)/s||1),o>0&&(i=B(n.height)/o||1)}return{width:n.width/r,height:n.height/i,top:n.top/i,right:n.right/r,bottom:n.bottom/i,left:n.left/r,x:n.left/r,y:n.top/i}}function U(t){var e=V(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function q(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&D(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function H(t){return A(t).getComputedStyle(t)}function z(t){return["table","td","th"].indexOf(I(t))>=0}function $(t){return((N(t)?t.ownerDocument:t.document)||window.document).documentElement}function G(t){return"html"===I(t)?t:t.assignedSlot||t.parentNode||(D(t)?t.host:null)||$(t)}function W(t){return O(t)&&"fixed"!==H(t).position?t.offsetParent:null}function K(t){var e=-1!==navigator.userAgent.toLowerCase().indexOf("firefox"),n=-1!==navigator.userAgent.indexOf("Trident");if(n&&O(t)){var r=H(t);if("fixed"===r.position)return null}var i=G(t);while(O(i)&&["html","body"].indexOf(I(i))<0){var o=H(i);if("none"!==o.transform||"none"!==o.perspective||"paint"===o.contain||-1!==["transform","perspective"].indexOf(o.willChange)||e&&"filter"===o.willChange||e&&o.filter&&"none"!==o.filter)return i;i=i.parentNode}return null}function J(t){var e=A(t),n=W(t);while(n&&z(n)&&"static"===H(n).position)n=W(n);return n&&("html"===I(n)||"body"===I(n)&&"static"===H(n).position)?e:n||K(t)||e}function X(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Q(t,e,n){return F(t,j(e,n))}function Y(t,e,n){var r=Q(t,e,n);return r>n?n:r}function Z(){return{top:0,right:0,bottom:0,left:0}}function tt(t){return Object.assign({},Z(),t)}function et(t,e){return e.reduce((function(e,n){return e[n]=t,e}),{})}var nt=function(t,e){return t="function"===typeof t?t(Object.assign({},e.rects,{placement:e.placement})):t,tt("number"!==typeof t?t:et(t,c))};function rt(t){var e,n=t.state,r=t.name,u=t.options,c=n.elements.arrow,l=n.modifiersData.popperOffsets,h=P(n.placement),f=X(h),p=[a,s].indexOf(h)>=0,d=p?"height":"width";if(c&&l){var m=nt(u.padding,n),v=U(c),g="y"===f?i:a,y="y"===f?o:s,b=n.rects.reference[d]+n.rects.reference[f]-l[f]-n.rects.popper[d],w=l[f]-n.rects.reference[f],k=J(c),_=k?"y"===f?k.clientHeight||0:k.clientWidth||0:0,T=b/2-w/2,E=m[g],C=_-v[d]-m[y],x=_/2-v[d]/2+T,S=Q(E,x,C),I=f;n.modifiersData[r]=(e={},e[I]=S,e.centerOffset=S-x,e)}}function it(t){var e=t.state,n=t.options,r=n.element,i=void 0===r?"[data-popper-arrow]":r;null!=i&&("string"!==typeof i||(i=e.elements.popper.querySelector(i),i))&&q(e.elements.popper,i)&&(e.elements.arrow=i)}var ot={name:"arrow",enabled:!0,phase:"main",fn:rt,effect:it,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function st(t){return t.split("-")[1]}var at={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ut(t){var e=t.x,n=t.y,r=window,i=r.devicePixelRatio||1;return{x:B(e*i)/i||0,y:B(n*i)/i||0}}function ct(t){var e,n=t.popper,r=t.popperRect,u=t.placement,c=t.variation,l=t.offsets,f=t.position,p=t.gpuAcceleration,d=t.adaptive,m=t.roundOffsets,v=t.isFixed,g=l.x,y=void 0===g?0:g,b=l.y,w=void 0===b?0:b,k="function"===typeof m?m({x:y,y:w}):{x:y,y:w};y=k.x,w=k.y;var _=l.hasOwnProperty("x"),T=l.hasOwnProperty("y"),E=a,C=i,x=window;if(d){var S=J(n),I="clientHeight",N="clientWidth";if(S===A(n)&&(S=$(n),"static"!==H(S).position&&"absolute"===f&&(I="scrollHeight",N="scrollWidth")),S=S,u===i||(u===a||u===s)&&c===h){C=o;var O=v&&x.visualViewport?x.visualViewport.height:S[I];w-=O-r.height,w*=p?1:-1}if(u===a||(u===i||u===o)&&c===h){E=s;var D=v&&x.visualViewport?x.visualViewport.width:S[N];y-=D-r.width,y*=p?1:-1}}var M,R=Object.assign({position:f},d&&at),L=!0===m?ut({x:y,y:w}):{x:y,y:w};return y=L.x,w=L.y,p?Object.assign({},R,(M={},M[C]=T?"0":"",M[E]=_?"0":"",M.transform=(x.devicePixelRatio||1)<=1?"translate("+y+"px, "+w+"px)":"translate3d("+y+"px, "+w+"px, 0)",M)):Object.assign({},R,(e={},e[C]=T?w+"px":"",e[E]=_?y+"px":"",e.transform="",e))}function lt(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=void 0===r||r,o=n.adaptive,s=void 0===o||o,a=n.roundOffsets,u=void 0===a||a,c={placement:P(e.placement),variation:st(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:"fixed"===e.options.strategy};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,ct(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:u})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,ct(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var ht={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:lt,data:{}},ft={passive:!0};function pt(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,o=void 0===i||i,s=r.resize,a=void 0===s||s,u=A(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&c.forEach((function(t){t.addEventListener("scroll",n.update,ft)})),a&&u.addEventListener("resize",n.update,ft),function(){o&&c.forEach((function(t){t.removeEventListener("scroll",n.update,ft)})),a&&u.removeEventListener("resize",n.update,ft)}}var dt={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:pt,data:{}},mt={left:"right",right:"left",bottom:"top",top:"bottom"};function vt(t){return t.replace(/left|right|bottom|top/g,(function(t){return mt[t]}))}var gt={start:"end",end:"start"};function yt(t){return t.replace(/start|end/g,(function(t){return gt[t]}))}function bt(t){var e=A(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function wt(t){return V($(t)).left+bt(t).scrollLeft}function kt(t){var e=A(t),n=$(t),r=e.visualViewport,i=n.clientWidth,o=n.clientHeight,s=0,a=0;return r&&(i=r.width,o=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(s=r.offsetLeft,a=r.offsetTop)),{width:i,height:o,x:s+wt(t),y:a}}function _t(t){var e,n=$(t),r=bt(t),i=null==(e=t.ownerDocument)?void 0:e.body,o=F(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=F(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+wt(t),u=-r.scrollTop;return"rtl"===H(i||n).direction&&(a+=F(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:u}}function Tt(t){var e=H(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function Et(t){return["html","body","#document"].indexOf(I(t))>=0?t.ownerDocument.body:O(t)&&Tt(t)?t:Et(G(t))}function Ct(t,e){var n;void 0===e&&(e=[]);var r=Et(t),i=r===(null==(n=t.ownerDocument)?void 0:n.body),o=A(r),s=i?[o].concat(o.visualViewport||[],Tt(r)?r:[]):r,a=e.concat(s);return i?a:a.concat(Ct(G(s)))}function xt(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function St(t){var e=V(t);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}function It(t,e){return e===p?xt(kt(t)):N(e)?St(e):xt(_t($(t)))}function At(t){var e=Ct(G(t)),n=["absolute","fixed"].indexOf(H(t).position)>=0,r=n&&O(t)?J(t):t;return N(r)?e.filter((function(t){return N(t)&&q(t,r)&&"body"!==I(t)})):[]}function Nt(t,e,n){var r="clippingParents"===e?At(t):[].concat(e),i=[].concat(r,[n]),o=i[0],s=i.reduce((function(e,n){var r=It(t,n);return e.top=F(r.top,e.top),e.right=j(r.right,e.right),e.bottom=j(r.bottom,e.bottom),e.left=F(r.left,e.left),e}),It(t,o));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function Ot(t){var e,n=t.reference,r=t.element,u=t.placement,c=u?P(u):null,f=u?st(u):null,p=n.x+n.width/2-r.width/2,d=n.y+n.height/2-r.height/2;switch(c){case i:e={x:p,y:n.y-r.height};break;case o:e={x:p,y:n.y+n.height};break;case s:e={x:n.x+n.width,y:d};break;case a:e={x:n.x-r.width,y:d};break;default:e={x:n.x,y:n.y}}var m=c?X(c):null;if(null!=m){var v="y"===m?"height":"width";switch(f){case l:e[m]=e[m]-(n[v]/2-r[v]/2);break;case h:e[m]=e[m]+(n[v]/2-r[v]/2);break;default:}}return e}function Dt(t,e){void 0===e&&(e={});var n=e,r=n.placement,a=void 0===r?t.placement:r,u=n.boundary,l=void 0===u?f:u,h=n.rootBoundary,v=void 0===h?p:h,g=n.elementContext,y=void 0===g?d:g,b=n.altBoundary,w=void 0!==b&&b,k=n.padding,_=void 0===k?0:k,T=tt("number"!==typeof _?_:et(_,c)),E=y===d?m:d,C=t.rects.popper,x=t.elements[w?E:y],S=Nt(N(x)?x:x.contextElement||$(t.elements.popper),l,v),I=V(t.elements.reference),A=Ot({reference:I,element:C,strategy:"absolute",placement:a}),O=xt(Object.assign({},C,A)),D=y===d?O:I,M={top:S.top-D.top+T.top,bottom:D.bottom-S.bottom+T.bottom,left:S.left-D.left+T.left,right:D.right-S.right+T.right},R=t.modifiersData.offset;if(y===d&&R){var L=R[a];Object.keys(M).forEach((function(t){var e=[s,o].indexOf(t)>=0?1:-1,n=[i,o].indexOf(t)>=0?"y":"x";M[t]+=L[n]*e}))}return M}function Mt(t,e){void 0===e&&(e={});var n=e,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,u=n.allowedAutoPlacements,l=void 0===u?g:u,h=st(r),f=h?a?v:v.filter((function(t){return st(t)===h})):c,p=f.filter((function(t){return l.indexOf(t)>=0}));0===p.length&&(p=f);var d=p.reduce((function(e,n){return e[n]=Dt(t,{placement:n,boundary:i,rootBoundary:o,padding:s})[P(n)],e}),{});return Object.keys(d).sort((function(t,e){return d[t]-d[e]}))}function Rt(t){if(P(t)===u)return[];var e=vt(t);return[yt(t),e,yt(e)]}function Lt(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var c=n.mainAxis,h=void 0===c||c,f=n.altAxis,p=void 0===f||f,d=n.fallbackPlacements,m=n.padding,v=n.boundary,g=n.rootBoundary,y=n.altBoundary,b=n.flipVariations,w=void 0===b||b,k=n.allowedAutoPlacements,_=e.options.placement,T=P(_),E=T===_,C=d||(E||!w?[vt(_)]:Rt(_)),x=[_].concat(C).reduce((function(t,n){return t.concat(P(n)===u?Mt(e,{placement:n,boundary:v,rootBoundary:g,padding:m,flipVariations:w,allowedAutoPlacements:k}):n)}),[]),S=e.rects.reference,I=e.rects.popper,A=new Map,N=!0,O=x[0],D=0;D<x.length;D++){var M=x[D],R=P(M),L=st(M)===l,F=[i,o].indexOf(R)>=0,j=F?"width":"height",B=Dt(e,{placement:M,boundary:v,rootBoundary:g,altBoundary:y,padding:m}),V=F?L?s:a:L?o:i;S[j]>I[j]&&(V=vt(V));var U=vt(V),q=[];if(h&&q.push(B[R]<=0),p&&q.push(B[V]<=0,B[U]<=0),q.every((function(t){return t}))){O=M,N=!1;break}A.set(M,q)}if(N)for(var H=w?3:1,z=function(t){var e=x.find((function(e){var n=A.get(e);if(n)return n.slice(0,t).every((function(t){return t}))}));if(e)return O=e,"break"},$=H;$>0;$--){var G=z($);if("break"===G)break}e.placement!==O&&(e.modifiersData[r]._skip=!0,e.placement=O,e.reset=!0)}}var Pt={name:"flip",enabled:!0,phase:"main",fn:Lt,requiresIfExists:["offset"],data:{_skip:!1}};function Ft(t,e,n){return void 0===n&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function jt(t){return[i,s,o,a].some((function(e){return t[e]>=0}))}function Bt(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,s=Dt(e,{elementContext:"reference"}),a=Dt(e,{altBoundary:!0}),u=Ft(s,r),c=Ft(a,i,o),l=jt(u),h=jt(c);e.modifiersData[n]={referenceClippingOffsets:u,popperEscapeOffsets:c,isReferenceHidden:l,hasPopperEscaped:h},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":l,"data-popper-escaped":h})}var Vt={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Bt};function Ut(t,e,n){var r=P(t),o=[a,i].indexOf(r)>=0?-1:1,u="function"===typeof n?n(Object.assign({},e,{placement:t})):n,c=u[0],l=u[1];return c=c||0,l=(l||0)*o,[a,s].indexOf(r)>=0?{x:l,y:c}:{x:c,y:l}}function qt(t){var e=t.state,n=t.options,r=t.name,i=n.offset,o=void 0===i?[0,0]:i,s=g.reduce((function(t,n){return t[n]=Ut(n,e.rects,o),t}),{}),a=s[e.placement],u=a.x,c=a.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=u,e.modifiersData.popperOffsets.y+=c),e.modifiersData[r]=s}var Ht={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:qt};function zt(t){var e=t.state,n=t.name;e.modifiersData[n]=Ot({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var $t={name:"popperOffsets",enabled:!0,phase:"read",fn:zt,data:{}};function Gt(t){return"x"===t?"y":"x"}function Wt(t){var e=t.state,n=t.options,r=t.name,u=n.mainAxis,c=void 0===u||u,h=n.altAxis,f=void 0!==h&&h,p=n.boundary,d=n.rootBoundary,m=n.altBoundary,v=n.padding,g=n.tether,y=void 0===g||g,b=n.tetherOffset,w=void 0===b?0:b,k=Dt(e,{boundary:p,rootBoundary:d,padding:v,altBoundary:m}),_=P(e.placement),T=st(e.placement),E=!T,C=X(_),x=Gt(C),S=e.modifiersData.popperOffsets,I=e.rects.reference,A=e.rects.popper,N="function"===typeof w?w(Object.assign({},e.rects,{placement:e.placement})):w,O="number"===typeof N?{mainAxis:N,altAxis:N}:Object.assign({mainAxis:0,altAxis:0},N),D=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,M={x:0,y:0};if(S){if(c){var R,L="y"===C?i:a,B="y"===C?o:s,V="y"===C?"height":"width",q=S[C],H=q+k[L],z=q-k[B],$=y?-A[V]/2:0,G=T===l?I[V]:A[V],W=T===l?-A[V]:-I[V],K=e.elements.arrow,tt=y&&K?U(K):{width:0,height:0},et=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Z(),nt=et[L],rt=et[B],it=Q(0,I[V],tt[V]),ot=E?I[V]/2-$-it-nt-O.mainAxis:G-it-nt-O.mainAxis,at=E?-I[V]/2+$+it+rt+O.mainAxis:W+it+rt+O.mainAxis,ut=e.elements.arrow&&J(e.elements.arrow),ct=ut?"y"===C?ut.clientTop||0:ut.clientLeft||0:0,lt=null!=(R=null==D?void 0:D[C])?R:0,ht=q+ot-lt-ct,ft=q+at-lt,pt=Q(y?j(H,ht):H,q,y?F(z,ft):z);S[C]=pt,M[C]=pt-q}if(f){var dt,mt="x"===C?i:a,vt="x"===C?o:s,gt=S[x],yt="y"===x?"height":"width",bt=gt+k[mt],wt=gt-k[vt],kt=-1!==[i,a].indexOf(_),_t=null!=(dt=null==D?void 0:D[x])?dt:0,Tt=kt?bt:gt-I[yt]-A[yt]-_t+O.altAxis,Et=kt?gt+I[yt]+A[yt]-_t-O.altAxis:wt,Ct=y&&kt?Y(Tt,gt,Et):Q(y?Tt:bt,gt,y?Et:wt);S[x]=Ct,M[x]=Ct-gt}e.modifiersData[r]=M}}var Kt={name:"preventOverflow",enabled:!0,phase:"main",fn:Wt,requiresIfExists:["offset"]};function Jt(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Xt(t){return t!==A(t)&&O(t)?Jt(t):bt(t)}function Qt(t){var e=t.getBoundingClientRect(),n=B(e.width)/t.offsetWidth||1,r=B(e.height)/t.offsetHeight||1;return 1!==n||1!==r}function Yt(t,e,n){void 0===n&&(n=!1);var r=O(e),i=O(e)&&Qt(e),o=$(e),s=V(t,i),a={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(r||!r&&!n)&&(("body"!==I(e)||Tt(o))&&(a=Xt(e)),O(e)?(u=V(e,!0),u.x+=e.clientLeft,u.y+=e.clientTop):o&&(u.x=wt(o))),{x:s.left+a.scrollLeft-u.x,y:s.top+a.scrollTop-u.y,width:s.width,height:s.height}}function Zt(t){var e=new Map,n=new Set,r=[];function i(t){n.add(t.name);var o=[].concat(t.requires||[],t.requiresIfExists||[]);o.forEach((function(t){if(!n.has(t)){var r=e.get(t);r&&i(r)}})),r.push(t)}return t.forEach((function(t){e.set(t.name,t)})),t.forEach((function(t){n.has(t.name)||i(t)})),r}function te(t){var e=Zt(t);return S.reduce((function(t,n){return t.concat(e.filter((function(t){return t.phase===n})))}),[])}function ee(t){var e;return function(){return e||(e=new Promise((function(n){Promise.resolve().then((function(){e=void 0,n(t())}))}))),e}}function ne(t){var e=t.reduce((function(t,e){var n=t[e.name];return t[e.name]=n?Object.assign({},n,e,{options:Object.assign({},n.options,e.options),data:Object.assign({},n.data,e.data)}):e,t}),{});return Object.keys(e).map((function(t){return e[t]}))}var re={placement:"bottom",modifiers:[],strategy:"absolute"};function ie(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some((function(t){return!(t&&"function"===typeof t.getBoundingClientRect)}))}function oe(t){void 0===t&&(t={});var e=t,n=e.defaultModifiers,r=void 0===n?[]:n,i=e.defaultOptions,o=void 0===i?re:i;return function(t,e,n){void 0===n&&(n=o);var i={placement:"bottom",orderedModifiers:[],options:Object.assign({},re,o),modifiersData:{},elements:{reference:t,popper:e},attributes:{},styles:{}},s=[],a=!1,u={state:i,setOptions:function(n){var s="function"===typeof n?n(i.options):n;l(),i.options=Object.assign({},o,i.options,s),i.scrollParents={reference:N(t)?Ct(t):t.contextElement?Ct(t.contextElement):[],popper:Ct(e)};var a=te(ne([].concat(r,i.options.modifiers)));return i.orderedModifiers=a.filter((function(t){return t.enabled})),c(),u.update()},forceUpdate:function(){if(!a){var t=i.elements,e=t.reference,n=t.popper;if(ie(e,n)){i.rects={reference:Yt(e,J(n),"fixed"===i.options.strategy),popper:U(n)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach((function(t){return i.modifiersData[t.name]=Object.assign({},t.data)}));for(var r=0;r<i.orderedModifiers.length;r++)if(!0!==i.reset){var o=i.orderedModifiers[r],s=o.fn,c=o.options,l=void 0===c?{}:c,h=o.name;"function"===typeof s&&(i=s({state:i,options:l,name:h,instance:u})||i)}else i.reset=!1,r=-1}}},update:ee((function(){return new Promise((function(t){u.forceUpdate(),t(i)}))})),destroy:function(){l(),a=!0}};if(!ie(t,e))return u;function c(){i.orderedModifiers.forEach((function(t){var e=t.name,n=t.options,r=void 0===n?{}:n,o=t.effect;if("function"===typeof o){var a=o({state:i,name:e,instance:u,options:r}),c=function(){};s.push(a||c)}}))}function l(){s.forEach((function(t){return t()})),s=[]}return u.setOptions(n).then((function(t){!a&&n.onFirstUpdate&&n.onFirstUpdate(t)})),u}}var se=oe(),ae=[dt,$t,ht,L,Ht,Pt,Kt,ot,Vt],ue=oe({defaultModifiers:ae}),ce=[dt,$t,ht,L],le=oe({defaultModifiers:ce});
/*!
  * Bootstrap v5.1.3 (https://getbootstrap.com/)
  * Copyright 2011-2021 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */
const he=1e6,fe=1e3,pe="transitionend",de=t=>null===t||void 0===t?`${t}`:{}.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase(),me=t=>{do{t+=Math.floor(Math.random()*he)}while(document.getElementById(t));return t},ve=t=>{let e=t.getAttribute("data-bs-target");if(!e||"#"===e){let n=t.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),e=n&&"#"!==n?n.trim():null}return e},ge=t=>{const e=ve(t);return e&&document.querySelector(e)?e:null},ye=t=>{const e=ve(t);return e?document.querySelector(e):null},be=t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:n}=window.getComputedStyle(t);const r=Number.parseFloat(e),i=Number.parseFloat(n);return r||i?(e=e.split(",")[0],n=n.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(n))*fe):0},we=t=>{t.dispatchEvent(new Event(pe))},ke=t=>!(!t||"object"!==typeof t)&&("undefined"!==typeof t.jquery&&(t=t[0]),"undefined"!==typeof t.nodeType),_e=t=>ke(t)?t.jquery?t[0]:t:"string"===typeof t&&t.length>0?document.querySelector(t):null,Te=(t,e,n)=>{Object.keys(n).forEach((r=>{const i=n[r],o=e[r],s=o&&ke(o)?"element":de(o);if(!new RegExp(i).test(s))throw new TypeError(`${t.toUpperCase()}: Option "${r}" provided type "${s}" but expected type "${i}".`)}))},Ee=t=>!(!ke(t)||0===t.getClientRects().length)&&"visible"===getComputedStyle(t).getPropertyValue("visibility"),Ce=t=>!t||t.nodeType!==Node.ELEMENT_NODE||(!!t.classList.contains("disabled")||("undefined"!==typeof t.disabled?t.disabled:t.hasAttribute("disabled")&&"false"!==t.getAttribute("disabled"))),xe=t=>{if(!document.documentElement.attachShadow)return null;if("function"===typeof t.getRootNode){const e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?xe(t.parentNode):null},Se=()=>{},Ie=t=>{t.offsetHeight},Ae=()=>{const{jQuery:t}=window;return t&&!document.body.hasAttribute("data-bs-no-jquery")?t:null},Ne=[],Oe=t=>{"loading"===document.readyState?(Ne.length||document.addEventListener("DOMContentLoaded",(()=>{Ne.forEach((t=>t()))})),Ne.push(t)):t()},De=()=>"rtl"===document.documentElement.dir,Me=t=>{Oe((()=>{const e=Ae();if(e){const n=t.NAME,r=e.fn[n];e.fn[n]=t.jQueryInterface,e.fn[n].Constructor=t,e.fn[n].noConflict=()=>(e.fn[n]=r,t.jQueryInterface)}}))},Re=t=>{"function"===typeof t&&t()},Le=(t,e,n=!0)=>{if(!n)return void Re(t);const r=5,i=be(e)+r;let o=!1;const s=({target:n})=>{n===e&&(o=!0,e.removeEventListener(pe,s),Re(t))};e.addEventListener(pe,s),setTimeout((()=>{o||we(e)}),i)},Pe=(t,e,n,r)=>{let i=t.indexOf(e);if(-1===i)return t[!n&&r?t.length-1:0];const o=t.length;return i+=n?1:-1,r&&(i=(i+o)%o),t[Math.max(0,Math.min(i,o-1))]},Fe=/[^.]*(?=\..*)\.|.*/,je=/\..*/,Be=/::\d+$/,Ve={};let Ue=1;const qe={mouseenter:"mouseover",mouseleave:"mouseout"},He=/^(mouseenter|mouseleave)/i,ze=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function $e(t,e){return e&&`${e}::${Ue++}`||t.uidEvent||Ue++}function Ge(t){const e=$e(t);return t.uidEvent=e,Ve[e]=Ve[e]||{},Ve[e]}function We(t,e){return function n(r){return r.delegateTarget=t,n.oneOff&&en.off(t,r.type,e),e.apply(t,[r])}}function Ke(t,e,n){return function r(i){const o=t.querySelectorAll(e);for(let{target:s}=i;s&&s!==this;s=s.parentNode)for(let a=o.length;a--;)if(o[a]===s)return i.delegateTarget=s,r.oneOff&&en.off(t,i.type,e,n),n.apply(s,[i]);return null}}function Je(t,e,n=null){const r=Object.keys(t);for(let i=0,o=r.length;i<o;i++){const o=t[r[i]];if(o.originalHandler===e&&o.delegationSelector===n)return o}return null}function Xe(t,e,n){const r="string"===typeof e,i=r?n:e;let o=tn(t);const s=ze.has(o);return s||(o=t),[r,i,o]}function Qe(t,e,n,r,i){if("string"!==typeof e||!t)return;if(n||(n=r,r=null),He.test(e)){const t=t=>function(e){if(!e.relatedTarget||e.relatedTarget!==e.delegateTarget&&!e.delegateTarget.contains(e.relatedTarget))return t.call(this,e)};r?r=t(r):n=t(n)}const[o,s,a]=Xe(e,n,r),u=Ge(t),c=u[a]||(u[a]={}),l=Je(c,s,o?n:null);if(l)return void(l.oneOff=l.oneOff&&i);const h=$e(s,e.replace(Fe,"")),f=o?Ke(t,n,r):We(t,n);f.delegationSelector=o?n:null,f.originalHandler=s,f.oneOff=i,f.uidEvent=h,c[h]=f,t.addEventListener(a,f,o)}function Ye(t,e,n,r,i){const o=Je(e[n],r,i);o&&(t.removeEventListener(n,o,Boolean(i)),delete e[n][o.uidEvent])}function Ze(t,e,n,r){const i=e[n]||{};Object.keys(i).forEach((o=>{if(o.includes(r)){const r=i[o];Ye(t,e,n,r.originalHandler,r.delegationSelector)}}))}function tn(t){return t=t.replace(je,""),qe[t]||t}const en={on(t,e,n,r){Qe(t,e,n,r,!1)},one(t,e,n,r){Qe(t,e,n,r,!0)},off(t,e,n,r){if("string"!==typeof e||!t)return;const[i,o,s]=Xe(e,n,r),a=s!==e,u=Ge(t),c=e.startsWith(".");if("undefined"!==typeof o){if(!u||!u[s])return;return void Ye(t,u,s,o,i?n:null)}c&&Object.keys(u).forEach((n=>{Ze(t,u,n,e.slice(1))}));const l=u[s]||{};Object.keys(l).forEach((n=>{const r=n.replace(Be,"");if(!a||e.includes(r)){const e=l[n];Ye(t,u,s,e.originalHandler,e.delegationSelector)}}))},trigger(t,e,n){if("string"!==typeof e||!t)return null;const r=Ae(),i=tn(e),o=e!==i,s=ze.has(i);let a,u=!0,c=!0,l=!1,h=null;return o&&r&&(a=r.Event(e,n),r(t).trigger(a),u=!a.isPropagationStopped(),c=!a.isImmediatePropagationStopped(),l=a.isDefaultPrevented()),s?(h=document.createEvent("HTMLEvents"),h.initEvent(i,u,!0)):h=new CustomEvent(e,{bubbles:u,cancelable:!0}),"undefined"!==typeof n&&Object.keys(n).forEach((t=>{Object.defineProperty(h,t,{get(){return n[t]}})})),l&&h.preventDefault(),c&&t.dispatchEvent(h),h.defaultPrevented&&"undefined"!==typeof a&&a.preventDefault(),h}},nn=new Map,rn={set(t,e,n){nn.has(t)||nn.set(t,new Map);const r=nn.get(t);r.has(e)||0===r.size?r.set(e,n):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(r.keys())[0]}.`)},get(t,e){return nn.has(t)&&nn.get(t).get(e)||null},remove(t,e){if(!nn.has(t))return;const n=nn.get(t);n.delete(e),0===n.size&&nn.delete(t)}},on="5.1.3";class sn{constructor(t){t=_e(t),t&&(this._element=t,rn.set(this._element,this.constructor.DATA_KEY,this))}dispose(){rn.remove(this._element,this.constructor.DATA_KEY),en.off(this._element,this.constructor.EVENT_KEY),Object.getOwnPropertyNames(this).forEach((t=>{this[t]=null}))}_queueCallback(t,e,n=!0){Le(t,e,n)}static getInstance(t){return rn.get(_e(t),this.DATA_KEY)}static getOrCreateInstance(t,e={}){return this.getInstance(t)||new this(t,"object"===typeof e?e:null)}static get VERSION(){return on}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}}const an=(t,e="hide")=>{const n=`click.dismiss${t.EVENT_KEY}`,r=t.NAME;en.on(document,n,`[data-bs-dismiss="${r}"]`,(function(n){if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),Ce(this))return;const i=ye(this)||this.closest(`.${r}`),o=t.getOrCreateInstance(i);o[e]()}))},un="alert",cn="bs.alert",ln=`.${cn}`,hn=`close${ln}`,fn=`closed${ln}`,pn="fade",dn="show";class mn extends sn{static get NAME(){return un}close(){const t=en.trigger(this._element,hn);if(t.defaultPrevented)return;this._element.classList.remove(dn);const e=this._element.classList.contains(pn);this._queueCallback((()=>this._destroyElement()),this._element,e)}_destroyElement(){this._element.remove(),en.trigger(this._element,fn),this.dispose()}static jQueryInterface(t){return this.each((function(){const e=mn.getOrCreateInstance(this);if("string"===typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t](this)}}))}}an(mn,"close"),Me(mn);const vn="button",gn="bs.button",yn=`.${gn}`,bn=".data-api",wn="active",kn='[data-bs-toggle="button"]',_n=`click${yn}${bn}`;class Tn extends sn{static get NAME(){return vn}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(wn))}static jQueryInterface(t){return this.each((function(){const e=Tn.getOrCreateInstance(this);"toggle"===t&&e[t]()}))}}function En(t){return"true"===t||"false"!==t&&(t===Number(t).toString()?Number(t):""===t||"null"===t?null:t)}function Cn(t){return t.replace(/[A-Z]/g,(t=>`-${t.toLowerCase()}`))}en.on(document,_n,kn,(t=>{t.preventDefault();const e=t.target.closest(kn),n=Tn.getOrCreateInstance(e);n.toggle()})),Me(Tn);const xn={setDataAttribute(t,e,n){t.setAttribute(`data-bs-${Cn(e)}`,n)},removeDataAttribute(t,e){t.removeAttribute(`data-bs-${Cn(e)}`)},getDataAttributes(t){if(!t)return{};const e={};return Object.keys(t.dataset).filter((t=>t.startsWith("bs"))).forEach((n=>{let r=n.replace(/^bs/,"");r=r.charAt(0).toLowerCase()+r.slice(1,r.length),e[r]=En(t.dataset[n])})),e},getDataAttribute(t,e){return En(t.getAttribute(`data-bs-${Cn(e)}`))},offset(t){const e=t.getBoundingClientRect();return{top:e.top+window.pageYOffset,left:e.left+window.pageXOffset}},position(t){return{top:t.offsetTop,left:t.offsetLeft}}},Sn=3,In={find(t,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,t))},findOne(t,e=document.documentElement){return Element.prototype.querySelector.call(e,t)},children(t,e){return[].concat(...t.children).filter((t=>t.matches(e)))},parents(t,e){const n=[];let r=t.parentNode;while(r&&r.nodeType===Node.ELEMENT_NODE&&r.nodeType!==Sn)r.matches(e)&&n.push(r),r=r.parentNode;return n},prev(t,e){let n=t.previousElementSibling;while(n){if(n.matches(e))return[n];n=n.previousElementSibling}return[]},next(t,e){let n=t.nextElementSibling;while(n){if(n.matches(e))return[n];n=n.nextElementSibling}return[]},focusableChildren(t){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map((t=>`${t}:not([tabindex^="-"])`)).join(", ");return this.find(e,t).filter((t=>!Ce(t)&&Ee(t)))}},An="carousel",Nn="bs.carousel",On=`.${Nn}`,Dn=".data-api",Mn="ArrowLeft",Rn="ArrowRight",Ln=500,Pn=40,Fn={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},jn={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},Bn="next",Vn="prev",Un="left",qn="right",Hn={[Mn]:qn,[Rn]:Un},zn=`slide${On}`,$n=`slid${On}`,Gn=`keydown${On}`,Wn=`mouseenter${On}`,Kn=`mouseleave${On}`,Jn=`touchstart${On}`,Xn=`touchmove${On}`,Qn=`touchend${On}`,Yn=`pointerdown${On}`,Zn=`pointerup${On}`,tr=`dragstart${On}`,er=`load${On}${Dn}`,nr=`click${On}${Dn}`,rr="carousel",ir="active",or="slide",sr="carousel-item-end",ar="carousel-item-start",ur="carousel-item-next",cr="carousel-item-prev",lr="pointer-event",hr=".active",fr=".active.carousel-item",pr=".carousel-item",dr=".carousel-item img",mr=".carousel-item-next, .carousel-item-prev",vr=".carousel-indicators",gr="[data-bs-target]",yr="[data-bs-slide], [data-bs-slide-to]",br='[data-bs-ride="carousel"]',wr="touch",kr="pen";class _r extends sn{constructor(t,e){super(t),this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(e),this._indicatorsElement=In.findOne(vr,this._element),this._touchSupported="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,this._pointerEvent=Boolean(window.PointerEvent),this._addEventListeners()}static get Default(){return Fn}static get NAME(){return An}next(){this._slide(Bn)}nextWhenVisible(){!document.hidden&&Ee(this._element)&&this.next()}prev(){this._slide(Vn)}pause(t){t||(this._isPaused=!0),In.findOne(mr,this._element)&&(we(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null}cycle(t){t||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config&&this._config.interval&&!this._isPaused&&(this._updateInterval(),this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))}to(t){this._activeElement=In.findOne(fr,this._element);const e=this._getItemIndex(this._activeElement);if(t>this._items.length-1||t<0)return;if(this._isSliding)return void en.one(this._element,$n,(()=>this.to(t)));if(e===t)return this.pause(),void this.cycle();const n=t>e?Bn:Vn;this._slide(n,this._items[t])}_getConfig(t){return t={...Fn,...xn.getDataAttributes(this._element),..."object"===typeof t?t:{}},Te(An,t,jn),t}_handleSwipe(){const t=Math.abs(this.touchDeltaX);if(t<=Pn)return;const e=t/this.touchDeltaX;this.touchDeltaX=0,e&&this._slide(e>0?qn:Un)}_addEventListeners(){this._config.keyboard&&en.on(this._element,Gn,(t=>this._keydown(t))),"hover"===this._config.pause&&(en.on(this._element,Wn,(t=>this.pause(t))),en.on(this._element,Kn,(t=>this.cycle(t)))),this._config.touch&&this._touchSupported&&this._addTouchEventListeners()}_addTouchEventListeners(){const t=t=>this._pointerEvent&&(t.pointerType===kr||t.pointerType===wr),e=e=>{t(e)?this.touchStartX=e.clientX:this._pointerEvent||(this.touchStartX=e.touches[0].clientX)},n=t=>{this.touchDeltaX=t.touches&&t.touches.length>1?0:t.touches[0].clientX-this.touchStartX},r=e=>{t(e)&&(this.touchDeltaX=e.clientX-this.touchStartX),this._handleSwipe(),"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout((t=>this.cycle(t)),Ln+this._config.interval))};In.find(dr,this._element).forEach((t=>{en.on(t,tr,(t=>t.preventDefault()))})),this._pointerEvent?(en.on(this._element,Yn,(t=>e(t))),en.on(this._element,Zn,(t=>r(t))),this._element.classList.add(lr)):(en.on(this._element,Jn,(t=>e(t))),en.on(this._element,Xn,(t=>n(t))),en.on(this._element,Qn,(t=>r(t))))}_keydown(t){if(/input|textarea/i.test(t.target.tagName))return;const e=Hn[t.key];e&&(t.preventDefault(),this._slide(e))}_getItemIndex(t){return this._items=t&&t.parentNode?In.find(pr,t.parentNode):[],this._items.indexOf(t)}_getItemByOrder(t,e){const n=t===Bn;return Pe(this._items,e,n,this._config.wrap)}_triggerSlideEvent(t,e){const n=this._getItemIndex(t),r=this._getItemIndex(In.findOne(fr,this._element));return en.trigger(this._element,zn,{relatedTarget:t,direction:e,from:r,to:n})}_setActiveIndicatorElement(t){if(this._indicatorsElement){const e=In.findOne(hr,this._indicatorsElement);e.classList.remove(ir),e.removeAttribute("aria-current");const n=In.find(gr,this._indicatorsElement);for(let r=0;r<n.length;r++)if(Number.parseInt(n[r].getAttribute("data-bs-slide-to"),10)===this._getItemIndex(t)){n[r].classList.add(ir),n[r].setAttribute("aria-current","true");break}}}_updateInterval(){const t=this._activeElement||In.findOne(fr,this._element);if(!t)return;const e=Number.parseInt(t.getAttribute("data-bs-interval"),10);e?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=e):this._config.interval=this._config.defaultInterval||this._config.interval}_slide(t,e){const n=this._directionToOrder(t),r=In.findOne(fr,this._element),i=this._getItemIndex(r),o=e||this._getItemByOrder(n,r),s=this._getItemIndex(o),a=Boolean(this._interval),u=n===Bn,c=u?ar:sr,l=u?ur:cr,h=this._orderToDirection(n);if(o&&o.classList.contains(ir))return void(this._isSliding=!1);if(this._isSliding)return;const f=this._triggerSlideEvent(o,h);if(f.defaultPrevented)return;if(!r||!o)return;this._isSliding=!0,a&&this.pause(),this._setActiveIndicatorElement(o),this._activeElement=o;const p=()=>{en.trigger(this._element,$n,{relatedTarget:o,direction:h,from:i,to:s})};if(this._element.classList.contains(or)){o.classList.add(l),Ie(o),r.classList.add(c),o.classList.add(c);const t=()=>{o.classList.remove(c,l),o.classList.add(ir),r.classList.remove(ir,l,c),this._isSliding=!1,setTimeout(p,0)};this._queueCallback(t,r,!0)}else r.classList.remove(ir),o.classList.add(ir),this._isSliding=!1,p();a&&this.cycle()}_directionToOrder(t){return[qn,Un].includes(t)?De()?t===Un?Vn:Bn:t===Un?Bn:Vn:t}_orderToDirection(t){return[Bn,Vn].includes(t)?De()?t===Vn?Un:qn:t===Vn?qn:Un:t}static carouselInterface(t,e){const n=_r.getOrCreateInstance(t,e);let{_config:r}=n;"object"===typeof e&&(r={...r,...e});const i="string"===typeof e?e:r.slide;if("number"===typeof e)n.to(e);else if("string"===typeof i){if("undefined"===typeof n[i])throw new TypeError(`No method named "${i}"`);n[i]()}else r.interval&&r.ride&&(n.pause(),n.cycle())}static jQueryInterface(t){return this.each((function(){_r.carouselInterface(this,t)}))}static dataApiClickHandler(t){const e=ye(this);if(!e||!e.classList.contains(rr))return;const n={...xn.getDataAttributes(e),...xn.getDataAttributes(this)},r=this.getAttribute("data-bs-slide-to");r&&(n.interval=!1),_r.carouselInterface(e,n),r&&_r.getInstance(e).to(r),t.preventDefault()}}en.on(document,nr,yr,_r.dataApiClickHandler),en.on(window,er,(()=>{const t=In.find(br);for(let e=0,n=t.length;e<n;e++)_r.carouselInterface(t[e],_r.getInstance(t[e]))})),Me(_r);const Tr="collapse",Er="bs.collapse",Cr=`.${Er}`,xr=".data-api",Sr={toggle:!0,parent:null},Ir={toggle:"boolean",parent:"(null|element)"},Ar=`show${Cr}`,Nr=`shown${Cr}`,Or=`hide${Cr}`,Dr=`hidden${Cr}`,Mr=`click${Cr}${xr}`,Rr="show",Lr="collapse",Pr="collapsing",Fr="collapsed",jr=`:scope .${Lr} .${Lr}`,Br="collapse-horizontal",Vr="width",Ur="height",qr=".collapse.show, .collapse.collapsing",Hr='[data-bs-toggle="collapse"]';class zr extends sn{constructor(t,e){super(t),this._isTransitioning=!1,this._config=this._getConfig(e),this._triggerArray=[];const n=In.find(Hr);for(let r=0,i=n.length;r<i;r++){const t=n[r],e=ge(t),i=In.find(e).filter((t=>t===this._element));null!==e&&i.length&&(this._selector=e,this._triggerArray.push(t))}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Sr}static get NAME(){return Tr}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let t,e=[];if(this._config.parent){const t=In.find(jr,this._config.parent);e=In.find(qr,this._config.parent).filter((e=>!t.includes(e)))}const n=In.findOne(this._selector);if(e.length){const r=e.find((t=>n!==t));if(t=r?zr.getInstance(r):null,t&&t._isTransitioning)return}const r=en.trigger(this._element,Ar);if(r.defaultPrevented)return;e.forEach((e=>{n!==e&&zr.getOrCreateInstance(e,{toggle:!1}).hide(),t||rn.set(e,Er,null)}));const i=this._getDimension();this._element.classList.remove(Lr),this._element.classList.add(Pr),this._element.style[i]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const o=()=>{this._isTransitioning=!1,this._element.classList.remove(Pr),this._element.classList.add(Lr,Rr),this._element.style[i]="",en.trigger(this._element,Nr)},s=i[0].toUpperCase()+i.slice(1),a=`scroll${s}`;this._queueCallback(o,this._element,!0),this._element.style[i]=`${this._element[a]}px`}hide(){if(this._isTransitioning||!this._isShown())return;const t=en.trigger(this._element,Or);if(t.defaultPrevented)return;const e=this._getDimension();this._element.style[e]=`${this._element.getBoundingClientRect()[e]}px`,Ie(this._element),this._element.classList.add(Pr),this._element.classList.remove(Lr,Rr);const n=this._triggerArray.length;for(let i=0;i<n;i++){const t=this._triggerArray[i],e=ye(t);e&&!this._isShown(e)&&this._addAriaAndCollapsedClass([t],!1)}this._isTransitioning=!0;const r=()=>{this._isTransitioning=!1,this._element.classList.remove(Pr),this._element.classList.add(Lr),en.trigger(this._element,Dr)};this._element.style[e]="",this._queueCallback(r,this._element,!0)}_isShown(t=this._element){return t.classList.contains(Rr)}_getConfig(t){return t={...Sr,...xn.getDataAttributes(this._element),...t},t.toggle=Boolean(t.toggle),t.parent=_e(t.parent),Te(Tr,t,Ir),t}_getDimension(){return this._element.classList.contains(Br)?Vr:Ur}_initializeChildren(){if(!this._config.parent)return;const t=In.find(jr,this._config.parent);In.find(Hr,this._config.parent).filter((e=>!t.includes(e))).forEach((t=>{const e=ye(t);e&&this._addAriaAndCollapsedClass([t],this._isShown(e))}))}_addAriaAndCollapsedClass(t,e){t.length&&t.forEach((t=>{e?t.classList.remove(Fr):t.classList.add(Fr),t.setAttribute("aria-expanded",e)}))}static jQueryInterface(t){return this.each((function(){const e={};"string"===typeof t&&/show|hide/.test(t)&&(e.toggle=!1);const n=zr.getOrCreateInstance(this,e);if("string"===typeof t){if("undefined"===typeof n[t])throw new TypeError(`No method named "${t}"`);n[t]()}}))}}en.on(document,Mr,Hr,(function(t){("A"===t.target.tagName||t.delegateTarget&&"A"===t.delegateTarget.tagName)&&t.preventDefault();const e=ge(this),n=In.find(e);n.forEach((t=>{zr.getOrCreateInstance(t,{toggle:!1}).toggle()}))})),Me(zr);const $r="dropdown",Gr="bs.dropdown",Wr=`.${Gr}`,Kr=".data-api",Jr="Escape",Xr="Space",Qr="Tab",Yr="ArrowUp",Zr="ArrowDown",ti=2,ei=new RegExp(`${Yr}|${Zr}|${Jr}`),ni=`hide${Wr}`,ri=`hidden${Wr}`,ii=`show${Wr}`,oi=`shown${Wr}`,si=`click${Wr}${Kr}`,ai=`keydown${Wr}${Kr}`,ui=`keyup${Wr}${Kr}`,ci="show",li="dropup",hi="dropend",fi="dropstart",pi="navbar",di='[data-bs-toggle="dropdown"]',mi=".dropdown-menu",vi=".navbar-nav",gi=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",yi=De()?"top-end":"top-start",bi=De()?"top-start":"top-end",wi=De()?"bottom-end":"bottom-start",ki=De()?"bottom-start":"bottom-end",_i=De()?"left-start":"right-start",Ti=De()?"right-start":"left-start",Ei={offset:[0,2],boundary:"clippingParents",reference:"toggle",display:"dynamic",popperConfig:null,autoClose:!0},Ci={offset:"(array|string|function)",boundary:"(string|element)",reference:"(string|element|object)",display:"string",popperConfig:"(null|object|function)",autoClose:"(boolean|string)"};class xi extends sn{constructor(t,e){super(t),this._popper=null,this._config=this._getConfig(e),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar()}static get Default(){return Ei}static get DefaultType(){return Ci}static get NAME(){return $r}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Ce(this._element)||this._isShown(this._menu))return;const t={relatedTarget:this._element},e=en.trigger(this._element,ii,t);if(e.defaultPrevented)return;const n=xi.getParentFromElement(this._element);this._inNavbar?xn.setDataAttribute(this._menu,"popper","none"):this._createPopper(n),"ontouchstart"in document.documentElement&&!n.closest(vi)&&[].concat(...document.body.children).forEach((t=>en.on(t,"mouseover",Se))),this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(ci),this._element.classList.add(ci),en.trigger(this._element,oi,t)}hide(){if(Ce(this._element)||!this._isShown(this._menu))return;const t={relatedTarget:this._element};this._completeHide(t)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(t){const e=en.trigger(this._element,ni,t);e.defaultPrevented||("ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach((t=>en.off(t,"mouseover",Se))),this._popper&&this._popper.destroy(),this._menu.classList.remove(ci),this._element.classList.remove(ci),this._element.setAttribute("aria-expanded","false"),xn.removeDataAttribute(this._menu,"popper"),en.trigger(this._element,ri,t))}_getConfig(t){if(t={...this.constructor.Default,...xn.getDataAttributes(this._element),...t},Te($r,t,this.constructor.DefaultType),"object"===typeof t.reference&&!ke(t.reference)&&"function"!==typeof t.reference.getBoundingClientRect)throw new TypeError(`${$r.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return t}_createPopper(t){if("undefined"===typeof r)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;"parent"===this._config.reference?e=t:ke(this._config.reference)?e=_e(this._config.reference):"object"===typeof this._config.reference&&(e=this._config.reference);const n=this._getPopperConfig(),i=n.modifiers.find((t=>"applyStyles"===t.name&&!1===t.enabled));this._popper=ue(e,this._menu,n),i&&xn.setDataAttribute(this._menu,"popper","static")}_isShown(t=this._element){return t.classList.contains(ci)}_getMenuElement(){return In.next(this._element,mi)[0]}_getPlacement(){const t=this._element.parentNode;if(t.classList.contains(hi))return _i;if(t.classList.contains(fi))return Ti;const e="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return t.classList.contains(li)?e?bi:yi:e?ki:wi}_detectNavbar(){return null!==this._element.closest(`.${pi}`)}_getOffset(){const{offset:t}=this._config;return"string"===typeof t?t.split(",").map((t=>Number.parseInt(t,10))):"function"===typeof t?e=>t(e,this._element):t}_getPopperConfig(){const t={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return"static"===this._config.display&&(t.modifiers=[{name:"applyStyles",enabled:!1}]),{...t,..."function"===typeof this._config.popperConfig?this._config.popperConfig(t):this._config.popperConfig}}_selectMenuItem({key:t,target:e}){const n=In.find(gi,this._menu).filter(Ee);n.length&&Pe(n,e,t===Zr,!n.includes(e)).focus()}static jQueryInterface(t){return this.each((function(){const e=xi.getOrCreateInstance(this,t);if("string"===typeof t){if("undefined"===typeof e[t])throw new TypeError(`No method named "${t}"`);e[t]()}}))}static clearMenus(t){if(t&&(t.button===ti||"keyup"===t.type&&t.key!==Qr))return;const e=In.find(di);for(let n=0,r=e.length;n<r;n++){const r=xi.getInstance(e[n]);if(!r||!1===r._config.autoClose)continue;if(!r._isShown())continue;const i={relatedTarget:r._element};if(t){const e=t.composedPath(),n=e.includes(r._menu);if(e.includes(r._element)||"inside"===r._config.autoClose&&!n||"outside"===r._config.autoClose&&n)continue;if(r._menu.contains(t.target)&&("keyup"===t.type&&t.key===Qr||/input|select|option|textarea|form/i.test(t.target.tagName)))continue;"click"===t.type&&(i.clickEvent=t)}r._completeHide(i)}}static getParentFromElement(t){return ye(t)||t.parentNode}static dataApiKeydownHandler(t){if(/input|textarea/i.test(t.target.tagName)?t.key===Xr||t.key!==Jr&&(t.key!==Zr&&t.key!==Yr||t.target.closest(mi)):!ei.test(t.key))return;const e=this.classList.contains(ci);if(!e&&t.key===Jr)return;if(t.preventDefault(),t.stopPropagation(),Ce(this))return;const n=this.matches(di)?this:In.prev(this,di)[0],r=xi.getOrCreateInstance(n);if(t.key!==Jr)return t.key===Yr||t.key===Zr?(e||r.show(),void r._selectMenuItem(t)):void(e&&t.key!==Xr||xi.clearMenus());r.hide()}}en.on(document,ai,di,xi.dataApiKeydownHandler),en.on(document,ai,mi,xi.dataApiKeydownHandler),en.on(document,si,xi.clearMenus),en.on(document,ui,xi.clearMenus),en.on(document,si,di,(function(t){t.preventDefault(),xi.getOrCreateInstance(this).toggle()})),Me(xi);const Si=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Ii=".sticky-top";class Ai{constructor(){this._element=document.body}getWidth(){const t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){const t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,"paddingRight",(e=>e+t)),this._setElementAttributes(Si,"paddingRight",(e=>e+t)),this._setElementAttributes(Ii,"marginRight",(e=>e-t))}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,e,n){const r=this.getWidth(),i=t=>{if(t!==this._element&&window.innerWidth>t.clientWidth+r)return;this._saveInitialAttribute(t,e);const i=window.getComputedStyle(t)[e];t.style[e]=`${n(Number.parseFloat(i))}px`};this._applyManipulationCallback(t,i)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,"paddingRight"),this._resetElementAttributes(Si,"paddingRight"),this._resetElementAttributes(Ii,"marginRight")}_saveInitialAttribute(t,e){const n=t.style[e];n&&xn.setDataAttribute(t,e,n)}_resetElementAttributes(t,e){const n=t=>{const n=xn.getDataAttribute(t,e);"undefined"===typeof n?t.style.removeProperty(e):(xn.removeDataAttribute(t,e),t.style[e]=n)};this._applyManipulationCallback(t,n)}_applyManipulationCallback(t,e){ke(t)?e(t):In.find(t,this._element).forEach(e)}isOverflowing(){return this.getWidth()>0}}const Ni={className:"modal-backdrop",isVisible:!0,isAnimated:!1,rootElement:"body",clickCallback:null},Oi={className:"string",isVisible:"boolean",isAnimated:"boolean",rootElement:"(element|string)",clickCallback:"(function|null)"},Di="backdrop",Mi="fade",Ri="show",Li=`mousedown.bs.${Di}`;class Pi{constructor(t){this._config=this._getConfig(t),this._isAppended=!1,this._element=null}show(t){this._config.isVisible?(this._append(),this._config.isAnimated&&Ie(this._getElement()),this._getElement().classList.add(Ri),this._emulateAnimation((()=>{Re(t)}))):Re(t)}hide(t){this._config.isVisible?(this._getElement().classList.remove(Ri),this._emulateAnimation((()=>{this.dispose(),Re(t)}))):Re(t)}_getElement(){if(!this._element){const t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add(Mi),this._element=t}return this._element}_getConfig(t){return t={...Ni,..."object"===typeof t?t:{}},t.rootElement=_e(t.rootElement),Te(Di,t,Oi),t}_append(){this._isAppended||(this._config.rootElement.append(this._getElement()),en.on(this._getElement(),Li,(()=>{Re(this._config.clickCallback)})),this._isAppended=!0)}dispose(){this._isAppended&&(en.off(this._element,Li),this._element.remove(),this._isAppended=!1)}_emulateAnimation(t){Le(t,this._getElement(),this._config.isAnimated)}}const Fi={trapElement:null,autofocus:!0},ji={trapElement:"element",autofocus:"boolean"},Bi="focustrap",Vi="bs.focustrap",Ui=`.${Vi}`,qi=`focusin${Ui}`,Hi=`keydown.tab${Ui}`,zi="Tab",$i="forward",Gi="backward";class Wi{constructor(t){this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}activate(){const{trapElement:t,autofocus:e}=this._config;this._isActive||(e&&t.focus(),en.off(document,Ui),en.on(document,qi,(t=>this._handleFocusin(t))),en.on(document,Hi,(t=>this._handleKeydown(t))),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,en.off(document,Ui))}_handleFocusin(t){const{target:e}=t,{trapElement:n}=this._config;if(e===document||e===n||n.contains(e))return;const r=In.focusableChildren(n);0===r.length?n.focus():this._lastTabNavDirection===Gi?r[r.length-1].focus():r[0].focus()}_handleKeydown(t){t.key===zi&&(this._lastTabNavDirection=t.shiftKey?Gi:$i)}_getConfig(t){return t={...Fi,..."object"===typeof t?t:{}},Te(Bi,t,ji),t}}const Ki="modal",Ji="bs.modal",Xi=`.${Ji}`,Qi=".data-api",Yi="Escape",Zi={backdrop:!0,keyboard:!0,focus:!0},to={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean"},eo=`hide${Xi}`,no=`hidePrevented${Xi}`,ro=`hidden${Xi}`,io=`show${Xi}`,oo=`shown${Xi}`,so=`resize${Xi}`,ao=`click.dismiss${Xi}`,uo=`keydown.dismiss${Xi}`,co=`mouseup.dismiss${Xi}`,lo=`mousedown.dismiss${Xi}`,ho=`click${Xi}${Qi}`,fo="modal-open",po="fade",mo="show",vo="modal-static",go=".modal.show",yo=".modal-dialog",bo=".modal-body",wo='[data-bs-toggle="modal"]';class ko extends sn{constructor(t,e){super(t),this._config=this._getConfig(e),this._dialog=In.findOne(yo,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollBar=new Ai}static get Default(){return Zi}static get NAME(){return Ki}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){if(this._isShown||this._isTransitioning)return;const e=en.trigger(this._element,io,{relatedTarget:t});e.defaultPrevented||(this._isShown=!0,this._isAnimated()&&(this._isTransitioning=!0),this._scrollBar.hide(),document.body.classList.add(fo),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),en.on(this._dialog,lo,(()=>{en.one(this._element,co,(t=>{t.target===this._element&&(this._ignoreBackdropClick=!0)}))})),this._showBackdrop((()=>this._showElement(t))))}hide(){if(!this._isShown||this._isTransitioning)return;const t=en.trigger(this._element,eo);if(t.defaultPrevented)return;this._isShown=!1;const e=this._isAnimated();e&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),this._focustrap.deactivate(),this._element.classList.remove(mo),en.off(this._element,ao),en.off(this._dialog,lo),this._queueCallback((()=>this._hideModal()),this._element,e)}dispose(){[window,this._dialog].forEach((t=>en.off(t,Xi))),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Pi({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Wi({trapElement:this._element})}_getConfig(t){return t={...Zi,...xn.getDataAttributes(this._element),..."object"===typeof t?t:{}},Te(Ki,t,to),t}_showElement(t){const e=this._isAnimated(),n=In.findOne(bo,this._dialog);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0,n&&(n.scrollTop=0),e&&Ie(this._element),this._element.classList.add(mo);const r=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,en.trigger(this._element,oo,{relatedTarget:t})};this._queueCallback(r,this._dialog,e)}_setEscapeEvent(){this._isShown?en.on(this._element,uo,(t=>{this._config.keyboard&&t.key===Yi?(t.preventDefault(),this.hide()):this._config.keyboard||t.key!==Yi||this._triggerBackdropTransition()})):en.off(this._element,uo)}_setResizeEvent(){this._isShown?en.on(window,so,(()=>this._adjustDialog())):en.off(window,so)}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide((()=>{document.body.classList.remove(fo),this._resetAdjustments(),this._scrollBar.reset(),en.trigger(this._element,ro)}))}_showBackdrop(t){en.on(this._element,ao,(t=>{this._ignoreBackdropClick?this._ignoreBackdropClick=!1:t.target===t.currentTarget&&(!0===this._config.backdrop?this.hide():"static"===this._config.backdrop&&this._triggerBackdropTransition())})),this._backdrop.show(t)}_isAnimated(){return this._element.classList.contains(po)}_triggerBackdropTransition(){const t=en.trigger(this._element,no);if(t.defaultPrevented)return;const{classList:e,scrollHeight:n,style:r}=this._element,i=n>document.documentElement.clientHeight;!i&&"hidden"===r.overflowY||e.contains(vo)||(i||(r.overflowY="hidden"),e.add(vo),this._queueCallback((()=>{e.remove(vo),i||this._queueCallback((()=>{r.overflowY=""}),this._dialog)}),this._dialog),this._element.focus())}_adjustDialog(){const t=this._element.scrollHeight>document.documentElement.clientHeight,e=this._scrollBar.getWidth(),n=e>0;(!n&&t&&!De()||n&&!t&&De())&&(this._element.style.paddingLeft=`${e}px`),(n&&!t&&!De()||!n&&t&&De())&&(this._element.style.paddingRight=`${e}px`)}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(t,e){return this.each((function(){const n=ko.getOrCreateInstance(this,t);if("string"===typeof t){if("undefined"===typeof n[t])throw new TypeError(`No method named "${t}"`);n[t](e)}}))}}en.on(document,ho,wo,(function(t){const e=ye(this);["A","AREA"].includes(this.tagName)&&t.preventDefault(),en.one(e,io,(t=>{t.defaultPrevented||en.one(e,ro,(()=>{Ee(this)&&this.focus()}))}));const n=In.findOne(go);n&&ko.getInstance(n).hide();const r=ko.getOrCreateInstance(e);r.toggle(this)})),an(ko),Me(ko);const _o="offcanvas",To="bs.offcanvas",Eo=`.${To}`,Co=".data-api",xo=`load${Eo}${Co}`,So="Escape",Io={backdrop:!0,keyboard:!0,scroll:!1},Ao={backdrop:"boolean",keyboard:"boolean",scroll:"boolean"},No="show",Oo="offcanvas-backdrop",Do=".offcanvas.show",Mo=`show${Eo}`,Ro=`shown${Eo}`,Lo=`hide${Eo}`,Po=`hidden${Eo}`,Fo=`click${Eo}${Co}`,jo=`keydown.dismiss${Eo}`,Bo='[data-bs-toggle="offcanvas"]';class Vo extends sn{constructor(t,e){super(t),this._config=this._getConfig(e),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get NAME(){return _o}static get Default(){return Io}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){if(this._isShown)return;const e=en.trigger(this._element,Mo,{relatedTarget:t});if(e.defaultPrevented)return;this._isShown=!0,this._element.style.visibility="visible",this._backdrop.show(),this._config.scroll||(new Ai).hide(),this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(No);const n=()=>{this._config.scroll||this._focustrap.activate(),en.trigger(this._element,Ro,{relatedTarget:t})};this._queueCallback(n,this._element,!0)}hide(){if(!this._isShown)return;const t=en.trigger(this._element,Lo);if(t.defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.remove(No),this._backdrop.hide();const e=()=>{this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._element.style.visibility="hidden",this._config.scroll||(new Ai).reset(),en.trigger(this._element,Po)};this._queueCallback(e,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_getConfig(t){return t={...Io,...xn.getDataAttributes(this._element),..."object"===typeof t?t:{}},Te(_o,t,Ao),t}_initializeBackDrop(){return new Pi({className:Oo,isVisible:this._config.backdrop,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:()=>this.hide()})}_initializeFocusTrap(){return new Wi({trapElement:this._element})}_addEventListeners(){en.on(this._element,jo,(t=>{this._config.keyboard&&t.key===So&&this.hide()}))}static jQueryInterface(t){return this.each((function(){const e=Vo.getOrCreateInstance(this,t);if("string"===typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t](this)}}))}}en.on(document,Fo,Bo,(function(t){const e=ye(this);if(["A","AREA"].includes(this.tagName)&&t.preventDefault(),Ce(this))return;en.one(e,Po,(()=>{Ee(this)&&this.focus()}));const n=In.findOne(Do);n&&n!==e&&Vo.getInstance(n).hide();const r=Vo.getOrCreateInstance(e);r.toggle(this)})),en.on(window,xo,(()=>In.find(Do).forEach((t=>Vo.getOrCreateInstance(t).show())))),an(Vo),Me(Vo);const Uo=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),qo=/^aria-[\w-]*$/i,Ho=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,zo=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,$o=(t,e)=>{const n=t.nodeName.toLowerCase();if(e.includes(n))return!Uo.has(n)||Boolean(Ho.test(t.nodeValue)||zo.test(t.nodeValue));const r=e.filter((t=>t instanceof RegExp));for(let i=0,o=r.length;i<o;i++)if(r[i].test(n))return!0;return!1},Go={"*":["class","dir","id","lang","role",qo],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]};function Wo(t,e,n){if(!t.length)return t;if(n&&"function"===typeof n)return n(t);const r=new window.DOMParser,i=r.parseFromString(t,"text/html"),o=[].concat(...i.body.querySelectorAll("*"));for(let s=0,a=o.length;s<a;s++){const t=o[s],n=t.nodeName.toLowerCase();if(!Object.keys(e).includes(n)){t.remove();continue}const r=[].concat(...t.attributes),i=[].concat(e["*"]||[],e[n]||[]);r.forEach((e=>{$o(e,i)||t.removeAttribute(e.nodeName)}))}return i.body.innerHTML}const Ko="tooltip",Jo="bs.tooltip",Xo=`.${Jo}`,Qo="bs-tooltip",Yo=new Set(["sanitize","allowList","sanitizeFn"]),Zo={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(array|string|function)",container:"(string|element|boolean)",fallbackPlacements:"array",boundary:"(string|element)",customClass:"(string|function)",sanitize:"boolean",sanitizeFn:"(null|function)",allowList:"object",popperConfig:"(null|object|function)"},ts={AUTO:"auto",TOP:"top",RIGHT:De()?"left":"right",BOTTOM:"bottom",LEFT:De()?"right":"left"},es={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:[0,0],container:!1,fallbackPlacements:["top","right","bottom","left"],boundary:"clippingParents",customClass:"",sanitize:!0,sanitizeFn:null,allowList:Go,popperConfig:null},ns={HIDE:`hide${Xo}`,HIDDEN:`hidden${Xo}`,SHOW:`show${Xo}`,SHOWN:`shown${Xo}`,INSERTED:`inserted${Xo}`,CLICK:`click${Xo}`,FOCUSIN:`focusin${Xo}`,FOCUSOUT:`focusout${Xo}`,MOUSEENTER:`mouseenter${Xo}`,MOUSELEAVE:`mouseleave${Xo}`},rs="fade",is="modal",os="show",ss="show",as="out",us=".tooltip-inner",cs=`.${is}`,ls="hide.bs.modal",hs="hover",fs="focus",ps="click",ds="manual";class ms extends sn{constructor(t,e){if("undefined"===typeof r)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(t),this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this._config=this._getConfig(e),this.tip=null,this._setListeners()}static get Default(){return es}static get NAME(){return Ko}static get Event(){return ns}static get DefaultType(){return Zo}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(t){if(this._isEnabled)if(t){const e=this._initializeOnDelegatedTarget(t);e._activeTrigger.click=!e._activeTrigger.click,e._isWithActiveTrigger()?e._enter(null,e):e._leave(null,e)}else{if(this.getTipElement().classList.contains(os))return void this._leave(null,this);this._enter(null,this)}}dispose(){clearTimeout(this._timeout),en.off(this._element.closest(cs),ls,this._hideModalHandler),this.tip&&this.tip.remove(),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this.isWithContent()||!this._isEnabled)return;const t=en.trigger(this._element,this.constructor.Event.SHOW),e=xe(this._element),n=null===e?this._element.ownerDocument.documentElement.contains(this._element):e.contains(this._element);if(t.defaultPrevented||!n)return;"tooltip"===this.constructor.NAME&&this.tip&&this.getTitle()!==this.tip.querySelector(us).innerHTML&&(this._disposePopper(),this.tip.remove(),this.tip=null);const r=this.getTipElement(),i=me(this.constructor.NAME);r.setAttribute("id",i),this._element.setAttribute("aria-describedby",i),this._config.animation&&r.classList.add(rs);const o="function"===typeof this._config.placement?this._config.placement.call(this,r,this._element):this._config.placement,s=this._getAttachment(o);this._addAttachmentClass(s);const{container:a}=this._config;rn.set(r,this.constructor.DATA_KEY,this),this._element.ownerDocument.documentElement.contains(this.tip)||(a.append(r),en.trigger(this._element,this.constructor.Event.INSERTED)),this._popper?this._popper.update():this._popper=ue(this._element,r,this._getPopperConfig(s)),r.classList.add(os);const u=this._resolvePossibleFunction(this._config.customClass);u&&r.classList.add(...u.split(" ")),"ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach((t=>{en.on(t,"mouseover",Se)}));const c=()=>{const t=this._hoverState;this._hoverState=null,en.trigger(this._element,this.constructor.Event.SHOWN),t===as&&this._leave(null,this)},l=this.tip.classList.contains(rs);this._queueCallback(c,this.tip,l)}hide(){if(!this._popper)return;const t=this.getTipElement(),e=()=>{this._isWithActiveTrigger()||(this._hoverState!==ss&&t.remove(),this._cleanTipClass(),this._element.removeAttribute("aria-describedby"),en.trigger(this._element,this.constructor.Event.HIDDEN),this._disposePopper())},n=en.trigger(this._element,this.constructor.Event.HIDE);if(n.defaultPrevented)return;t.classList.remove(os),"ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach((t=>en.off(t,"mouseover",Se))),this._activeTrigger[ps]=!1,this._activeTrigger[fs]=!1,this._activeTrigger[hs]=!1;const r=this.tip.classList.contains(rs);this._queueCallback(e,this.tip,r),this._hoverState=""}update(){null!==this._popper&&this._popper.update()}isWithContent(){return Boolean(this.getTitle())}getTipElement(){if(this.tip)return this.tip;const t=document.createElement("div");t.innerHTML=this._config.template;const e=t.children[0];return this.setContent(e),e.classList.remove(rs,os),this.tip=e,this.tip}setContent(t){this._sanitizeAndSetContent(t,this.getTitle(),us)}_sanitizeAndSetContent(t,e,n){const r=In.findOne(n,t);e||!r?this.setElementContent(r,e):r.remove()}setElementContent(t,e){if(null!==t)return ke(e)?(e=_e(e),void(this._config.html?e.parentNode!==t&&(t.innerHTML="",t.append(e)):t.textContent=e.textContent)):void(this._config.html?(this._config.sanitize&&(e=Wo(e,this._config.allowList,this._config.sanitizeFn)),t.innerHTML=e):t.textContent=e)}getTitle(){const t=this._element.getAttribute("data-bs-original-title")||this._config.title;return this._resolvePossibleFunction(t)}updateAttachment(t){return"right"===t?"end":"left"===t?"start":t}_initializeOnDelegatedTarget(t,e){return e||this.constructor.getOrCreateInstance(t.delegateTarget,this._getDelegateConfig())}_getOffset(){const{offset:t}=this._config;return"string"===typeof t?t.split(",").map((t=>Number.parseInt(t,10))):"function"===typeof t?e=>t(e,this._element):t}_resolvePossibleFunction(t){return"function"===typeof t?t.call(this._element):t}_getPopperConfig(t){const e={placement:t,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"onChange",enabled:!0,phase:"afterWrite",fn:t=>this._handlePopperPlacementChange(t)}],onFirstUpdate:t=>{t.options.placement!==t.placement&&this._handlePopperPlacementChange(t)}};return{...e,..."function"===typeof this._config.popperConfig?this._config.popperConfig(e):this._config.popperConfig}}_addAttachmentClass(t){this.getTipElement().classList.add(`${this._getBasicClassPrefix()}-${this.updateAttachment(t)}`)}_getAttachment(t){return ts[t.toUpperCase()]}_setListeners(){const t=this._config.trigger.split(" ");t.forEach((t=>{if("click"===t)en.on(this._element,this.constructor.Event.CLICK,this._config.selector,(t=>this.toggle(t)));else if(t!==ds){const e=t===hs?this.constructor.Event.MOUSEENTER:this.constructor.Event.FOCUSIN,n=t===hs?this.constructor.Event.MOUSELEAVE:this.constructor.Event.FOCUSOUT;en.on(this._element,e,this._config.selector,(t=>this._enter(t))),en.on(this._element,n,this._config.selector,(t=>this._leave(t)))}})),this._hideModalHandler=()=>{this._element&&this.hide()},en.on(this._element.closest(cs),ls,this._hideModalHandler),this._config.selector?this._config={...this._config,trigger:"manual",selector:""}:this._fixTitle()}_fixTitle(){const t=this._element.getAttribute("title"),e=typeof this._element.getAttribute("data-bs-original-title");(t||"string"!==e)&&(this._element.setAttribute("data-bs-original-title",t||""),!t||this._element.getAttribute("aria-label")||this._element.textContent||this._element.setAttribute("aria-label",t),this._element.setAttribute("title",""))}_enter(t,e){e=this._initializeOnDelegatedTarget(t,e),t&&(e._activeTrigger["focusin"===t.type?fs:hs]=!0),e.getTipElement().classList.contains(os)||e._hoverState===ss?e._hoverState=ss:(clearTimeout(e._timeout),e._hoverState=ss,e._config.delay&&e._config.delay.show?e._timeout=setTimeout((()=>{e._hoverState===ss&&e.show()}),e._config.delay.show):e.show())}_leave(t,e){e=this._initializeOnDelegatedTarget(t,e),t&&(e._activeTrigger["focusout"===t.type?fs:hs]=e._element.contains(t.relatedTarget)),e._isWithActiveTrigger()||(clearTimeout(e._timeout),e._hoverState=as,e._config.delay&&e._config.delay.hide?e._timeout=setTimeout((()=>{e._hoverState===as&&e.hide()}),e._config.delay.hide):e.hide())}_isWithActiveTrigger(){for(const t in this._activeTrigger)if(this._activeTrigger[t])return!0;return!1}_getConfig(t){const e=xn.getDataAttributes(this._element);return Object.keys(e).forEach((t=>{Yo.has(t)&&delete e[t]})),t={...this.constructor.Default,...e,..."object"===typeof t&&t?t:{}},t.container=!1===t.container?document.body:_e(t.container),"number"===typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),"number"===typeof t.title&&(t.title=t.title.toString()),"number"===typeof t.content&&(t.content=t.content.toString()),Te(Ko,t,this.constructor.DefaultType),t.sanitize&&(t.template=Wo(t.template,t.allowList,t.sanitizeFn)),t}_getDelegateConfig(){const t={};for(const e in this._config)this.constructor.Default[e]!==this._config[e]&&(t[e]=this._config[e]);return t}_cleanTipClass(){const t=this.getTipElement(),e=new RegExp(`(^|\\s)${this._getBasicClassPrefix()}\\S+`,"g"),n=t.getAttribute("class").match(e);null!==n&&n.length>0&&n.map((t=>t.trim())).forEach((e=>t.classList.remove(e)))}_getBasicClassPrefix(){return Qo}_handlePopperPlacementChange(t){const{state:e}=t;e&&(this.tip=e.elements.popper,this._cleanTipClass(),this._addAttachmentClass(this._getAttachment(e.placement)))}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null)}static jQueryInterface(t){return this.each((function(){const e=ms.getOrCreateInstance(this,t);if("string"===typeof t){if("undefined"===typeof e[t])throw new TypeError(`No method named "${t}"`);e[t]()}}))}}Me(ms);const vs="popover",gs="bs.popover",ys=`.${gs}`,bs="bs-popover",ws={...ms.Default,placement:"right",offset:[0,8],trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'},ks={...ms.DefaultType,content:"(string|element|function)"},_s={HIDE:`hide${ys}`,HIDDEN:`hidden${ys}`,SHOW:`show${ys}`,SHOWN:`shown${ys}`,INSERTED:`inserted${ys}`,CLICK:`click${ys}`,FOCUSIN:`focusin${ys}`,FOCUSOUT:`focusout${ys}`,MOUSEENTER:`mouseenter${ys}`,MOUSELEAVE:`mouseleave${ys}`},Ts=".popover-header",Es=".popover-body";class Cs extends ms{static get Default(){return ws}static get NAME(){return vs}static get Event(){return _s}static get DefaultType(){return ks}isWithContent(){return this.getTitle()||this._getContent()}setContent(t){this._sanitizeAndSetContent(t,this.getTitle(),Ts),this._sanitizeAndSetContent(t,this._getContent(),Es)}_getContent(){return this._resolvePossibleFunction(this._config.content)}_getBasicClassPrefix(){return bs}static jQueryInterface(t){return this.each((function(){const e=Cs.getOrCreateInstance(this,t);if("string"===typeof t){if("undefined"===typeof e[t])throw new TypeError(`No method named "${t}"`);e[t]()}}))}}Me(Cs);const xs="scrollspy",Ss="bs.scrollspy",Is=`.${Ss}`,As=".data-api",Ns={offset:10,method:"auto",target:""},Os={offset:"number",method:"string",target:"(string|element)"},Ds=`activate${Is}`,Ms=`scroll${Is}`,Rs=`load${Is}${As}`,Ls="dropdown-item",Ps="active",Fs='[data-bs-spy="scroll"]',js=".nav, .list-group",Bs=".nav-link",Vs=".nav-item",Us=".list-group-item",qs=`${Bs}, ${Us}, .${Ls}`,Hs=".dropdown",zs=".dropdown-toggle",$s="offset",Gs="position";class Ws extends sn{constructor(t,e){super(t),this._scrollElement="BODY"===this._element.tagName?window:this._element,this._config=this._getConfig(e),this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,en.on(this._scrollElement,Ms,(()=>this._process())),this.refresh(),this._process()}static get Default(){return Ns}static get NAME(){return xs}refresh(){const t=this._scrollElement===this._scrollElement.window?$s:Gs,e="auto"===this._config.method?t:this._config.method,n=e===Gs?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight();const r=In.find(qs,this._config.target);r.map((t=>{const r=ge(t),i=r?In.findOne(r):null;if(i){const t=i.getBoundingClientRect();if(t.width||t.height)return[xn[e](i).top+n,r]}return null})).filter((t=>t)).sort(((t,e)=>t[0]-e[0])).forEach((t=>{this._offsets.push(t[0]),this._targets.push(t[1])}))}dispose(){en.off(this._scrollElement,Is),super.dispose()}_getConfig(t){return t={...Ns,...xn.getDataAttributes(this._element),..."object"===typeof t&&t?t:{}},t.target=_e(t.target)||document.documentElement,Te(xs,t,Os),t}_getScrollTop(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop}_getScrollHeight(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}_getOffsetHeight(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height}_process(){const t=this._getScrollTop()+this._config.offset,e=this._getScrollHeight(),n=this._config.offset+e-this._getOffsetHeight();if(this._scrollHeight!==e&&this.refresh(),t>=n){const t=this._targets[this._targets.length-1];this._activeTarget!==t&&this._activate(t)}else{if(this._activeTarget&&t<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(let e=this._offsets.length;e--;){const n=this._activeTarget!==this._targets[e]&&t>=this._offsets[e]&&("undefined"===typeof this._offsets[e+1]||t<this._offsets[e+1]);n&&this._activate(this._targets[e])}}}_activate(t){this._activeTarget=t,this._clear();const e=qs.split(",").map((e=>`${e}[data-bs-target="${t}"],${e}[href="${t}"]`)),n=In.findOne(e.join(","),this._config.target);n.classList.add(Ps),n.classList.contains(Ls)?In.findOne(zs,n.closest(Hs)).classList.add(Ps):In.parents(n,js).forEach((t=>{In.prev(t,`${Bs}, ${Us}`).forEach((t=>t.classList.add(Ps))),In.prev(t,Vs).forEach((t=>{In.children(t,Bs).forEach((t=>t.classList.add(Ps)))}))})),en.trigger(this._scrollElement,Ds,{relatedTarget:t})}_clear(){In.find(qs,this._config.target).filter((t=>t.classList.contains(Ps))).forEach((t=>t.classList.remove(Ps)))}static jQueryInterface(t){return this.each((function(){const e=Ws.getOrCreateInstance(this,t);if("string"===typeof t){if("undefined"===typeof e[t])throw new TypeError(`No method named "${t}"`);e[t]()}}))}}en.on(window,Rs,(()=>{In.find(Fs).forEach((t=>new Ws(t)))})),Me(Ws);const Ks="tab",Js="bs.tab",Xs=`.${Js}`,Qs=".data-api",Ys=`hide${Xs}`,Zs=`hidden${Xs}`,ta=`show${Xs}`,ea=`shown${Xs}`,na=`click${Xs}${Qs}`,ra="dropdown-menu",ia="active",oa="fade",sa="show",aa=".dropdown",ua=".nav, .list-group",ca=".active",la=":scope > li > .active",ha='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',fa=".dropdown-toggle",pa=":scope > .dropdown-menu .active";class da extends sn{static get NAME(){return Ks}show(){if(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&this._element.classList.contains(ia))return;let t;const e=ye(this._element),n=this._element.closest(ua);if(n){const e="UL"===n.nodeName||"OL"===n.nodeName?la:ca;t=In.find(e,n),t=t[t.length-1]}const r=t?en.trigger(t,Ys,{relatedTarget:this._element}):null,i=en.trigger(this._element,ta,{relatedTarget:t});if(i.defaultPrevented||null!==r&&r.defaultPrevented)return;this._activate(this._element,n);const o=()=>{en.trigger(t,Zs,{relatedTarget:this._element}),en.trigger(this._element,ea,{relatedTarget:t})};e?this._activate(e,e.parentNode,o):o()}_activate(t,e,n){const r=!e||"UL"!==e.nodeName&&"OL"!==e.nodeName?In.children(e,ca):In.find(la,e),i=r[0],o=n&&i&&i.classList.contains(oa),s=()=>this._transitionComplete(t,i,n);i&&o?(i.classList.remove(sa),this._queueCallback(s,t,!0)):s()}_transitionComplete(t,e,n){if(e){e.classList.remove(ia);const t=In.findOne(pa,e.parentNode);t&&t.classList.remove(ia),"tab"===e.getAttribute("role")&&e.setAttribute("aria-selected",!1)}t.classList.add(ia),"tab"===t.getAttribute("role")&&t.setAttribute("aria-selected",!0),Ie(t),t.classList.contains(oa)&&t.classList.add(sa);let r=t.parentNode;if(r&&"LI"===r.nodeName&&(r=r.parentNode),r&&r.classList.contains(ra)){const e=t.closest(aa);e&&In.find(fa,e).forEach((t=>t.classList.add(ia))),t.setAttribute("aria-expanded",!0)}n&&n()}static jQueryInterface(t){return this.each((function(){const e=da.getOrCreateInstance(this);if("string"===typeof t){if("undefined"===typeof e[t])throw new TypeError(`No method named "${t}"`);e[t]()}}))}}en.on(document,na,ha,(function(t){if(["A","AREA"].includes(this.tagName)&&t.preventDefault(),Ce(this))return;const e=da.getOrCreateInstance(this);e.show()})),Me(da);const ma="toast",va="bs.toast",ga=`.${va}`,ya=`mouseover${ga}`,ba=`mouseout${ga}`,wa=`focusin${ga}`,ka=`focusout${ga}`,_a=`hide${ga}`,Ta=`hidden${ga}`,Ea=`show${ga}`,Ca=`shown${ga}`,xa="fade",Sa="hide",Ia="show",Aa="showing",Na={animation:"boolean",autohide:"boolean",delay:"number"},Oa={animation:!0,autohide:!0,delay:5e3};class Da extends sn{constructor(t,e){super(t),this._config=this._getConfig(e),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get DefaultType(){return Na}static get Default(){return Oa}static get NAME(){return ma}show(){const t=en.trigger(this._element,Ea);if(t.defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(xa);const e=()=>{this._element.classList.remove(Aa),en.trigger(this._element,Ca),this._maybeScheduleHide()};this._element.classList.remove(Sa),Ie(this._element),this._element.classList.add(Ia),this._element.classList.add(Aa),this._queueCallback(e,this._element,this._config.animation)}hide(){if(!this._element.classList.contains(Ia))return;const t=en.trigger(this._element,_a);if(t.defaultPrevented)return;const e=()=>{this._element.classList.add(Sa),this._element.classList.remove(Aa),this._element.classList.remove(Ia),en.trigger(this._element,Ta)};this._element.classList.add(Aa),this._queueCallback(e,this._element,this._config.animation)}dispose(){this._clearTimeout(),this._element.classList.contains(Ia)&&this._element.classList.remove(Ia),super.dispose()}_getConfig(t){return t={...Oa,...xn.getDataAttributes(this._element),..."object"===typeof t&&t?t:{}},Te(ma,t,this.constructor.DefaultType),t}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout((()=>{this.hide()}),this._config.delay)))}_onInteraction(t,e){switch(t.type){case"mouseover":case"mouseout":this._hasMouseInteraction=e;break;case"focusin":case"focusout":this._hasKeyboardInteraction=e;break}if(e)return void this._clearTimeout();const n=t.relatedTarget;this._element===n||this._element.contains(n)||this._maybeScheduleHide()}_setListeners(){en.on(this._element,ya,(t=>this._onInteraction(t,!0))),en.on(this._element,ba,(t=>this._onInteraction(t,!1))),en.on(this._element,wa,(t=>this._onInteraction(t,!0))),en.on(this._element,ka,(t=>this._onInteraction(t,!1)))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(t){return this.each((function(){const e=Da.getOrCreateInstance(this,t);if("string"===typeof t){if("undefined"===typeof e[t])throw new TypeError(`No method named "${t}"`);e[t](this)}}))}}an(Da),Me(Da)},4275:function(t,e,n){"use strict";n.d(e,{Z:function(){return r.Z}});var r=n(4552),i="firebase",o="8.6.5";
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
r.Z.registerVersion(i,o,"app"),r.Z.SDK_VERSION=o},4059:function(t,e,n){"use strict";n(1703),n(4633),n(8675),n(3462);var r=n(4552);(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)};function i(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof n.g&&n.g,t];for(var e=0;e<t.length;++e){var r=t[e];if(r&&r.Math==Math)return r}return globalThis}var o=i(this);function s(t,n){if(n){var r=o;t=t.split(".");for(var i=0;i<t.length-1;i++){var s=t[i];s in r||(r[s]={}),r=r[s]}t=t[t.length-1],i=r[t],n=n(i),n!=i&&null!=n&&e(r,t,{configurable:!0,writable:!0,value:n})}}function a(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function u(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:a(t)}}s("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function n(){this.a=null}function r(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;n.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var i=o.setTimeout;n.prototype.c=function(t){i(t,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(r){this.f(r)}}}this.a=null},n.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.v(t):this.h(t)}},e.prototype.v=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)s.b(this.a[t]);this.a=null}};var s=new n;return e.prototype.s=function(t){var e=this.f();t.Qa(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(r){n.reject(r)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(n){o(n)}}:e}var i,o,s=new e((function(t,e){i=t,o=e}));return this.Qa(r(t,i),r(n,o)),s},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Qa=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},e.resolve=r,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var i=u(t),o=i.next();!o.done;o=i.next())r(o.value).Qa(e,n)}))},e.all=function(t){var n=u(t),i=n.next();return i.done?r([]):new e((function(t,e){function o(e){return function(n){s[e]=n,a--,0==a&&t(s)}}var s=[],a=0;do{s.push(void 0),a++,r(i.value).Qa(o(s.length-1),e),i=n.next()}while(!i.done)}))},e}));var c=c||{},l=this||self,h=/^[\w+/_-]+[=]{0,2}$/,f=null;function p(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&h.test(t)?t:""}function d(){}function m(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function v(t){var e=m(t);return"array"==e||"object"==e&&"number"==typeof t.length}function g(t){return"function"==m(t)}function y(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function b(t){return Object.prototype.hasOwnProperty.call(t,w)&&t[w]||(t[w]=++k)}var w="closure_uid_"+(1e9*Math.random()>>>0),k=0;function _(t,e,n){return t.call.apply(t.bind,arguments)}function T(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function E(t,e,n){return E=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?_:T,E.apply(null,arguments)}function C(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var x=Date.now;function S(t,e){function n(){}n.prototype=e.prototype,t.ab=e.prototype,t.prototype=new n,t.prototype.constructor=t}function I(t){return t}function A(t,e,n){this.code=D+t,this.message=e||M[t]||"",this.a=n||null}function N(t){var e=t&&t.code;return e?new A(e.substring(D.length),t.message,t.serverResponse):null}S(A,Error),A.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},A.prototype.toJSON=function(){return this.w()};var O,D="auth/",M={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},R={ld:{Ta:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ta:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://securetoken.googleapis.com/v1/token",Wa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ta:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ta:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Za:"https://test-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function L(t){for(var e in R)if(R[e].id===t)return t=R[e],{firebaseEndpoint:t.Ta,secureTokenEndpoint:t.Za,identityPlatformEndpoint:t.Wa};return null}function P(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function F(t){if(Error.captureStackTrace)Error.captureStackTrace(this,F);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function j(t,e){t=t.split("%s");for(var n="",r=t.length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");F.call(this,n+t[r])}function B(t,e){throw new j("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function V(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function U(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function q(){this.b=this.a=null}O=L("__EID__")?"__EID__":void 0,S(F,Error),F.prototype.name="CustomError",S(j,F),j.prototype.name="AssertionError",V.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var H=new V((function(){return new $}),(function(t){t.reset()}));function z(){var t=Oe,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function $(){this.next=this.b=this.a=null}q.prototype.add=function(t,e){var n=H.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},$.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},$.prototype.reset=function(){this.next=this.b=this.a=null};var G=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"===typeof t)return"string"!==typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},W=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"===typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function K(t,e){for(var n="string"===typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}var J=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"===typeof t?t.split(""):t,s=0;s<n;s++)if(s in o){var a=o[s];e.call(void 0,a,s,t)&&(r[i++]=a)}return r},X=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"===typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},Q=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"===typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function Y(t){t:{for(var e=oa,n=t.length,r="string"===typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"===typeof t?t.charAt(e):t[e]}function Z(t,e){return 0<=G(t,e)}function tt(t,e){var n;return e=G(t,e),(n=0<=e)&&Array.prototype.splice.call(t,e,1),n}function et(t,e){K(t,(function(n,r){e.call(void 0,n,r,t)&&1==Array.prototype.splice.call(t,r,1).length&&0}))}function nt(t){return Array.prototype.concat.apply([],arguments)}function rt(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var it,ot=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},st=/&/g,at=/</g,ut=/>/g,ct=/"/g,lt=/'/g,ht=/\x00/g,ft=/[\x00&<>"']/;function pt(t,e){return-1!=t.indexOf(e)}function dt(t,e){return t<e?-1:t>e?1:0}t:{var mt=l.navigator;if(mt){var vt=mt.userAgent;if(vt){it=vt;break t}}it=""}function gt(t){return pt(it,t)}function yt(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function bt(t){for(var e in t)return!1;return!0}function wt(t){var e,n={};for(e in t)n[e]=t[e];return n}var kt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _t(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(var o=0;o<kt.length;o++)n=kt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Tt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if(r=r||l,r.Element&&r.Location){var i=r;break t}}catch(s){}i=null}if(i&&"undefined"!=typeof i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(y(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(s){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;B("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function Et(t,e){this.a=t===It&&e||"",this.b=St}function Ct(t){return t instanceof Et&&t.constructor===Et&&t.b===St?t.a:(B("expected object of type Const, got '"+t+"'"),"type_error:Const")}Et.prototype.sa=!0,Et.prototype.ra=function(){return this.a},Et.prototype.toString=function(){return"Const{"+this.a+"}"};var xt,St={},It={};function At(){if(void 0===xt){var t=null,e=l.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:I,createScript:I,createScriptURL:I})}catch(n){l.console&&l.console.error(n.message)}xt=t}else xt=t}return xt}function Nt(t,e){this.a=e===Lt?t:""}function Ot(t){return t instanceof Nt&&t.constructor===Nt?t.a:(B("expected object of type TrustedResourceUrl, got '"+t+"' of type "+m(t)),"type_error:TrustedResourceUrl")}function Dt(t,e){var n=Ct(t);if(!Rt.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return t=n.replace(Mt,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return t=e[r],t instanceof Et?Ct(t):encodeURIComponent(String(t))})),Pt(t)}Nt.prototype.sa=!0,Nt.prototype.ra=function(){return this.a.toString()},Nt.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Mt=/%{(\w+)}/g,Rt=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Lt={};function Pt(t){var e=At();return t=e?e.createScriptURL(t):t,new Nt(t,Lt)}function Ft(t,e){this.a=e===zt?t:""}function jt(t){return t instanceof Ft&&t.constructor===Ft?t.a:(B("expected object of type SafeUrl, got '"+t+"' of type "+m(t)),"type_error:SafeUrl")}Ft.prototype.sa=!0,Ft.prototype.ra=function(){return this.a.toString()},Ft.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Bt=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Vt=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Ut=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function qt(t){if(t instanceof Ft)return t;if(t="object"==typeof t&&t.sa?t.ra():String(t),Ut.test(t))t=new Ft(t,zt);else{t=String(t),t=t.replace(/(%0A|%0D)/g,"");var e=t.match(Vt);t=e&&Bt.test(e[1])?new Ft(t,zt):null}return t}function Ht(t){return t instanceof Ft?t:(t="object"==typeof t&&t.sa?t.ra():String(t),Ut.test(t)||(t="about:invalid#zClosurez"),new Ft(t,zt))}var zt={},$t=new Ft("about:invalid#zClosurez",zt);function Gt(t,e,n){this.a=n===Kt?t:""}function Wt(t){return t instanceof Gt&&t.constructor===Gt?t.a:(B("expected object of type SafeHtml, got '"+t+"' of type "+m(t)),"type_error:SafeHtml")}Gt.prototype.sa=!0,Gt.prototype.ra=function(){return this.a.toString()},Gt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Kt={};function Jt(t,e){Tt(t,"HTMLScriptElement"),t.src=Ot(e),(e=t.ownerDocument&&t.ownerDocument.defaultView)&&e!=l?e=p(e.document):(null===f&&(f=p(l.document)),e=f),e&&t.setAttribute("nonce",e)}function Xt(t,e,n,r){return t=t instanceof Ft?t:Ht(t),e=e||l,n=n instanceof Et?Ct(n):n||"",e.open(jt(t),n,r,void 0)}function Qt(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Yt(t){return ft.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(st,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(at,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(ut,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(ct,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(lt,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(ht,"&#0;"))),t}function Zt(t){return Zt[" "](t),t}function te(t,e){var n=pe;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}Zt[" "]=d;var ee,ne=gt("Opera"),re=gt("Trident")||gt("MSIE"),ie=gt("Edge"),oe=ie||re,se=gt("Gecko")&&!(pt(it.toLowerCase(),"webkit")&&!gt("Edge"))&&!(gt("Trident")||gt("MSIE"))&&!gt("Edge"),ae=pt(it.toLowerCase(),"webkit")&&!gt("Edge");function ue(){var t=l.document;return t?t.documentMode:void 0}t:{var ce="",le=function(){var t=it;return se?/rv:([^\);]+)(\)|;)/.exec(t):ie?/Edge\/([\d\.]+)/.exec(t):re?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):ae?/WebKit\/(\S+)/.exec(t):ne?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(le&&(ce=le?le[1]:""),re){var he=ue();if(null!=he&&he>parseFloat(ce)){ee=String(he);break t}}ee=ce}var fe,pe={};function de(t){return te(t,(function(){for(var e=0,n=ot(String(ee)).split("."),r=ot(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=dt(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||dt(0==s[2].length,0==a[2].length)||dt(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}if(l.document&&re){var me=ue();fe=me||(parseInt(ee,10)||void 0)}else fe=void 0;var ve=fe;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(Zp){}var ge=!re||9<=Number(ve);function ye(t){var e=document;return"string"===typeof t?e.getElementById(t):t}function be(t,e){yt(e,(function(e,n){e&&"object"==typeof e&&e.sa&&(e=e.ra()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:_e.hasOwnProperty(n)?t.setAttribute(_e[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var we,ke,_e={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Te(t,e,n){var r=arguments,i=document,o=String(r[0]),s=r[1];if(!ge&&s&&(s.name||s.type)){if(o=["<",o],s.name&&o.push(' name="',Yt(s.name),'"'),s.type){o.push(' type="',Yt(s.type),'"');var a={};_t(a,s),delete a.type,s=a}o.push(">"),o=o.join("")}return o=Ce(i,o),s&&("string"===typeof s?o.className=s:Array.isArray(s)?o.className=s.join(" "):be(o,s)),2<r.length&&Ee(i,o,r),o}function Ee(t,e,n){function r(n){n&&e.appendChild("string"===typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!v(o)||y(o)&&0<o.nodeType)r(o);else{t:{if(o&&"number"==typeof o.length){if(y(o)){var s="function"==typeof o.item||"string"==typeof o.item;break t}if(g(o)){s="function"==typeof o.item;break t}}s=!1}W(s?rt(o):o,r)}}}function Ce(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function xe(t){l.setTimeout((function(){throw t}),0)}function Se(){var t=l.MessageChannel;if("undefined"===typeof t&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!gt("Presto")&&(t=function(){var t=Ce(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;t=e.document,t.open(),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=E((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),"undefined"!==typeof t&&!gt("Trident")&&!gt("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){n=n.next;var t=n.Gb;n.Gb=null,t()}},function(t){r.next={Gb:t},r=r.next,e.port2.postMessage(0)}}return function(t){l.setTimeout(t,0)}}function Ie(t,e){ke||Ae(),Ne||(ke(),Ne=!0),Oe.add(t,e)}function Ae(){if(l.Promise&&l.Promise.resolve){var t=l.Promise.resolve(void 0);ke=function(){t.then(De)}}else ke=function(){var t=De;!g(l.setImmediate)||l.Window&&l.Window.prototype&&!gt("Edge")&&l.Window.prototype.setImmediate==l.setImmediate?(we||(we=Se()),we(t)):l.setImmediate(t)}}var Ne=!1,Oe=new q;function De(){for(var t;t=z();){try{t.a.call(t.b)}catch(e){xe(e)}U(H,t)}Ne=!1}function Me(t,e){if(this.a=Re,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=d)try{var n=this;t.call(e,(function(t){Ke(n,Le,t)}),(function(t){if(!(t instanceof rn))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(e){}Ke(n,Pe,t)}))}catch(r){Ke(this,Pe,r)}}var Re=0,Le=2,Pe=3;function Fe(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Fe.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var je=new V((function(){return new Fe}),(function(t){t.reset()}));function Be(t,e,n){var r=je.get();return r.g=t,r.b=e,r.f=n,r}function Ve(t){if(t instanceof Me)return t;var e=new Me(d);return Ke(e,Le,t),e}function Ue(t){return new Me((function(e,n){n(t)}))}function qe(t,e,n){Je(t,e,n,null)||Ie(C(e,t))}function He(t){return new Me((function(e,n){var r=t.length,i=[];if(r)for(var o,s=function(t,n){r--,i[t]=n,0==r&&e(i)},a=function(t){n(t)},u=0;u<t.length;u++)o=t[u],qe(o,C(s,u),a);else e(i)}))}function ze(t){return new Me((function(e){var n=t.length,r=[];if(n)for(var i,o=function(t,i,o){n--,r[t]=i?{Pb:!0,value:o}:{Pb:!1,reason:o},0==n&&e(r)},s=0;s<t.length;s++)i=t[s],qe(i,C(o,s,!0),C(o,s,!1));else e(r)}))}function $e(t,e){if(t.a==Re)if(t.c){var n=t.c;if(n.b){for(var r=0,i=null,o=null,s=n.b;s&&(s.c||(r++,s.a==t&&(i=s),!(i&&1<r)));s=s.next)i||(o=s);i&&(n.a==Re&&1==r?$e(n,e):(o?(r=o,r.next==n.f&&(n.f=r),r.next=r.next.next):Ye(n),Ze(n,i,Pe,e)))}t.c=null}else Ke(t,Pe,e)}function Ge(t,e){t.b||t.a!=Le&&t.a!=Pe||Qe(t),t.f?t.f.next=e:t.b=e,t.f=e}function We(t,e,n,r){var i=Be(null,null,null);return i.a=new Me((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(s){o(s)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof rn?o(e):t(i)}catch(s){o(s)}}:o})),i.a.c=t,Ge(t,i),i.a}function Ke(t,e,n){t.a==Re&&(t===n&&(e=Pe,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Je(n,t.$c,t.ad,t)||(t.i=n,t.a=e,t.c=null,Qe(t),e!=Pe||n instanceof rn||en(t,n)))}function Je(t,e,n,r){if(t instanceof Me)return Ge(t,Be(e||d,n||null,r)),!0;if(P(t))return t.then(e,n,r),!0;if(y(t))try{var i=t.then;if(g(i))return Xe(t,i,e,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function Xe(t,e,n,r,i){function o(t){a||(a=!0,r.call(i,t))}function s(t){a||(a=!0,n.call(i,t))}var a=!1;try{e.call(t,s,o)}catch(u){o(u)}}function Qe(t){t.h||(t.h=!0,Ie(t.gc,t))}function Ye(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function Ze(t,e,n,r){if(n==Pe&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,tn(e,n,r);else try{e.c?e.g.call(e.f):tn(e,n,r)}catch(i){nn.call(null,i)}U(je,e)}function tn(t,e,n){e==Le?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}function en(t,e){t.g=!0,Ie((function(){t.g&&nn.call(null,e)}))}Me.prototype.then=function(t,e,n){return We(this,g(t)?t:null,g(e)?e:null,n)},Me.prototype.$goog_Thenable=!0,t=Me.prototype,t.oa=function(t,e){return t=Be(t,t,e),t.c=!0,Ge(this,t),this},t.o=function(t,e){return We(this,null,t,e)},t.cancel=function(t){if(this.a==Re){var e=new rn(t);Ie((function(){$e(this,e)}),this)}},t.$c=function(t){this.a=Re,Ke(this,Le,t)},t.ad=function(t){this.a=Re,Ke(this,Pe,t)},t.gc=function(){for(var t;t=Ye(this);)Ze(this,t,this.a,this.i);this.h=!1};var nn=xe;function rn(t){F.call(this,t)}function on(){0!=sn&&(an[b(this)]=this),this.xa=this.xa,this.pa=this.pa}S(rn,F),rn.prototype.name="cancel";var sn=0,an={};function un(t){if(!t.xa&&(t.xa=!0,t.Da(),0!=sn)){var e=b(t);if(0!=sn&&t.pa&&0<t.pa.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete an[e]}}on.prototype.xa=!1,on.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var cn=Object.freeze||function(t){return t},ln=!re||9<=Number(ve),hn=re&&!de("9"),fn=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{l.addEventListener("test",d,e),l.removeEventListener("test",d,e)}catch(n){}return t}();function pn(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function dn(t,e){if(pn.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(se){t:{try{Zt(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"===typeof t.pointerType?t.pointerType:mn[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}pn.prototype.preventDefault=function(){this.defaultPrevented=!0},S(dn,pn);var mn=cn({2:"touch",3:"pen",4:"mouse"});dn.prototype.preventDefault=function(){dn.ab.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,hn)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},dn.prototype.g=function(){return this.a};var vn="closure_listenable_"+(1e6*Math.random()|0),gn=0;function yn(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Va=i,this.key=++gn,this.va=this.Pa=!1}function bn(t){t.va=!0,t.listener=null,t.proxy=null,t.src=null,t.Va=null}function wn(t){this.src=t,this.a={},this.b=0}function kn(t,e){var n=e.type;n in t.a&&tt(t.a[n],e)&&(bn(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function _n(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.va&&o.listener==e&&o.capture==!!n&&o.Va==r)return i}return-1}wn.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.a[o],t||(t=this.a[o]=[],this.b++);var s=_n(t,e,r,i);return-1<s?(e=t[s],n||(e.Pa=!1)):(e=new yn(e,this.src,o,!!r,i),e.Pa=n,t.push(e)),e};var Tn="closure_lm_"+(1e6*Math.random()|0),En={};function Cn(t,e,n,r,i){if(r&&r.once)In(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)Cn(t,e[o],n,r,i);else n=Fn(n),t&&t[vn]?Bn(t,e,n,y(r)?!!r.capture:!!r,i):xn(t,e,n,!1,r,i)}function xn(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=y(i)?!!i.capture:!!i,a=Ln(t);if(a||(t[Tn]=a=new wn(t)),n=a.add(e,n,r,s,o),!n.proxy){if(r=Sn(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)fn||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(On(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}0}}function Sn(){var t=Rn,e=ln?function(n){return t.call(e.src,e.listener,n)}:function(n){if(n=t.call(e.src,e.listener,n),!n)return n};return e}function In(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)In(t,e[o],n,r,i);else n=Fn(n),t&&t[vn]?Vn(t,e,n,y(r)?!!r.capture:!!r,i):xn(t,e,n,!0,r,i)}function An(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)An(t,e[o],n,r,i);else r=y(r)?!!r.capture:!!r,n=Fn(n),t&&t[vn]?(t=t.v,e=String(e).toString(),e in t.a&&(o=t.a[e],n=_n(o,n,r,i),-1<n&&(bn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=Ln(t))&&(e=t.a[e.toString()],t=-1,e&&(t=_n(e,n,r,i)),(n=-1<t?e[t]:null)&&Nn(n))}function Nn(t){if("number"!==typeof t&&t&&!t.va){var e=t.src;if(e&&e[vn])kn(e.v,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(On(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Ln(e))?(kn(n,t),0==n.b&&(n.src=null,e[Tn]=null)):bn(t)}}}function On(t){return t in En?En[t]:En[t]="on"+t}function Dn(t,e,n,r){var i=!0;if((t=Ln(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.va&&(o=Mn(o,r),i=i&&!1!==o)}return i}function Mn(t,e){var n=t.listener,r=t.Va||t.src;return t.Pa&&Nn(t),n.call(r,e)}function Rn(t,e){if(t.va)return!0;if(!ln){if(!e)t:{e=["window","event"];for(var n=l,r=0;r<e.length;r++)if(n=n[e[r]],null==n){e=null;break t}e=n}if(r=e,e=new dn(r,this),n=!0,!(0>r.keyCode||void 0!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(s){i=!0}(i||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=Dn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=Dn(r[i],t,!1,e),n=n&&o}return n}return Mn(t,new dn(e,this))}function Ln(t){return t=t[Tn],t instanceof wn?t:null}var Pn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fn(t){return g(t)?t:(t[Pn]||(t[Pn]=function(e){return t.handleEvent(e)}),t[Pn])}function jn(){on.call(this),this.v=new wn(this),this.ac=this,this.gb=null}function Bn(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function Vn(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function Un(t,e,n,r){if(e=t.v.a[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.va&&s.capture==n){var a=s.listener,u=s.Va||s.src;s.Pa&&kn(t.v,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}function qn(t,e,n){if(g(t))n&&(t=E(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=E(t.handleEvent,t)}return 2147483647<Number(e)?-1:l.setTimeout(t,e||0)}function Hn(t){var e=null;return new Me((function(n,r){e=qn((function(){n(void 0)}),t),-1==e&&r(Error("Failed to schedule timer."))})).o((function(t){throw l.clearTimeout(e),t}))}function zn(t){if(t.W&&"function"==typeof t.W)return t.W();if("string"===typeof t)return t.split("");if(v(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function $n(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.W||"function"!=typeof t.W){if(v(t)||"string"===typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function Gn(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(v(t)||"string"===typeof t)W(t,e,void 0);else for(var n=$n(t),r=zn(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}function Wn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Wn)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Kn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Jn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)r=t.a[e],Jn(i,r)||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Jn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}S(jn,on),jn.prototype[vn]=!0,jn.prototype.addEventListener=function(t,e,n,r){Cn(this,t,e,n,r)},jn.prototype.removeEventListener=function(t,e,n,r){An(this,t,e,n,r)},jn.prototype.dispatchEvent=function(t){var e,n=this.gb;if(n)for(e=[];n;n=n.gb)e.push(n);n=this.ac;var r=t.type||t;if("string"===typeof t)t=new pn(t,n);else if(t instanceof pn)t.target=t.target||n;else{var i=t;t=new pn(r,n),_t(t,i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.b=e[o];i=Un(s,r,!0,t)&&i}if(s=t.b=n,i=Un(s,r,!0,t)&&i,i=Un(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)s=t.b=e[o],i=Un(s,r,!1,t)&&i;return i},jn.prototype.Da=function(){if(jn.ab.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)bn(n[r]);delete e.a[t],e.b--}}this.gb=null},t=Wn.prototype,t.W=function(){Kn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.Y=function(){return Kn(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return Jn(this.b,t)?this.b[t]:e},t.set=function(t,e){Jn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Xn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Qn(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Yn(t,e){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,t instanceof Yn?(this.i=void 0!==e?e:t.i,Zn(this,t.c),this.l=t.l,this.a=t.a,tr(this,t.g),this.f=t.f,er(this,wr(t.b)),this.h=t.h):t&&(n=String(t).match(Xn))?(this.i=!!e,Zn(this,n[1]||"",!0),this.l=sr(n[2]||""),this.a=sr(n[3]||"",!0),tr(this,n[4]),this.f=sr(n[5]||"",!0),er(this,n[6]||"",!0),this.h=sr(n[7]||"")):(this.i=!!e,this.b=new dr(null,this.i))}function Zn(t,e,n){t.c=n?sr(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function tr(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function er(t,e,n){e instanceof dr?(t.b=e,_r(t.b,t.i)):(n||(e=ar(e,fr)),t.b=new dr(e,t.i))}function nr(t,e,n){t.b.set(e,n)}function rr(t,e){return t.b.get(e)}function ir(t){return t instanceof Yn?new Yn(t):new Yn(t,void 0)}function or(t,e,n,r){var i=new Yn(null,void 0);return t&&Zn(i,t),e&&(i.a=e),n&&tr(i,n),r&&(i.f=r),i}function sr(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ar(t,e,n){return"string"===typeof t?(t=encodeURI(t).replace(e,ur),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ur(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(15&t).toString(16)}Yn.prototype.toString=function(){var t=[],e=this.c;e&&t.push(ar(e,cr,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(ar(e,cr,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.g,null!=n&&t.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(ar(n,"/"==n.charAt(0)?hr:lr,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",ar(n,pr)),t.join("")},Yn.prototype.resolve=function(t){var e=new Yn(this),n=!!t.c;n?Zn(e,t.c):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r=t.f;if(n)tr(e,t.g);else if(n=!!t.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=e.f.lastIndexOf("/");-1!=i&&(r=e.f.substr(0,i+1)+r)}if(i=r,".."==i||"."==i)r="";else if(pt(i,"./")||pt(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],s=0;s<i.length;){var a=i[s++];"."==a?r&&s==i.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&s==i.length&&o.push("")):(o.push(a),r=!0)}r=o.join("/")}else r=i}return n?e.f=r:n=""!==t.b.toString(),n?er(e,wr(t.b)):n=!!t.h,n&&(e.h=t.h),e};var cr=/[#\/\?@]/g,lr=/[#\?:]/g,hr=/[#\?]/g,fr=/[#\?@]/g,pr=/#/g;function dr(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function mr(t){t.a||(t.a=new Wn,t.b=0,t.c&&Qn(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function vr(t){var e=$n(t);if("undefined"==typeof e)throw Error("Keys are undefined");var n=new dr(null,void 0);t=zn(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?br(n,i,o):n.add(i,o)}return n}function gr(t,e){mr(t),e=kr(t,e),Jn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,t=t.a,Jn(t.b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Kn(t)))}function yr(t,e){return mr(t),e=kr(t,e),Jn(t.a.b,e)}function br(t,e,n){gr(t,e),0<n.length&&(t.c=null,t.a.set(kr(t,e),rt(n)),t.b+=n.length)}function wr(t){var e=new dr;return e.c=t.c,t.a&&(e.a=new Wn(t.a),e.b=t.b),e}function kr(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function _r(t,e){e&&!t.f&&(mr(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(gr(this,e),br(this,n,t))}),t)),t.f=e}function Tr(t){var e=[];return Cr(new Er,t,e),e.join("")}function Er(){}function Cr(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(Array.isArray(e)){var r=e;e=r.length,n.push("[");for(var i="",o=0;o<e;o++)n.push(i),Cr(t,r[o],n),i=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){for(r in n.push("{"),i="",e)Object.prototype.hasOwnProperty.call(e,r)&&(o=e[r],"function"!=typeof o&&(n.push(i),Ir(r,n),n.push(":"),Cr(t,o,n),i=","));return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":Ir(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}t=dr.prototype,t.add=function(t,e){mr(this),this.c=null,t=kr(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){mr(this),this.a.forEach((function(n,r){W(n,(function(n){t.call(e,n,r,this)}),this)}),this)},t.Y=function(){mr(this);for(var t=this.a.W(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.W=function(t){mr(this);var e=[];if("string"===typeof t)yr(this,t)&&(e=nt(e,this.a.get(kr(this,t))));else{t=this.a.W();for(var n=0;n<t.length;n++)e=nt(e,t[n])}return e},t.set=function(t,e){return mr(this),this.c=null,t=kr(this,t),yr(this,t)&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t?(t=this.W(t),0<t.length?String(t[0]):e):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.W(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var xr={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Sr=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Ir(t,e){e.push('"',t.replace(Sr,(function(t){var e=xr[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),xr[t]=e),e})),'"')}function Ar(){var t=Zr();return re&&!!ve&&11==ve||/Edge\/\d+/.test(t)}function Nr(){return l.window&&l.window.location.href||self&&self.location&&self.location.href||""}function Or(t,e){e=e||l.window;var n="about:blank";t&&(n=jt(qt(t)||$t)),e.location.href=n}function Dr(t,e){var n,r=[];for(n in t)n in e?typeof t[n]!=typeof e[n]?r.push(n):"object"==typeof t[n]&&null!=t[n]&&null!=e[n]?0<Dr(t[n],e[n]).length&&r.push(n):t[n]!==e[n]&&r.push(n):r.push(n);for(n in e)n in t||r.push(n);return r}function Mr(){var t=Zr();return t=Xr(t)!=Jr?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null,!(t&&30>t)&&(!re||!ve||9<ve)}function Rr(t){return t=(t||Zr()).toLowerCase(),!!(t.match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function Lr(t){t=t||l.window;try{t.close()}catch(e){}}function Pr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(s in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Zr().toLowerCase(),r&&(e.target=r,pt(n,"crios/")&&(e.target="_blank")),Xr(Zr())==Kr&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof Ft?n:qt("undefined"!=typeof n.href?n.href:String(n))||$t,n=t.target||n.target,i=[],t)switch(s){case"width":case"height":case"top":case"left":i.push(s+"="+t[s]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(s+"="+(t[s]?1:0))}var s=i.join(",");if((gt("iPhone")&&!gt("iPod")&&!gt("iPad")||gt("iPad")||gt("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(s=Ce(document,"A"),Tt(s,"HTMLAnchorElement"),e=e instanceof Ft?e:Ht(e),s.href=jt(e),s.setAttribute("target",n),t.noreferrer&&s.setAttribute("rel","noreferrer"),t=document.createEvent("MouseEvent"),t.initMouseEvent("click",!0,!0,r,1),s.dispatchEvent(t),s={}):t.noreferrer?(s=Xt("",r,n,s),t=jt(e),s&&(oe&&pt(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),s.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Yt(t)+'">',t=(r=At())?r.createHTML(t):t,t=new Gt(t,null,Kt),r=s.document)&&(r.write(Wt(t)),r.close())):(s=Xt(e,r,n,s))&&t.noopener&&(s.opener=null),s)try{s.focus()}catch(a){}return s}function Fr(t){return new Me((function(e){function n(){Hn(2e3).then((function(){if(t&&!t.closed)return n();e()}))}return n()}))}var jr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Br=/^[^@]+@[^@]+$/;function Vr(){var t=null;return new Me((function(e){"complete"==l.document.readyState?e():(t=function(){e()},In(window,"load",t))})).o((function(e){throw An(window,"load",t),e}))}function Ur(){return qr(void 0)?Vr().then((function(){return new Me((function(t,e){var n=l.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):Ue(Error("Cordova must run in an Android or iOS file scheme."))}function qr(t){return t=t||Zr(),!("file:"!==ii()&&"ionic:"!==ii()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function Hr(){var t=l.window;try{return!(!t||t==t.top)}catch(e){return!1}}function zr(){return"undefined"!==typeof l.WorkerGlobalScope&&"function"===typeof l.importScripts}function $r(){return r.Z.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":r.Z.INTERNAL.hasOwnProperty("node")?"Node":zr()?"Worker":"Browser"}function Gr(){var t=$r();return"ReactNative"===t||"Node"===t}function Wr(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}var Kr="Firefox",Jr="Chrome";function Xr(t){var e=t.toLowerCase();return pt(e,"opera/")||pt(e,"opr/")||pt(e,"opios/")?"Opera":pt(e,"iemobile")?"IEMobile":pt(e,"msie")||pt(e,"trident/")?"IE":pt(e,"edge/")?"Edge":pt(e,"firefox/")?Kr:pt(e,"silk/")?"Silk":pt(e,"blackberry")?"Blackberry":pt(e,"webos")?"Webos":!pt(e,"safari/")||pt(e,"chrome/")||pt(e,"crios/")||pt(e,"android")?!pt(e,"chrome/")&&!pt(e,"crios/")||pt(e,"edge/")?pt(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":Jr:"Safari"}var Qr={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Yr(t,e){e=e||[];var n,r=[],i={};for(n in Qr)i[Qr[n]]=!0;for(n=0;n<e.length;n++)"undefined"!==typeof i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),e=r,e.length||(e=["FirebaseCore-web"]),r=$r(),"Browser"===r?(i=Zr(),r=Xr(i)):"Worker"===r&&(i=Zr(),r=Xr(i)+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function Zr(){return l.navigator&&l.navigator.userAgent||""}function ti(t,e){t=t.split("."),e=e||l;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function ei(){try{var t=l.localStorage,e=ci();if(t)return t.setItem(e,"1"),t.removeItem(e),!Ar()||!!l.indexedDB}catch(n){return zr()&&!!l.indexedDB}return!1}function ni(){return(ri()||"chrome-extension:"===ii()||qr())&&!Gr()&&ei()&&!zr()}function ri(){return"http:"===ii()||"https:"===ii()}function ii(){return l.location&&l.location.protocol||null}function oi(t){return t=t||Zr(),!Rr(t)&&Xr(t)!=Kr}function si(t){return"undefined"===typeof t?null:Tr(t)}function ai(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function ui(t){if(null!==t)return JSON.parse(t)}function ci(t){return t||Math.floor(1e9*Math.random()).toString()}function li(t){return t=t||Zr(),"Safari"!=Xr(t)&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function hi(){var t=l.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function fi(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Zr(),e=$r(),this.b=Rr(t)||"ReactNative"===e}function pi(){var t=l.document;return!t||"undefined"===typeof t.visibilityState||"visible"==t.visibilityState}function di(){var t=l.document,e=null;return pi()||!t?Ve():new Me((function(n){e=function(){pi()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).o((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}function mi(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function vi(){return!(!ti("fireauth.oauthhelper",l)&&!ti("fireauth.iframe",l))}function gi(){var t=l.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}function yi(){var t=l.navigator;return t&&t.serviceWorker?Ve().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).o((function(){return null})):Ve(null)}fi.prototype.get=function(){var t=l.navigator;return!t||"boolean"!==typeof t.onLine||!ri()&&"chrome-extension:"!==ii()&&"undefined"===typeof t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var bi,wi={};function ki(t){wi[t]||(wi[t]=!0,"undefined"!==typeof console&&"function"===typeof console.warn&&console.warn(t))}try{var _i={};Object.defineProperty(_i,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(_i,"abcd",{configurable:!0,enumerable:!0,value:2}),bi=2==_i.abcd}catch(Zp){bi=!1}function Ti(t,e,n){bi?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Ei(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Ti(t,n,e[n])}function Ci(t){var e={};return Ei(e,t),e}function xi(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function Si(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(void 0===r||null===r||""===r)return!1}return!0}function Ii(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Ti(e,n,Ii(t[n]));return e}function Ai(t){var e=t&&(t[Ri]?"phone":null);if(!(e&&t&&t[Mi]))throw new A("internal-error","Internal assert: invalid MultiFactorInfo object");Ti(this,"uid",t[Mi]),Ti(this,"displayName",t[Oi]||null);var n=null;t[Di]&&(n=new Date(t[Di]).toUTCString()),Ti(this,"enrollmentTime",n),Ti(this,"factorId",e)}function Ni(t){try{var e=new Li(t)}catch(n){e=null}return e}Ai.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var Oi="displayName",Di="enrolledAt",Mi="mfaEnrollmentId",Ri="phoneInfo";function Li(t){Ai.call(this,t),Ti(this,"phoneNumber",t[Ri])}function Pi(t){var e={},n=t[Vi],r=t[qi],i=t[Hi];if(t=Ni(t[Ui]),!i||i!=ji&&i!=Bi&&!n||i==Bi&&!r||i==Fi&&!t)throw Error("Invalid checkActionCode response!");i==Bi?(e[$i]=n||null,e[Wi]=n||null,e[zi]=r):(e[$i]=r||null,e[Wi]=r||null,e[zi]=n||null),e[Gi]=t||null,Ti(this,Ji,i),Ti(this,Ki,Ii(e))}S(Li,Ai),Li.prototype.w=function(){var t=Li.ab.w.call(this);return t.phoneNumber=this.phoneNumber,t};var Fi="REVERT_SECOND_FACTOR_ADDITION",ji="EMAIL_SIGNIN",Bi="VERIFY_AND_CHANGE_EMAIL",Vi="email",Ui="mfaInfo",qi="newEmail",Hi="requestType",zi="email",$i="fromEmail",Gi="multiFactorInfo",Wi="previousEmail",Ki="data",Ji="operation";function Xi(t){t=ir(t);var e=rr(t,Qi)||null,n=rr(t,Yi)||null,r=rr(t,eo)||null;if(r=r&&ro[r]||null,!e||!n||!r)throw new A("argument-error",Qi+", "+Yi+"and "+eo+" are required in a valid action code URL.");Ei(this,{apiKey:e,operation:r,code:n,continueUrl:rr(t,Zi)||null,languageCode:rr(t,to)||null,tenantId:rr(t,no)||null})}var Qi="apiKey",Yi="oobCode",Zi="continueUrl",to="languageCode",eo="mode",no="tenantId",ro={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:Fi,signIn:ji,verifyAndChangeEmail:Bi,verifyEmail:"VERIFY_EMAIL"};function io(t){try{return new Xi(t)}catch(e){return null}}function oo(t){var e=t[lo];if("undefined"===typeof e)throw new A("missing-continue-uri");if("string"!==typeof e||"string"===typeof e&&!e.length)throw new A("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[so];if(n&&"object"===typeof n){e=n[po];var r=n[ho];if(n=n[fo],"string"===typeof e&&e.length){if(this.a=e,"undefined"!==typeof r&&"boolean"!==typeof r)throw new A("argument-error",ho+" property must be a boolean when specified.");if(this.g=!!r,"undefined"!==typeof n&&("string"!==typeof n||"string"===typeof n&&!n.length))throw new A("argument-error",fo+" property must be a non empty string when specified.");this.b=n||null}else{if("undefined"!==typeof e)throw new A("argument-error",po+" property must be a non empty string when specified.");if("undefined"!==typeof r||"undefined"!==typeof n)throw new A("missing-android-pkg-name")}}else if("undefined"!==typeof n)throw new A("argument-error",so+" property must be a non null object when specified.");if(this.f=null,(e=t[co])&&"object"===typeof e){if(e=e[mo],"string"===typeof e&&e.length)this.f=e;else if("undefined"!==typeof e)throw new A("argument-error",mo+" property must be a non empty string when specified.")}else if("undefined"!==typeof e)throw new A("argument-error",co+" property must be a non null object when specified.");if(e=t[uo],"undefined"!==typeof e&&"boolean"!==typeof e)throw new A("argument-error",uo+" property must be a boolean when specified.");if(this.c=!!e,t=t[ao],"undefined"!==typeof t&&("string"!==typeof t||"string"===typeof t&&!t.length))throw new A("argument-error",ao+" property must be a non empty string when specified.");this.i=t||null}var so="android",ao="dynamicLinkDomain",uo="handleCodeInApp",co="iOS",lo="url",ho="installApp",fo="minimumVersion",po="packageName",mo="bundleId";function vo(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}function go(t){return X(t,(function(t){return t=t.toString(16),1<t.length?t:"0"+t})).join("")}var yo=null;function bo(t){var e=[];return wo(t,(function(t){e.push(t)})),e}function wo(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=yo[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}ko();for(var r=0;;){var i=n(-1),o=n(0),s=n(64),a=n(64);if(64===a&&-1===i)break;e(i<<2|o>>4),64!=s&&(e(o<<4&240|s>>2),64!=a&&e(s<<6&192|a))}}function ko(){if(!yo){yo={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===yo[o]&&(yo[o]=i)}}}function _o(t){var e=Eo(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.h=t,this.a=e.exp,this.i=e.sub,t=Date.now()/1e3,this.g=e.iat||(t>this.a?this.a:t),this.b=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.c=!!e.is_anonymous||"anonymous"==this.b}function To(t){try{return new _o(t)}catch(e){return null}}function Eo(t){if(!t)return null;if(t=t.split("."),3!=t.length)return null;t=t[1];for(var e=(4-t.length%4)%4,n=0;n<e;n++)t+=".";try{var r=bo(t);for(t=[],n=e=0;e<r.length;){var i=r[e++];if(128>i)t[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[e++];t[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[e++];var s=r[e++],a=r[e++],u=((7&i)<<18|(63&o)<<12|(63&s)<<6|63&a)-65536;t[n++]=String.fromCharCode(55296+(u>>10)),t[n++]=String.fromCharCode(56320+(1023&u))}else o=r[e++],s=r[e++],t[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}return JSON.parse(t.join(""))}catch(c){}return null}_o.prototype.T=function(){return this.f},_o.prototype.l=function(){return this.c},_o.prototype.toString=function(){return this.h};var Co="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),xo=["client_id","response_type","scope","redirect_uri","state"],So={nd:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Xa:xo},pd:{Ja:null,ua:500,ta:750,fa:"github.com",Xa:xo},qd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Xa:xo},wd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Xa:Co},kd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Xa:[]}};function Io(t){for(var e in So)if(So[e].fa==t)return So[e];return null}function Ao(t){var e={};e["facebook.com"]=Ro,e["google.com"]=Po,e["github.com"]=Lo,e["twitter.com"]=Fo;var n=t&&t[Oo];try{if(n)return e[n]?new e[n](t):new Mo(t);if("undefined"!==typeof t[No])return new Do(t)}catch(r){}return null}var No="idToken",Oo="providerId";function Do(t){var e=t[Oo];if(!e&&t[No]){var n=To(t[No]);n&&n.b&&(e=n.b)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,"undefined"!==typeof t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Ti(this,"providerId",e),Ti(this,"isNewUser",n)}function Mo(t){Do.call(this,t),t=ui(t.rawUserInfo||"{}"),Ti(this,"profile",Ii(t||{}))}function Ro(t){if(Mo.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Lo(t){if(Mo.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Ti(this,"username",this.profile&&this.profile.login||null)}function Po(t){if(Mo.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Fo(t){if(Mo.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Ti(this,"username",t.screenName||null)}function jo(t){var e=ir(t),n=rr(e,"link"),r=rr(ir(n),"link");return e=rr(e,"deep_link_id"),rr(ir(e),"link")||e||r||n||t}function Bo(t,e){if(!t&&!e)throw new A("internal-error","Internal assert: no raw session string available");if(t&&e)throw new A("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?Vo:Uo}S(Mo,Do),S(Ro,Mo),S(Lo,Mo),S(Po,Mo),S(Fo,Mo);var Vo="enroll",Uo="signin";function qo(){}function Ho(t,e){return t.then((function(t){if(t[Pa]){var n=To(t[Pa]);if(!n||e!=n.i)throw new A("user-mismatch");return t}throw new A("user-mismatch")})).o((function(t){throw t&&t.code&&t.code==D+"user-not-found"?new A("user-mismatch"):t}))}function zo(t,e){if(!e)throw new A("internal-error","failed to construct a credential");this.a=e,Ti(this,"providerId",t),Ti(this,"signInMethod",t)}function $o(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function Go(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new zo(t.providerId,t.pendingToken)}catch(e){}return null}function Wo(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Ti(this,"idToken",e.idToken),e.accessToken&&Ti(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Ti(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new A("internal-error","failed to construct a credential");Ti(this,"accessToken",e.oauthToken),Ti(this,"secret",e.oauthTokenSecret)}Ti(this,"providerId",t),Ti(this,"signInMethod",n)}function Ko(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:vr(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function Jo(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new Wo(t.providerId,e,t.signInMethod)}catch(n){}}return null}function Xo(t,e){this.Qc=e||[],Ei(this,{providerId:t,isOAuthProvider:!0}),this.Ib={},this.pb=(Io(t)||{}).Ja||null,this.ob=null}function Qo(t){if("string"!==typeof t||0!=t.indexOf("saml."))throw new A("argument-error",'SAML provider IDs must be prefixed with "saml."');Xo.call(this,t,[])}function Yo(t){Xo.call(this,t,xo),this.a=[]}function Zo(){Yo.call(this,"facebook.com")}function ts(t){if(!t)throw new A("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return y(t)&&(e=t.accessToken),(new Zo).credential({accessToken:e})}function es(){Yo.call(this,"github.com")}function ns(t){if(!t)throw new A("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return y(t)&&(e=t.accessToken),(new es).credential({accessToken:e})}function rs(){Yo.call(this,"google.com"),this.Ca("profile")}function is(t,e){var n=t;return y(t)&&(n=t.idToken,e=t.accessToken),(new rs).credential({idToken:n,accessToken:e})}function os(){Xo.call(this,"twitter.com",Co)}function ss(t,e){var n=t;if(y(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new A("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Wo("twitter.com",n,"twitter.com")}function as(t,e,n){this.a=t,this.f=e,Ti(this,"providerId","password"),Ti(this,"signInMethod",n===cs.EMAIL_LINK_SIGN_IN_METHOD?cs.EMAIL_LINK_SIGN_IN_METHOD:cs.EMAIL_PASSWORD_SIGN_IN_METHOD)}function us(t){return t&&t.email&&t.password?new as(t.email,t.password,t.signInMethod):null}function cs(){Ei(this,{providerId:"password",isOAuthProvider:!1})}function ls(t,e){if(e=hs(e),!e)throw new A("argument-error","Invalid email link!");return new as(t,e.code,cs.EMAIL_LINK_SIGN_IN_METHOD)}function hs(t){return t=jo(t),(t=io(t))&&t.operation===ji?t:null}function fs(t){if(!(t.eb&&t.cb||t.La&&t.ea))throw new A("internal-error");this.a=t,Ti(this,"providerId","phone"),this.fa="phone",Ti(this,"signInMethod","phone")}function ps(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return W(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new fs(e)}return null}function ds(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.eb,code:t.a.cb}}function ms(t){try{this.a=t||r.Z.auth()}catch(e){throw new A("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Ei(this,{providerId:"phone",isOAuthProvider:!1})}function vs(t,e){if(!t)throw new A("missing-verification-id");if(!e)throw new A("missing-verification-code");return new fs({eb:t,cb:e})}function gs(t){if(t.temporaryProof&&t.phoneNumber)return new fs({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,s=t&&t.pendingToken;try{switch(e){case"google.com":return is(o,n);case"facebook.com":return ts(n);case"github.com":return ns(n);case"twitter.com":return ss(n,r);default:return n||r||o||s?s?0==e.indexOf("saml.")?new zo(e,s):new Wo(e,{pendingToken:s,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new Yo(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(a){return null}}function ys(t){if(!t.isOAuthProvider)throw new A("invalid-oauth-provider")}function bs(t,e,n,r,i,o,s){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=s||null,this.a=i||null,!this.g&&!this.a)throw new A("invalid-auth-event");if(this.g&&this.a)throw new A("invalid-auth-event");if(this.g&&!this.f)throw new A("invalid-auth-event")}function ws(t){return t=t||{},t.type?new bs(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&N(t.error),t.postBody,t.tenantId):null}function ks(){this.b=null,this.a=[]}Bo.prototype.Ha=function(){return this.a?Ve(this.a):Ve(this.b)},Bo.prototype.w=function(){return this.type==Vo?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},qo.prototype.ka=function(){},qo.prototype.b=function(){},qo.prototype.c=function(){},qo.prototype.w=function(){},zo.prototype.ka=function(t){return fu(t,$o(this))},zo.prototype.b=function(t,e){var n=$o(this);return n.idToken=e,pu(t,n)},zo.prototype.c=function(t,e){return Ho(du(t,$o(this)),e)},zo.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},Wo.prototype.ka=function(t){return fu(t,Ko(this))},Wo.prototype.b=function(t,e){var n=Ko(this);return n.idToken=e,pu(t,n)},Wo.prototype.c=function(t,e){var n=Ko(this);return Ho(du(t,n),e)},Wo.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},Xo.prototype.Ka=function(t){return this.Ib=wt(t),this},S(Qo,Xo),S(Yo,Xo),Yo.prototype.Ca=function(t){return Z(this.a,t)||this.a.push(t),this},Yo.prototype.Qb=function(){return rt(this.a)},Yo.prototype.credential=function(t,e){var n;if(n=y(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null},!n.idToken&&!n.accessToken)throw new A("argument-error","credential failed: must provide the ID token and/or the access token.");return new Wo(this.providerId,n,this.providerId)},S(Zo,Yo),Ti(Zo,"PROVIDER_ID","facebook.com"),Ti(Zo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),S(es,Yo),Ti(es,"PROVIDER_ID","github.com"),Ti(es,"GITHUB_SIGN_IN_METHOD","github.com"),S(rs,Yo),Ti(rs,"PROVIDER_ID","google.com"),Ti(rs,"GOOGLE_SIGN_IN_METHOD","google.com"),S(os,Xo),Ti(os,"PROVIDER_ID","twitter.com"),Ti(os,"TWITTER_SIGN_IN_METHOD","twitter.com"),as.prototype.ka=function(t){return this.signInMethod==cs.EMAIL_LINK_SIGN_IN_METHOD?Ju(t,_u,{email:this.a,oobCode:this.f}):Ju(t,zu,{email:this.a,password:this.f})},as.prototype.b=function(t,e){return this.signInMethod==cs.EMAIL_LINK_SIGN_IN_METHOD?Ju(t,Tu,{idToken:e,email:this.a,oobCode:this.f}):Ju(t,Pu,{idToken:e,email:this.a,password:this.f})},as.prototype.c=function(t,e){return Ho(this.ka(t),e)},as.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Ei(cs,{PROVIDER_ID:"password"}),Ei(cs,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Ei(cs,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),fs.prototype.ka=function(t){return t.fb(ds(this))},fs.prototype.b=function(t,e){var n=ds(this);return n.idToken=e,Ju(t,Gu,n)},fs.prototype.c=function(t,e){var n=ds(this);return n.operation="REAUTH",t=Ju(t,Wu,n),Ho(t,e)},fs.prototype.w=function(){var t={providerId:"phone"};return this.a.eb&&(t.verificationId=this.a.eb),this.a.cb&&(t.verificationCode=this.a.cb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},ms.prototype.fb=function(t,e){var n=this.a.a;return Ve(e.verify()).then((function(r){if("string"!==typeof r)throw new A("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i,o=y(t)?t.session:null,s=y(t)?t.phoneNumber:t;return i=o&&o.type==Vo?o.Ha().then((function(t){return ou(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:s,recaptchaToken:r}})})):o&&o.type==Uo?o.Ha().then((function(e){return au(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):iu(n,{phoneNumber:s,recaptchaToken:r}),i.then((function(t){return"function"===typeof e.reset&&e.reset(),t}),(function(t){throw"function"===typeof e.reset&&e.reset(),t}));default:throw new A("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Ei(ms,{PROVIDER_ID:"phone"}),Ei(ms,{PHONE_SIGN_IN_METHOD:"phone"}),bs.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},bs.prototype.T=function(){return this.h},bs.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var _s,Ts=null;function Es(t){var e=Ts;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},t=ti("universalLinks.subscribe",l),"function"===typeof t&&t(null,e.b))}function Cs(t){var e="unauthorized-domain",n=void 0,r=ir(t);t=r.a,r=r.c,"chrome-extension"==r?n=Qt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=Qt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",A.call(this,e,n)}function xs(t,e,n){A.call(this,t,n),t=e||{},t.Jb&&Ti(this,"email",t.Jb),t.ea&&Ti(this,"phoneNumber",t.ea),t.credential&&Ti(this,"credential",t.credential),t.Zb&&Ti(this,"tenantId",t.Zb)}function Ss(t){if(t.code){var e=t.code||"";0==e.indexOf(D)&&(e=e.substring(D.length));var n={credential:gs(t),Zb:t.tenantId};if(t.email)n.Jb=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new A(e,t.message||void 0);return new xs(e,n,t.message)}return null}function Is(){}function As(t){return t.c||(t.c=t.b())}function Ns(){}function Os(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(i){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Ds(){}function Ms(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=E(this.qc,this),this.a.onerror=E(this.Sb,this),this.a.onprogress=E(this.rc,this),this.a.ontimeout=E(this.vc,this)}function Rs(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function Ls(t,e,n){this.reset(t,e,n,void 0,void 0)}S(Cs,A),S(xs,A),xs.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&_t(t,e),t},xs.prototype.toJSON=function(){return this.w()},Is.prototype.c=null,S(Ns,Is),Ns.prototype.a=function(){var t=Os(this);return t?new ActiveXObject(t):new XMLHttpRequest},Ns.prototype.b=function(){var t={};return Os(this)&&(t[0]=!0,t[1]=!0),t},_s=new Ns,S(Ds,Is),Ds.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Ms;throw Error("Unsupported browser")},Ds.prototype.b=function(){return{}},t=Ms.prototype,t.open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Rs(this,4)},t.Sb=function(){this.status=500,this.response=this.responseText="",Rs(this,4)},t.vc=function(){this.Sb()},t.rc=function(){this.status=200,Rs(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Ls.prototype.a=null;function Ps(t){this.f=t,this.b=this.c=this.a=null}function Fs(t,e){this.name=t,this.value=e}Ls.prototype.reset=function(t,e,n,r,i){"number"==typeof i||0,r||x(),delete this.a},Fs.prototype.toString=function(){return this.name};var js=new Fs("SEVERE",1e3),Bs=new Fs("WARNING",900),Vs=new Fs("CONFIG",700),Us=new Fs("FINE",500);function qs(t){return t.c?t.c:t.a?qs(t.a):(B("Root logger has no level set."),null)}Ps.prototype.log=function(t,e,n){if(t.value>=qs(this).value)for(g(e)&&(e=e()),t=new Ls(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var Hs={},zs=null;function $s(t){var e;if(zs||(zs=new Ps(""),Hs[""]=zs,zs.c=Vs),!(e=Hs[t])){e=new Ps(t);var n=t.lastIndexOf("."),r=t.substr(n+1);n=$s(t.substr(0,n)),n.b||(n.b={}),n.b[r]=e,e.a=n,Hs[t]=e}return e}function Gs(t,e){t&&t.log(Us,e,void 0)}function Ws(t){this.f=t}function Ks(t){jn.call(this),this.u=t,this.h=void 0,this.readyState=Js,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=$s("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}S(Ws,Is),Ws.prototype.a=function(){return new Ks(this.f)},Ws.prototype.b=function(t){return function(){return t}}({}),S(Ks,jn);var Js=0;function Xs(t){t.c.read().then(t.pc.bind(t)).catch(t.Ua.bind(t))}function Qs(t){t.readyState=4,t.g=null,t.c=null,t.m=null,Ys(t)}function Ys(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function Zs(t){jn.call(this),this.headers=new Wn,this.D=t||null,this.c=!1,this.C=this.a=null,this.h=this.R=this.l="",this.f=this.O=this.i=this.J=!1,this.g=0,this.s=null,this.m=ta,this.u=this.S=!1}t=Ks.prototype,t.open=function(t,e){if(this.readyState!=Js)throw this.abort(),Error("Error reopening a connection");this.s=t,this.f=e,this.readyState=1,Ys(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.uc.bind(this),this.Ua.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,Qs(this)),this.readyState=Js},t.uc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,Ys(this)),this.a&&(this.readyState=3,Ys(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.sc.bind(this),this.Ua.bind(this)):"undefined"!==typeof l.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,Xs(this)):t.text().then(this.tc.bind(this),this.Ua.bind(this)))))},t.pc=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?Qs(this):Ys(this),3==this.readyState&&Xs(this)}},t.tc=function(t){this.a&&(this.response=this.responseText=t,Qs(this))},t.sc=function(t){this.a&&(this.response=t,Qs(this))},t.Ua=function(t){var e=this.i;e&&e.log(Bs,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&Qs(this)},t.setRequestHeader=function(t,e){this.l.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.i)&&t.log(Bs,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.i;return t&&t.log(Bs,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Ks.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),S(Zs,jn);var ta="";Zs.prototype.b=$s("goog.net.XhrIo");var ea=/^https?$/i,na=["POST","PUT"];function ra(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.R=n,t.J=!1,t.c=!0,t.a=t.D?t.D.a():_s.a(),t.C=t.D?As(t.D):As(_s),t.a.onreadystatechange=E(t.Vb,t);try{Gs(t.b,da(t,"Opening Xhr")),t.O=!0,t.a.open(n,String(e),!0),t.O=!1}catch(s){return Gs(t.b,da(t,"Error opening Xhr: "+s.message)),void sa(t,s)}e=r||"";var o=new Wn(t.headers);i&&Gn(i,(function(t,e){o.set(e,t)})),i=Y(o.Y()),r=l.FormData&&e instanceof l.FormData,!Z(na,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.S&&(t.a.withCredentials=t.S);try{la(t),0<t.g&&(t.u=ia(t.a),Gs(t.b,da(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=E(t.Ma,t)):t.s=qn(t.Ma,t.g,t)),Gs(t.b,da(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(s){Gs(t.b,da(t,"Send error: "+s.message)),sa(t,s)}}function ia(t){return re&&de(9)&&"number"===typeof t.timeout&&void 0!==t.ontimeout}function oa(t){return"content-type"==t.toLowerCase()}function sa(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,aa(t),ca(t)}function aa(t){t.J||(t.J=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function ua(t){if(t.c&&"undefined"!=typeof c)if(t.C[1]&&4==ha(t)&&2==fa(t))Gs(t.b,da(t,"Local request error detected and ignored"));else if(t.i&&4==ha(t))qn(t.Vb,0,t);else if(t.dispatchEvent("readystatechange"),4==ha(t)){Gs(t.b,da(t,"Request complete")),t.c=!1;try{var e,n=fa(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.l).match(Xn)[1]||null;if(!o&&l.self&&l.self.location){var s=l.self.location.protocol;o=s.substr(0,s.length-1)}i=!ea.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var a=2<ha(t)?t.a.statusText:""}catch(u){Gs(t.b,"Can not get status: "+u.message),a=""}t.h=a+" ["+fa(t)+"]",aa(t)}}finally{ca(t)}}}function ca(t,e){if(t.a){la(t);var n=t.a,r=t.C[0]?d:null;t.a=null,t.C=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){(t=t.b)&&t.log(js,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function la(t){t.a&&t.u&&(t.a.ontimeout=null),t.s&&(l.clearTimeout(t.s),t.s=null)}function ha(t){return t.a?t.a.readyState:0}function fa(t){try{return 2<ha(t)?t.a.status:-1}catch(e){return-1}}function pa(t){try{return t.a?t.a.responseText:""}catch(e){return Gs(t.b,"Can not get responseText: "+e.message),""}}function da(t,e){return e+" ["+t.R+" "+t.l+" "+fa(t)+"]"}function ma(t){var e=Ia;this.g=[],this.u=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function va(t,e,n){t.a=!0,t.c=n,t.f=!e,ka(t)}function ga(t){if(t.a){if(!t.v)throw new _a(t);t.v=!1}}function ya(t,e){ba(t,null,e,void 0)}function ba(t,e,n,r){t.g.push([e,n,r]),t.a&&ka(t)}function wa(t){return Q(t.g,(function(t){return g(t[1])}))}function ka(t){if(t.h&&t.a&&wa(t)){var e=t.h,n=Ca[e];n&&(l.clearTimeout(n.a),delete Ca[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],s=i[1];if(i=i[2],o=t.f?s:o)try{var a=o.call(i||t.s,e);void 0!==a&&(t.f=t.f&&(a==e||a instanceof Error),t.c=e=a),(P(e)||"function"===typeof l.Promise&&e instanceof l.Promise)&&(r=!0,t.i=!0)}catch(u){e=u,t.f=!0,wa(t)||(n=!0)}}t.c=e,r&&(a=E(t.m,t,!0),r=E(t.m,t,!1),e instanceof ma?(ba(e,a,r),e.C=!0):e.then(a,r)),n&&(e=new Ea(e),Ca[e.a]=e,t.h=e.a)}function _a(){F.call(this)}function Ta(){F.call(this)}function Ea(t){this.a=l.setTimeout(E(this.c,this),0),this.b=t}t=Zs.prototype,t.Ma=function(){"undefined"!=typeof c&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",Gs(this.b,da(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(Gs(this.b,da(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),ca(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),ca(this,!0)),Zs.ab.Da.call(this)},t.Vb=function(){this.xa||(this.O||this.i||this.f?ua(this):this.Jc())},t.Jc=function(){ua(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case ta:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(js,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return Gs(this.b,"Can not get response: "+e.message),null}},ma.prototype.cancel=function(t){if(this.a)this.c instanceof ma&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(t=new Ta(this),ga(this),va(this,!1,t))}},ma.prototype.m=function(t,e){this.i=!1,va(this,t,e)},ma.prototype.then=function(t,e,n){var r,i,o=new Me((function(t,e){r=t,i=e}));return ba(this,r,(function(t){t instanceof Ta?o.cancel():i(t)})),o.then(t,e,n)},ma.prototype.$goog_Thenable=!0,S(_a,F),_a.prototype.message="Deferred has already fired",_a.prototype.name="AlreadyCalledError",S(Ta,F),Ta.prototype.message="Deferred was canceled",Ta.prototype.name="CanceledError",Ea.prototype.c=function(){throw delete Ca[this.a],this.b};var Ca={};function xa(t){var e={},n=e.document||document,r=Ot(t).toString(),i=Ce(document,"SCRIPT"),o={Wb:i,Ma:void 0},s=new ma(o),a=null,u=null!=e.timeout?e.timeout:5e3;return 0<u&&(a=window.setTimeout((function(){Aa(i,!0);var t=new Da(Oa,"Timeout reached for loading script "+r);ga(s),va(s,!1,t)}),u),o.Ma=a),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Aa(i,e.xd||!1,a),ga(s),va(s,!0,null))},i.onerror=function(){Aa(i,!0,a);var t=new Da(Na,"Error while loading script "+r);ga(s),va(s,!1,t)},o=e.attributes||{},_t(o,{type:"text/javascript",charset:"UTF-8"}),be(i,o),Jt(i,t),Sa(n).appendChild(i),s}function Sa(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}function Ia(){if(this&&this.Wb){var t=this.Wb;t&&"SCRIPT"==t.tagName&&Aa(t,!0,this.Ma)}}function Aa(t,e,n){null!=n&&l.clearTimeout(n),t.onload=d,t.onerror=d,t.onreadystatechange=d,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var Na=0,Oa=1;function Da(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),F.call(this,n),this.code=t}function Ma(t){this.f=t}function Ra(t,e,n){if(this.c=t,t=e||{},this.l=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||Fa,this.g=wt(t.secureTokenHeaders||ja),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=t.firebaseTimeout||Ba,this.a=wt(t.firebaseHeaders||Va),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==$r(),n=l.XMLHttpRequest||n&&r.Z.INTERNAL.node&&r.Z.INTERNAL.node.XMLHttpRequest,!n&&!zr())throw new A("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,zr()?this.f=new Ws(self):Gr()?this.f=new Ma(n):this.f=new Ds,this.b=null}S(Da,F),S(Ma,Is),Ma.prototype.a=function(){return new this.f},Ma.prototype.b=function(){return{}};var La,Pa="idToken",Fa=new fi(3e4,6e4),ja={"Content-Type":"application/x-www-form-urlencoded"},Ba=new fi(3e4,6e4),Va={"Content-Type":"application/json"};function Ua(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function qa(t,e){e&&(t.l=Ha("https://securetoken.googleapis.com/v1/token",e),t.h=Ha("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=Ha("https://identitytoolkit.googleapis.com/v2/",e))}function Ha(t,e){return t=ir(t),e=ir(e.url),t.f=t.a+t.f,Zn(t,e.c),t.a=e.a,tr(t,e.g),t.toString()}function za(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function $a(t,e,n,r,i,o,s){Mr()||zr()?t=E(t.u,t):(La||(La=new Me((function(t,e){Ka(t,e)}))),t=E(t.s,t)),t(e,n,r,i,o,s)}Ra.prototype.T=function(){return this.b},Ra.prototype.u=function(t,e,n,r,i,o){if(zr()&&("undefined"===typeof l.fetch||"undefined"===typeof l.Headers||"undefined"===typeof l.Request))throw new A("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var s=new Zs(this.f);if(o){s.g=Math.max(0,o);var a=setTimeout((function(){s.dispatchEvent("timeout")}),o)}Bn(s,"complete",(function(){a&&clearTimeout(a);var t=null;try{t=JSON.parse(pa(this))||null}catch(n){t=null}e&&e(t)})),Vn(s,"ready",(function(){a&&clearTimeout(a),un(this)})),Vn(s,"timeout",(function(){a&&clearTimeout(a),un(this),e&&e(null)})),ra(s,t,n,r,i)};var Ga=new Et(It,"https://apis.google.com/js/client.js?onload=%{onload}"),Wa="__fcb"+Math.floor(1e6*Math.random()).toString();function Ka(t,e){if(((window.gapi||{}).client||{}).request)t();else{l[Wa]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))};var n=Dt(Ga,{onload:Wa});ya(xa(n),(function(){e(Error("CORS_UNSUPPORTED"))}))}}function Ja(t,e){return new Me((function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?$a(t,t.l+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?r(Qu(t)):t.access_token&&t.refresh_token?n(t):r(new A("internal-error")):r(new A("network-request-failed"))}),"POST",vr(e).toString(),t.g,t.m.get()):r(new A("internal-error"))}))}function Xa(t,e,n,r,i,o,s){var a=ir(e+n);nr(a,"key",t.c),s&&nr(a,"cb",Date.now().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&nr(a,c,i[c]);return new Me((function(e,n){$a(t,a.toString(),(function(t){t?t.error?n(Qu(t,o||{})):e(t):n(new A("network-request-failed"))}),r,u?void 0:Tr(ai(i)),t.a,t.v.get())}))}function Qa(t){if(t=t.email,"string"!==typeof t||!Br.test(t))throw new A("invalid-email")}function Ya(t){"email"in t&&Qa(t)}function Za(t,e){return Ju(t,bu,{identifier:e,continueUri:ri()?Nr():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}function tu(t){return Ju(t,Ou,{}).then((function(t){return t.authorizedDomains||[]}))}function eu(t){if(!t[Pa]){if(t.mfaPendingCredential)throw new A("multi-factor-auth-required",null,wt(t));throw new A("internal-error")}}function nu(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new A("internal-error")}else{if(!t.sessionInfo)throw new A("missing-verification-id");if(!t.code)throw new A("missing-verification-code")}}Ra.prototype.s=function(t,e,n,r,i){var o=this;La.then((function(){window.gapi.client.setApiKey(o.c);var s=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(s),e&&e(t)}})})).o((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},Ra.prototype.zb=function(){return Ju(this,Fu,{})},Ra.prototype.Bb=function(t,e){return Ju(this,Lu,{idToken:t,email:e})},Ra.prototype.Cb=function(t,e){return Ju(this,Pu,{idToken:t,password:e})};var ru={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function iu(t,e){return Ju(t,Ru,e)}function ou(t,e){return Ju(t,ju,e).then((function(t){return t.phoneSessionInfo.sessionInfo}))}function su(t){if(!t.phoneVerificationInfo)throw new A("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new A("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new A("missing-verification-code")}function au(t,e){return Ju(t,Bu,e).then((function(t){return t.phoneResponseInfo.sessionInfo}))}function uu(t,e,n){return Ju(t,ku,{idToken:e,deleteProvider:n})}function cu(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new A("internal-error")}function lu(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&(t=new dr(t.postBody),yr(t,"nonce")&&(e.nonce=t.get("nonce")))),e}function hu(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Ss(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Ss(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Ss(t)):t.errorMessage&&(e=Xu(t.errorMessage)),e)throw e;eu(t)}function fu(t,e){return e.returnIdpCredential=!0,Ju(t,Vu,e)}function pu(t,e){return e.returnIdpCredential=!0,Ju(t,qu,e)}function du(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,Ju(t,Uu,e)}function mu(t){if(!t.oobCode)throw new A("invalid-action-code")}t=Ra.prototype,t.Db=function(t,e){var n={idToken:t},r=[];return yt(ru,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),Ju(this,Lu,n)},t.vb=function(t,e){return t={requestType:"PASSWORD_RESET",email:t},_t(t,e),Ju(this,Nu,t)},t.wb=function(t,e){return t={requestType:"EMAIL_SIGNIN",email:t},_t(t,e),Ju(this,Su,t)},t.ub=function(t,e){return t={requestType:"VERIFY_EMAIL",idToken:t},_t(t,e),Ju(this,Iu,t)},t.Eb=function(t,e,n){return t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},_t(t,n),Ju(this,Au,t)},t.fb=function(t){return Ju(this,$u,t)},t.nb=function(t,e){return Ju(this,Mu,{oobCode:t,newPassword:e})},t.Ra=function(t){return Ju(this,gu,{oobCode:t})},t.jb=function(t){return Ju(this,vu,{oobCode:t})};var vu={endpoint:"setAccountInfo",A:mu,Z:"email",B:!0},gu={endpoint:"resetPassword",A:mu,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new A("internal-error")},B:!0},yu={endpoint:"signupNewUser",A:function(t){if(Qa(t),!t.password)throw new A("weak-password")},G:eu,V:!0,B:!0},bu={endpoint:"createAuthUri",B:!0},wu={endpoint:"deleteAccount",N:["idToken"]},ku={endpoint:"setAccountInfo",N:["idToken","deleteProvider"],A:function(t){if(!Array.isArray(t.deleteProvider))throw new A("internal-error")}},_u={endpoint:"emailLinkSignin",N:["email","oobCode"],A:Qa,G:eu,V:!0,B:!0},Tu={endpoint:"emailLinkSignin",N:["idToken","email","oobCode"],A:Qa,G:eu,V:!0},Eu={endpoint:"accounts/mfaEnrollment:finalize",N:["idToken","phoneVerificationInfo"],A:su,G:eu,B:!0,Na:!0},Cu={endpoint:"accounts/mfaSignIn:finalize",N:["mfaPendingCredential","phoneVerificationInfo"],A:su,G:eu,B:!0,Na:!0},xu={endpoint:"getAccountInfo"},Su={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new A("internal-error");Qa(t)},Z:"email",B:!0},Iu={endpoint:"getOobConfirmationCode",N:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new A("internal-error")},Z:"email",B:!0},Au={endpoint:"getOobConfirmationCode",N:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new A("internal-error")},Z:"email",B:!0},Nu={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new A("internal-error");Qa(t)},Z:"email",B:!0},Ou={lb:!0,endpoint:"getProjectConfig",Ub:"GET"},Du={lb:!0,endpoint:"getRecaptchaParam",Ub:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new A("internal-error")}},Mu={endpoint:"resetPassword",A:mu,Z:"email",B:!0},Ru={endpoint:"sendVerificationCode",N:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Lu={endpoint:"setAccountInfo",N:["idToken"],A:Ya,V:!0},Pu={endpoint:"setAccountInfo",N:["idToken"],A:function(t){if(Ya(t),!t.password)throw new A("weak-password")},G:eu,V:!0},Fu={endpoint:"signupNewUser",G:eu,V:!0,B:!0},ju={endpoint:"accounts/mfaEnrollment:start",N:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new A("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new A("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new A("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new A("internal-error")},B:!0,Na:!0},Bu={endpoint:"accounts/mfaSignIn:start",N:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new A("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new A("internal-error")},B:!0,Na:!0},Vu={endpoint:"verifyAssertion",A:cu,Ya:lu,G:hu,V:!0,B:!0},Uu={endpoint:"verifyAssertion",A:cu,Ya:lu,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new A("user-not-found");if(t.errorMessage)throw Xu(t.errorMessage);eu(t)},V:!0,B:!0},qu={endpoint:"verifyAssertion",A:function(t){if(cu(t),!t.idToken)throw new A("internal-error")},Ya:lu,G:hu,V:!0},Hu={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new A("invalid-custom-token")},G:eu,V:!0,B:!0},zu={endpoint:"verifyPassword",A:function(t){if(Qa(t),!t.password)throw new A("wrong-password")},G:eu,V:!0,B:!0},$u={endpoint:"verifyPhoneNumber",A:nu,G:eu,B:!0},Gu={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new A("internal-error");nu(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Ss(t);eu(t)}},Wu={Hb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:nu,G:eu,B:!0},Ku={endpoint:"accounts/mfaEnrollment:withdraw",N:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[Pa]^!!t.refreshToken)throw new A("internal-error")},B:!0,Na:!0};function Ju(t,e,n){if(!Si(n,e.N))return Ue(new A("internal-error"));var r,i=!!e.Na,o=e.Ub||"POST";return Ve(n).then(e.A).then((function(){return e.V&&(n.returnSecureToken=!0),e.B&&t.b&&"undefined"===typeof n.tenantId&&(n.tenantId=t.b),Xa(t,i?t.i:t.h,e.endpoint,o,n,e.Hb,e.lb||!1)})).then((function(t){return r=t,e.Ya?e.Ya(n,r):r})).then(e.G).then((function(){if(!e.Z)return r;if(!(e.Z in r))throw new A("internal-error");return r[e.Z]}))}function Xu(t){return Qu({error:{errors:[{message:t}],code:400,message:t}})}function Qu(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new A(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},_t(r,e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new A(r[i],e);return!e&&t&&(e=si(t)),new A("internal-error",e)}function Yu(t){this.b=t,this.a=null,this.rb=Zu(this)}function Zu(t){return sc().then((function(){return new Me((function(e,n){ti("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:ti("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),ic.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}function tc(t,e){return t.rb.then((function(){return new Me((function(n){t.a.send(e.type,e,n,ti("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}function ec(t,e){t.rb.then((function(){t.a.register("authEvent",e,ti("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}var nc=new Et(It,"https://apis.google.com/js/api.js?onload=%{onload}"),rc=new fi(3e4,6e4),ic=new fi(5e3,15e3),oc=null;function sc(){return oc||(oc=new Me((function(t,e){function n(){hi(),ti("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){hi(),e(Error("Network Error"))},timeout:rc.get()})}if(ti("gapi.iframes.Iframe"))t();else if(ti("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();l[r]=function(){ti("gapi.load")?n():e(Error("Network Error"))},r=Dt(nc,{onload:r}),Ve(xa(r)).o((function(){e(Error("Network Error"))}))}})).o((function(t){throw oc=null,t})))}function ac(t,e,n,r){this.l=t,this.h=e,this.i=n,this.g=r,this.f=null,this.g?(t=ir(this.g.url),t=or(t.c,t.a,t.g,"/emulator/auth/iframe")):t=or("https",this.l,null,"/__/auth/iframe"),this.a=t,nr(this.a,"apiKey",this.h),nr(this.a,"appName",this.i),this.b=null,this.c=[]}function uc(t,e,n,r,i,o){this.u=t,this.s=e,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function cc(t){try{return r.Z.app(t).auth().Ga()}catch(e){return[]}}function lc(t,e,n,r,i,o){this.s=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function hc(t){var e=Nr();return tu(t).then((function(t){t:{var n=ir(e),r=n.c;n=n.a;for(var i=0;i<t.length;i++){var o=t[i],s=n,a=r;if(0==o.indexOf("chrome-extension://")?s=ir(o).a==s&&"chrome-extension"==a:"http"!=a&&"https"!=a?s=!1:jr.test(o)?s=s==o:(o=o.split(".").join("\\."),s=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)),s){t=!0;break t}}t=!1}if(!t)throw new Cs(Nr())}))}function fc(t){return t.m||(t.m=Vr().then((function(){if(!t.u){var e=t.c,n=t.i,r=cc(t.b),i=new ac(t.s,t.g,t.b,t.f);i.f=e,i.b=n,i.c=rt(r||[]),t.u=i.toString()}t.v=new Yu(t.u),mc(t)}))),t.m}function pc(t){return t.l||(t.C=t.c?Yr(t.c,cc(t.b)):null,t.l=new Ra(t.g,L(t.i),t.C),t.f&&qa(t.l,t.f)),t.l}function dc(t,e,n,r,i,o,s,a,u,c,l,h){return t=new uc(t,e,n,r,i,h),t.l=o,t.g=s,t.i=a,t.b=wt(u||null),t.f=c,t.yb(l).toString()}function mc(t){if(!t.v)throw Error("IfcHandler must be initialized!");ec(t.v,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=ws(e.authEvent),n=0;n<t.h.length;n++)r=t.h[n](e)||r;return n={},n.status=r?"ACK":"ERROR",Ve(n)}return n.status="ERROR",Ve(n)}))}function vc(t){var e={type:"webStorageSupport"};return fc(t).then((function(){return tc(t.v,e)})).then((function(t){if(t&&t.length&&"undefined"!==typeof t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))}function gc(t){if(this.a=t||r.Z.INTERNAL.reactNative&&r.Z.INTERNAL.reactNative.AsyncStorage,!this.a)throw new A("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function yc(t){this.b=t,this.a={},this.f=E(this.c,this)}ac.prototype.toString=function(){return this.f?nr(this.a,"v",this.f):gr(this.a.b,"v"),this.b?nr(this.a,"eid",this.b):gr(this.a.b,"eid"),this.c.length?nr(this.a,"fw",this.c.join(",")):gr(this.a.b,"fw"),this.a.toString()},uc.prototype.yb=function(t){return this.h=t,this},uc.prototype.toString=function(){if(this.v){var t=ir(this.v.url);t=or(t.c,t.a,t.g,"/emulator/auth/handler")}else t=or("https",this.u,null,"/__/auth/handler");if(nr(t,"apiKey",this.s),nr(t,"appName",this.c),nr(t,"authType",this.m),this.a.isOAuthProvider){var e=this.a;try{var n=r.Z.app(this.c).auth().la()}catch(u){n=null}for(var i in e.ob=n,nr(t,"providerId",this.a.providerId),n=this.a,e=ai(n.Ib),e)e[i]=e[i].toString();i=n.Qc,e=wt(e);for(var o=0;o<i.length;o++){var s=i[o];s in e&&delete e[s]}n.pb&&n.ob&&!e[n.pb]&&(e[n.pb]=n.ob),bt(e)||nr(t,"customParameters",si(e))}if("function"===typeof this.a.Qb&&(n=this.a.Qb(),n.length&&nr(t,"scopes",n.join(","))),this.l?nr(t,"redirectUrl",this.l):gr(t.b,"redirectUrl"),this.g?nr(t,"eventId",this.g):gr(t.b,"eventId"),this.i?nr(t,"v",this.i):gr(t.b,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!rr(t,a)&&nr(t,a,this.b[a]);return this.h?nr(t,"tid",this.h):gr(t.b,"tid"),this.f?nr(t,"eid",this.f):gr(t.b,"eid"),a=cc(this.c),a.length&&nr(t,"fw",a.join(",")),t.toString()},t=lc.prototype,t.Ob=function(t,e,n){var r=new A("popup-closed-by-user"),i=new A("web-storage-unsupported"),o=this,s=!1;return this.ma().then((function(){vc(o).then((function(n){n||(t&&Lr(t),e(i),s=!0)}))})).o((function(){})).then((function(){if(!s)return Fr(t)})).then((function(){if(!s)return Hn(n).then((function(){e(r)}))}))},t.Xb=function(){var t=Zr();return!oi(t)&&!li(t)},t.Tb=function(){return!1},t.Mb=function(t,e,n,r,i,o,s,a){if(!t)return Ue(new A("popup-blocked"));if(s&&!oi())return this.ma().o((function(e){Lr(t),i(e)})),r(),Ve();this.a||(this.a=hc(pc(this)));var u=this;return this.a.then((function(){var e=u.ma().o((function(e){throw Lr(t),i(e),e}));return r(),e})).then((function(){if(ys(n),!s){var r=dc(u.s,u.g,u.b,e,n,null,o,u.c,void 0,u.i,a,u.f);Or(r,t)}})).o((function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t}))},t.Nb=function(t,e,n,r){this.a||(this.a=hc(pc(this)));var i=this;return this.a.then((function(){ys(e);var o=dc(i.s,i.g,i.b,t,e,Nr(),n,i.c,void 0,i.i,r,i.f);Or(o)})).o((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},t.ma=function(){var t=this;return fc(this).then((function(){return t.v.rb})).o((function(){throw t.a=null,new A("network-request-failed")}))},t.$b=function(){return!0},t.Ea=function(t){this.h.push(t)},t.Sa=function(t){et(this.h,(function(e){return e==t}))},t=gc.prototype,t.get=function(t){return Ve(this.a.getItem(t)).then((function(t){return t&&ui(t)}))},t.set=function(t,e){return Ve(this.a.setItem(t,si(e)))},t.U=function(t){return Ve(this.a.removeItem(t))},t.ca=function(){},t.ia=function(){};var bc,wc=[];function kc(){var t=zr()?self:null;if(W(wc,(function(n){n.b==t&&(e=n)})),!e){var e=new yc(t);wc.push(e)}return e}function _c(t,e,n){bt(t.a)&&t.b.addEventListener("message",t.f),"undefined"===typeof t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function Tc(t){this.a=t}function Ec(t){this.c=t,this.b=!1,this.a=[]}function Cc(t,e,n,r){var i,o,s,a,u=n||{},c=null;if(t.b)return Ue(Error("connection_unavailable"));var l=r?800:50,h="undefined"!==typeof MessageChannel?new MessageChannel:null;return new Me((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),s=setTimeout((function(){r(Error("unsupported_event"))}),l),o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(s),a=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(a),"undefined"!==typeof t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(s),clearTimeout(a),r(Error("invalid_response"))))},c={messageChannel:h,onMessage:o},t.a.push(c),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))})).then((function(e){return xc(t,c),e})).o((function(e){throw xc(t,c),e}))}function xc(t,e){if(e){var n=e.messageChannel,r=e.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),et(t.a,(function(t){return t==e}))}}function Sc(){if(!Dc())throw new A("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=l.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var t=this;zr()&&self?(this.v=kc(),_c(this.v,"keyChanged",(function(e,n){return Fc(t).then((function(e){return 0<e.length&&W(t.a,(function(t){t(e)})),{keyProcessed:Z(e,n.key)}}))})),_c(this.v,"ping",(function(){return Ve(["keyChanged"])}))):yi().then((function(e){(t.h=e)&&(t.g=new Ec(new Tc(e)),Cc(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&Z(e[0].value,"keyChanged")&&(t.s=!0)})).o((function(){})))}))}function Ic(t){return new Me((function(e,n){var r=t.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}}))}function Ac(t){return new Me((function(e,n){var r=t.m.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(e){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}},r.onsuccess=function(r){r=r.target.result,r.objectStoreNames.contains("firebaseLocalStorage")?e(r):Ic(t).then((function(){return Ac(t)})).then((function(t){e(t)})).o((function(t){n(t)}))}}))}function Nc(t){return t.i||(t.i=Ac(t)),t.i}function Oc(t,e){function n(i,o){Nc(t).then(e).then(i).o((function(e){if(!(3<++r))return Nc(t).then((function(e){return e.close(),t.i=void 0,n(i,o)})).o((function(t){o(t)}));o(e)}))}var r=0;return new Me(n)}function Dc(){try{return!!l.indexedDB}catch(Zp){return!1}}function Mc(t){return t.objectStore("firebaseLocalStorage")}function Rc(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Lc(t){return new Me((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function Pc(t,e){return t.g&&t.h&&gi()===t.h?Cc(t.g,"keyChanged",{key:e},t.s).then((function(){})).o((function(){})):Ve()}function Fc(t){return Nc(t).then((function(t){var e=Mc(Rc(t,!1));return e.getAll?Lc(e.getAll()):new Me((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e["continue"]()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=Dr(t.c,n),t.c=n}return r}))}function jc(t){function e(){t.f=setTimeout((function(){t.l=Fc(t).then((function(e){0<e.length&&W(t.a,(function(t){t(e)}))})).then((function(){e()})).o((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}Bc(t),e()}function Bc(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Vc(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Ve().then((function(){if(Dc()){var t=ci(),r="__sak"+t;return bc||(bc=new Sc),n=bc,n.set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.U(r)})).then((function(){return n})).o((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ca((function(t){W(e.a,(function(e){e(t)}))})),t}))}function Uc(){this.a={},this.type="inMemory"}function qc(){if(!zc()){if("Node"==$r())throw new A("internal-error","The LocalStorage compatibility library was not found.");throw new A("web-storage-unsupported")}this.a=Hc()||r.Z.INTERNAL.node.localStorage,this.type="localStorage"}function Hc(){try{var t=l.localStorage,e=ci();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function zc(){var t="Node"==$r();if(t=Hc()||t&&r.Z.INTERNAL.node&&r.Z.INTERNAL.node.localStorage,!t)return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}function $c(){this.type="nullStorage"}function Gc(){if(!Kc()){if("Node"==$r())throw new A("internal-error","The SessionStorage compatibility library was not found.");throw new A("web-storage-unsupported")}this.a=Wc()||r.Z.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Wc(){try{var t=l.sessionStorage,e=ci();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Kc(){var t="Node"==$r();if(t=Wc()||t&&r.Z.INTERNAL.node&&r.Z.INTERNAL.node.sessionStorage,!t)return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}function Jc(){var t={};t.Browser=Yc,t.Node=Zc,t.ReactNative=tl,t.Worker=el,this.a=t[$r()]}yc.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];W(r,(function(e){i.push(Ve().then((function(){return e(t.origin,t.data.data)})))})),ze(i).then((function(r){var i=[];W(r,(function(t){i.push({fulfilled:t.Pb,value:t.value,reason:t.reason?t.reason.message:void 0})})),W(i,(function(t){for(var e in t)"undefined"===typeof t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})}))}},Tc.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},Ec.prototype.close=function(){for(;0<this.a.length;)xc(this,this.a[0]);this.b=!0},t=Sc.prototype,t.set=function(t,e){var n=this,r=!1;return Oc(this,(function(e){return e=Mc(Rc(e,!0)),Lc(e.get(t))})).then((function(i){return Oc(n,(function(o){if(o=Mc(Rc(o,!0)),i)return i.value=e,Lc(o.put(i));n.b++,r=!0;var s={};return s.fbase_key=t,s.value=e,Lc(o.add(s))}))})).then((function(){return n.c[t]=e,Pc(n,t)})).oa((function(){r&&n.b--}))},t.get=function(t){return Oc(this,(function(e){return Lc(Mc(Rc(e,!1)).get(t))})).then((function(t){return t&&t.value}))},t.U=function(t){var e=this,n=!1;return Oc(this,(function(r){return n=!0,e.b++,Lc(Mc(Rc(r,!0))["delete"](t))})).then((function(){return delete e.c[t],Pc(e,t)})).oa((function(){n&&e.b--}))},t.ca=function(t){0==this.a.length&&jc(this),this.a.push(t)},t.ia=function(t){et(this.a,(function(e){return e==t})),0==this.a.length&&Bc(this)},t=Vc.prototype,t.get=function(t){return this.b.then((function(e){return e.get(t)}))},t.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},t.U=function(t){return this.b.then((function(e){return e.U(t)}))},t.ca=function(t){this.a.push(t)},t.ia=function(t){et(this.a,(function(e){return e==t}))},t=Uc.prototype,t.get=function(t){return Ve(this.a[t])},t.set=function(t,e){return this.a[t]=e,Ve()},t.U=function(t){return delete this.a[t],Ve()},t.ca=function(){},t.ia=function(){},t=qc.prototype,t.get=function(t){var e=this;return Ve().then((function(){var n=e.a.getItem(t);return ui(n)}))},t.set=function(t,e){var n=this;return Ve().then((function(){var r=si(e);null===r?n.U(t):n.a.setItem(t,r)}))},t.U=function(t){var e=this;return Ve().then((function(){e.a.removeItem(t)}))},t.ca=function(t){l.window&&Cn(l.window,"storage",t)},t.ia=function(t){l.window&&An(l.window,"storage",t)},t=$c.prototype,t.get=function(){return Ve(null)},t.set=function(){return Ve()},t.U=function(){return Ve()},t.ca=function(){},t.ia=function(){},t=Gc.prototype,t.get=function(t){var e=this;return Ve().then((function(){var n=e.a.getItem(t);return ui(n)}))},t.set=function(t,e){var n=this;return Ve().then((function(){var r=si(e);null===r?n.U(t):n.a.setItem(t,r)}))},t.U=function(t){var e=this;return Ve().then((function(){e.a.removeItem(t)}))},t.ca=function(){},t.ia=function(){};var Xc,Qc,Yc={F:qc,bb:Gc},Zc={F:qc,bb:Gc},tl={F:gc,bb:$c},el={F:qc,bb:$c},nl={rd:"local",NONE:"none",td:"session"};function rl(t){var e=new A("invalid-persistence-type"),n=new A("unsupported-persistence-type");t:{for(r in nl)if(nl[r]==t){var r=!0;break t}r=!1}if(!r||"string"!==typeof t)throw e;switch($r()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!Dc()&&"none"!==t)throw n;break;default:if(!ei()&&"none"!==t)throw n}}function il(){var t=!(li(Zr())||!Hr()),e=oi(),n=ei();this.m=t,this.h=e,this.l=n,this.a={},Xc||(Xc=new Jc),t=Xc;try{this.g=!Ar()&&vi()||!l.indexedDB?new t.a.F:new Vc(zr()?new Uc:new t.a.F)}catch(r){this.g=new Uc,this.h=!0}try{this.i=new t.a.bb}catch(r){this.i=new Uc}this.v=new Uc,this.f=E(this.Yb,this),this.b={}}function ol(){return Qc||(Qc=new il),Qc}function sl(t,e){switch(e){case"session":return t.i;case"none":return t.v;default:return t.g}}function al(t,e){return"firebase:"+t.name+(e?":"+e:"")}function ul(t,e,n){var r=al(e,n),i=sl(t,e.F);return t.get(e,n).then((function(o){var s=null;try{s=ui(l.localStorage.getItem(r))}catch(a){}if(s&&!o)return l.localStorage.removeItem(r),t.set(e,s,n);s&&o&&"localStorage"!=i.type&&l.localStorage.removeItem(r)}))}function cl(t,e,n){return n=al(e,n),"local"==e.F&&(t.b[n]=null),sl(t,e.F).U(n)}function ll(t){hl(t),t.c=setInterval((function(){for(var e in t.a){var n=l.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new dn({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Yb(n))}}),1e3)}function hl(t){t.c&&(clearInterval(t.c),t.c=null)}function fl(t){this.a=t,this.b=ol()}t=il.prototype,t.get=function(t,e){return sl(this,t.F).get(al(t,e))},t.set=function(t,e,n){var r=al(t,n),i=this,o=sl(this,t.F);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.F&&(i.b[r]=e)}))},t.addListener=function(t,e,n){t=al(t,e),this.l&&(this.b[t]=l.localStorage.getItem(t)),bt(this.a)&&(sl(this,"local").ca(this.f),this.h||(Ar()||!vi())&&l.indexedDB||!this.l||ll(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=al(t,e),this.a[t]&&(et(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),bt(this.a)&&(sl(this,"local").ia(this.f),hl(this))},t.Yb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];"undefined"===typeof r&&(r=null);var i=l.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.mb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if("undefined"!==typeof t.a.a?sl(this,"local").ia(this.f):hl(this),this.m)if(n=l.localStorage.getItem(e),r=t.a.newValue,r!==n)null!==r?l.localStorage.setItem(e,r):l.localStorage.removeItem(e);else if(this.b[e]===r&&"undefined"===typeof t.a.a)return;var o=this;n=function(){"undefined"===typeof t.a.a&&o.b[e]===l.localStorage.getItem(e)||(o.b[e]=l.localStorage.getItem(e),o.mb(e))},re&&ve&&10==ve&&l.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else W(t,E(this.mb,this))},t.mb=function(t){this.a[t]&&W(this.a[t],(function(t){t()}))};var pl,dl={name:"authEvent",F:"local"};function ml(t){return t.b.get(dl,t.a).then((function(t){return ws(t)}))}function vl(){this.a=ol()}function gl(){this.b=-1}function yl(t,e){this.b=bl,this.f=l.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=l.Int32Array?new Int32Array(64):Array(64),void 0===pl&&(pl=l.Int32Array?new Int32Array(xl):xl),this.reset()}S(yl,gl);for(var bl=64,wl=bl-1,kl=[],_l=0;_l<wl;_l++)kl[_l]=0;var Tl=nt(128,kl);function El(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){i=0|n[e-15],r=0|n[e-2];var o=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,s=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+s|0}r=0|t.a[0],i=0|t.a[1];var a=0|t.a[2],u=0|t.a[3],c=0|t.a[4],l=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&a^i&a)|0;s=c&l^~c&h,o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0,s=s+(0|pl[e])|0,s=o+(s+(0|n[e])|0)|0,o=h,h=l,l=c,c=u+s|0,u=a,a=i,i=r,r=s+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+a|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function Cl(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"===typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(El(t),i=0);else{if(!v(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(El(t),i=0)}}t.c=i,t.g+=n}yl.prototype.reset=function(){this.g=this.c=0,this.a=l.Int32Array?new Int32Array(this.h):rt(this.h)};var xl=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Sl(){yl.call(this,8,Il)}S(Sl,yl);var Il=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Al(t,e,n,r,i,o){this.v=t,this.i=e,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=e+":"+n,this.C=new vl,this.g=new fl(this.h),this.f=null,this.b=[],this.a=this.c=null}function Nl(t){return new A("invalid-cordova-configuration",t)}function Ol(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}function Dl(t){var e=new Sl;Cl(e,t),t=[];var n=8*e.g;56>e.c?Cl(e,Tl,56-e.c):Cl(e,Tl,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(El(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return go(t)}function Ml(t,e,n,r,i){var o=Ol(),s=new bs(e,r,null,o,new A("no-auth-event"),null,i),a=ti("BuildInfo.packageName",l);if("string"!==typeof a)throw new A("invalid-cordova-configuration");var u=ti("BuildInfo.displayName",l),c={};if(Zr().toLowerCase().match(/iphone|ipad|ipod/))c.ibi=a;else{if(!Zr().toLowerCase().match(/android/))return Ue(new A("operation-not-supported-in-this-environment"));c.apn=a}u&&(c.appDisplayName=u),o=Dl(o),c.sessionId=o;var h=dc(t.v,t.i,t.l,e,n,null,r,t.m,c,t.u,i,t.s);return t.ma().then((function(){var e=t.h;return t.C.a.set(dl,s.w(),e)})).then((function(){var e=ti("cordova.plugins.browsertab.isAvailable",l);if("function"!==typeof e)throw new A("invalid-cordova-configuration");var n=null;e((function(e){if(e){if(n=ti("cordova.plugins.browsertab.openUrl",l),"function"!==typeof n)throw new A("invalid-cordova-configuration");n(h)}else{if(n=ti("cordova.InAppBrowser.open",l),"function"!==typeof n)throw new A("invalid-cordova-configuration");e=Zr(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}function Rl(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(r){}}function Ll(t){return t.f||(t.f=t.ma().then((function(){return new Me((function(e){function n(r){return e(r),t.Sa(n),!1}t.Ea(n),Fl(t)}))}))),t.f}function Pl(t){var e=null;return ml(t.g).then((function(n){return e=n,n=t.g,cl(n.b,dl,n.a)})).then((function(){return e}))}function Fl(t){function e(e){r=!0,i&&i.cancel(),Pl(t).then((function(r){var i=n;if(r&&e&&e.url){var o=null;i=jo(e.url),-1!=i.indexOf("/__/auth/callback")&&(o=ir(i),o=ui(rr(o,"firebaseError")||null),o=(o="object"===typeof o?N(o):null)?new bs(r.c,r.b,null,null,o,null,r.T()):new bs(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}Rl(t,i)}))}var n=new bs("unknown",null,null,null,new A("no-auth-event")),r=!1,i=Hn(500).then((function(){return Pl(t).then((function(){r||Rl(t,n)}))})),o=l.handleOpenURL;l.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(ti("BuildInfo.packageName",l).toLowerCase()+"://")&&e({url:t}),"function"===typeof o)try{o(t)}catch(n){console.error(n)}},Ts||(Ts=new ks),Es(e)}function jl(t){this.a=t,this.b=ol()}t=Al.prototype,t.ma=function(){return this.Ia?this.Ia:this.Ia=Ur().then((function(){if("function"!==typeof ti("universalLinks.subscribe",l))throw Nl("cordova-universal-links-plugin-fix is not installed");if("undefined"===typeof ti("BuildInfo.packageName",l))throw Nl("cordova-plugin-buildinfo is not installed");if("function"!==typeof ti("cordova.plugins.browsertab.openUrl",l))throw Nl("cordova-plugin-browsertab is not installed");if("function"!==typeof ti("cordova.InAppBrowser.open",l))throw Nl("cordova-plugin-inappbrowser is not installed")}),(function(){throw new A("cordova-not-ready")}))},t.Ob=function(t,e){return e(new A("operation-not-supported-in-this-environment")),Ve()},t.Mb=function(){return Ue(new A("operation-not-supported-in-this-environment"))},t.$b=function(){return!1},t.Xb=function(){return!0},t.Tb=function(){return!0},t.Nb=function(t,e,n,r){if(this.c)return Ue(new A("redirect-operation-pending"));var i=this,o=l.document,s=null,a=null,u=null,c=null;return this.c=Ve().then((function(){return ys(e),Ll(i)})).then((function(){return Ml(i,t,e,n,r)})).then((function(){return new Me((function(t,e){a=function(){var e=ti("cordova.plugins.browsertab.close",l);return t(),"function"===typeof e&&e(),i.a&&"function"===typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(a),u=function(){s||(s=Hn(2e3).then((function(){e(new A("redirect-cancelled-by-user"))})))},c=function(){pi()&&u()},o.addEventListener("resume",u,!1),Zr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",c,!1)})).o((function(t){return Pl(i).then((function(){throw t}))}))})).oa((function(){u&&o.removeEventListener("resume",u,!1),c&&o.removeEventListener("visibilitychange",c,!1),s&&s.cancel(),a&&i.Sa(a),i.c=null}))},t.Ea=function(t){this.b.push(t),Ll(this).o((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new bs("unknown",null,null,null,new A("no-auth-event")),t(e))}))},t.Sa=function(t){et(this.b,(function(e){return e==t}))};var Bl={name:"pendingRedirect",F:"session"};function Vl(t){return t.b.set(Bl,"pending",t.a)}function Ul(t){return cl(t.b,Bl,t.a)}function ql(t){return t.b.get(Bl,t.a).then((function(t){return"pending"==t}))}function Hl(t,e,n,r){this.i={},this.u=0,this.D=t,this.v=e,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=E(this.s,this),this.b=new ih,this.C=new fh,this.g=new jl(nh(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=zl(this.D,this.v,this.m,O,this.J)}function zl(t,e,n,i,o){var s=r.Z.SDK_VERSION||null;return qr()?new Al(t,e,n,s,i,o):new lc(t,e,n,s,i,o)}function $l(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.ma().o((function(n){throw t.a==e&&t.reset(),n}))}function Gl(t){t.a.Xb()&&$l(t).o((function(e){var n=new bs("unknown",null,null,null,new A("operation-not-supported-in-this-environment"));Yl(e)&&t.s(n)})),t.a.Tb()||oh(t.b)}function Wl(t,e){Z(t.h,e)||t.h.push(e),t.f||ql(t.g).then((function(e){e?Ul(t.g).then((function(){$l(t).o((function(e){var n=new bs("unknown",null,null,null,new A("operation-not-supported-in-this-environment"));Yl(e)&&t.s(n)}))})):Gl(t)})).o((function(){Gl(t)}))}function Kl(t,e){et(t.h,(function(t){return t==e}))}Hl.prototype.reset=function(){this.f=!1,this.a.Sa(this.l),this.a=zl(this.D,this.v,this.m,null,this.J),this.i={}},Hl.prototype.s=function(t){if(!t)throw new A("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Fb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=Date.now())),e=!0;break}}return oh(this.b),e};var Jl=new fi(2e3,1e4),Xl=new fi(3e4,6e4);function Ql(t,e,n,r,i,o,s){return t.a.Mb(e,n,r,(function(){t.f||(t.f=!0,t.a.Ea(t.l))}),(function(){t.reset()}),i,o,s)}function Yl(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Zl(t,e,n,r,i){var o;return Vl(t.g).then((function(){return t.a.Nb(e,n,r,i).o((function(e){if(Yl(e))throw new A("operation-not-supported-in-this-environment");return o=e,Ul(t.g).then((function(){throw o}))})).then((function(){return t.a.$b()?new Me((function(){})):Ul(t.g).then((function(){return t.qa()})).then((function(){})).o((function(){}))}))}))}function th(t,e,n,r,i){return t.a.Ob(r,(function(t){e.na(n,null,t,i)}),Jl.get())}Hl.prototype.qa=function(){return this.b.qa()};var eh={};function nh(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function rh(t,e,n,r){var i=nh(e,n,r);return eh[i]||(eh[i]=new Hl(t,e,n,r)),eh[i]}function ih(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function oh(t){t.g||(t.g=!0,lh(t,!1,null,null))}function sh(t){t.g&&!t.i&&lh(t,!1,null,null)}function ah(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.i,s=e.T(),a=!!e.c.match(/Redirect$/);n(r,i,s,o).then((function(e){lh(t,a,e,null)})).o((function(e){lh(t,a,null,e)}))}function uh(t,e){if(t.b=function(){return Ue(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}function ch(t,e){if(t.b=function(){return Ve(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function lh(t,e,n,r){e?r?uh(t,r):ch(t,n):ch(t,{user:null}),t.f=[],t.c=[]}function hh(t){var e=new A("timeout");t.a&&t.a.cancel(),t.a=Hn(Xl.get()).then((function(){t.b||(t.g=!0,lh(t,!0,null,e))}))}function fh(){}function ph(t,e){var n=t.b,r=t.c;e.Fa(r,n)(t.g,t.f,t.T(),t.i).then((function(t){e.na(r,t,null,n)})).o((function(t){e.na(r,null,t,n)}))}function dh(){this.ib=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.ib},set:function(t){this.ib=t},enumerable:!1})}function mh(t,e){this.a=e,Ti(this,"verificationId",t)}function vh(t,e,n,r){return new ms(t).fb(e,n).then((function(t){return new mh(t,r)}))}function gh(t){var e=Eo(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new A("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Ei(this,{token:t,expirationTime:mi(1e3*e.exp),authTime:mi(1e3*e.auth_time),issuedAtTime:mi(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function yh(t,e,n){var r=e&&e[wh];if(!r)throw new A("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=wt(e),this.g=n,this.c=new Bo(null,r),this.b=[];var i=this;W(e[bh]||[],(function(t){(t=Ni(t))&&i.b.push(t)})),Ti(this,"auth",this.a),Ti(this,"session",this.c),Ti(this,"hints",this.b)}ih.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},ih.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(lh(this,!0,null,t.a),Ve()):e.Fa(n,r)?ah(this,t,e):Ue(new A("invalid-auth-event")):(lh(this,!1,null,null),Ve())}else Ue(new A("invalid-auth-event"))},ih.prototype.qa=function(){var t=this;return new Me((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),hh(t))}))},fh.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.na(t.c,null,t.a,t.b),Ve()):e.Fa(n,r)?ph(t,e):Ue(new A("invalid-auth-event"))}else Ue(new A("invalid-auth-event"))},mh.prototype.confirm=function(t){return t=vs(this.verificationId,t),this.a(t)};var bh="mfaInfo",wh="mfaPendingCredential";function kh(t,e,n,r){A.call(this,"multi-factor-auth-required",r,e),this.b=new yh(t,e,n),Ti(this,"resolver",this.b)}function _h(t,e,n){if(t&&y(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new kh(e,t.serverResponse,n,t.message)}catch(r){}return null}function Th(){}function Eh(t,e,n,r){return n.Ha().then((function(n){return n={idToken:n},"undefined"!==typeof r&&(n.displayName=r),_t(n,{phoneVerificationInfo:ds(t.a)}),Ju(e,Eu,n)}))}function Ch(t,e,n){return n.Ha().then((function(n){return n={mfaPendingCredential:n},_t(n,{phoneVerificationInfo:ds(t.a)}),Ju(e,Cu,n)}))}function xh(t){Ti(this,"factorId",t.fa),this.a=t}function Sh(t){if(xh.call(this,t),this.a.fa!=ms.PROVIDER_ID)throw new A("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function Ih(t,e){for(var n in pn.call(this,t),e)this[n]=e[n]}function Ah(t,e){this.a=t,this.b=[],this.c=E(this.yc,this),Cn(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&W(e.multiFactor.enrolledFactors,(function(t){var e=null,r={};if(t){t.uid&&(r[Mi]=t.uid),t.displayName&&(r[Oi]=t.displayName),t.enrollmentTime&&(r[Di]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[Ri]=t.phoneNumber);try{e=new Li(r)}catch(i){}t=e}else t=null;t&&n.push(t)})),Oh(this,n)}function Nh(t){var e=[];return W(t.mfaInfo||[],(function(t){(t=Ni(t))&&e.push(t)})),e}function Oh(t,e){t.b=e,Ti(t,"enrolledFactors",e)}function Dh(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function Mh(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}function Rh(t,e){t.stop(),t.b=Hn(Mh(t,e)).then((function(){return di()})).then((function(){return t.h()})).then((function(){Rh(t,!0)})).o((function(e){t.i(e)&&Rh(t,!1)}))}function Lh(t){this.f=t,this.b=this.a=null,this.c=Date.now()}function Ph(t,e){"undefined"===typeof e&&(t.b?(e=t.b,e=e.a-e.g):e=0),t.c=Date.now()+1e3*e}function Fh(t,e){t.b=To(e[Pa]||""),t.a=e.refreshToken,e=e.expiresIn,Ph(t,"undefined"!==typeof e?Number(e):void 0)}function jh(t,e){t.b=e.b,t.a=e.a,t.c=e.c}function Bh(t,e){return Ja(t.f,e).then((function(e){return t.b=To(e.access_token),t.a=e.refresh_token,Ph(t,e.expires_in),{accessToken:t.b.toString(),refreshToken:t.a}})).o((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}function Vh(t,e){this.a=t||null,this.b=e||null,Ei(this,{lastSignInTime:mi(e||null),creationTime:mi(t||null)})}function Uh(t){return new Vh(t.a,t.b)}function qh(t,e,n,r,i,o){Ei(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function Hh(t,e,n){this.J=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null;var i=r.Z.SDK_VERSION?Yr(r.Z.SDK_VERSION):null;this.a=new Ra(this.l,L(O),i),t.emulatorConfig&&qa(this.a,t.emulatorConfig),this.b=new Lh(this.a),Yh(this,e[Pa]),Fh(this.b,e),Ti(this,"refreshToken",this.b.a),nf(this,n||{}),jn.call(this),this.R=!1,this.s&&ni()&&(this.i=rh(this.s,this.l,this.m)),this.S=[],this.h=null,this.u=Jh(this),this.aa=E(this.hb,this);var o=this;this.ya=null,this.Oa=function(t){o.wa(t.h)},this.ja=null,this.Aa=function(t){qa(o.a,t.c)},this.X=null,this.$=[],this.Ba=function(t){Gh(o,t.f)},this.ba=null,this.O=new Ah(this,n),Ti(this,"multiFactor",this.O)}function zh(t,e){t.ja&&An(t.ja,"languageCodeChanged",t.Oa),(t.ja=e)&&Cn(e,"languageCodeChanged",t.Oa)}function $h(t,e){t.X&&An(t.X,"emulatorConfigChanged",t.Aa),(t.X=e)&&Cn(e,"emulatorConfigChanged",t.Aa)}function Gh(t,e){t.$=e,za(t.a,r.Z.SDK_VERSION?Yr(r.Z.SDK_VERSION,t.$):null)}function Wh(t,e){t.ba&&An(t.ba,"frameworkChanged",t.Ba),(t.ba=e)&&Cn(e,"frameworkChanged",t.Ba)}function Kh(t){try{return r.Z.app(t.m).auth()}catch(e){throw new A("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function Jh(t){return new Dh((function(){return t.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=t.b.c-Date.now()-3e5;return 0<e?e:0}))}function Xh(t){t.D||t.u.b||(t.u.start(),An(t,"tokenChanged",t.aa),Cn(t,"tokenChanged",t.aa))}function Qh(t){An(t,"tokenChanged",t.aa),t.u.stop()}function Yh(t,e){t.za=e,Ti(t,"_lat",e)}function Zh(t,e){et(t.S,(function(t){return t==e}))}function tf(t){for(var e=[],n=0;n<t.S.length;n++)e.push(t.S[n](t));return ze(e).then((function(){return t}))}function ef(t){t.i&&!t.R&&(t.R=!0,Wl(t.i,t))}function nf(t,e){Ei(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new Vh(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function rf(){}function of(t){return Ve().then((function(){if(t.D)throw new A("app-deleted")}))}function sf(t){return X(t.providerData,(function(t){return t.providerId}))}function af(t,e){e&&(uf(t,e.providerId),t.providerData.push(e))}function uf(t,e){et(t.providerData,(function(t){return t.providerId==e}))}function cf(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Ti(t,e,n)}function lf(t,e){t!=e&&(Ei(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),e.metadata?Ti(t,"metadata",Uh(e.metadata)):Ti(t,"metadata",new Vh),W(e.providerData,(function(e){af(t,e)})),jh(t.b,e.b),Ti(t,"refreshToken",t.b.a),Oh(t.O,e.O.b))}function hf(t){return t.I().then((function(e){var n=t.isAnonymous;return pf(t,e).then((function(){return n||cf(t,"isAnonymous",!1),e}))}))}function ff(t,e){e[Pa]&&t.za!=e[Pa]&&(Fh(t.b,e),t.dispatchEvent(new Ih("tokenChanged")),Yh(t,e[Pa]),cf(t,"refreshToken",t.b.a))}function pf(t,e){return Ju(t.a,xu,{idToken:e}).then(E(t.Kc,t))}function df(t){return(t=t.providerUserInfo)&&t.length?X(t,(function(t){return new qh(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}function mf(t,e){return hf(t).then((function(){if(Z(sf(t),e))return tf(t).then((function(){throw new A("provider-already-linked")}))}))}function vf(t,e,n){var r=gs(e);return e=Ao(e),Ci({user:t,credential:r,additionalUserInfo:e,operationType:n})}function gf(t,e){return ff(t,e),t.reload().then((function(){return t}))}function yf(t,e,n,i,o){if(!ni())return Ue(new A("operation-not-supported-in-this-environment"));if(t.h&&!o)return Ue(t.h);var s=Io(n.providerId),a=ci(t.uid+":::"),u=null;(!oi()||Hr())&&t.s&&n.isOAuthProvider&&(u=dc(t.s,t.l,t.m,e,n,null,a,r.Z.SDK_VERSION||null,null,null,t.tenantId));var c=Pr(u,s&&s.ua,s&&s.ta);return i=i().then((function(){if(wf(t),!o)return t.I().then((function(){}))})).then((function(){return Ql(t.i,c,e,n,a,!!u,t.tenantId)})).then((function(){return new Me((function(n,r){t.na(e,null,new A("cancelled-popup-request"),t.g||null),t.f=n,t.C=r,t.g=a,t.c=th(t.i,t,e,c,a)}))})).then((function(t){return c&&Lr(c),t?Ci(t):null})).o((function(t){throw c&&Lr(c),t})),kf(t,i,o)}function bf(t,e,n,r,i){if(!ni())return Ue(new A("operation-not-supported-in-this-environment"));if(t.h&&!i)return Ue(t.h);var o=null,s=ci(t.uid+":::");return r=r().then((function(){if(wf(t),!i)return t.I().then((function(){}))})).then((function(){return t.ga=s,tf(t)})).then((function(e){return t.ha&&(e=t.ha,e=e.b.set(Sf,t.w(),e.a)),e})).then((function(){return Zl(t.i,e,n,s,t.tenantId)})).o((function(e){if(o=e,t.ha)return If(t.ha);throw o})).then((function(){if(o)throw o})),kf(t,r,i)}function wf(t){if(!t.i||!t.R){if(t.i&&!t.R)throw new A("internal-error");throw new A("auth-domain-config-required")}}function kf(t,e,n){var r=_f(t,e,n);return t.J.push(r),r.oa((function(){tt(t.J,r)})),r.o((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=_h(e.w(),Kh(t),E(t.jc,t))),n||e}))}function _f(t,e,n){return t.h&&!n?(e.cancel(),Ue(t.h)):e.o((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.h||t.dispatchEvent(new Ih("userInvalidated")),t.h=e),e}))}function Tf(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Pa]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=t.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new Hh(e,n,t);return t.providerData&&W(t.providerData,(function(t){t&&af(i,Ci(t))})),t.redirectEventId&&(i.ga=t.redirectEventId),i}function Ef(t,e,n,r){var i=new Hh(t,e);return n&&(i.ha=n),r&&Gh(i,r),i.reload().then((function(){return i}))}function Cf(t,e,n,r){var i=t.b,o={};return o[Pa]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new Hh(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ha=n),r&&Gh(e,r),lf(e,t),e}function xf(t){this.a=t,this.b=ol()}yh.prototype.Rc=function(t){var e=this;return t.sb(this.a.a,this.c).then((function(t){var n=wt(e.f);return delete n[bh],delete n[wh],_t(n,t),e.g(n)}))},S(kh,A),Th.prototype.sb=function(t,e,n){return e.type==Vo?Eh(this,t,e,n):Ch(this,t,e)},S(xh,Th),S(Sh,xh),S(Ih,pn),t=Ah.prototype,t.yc=function(t){Oh(this,Nh(t.hd))},t.Rb=function(){return this.a.I().then((function(t){return new Bo(t,null)}))},t.fc=function(t,e){var n=this,r=this.a.a;return this.Rb().then((function(n){return t.sb(r,n,e)})).then((function(t){return ff(n.a,t),n.a.reload()}))},t.bd=function(t){var e=this,n="string"===typeof t?t:t.uid,r=this.a.a;return this.a.I().then((function(t){return Ju(r,Ku,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var r=J(e.b,(function(t){return t.uid!=n}));return Oh(e,r),ff(e.a,t),e.a.reload().o((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},t.w=function(){return{multiFactor:{enrolledFactors:X(this.b,(function(t){return t.w()}))}}},Dh.prototype.start=function(){this.a=this.c,Rh(this,!0)},Dh.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},Lh.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},Lh.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Ue(new A("user-token-expired")):t||!this.b||Date.now()>this.c-3e4?this.a?Bh(this,{grant_type:"refresh_token",refresh_token:this.a}):Ve(null):Ve({accessToken:this.b.toString(),refreshToken:this.a})},Vh.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},S(Hh,jn),Hh.prototype.wa=function(t){this.ya=t,Ua(this.a,t)},Hh.prototype.la=function(){return this.ya},Hh.prototype.Ga=function(){return rt(this.$)},Hh.prototype.hb=function(){this.u.b&&(this.u.stop(),this.u.start())},Ti(Hh.prototype,"providerId","firebase"),t=Hh.prototype,t.reload=function(){var t=this;return kf(this,of(this).then((function(){return hf(t).then((function(){return tf(t)})).then(rf)})))},t.oc=function(t){return this.I(t).then((function(t){return new gh(t)}))},t.I=function(t){var e=this;return kf(this,of(this).then((function(){return e.b.getToken(t)})).then((function(t){if(!t)throw new A("internal-error");return t.accessToken!=e.za&&(Yh(e,t.accessToken),e.dispatchEvent(new Ih("tokenChanged"))),cf(e,"refreshToken",t.refreshToken),t.accessToken})))},t.Kc=function(t){if(t=t.users,!t||!t.length)throw new A("internal-error");t=t[0],nf(this,{uid:t.localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=df(t),n=0;n<e.length;n++)af(this,e[n]);cf(this,"isAnonymous",!(this.email&&t.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new Ih("userReloaded",{hd:t}))},t.Lc=function(t){return ki("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.tb(t)},t.tb=function(t){var e=this,n=null;return kf(this,t.c(this.a,this.uid).then((function(t){return ff(e,t),n=vf(e,t,"reauthenticate"),e.h=null,e.reload()})).then((function(){return n})),!0)},t.Cc=function(t){return ki("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.qb(t)},t.qb=function(t){var e=this,n=null;return kf(this,mf(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=vf(e,t,"link"),gf(e,t)})).then((function(){return n})))},t.Dc=function(t,e){var n=this;return kf(this,mf(this,"phone").then((function(){return vh(Kh(n),t,e,E(n.qb,n))})))},t.Mc=function(t,e){var n=this;return kf(this,Ve().then((function(){return vh(Kh(n),t,e,E(n.tb,n))})),!0)},t.Bb=function(t){var e=this;return kf(this,this.I().then((function(n){return e.a.Bb(n,t)})).then((function(t){return ff(e,t),e.reload()})))},t.ed=function(t){var e=this;return kf(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return ff(e,t),e.reload()})))},t.Cb=function(t){var e=this;return kf(this,this.I().then((function(n){return e.a.Cb(n,t)})).then((function(t){return ff(e,t),e.reload()})))},t.Db=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return of(this);var e=this;return kf(this,this.I().then((function(n){return e.a.Db(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return ff(e,t),cf(e,"displayName",t.displayName||null),cf(e,"photoURL",t.photoUrl||null),W(e.providerData,(function(t){"password"===t.providerId&&(Ti(t,"displayName",e.displayName),Ti(t,"photoURL",e.photoURL))})),tf(e)})).then(rf))},t.cd=function(t){var e=this;return kf(this,hf(this).then((function(n){return Z(sf(e),t)?uu(e.a,n,[t]).then((function(t){var n={};return W(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),W(sf(e),(function(t){n[t]||uf(e,t)})),n[ms.PROVIDER_ID]||Ti(e,"phoneNumber",null),tf(e)})):tf(e).then((function(){throw new A("no-such-provider")}))})))},t.delete=function(){var t=this;return kf(this,this.I().then((function(e){return Ju(t.a,wu,{idToken:e})})).then((function(){t.dispatchEvent(new Ih("userDeleted"))}))).then((function(){for(var e=0;e<t.J.length;e++)t.J[e].cancel("app-deleted");zh(t,null),$h(t,null),Wh(t,null),t.J=[],t.D=!0,Qh(t),Ti(t,"refreshToken",null),t.i&&Kl(t.i,t)}))},t.Fb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},t.na=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?E(this.Kb,this):"reauthViaPopup"==t&&e==(this.g||null)?E(this.Lb,this):"linkViaRedirect"==t&&(this.ga||null)==e?E(this.Kb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?E(this.Lb,this):null},t.Ec=function(t){var e=this;return yf(this,"linkViaPopup",t,(function(){return mf(e,t.providerId).then((function(){return tf(e)}))}),!1)},t.Nc=function(t){return yf(this,"reauthViaPopup",t,(function(){return Ve()}),!0)},t.Fc=function(t){var e=this;return bf(this,"linkViaRedirect",t,(function(){return mf(e,t.providerId)}),!1)},t.Oc=function(t){return bf(this,"reauthViaRedirect",t,(function(){return Ve()}),!0)},t.Kb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return n=this.I().then((function(n){return pu(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=vf(i,t,"link"),gf(i,t)})).then((function(){return o})),kf(this,n)},t.Lb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null,s=Ve().then((function(){return Ho(du(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=vf(i,t,"reauthenticate"),ff(i,t),i.h=null,i.reload()})).then((function(){return o}));return kf(this,s,!0)},t.ub=function(t){var e=this,n=null;return kf(this,this.I().then((function(e){return n=e,"undefined"===typeof t||bt(t)?{}:vo(new oo(t))})).then((function(t){return e.a.ub(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},t.Eb=function(t,e){var n=this,r=null;return kf(this,this.I().then((function(t){return r=t,"undefined"===typeof e||bt(e)?{}:vo(new oo(e))})).then((function(e){return n.a.Eb(r,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},t.jc=function(t){var e=null,n=this;return t=Ho(Ve(t),n.uid).then((function(t){return e=vf(n,t,"reauthenticate"),ff(n,t),n.h=null,n.reload()})).then((function(){return e})),kf(this,t,!0)},t.toJSON=function(){return this.w()},t.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&_t(t,this.metadata.w()),W(this.providerData,(function(e){t.providerData.push(xi(e))})),_t(t,this.O.w()),t};var Sf={name:"redirectUser",F:"session"};function If(t){return cl(t.b,Sf,t.a)}function Af(t,e){return t.b.get(Sf,t.a).then((function(t){return t&&e&&(t.authDomain=e),Tf(t||{})}))}function Nf(t){this.a=t,this.b=ol(),this.c=null,this.f=Df(this),this.b.addListener(Rf("local"),this.a,E(this.g,this))}function Of(t,e){var n,r=[];for(n in nl)nl[n]!==e&&r.push(cl(t.b,Rf(nl[n]),t.a));return r.push(cl(t.b,Mf,t.a)),He(r)}function Df(t){var e=Rf("local"),n=Rf("session"),r=Rf("none");return ul(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(i){return i?n:t.b.get(r,t.a).then((function(n){return n?r:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(Mf,t.a).then((function(t){return t?Rf(t):e}))}))}))})).then((function(e){return t.c=e,Of(t,e.F)})).o((function(){t.c||(t.c=e)}))}Nf.prototype.g=function(){var t=this,e=Rf("local");Bf(this,(function(){return Ve().then((function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null})).then((function(n){if(n)return Of(t,"local").then((function(){t.c=e}))}))}))};var Mf={name:"persistence",F:"session"};function Rf(t){return{name:"authUser",F:t}}function Lf(t){return Bf(t,(function(){return t.b.set(Mf,t.c.F,t.a)}))}function Pf(t,e){return Bf(t,(function(){return t.b.set(t.c,e.w(),t.a)}))}function Ff(t){return Bf(t,(function(){return cl(t.b,t.c,t.a)}))}function jf(t,e,n){return Bf(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),Tf(t||{})}))}))}function Bf(t,e){return t.f=t.f.then(e,e),t.f}function Vf(t){if(this.l=!1,Ti(this,"settings",new dh),Ti(this,"app",t),!ep(this).options||!ep(this).options.apiKey)throw new A("invalid-api-key");t=r.Z.SDK_VERSION?Yr(r.Z.SDK_VERSION):null,this.a=new Ra(ep(this).options&&ep(this).options.apiKey,L(O),t),this.R=[],this.s=[],this.O=[],this.hb=r.Z.INTERNAL.createSubscribe(E(this.zc,this)),this.X=void 0,this.bc=r.Z.INTERNAL.createSubscribe(E(this.Ac,this)),Xf(this,null),this.i=new Nf(ep(this).options.apiKey+":"+ep(this).name),this.D=new xf(ep(this).options.apiKey+":"+ep(this).name),this.$=sp(this,Yf(this)),this.h=sp(this,Zf(this)),this.ba=!1,this.ja=E(this.Zc,this),this.Ba=E(this.da,this),this.ya=E(this.mc,this),this.za=E(this.wc,this),this.Aa=E(this.xc,this),this.b=null,Wf(this),this.INTERNAL={},this.INTERNAL["delete"]=E(this.delete,this),this.INTERNAL.logFramework=E(this.Gc,this),this.u=0,jn.call(this),$f(this),this.J=[],this.P=null}function Uf(t){pn.call(this,"languageCodeChanged"),this.h=t}function qf(t){pn.call(this,"emulatorConfigChanged"),this.c=t}function Hf(t){pn.call(this,"frameworkChanged"),this.f=t}function zf(t){"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),l.document&&!t&&Vr().then((function(){var t=l.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#b50000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),l.document.body.appendChild(t)}))}function $f(t){Object.defineProperty(t,"lc",{get:function(){return this.la()},set:function(t){this.wa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.T()},set:function(t){this.yb(t)},enumerable:!1}),t.S=null,Object.defineProperty(t,"emulatorConfig",{get:function(){if(this.P){var t=ir(this.P.url);t=Ci({protocol:t.c,host:t.a,port:t.g,options:Ci({disableWarnings:this.P.ec})})}else t=null;return t},enumerable:!1})}function Gf(t){return t.Oa||Ue(new A("auth-domain-config-required"))}function Wf(t){var e=ep(t).options.authDomain,n=ep(t).options.apiKey;e&&ni()&&(t.Oa=t.$.then((function(){if(!t.l){if(t.b=rh(e,n,ep(t).name,t.P),Wl(t.b,t),np(t)&&ef(np(t)),t.m){ef(t.m);var r=t.m;r.wa(t.la()),zh(r,t),r=t.m,Gh(r,t.J),Wh(r,t),r=t.m,qa(r.a,t.P),$h(r,t),t.m=null}return t.b}})))}function Kf(t){if(!ni())return Ue(new A("operation-not-supported-in-this-environment"));var e=Gf(t).then((function(){return t.b.qa()})).then((function(t){return t?Ci(t):null}));return sp(t,e)}function Jf(t,e){var n={};return n.apiKey=ep(t).options.apiKey,n.authDomain=ep(t).options.authDomain,n.appName=ep(t).name,t.P&&(n.emulatorConfig=t.P),t.$.then((function(){return Ef(n,e,t.D,t.Ga())})).then((function(e){return np(t)&&e.uid==np(t).uid?(lf(np(t),e),t.da(e)):(Xf(t,e),ef(e),t.da(e))})).then((function(){ip(t)}))}function Xf(t,e){np(t)&&(Zh(np(t),t.Ba),An(np(t),"tokenChanged",t.ya),An(np(t),"userDeleted",t.za),An(np(t),"userInvalidated",t.Aa),Qh(np(t))),e&&(e.S.push(t.Ba),Cn(e,"tokenChanged",t.ya),Cn(e,"userDeleted",t.za),Cn(e,"userInvalidated",t.Aa),0<t.u&&Xh(e)),Ti(t,"currentUser",e),e&&(e.wa(t.la()),zh(e,t),Gh(e,t.J),Wh(e,t),qa(e.a,t.P),$h(e,t))}function Qf(t){var e=Af(t.D,ep(t).options.authDomain).then((function(e){return(t.m=e)&&(e.ha=t.D),If(t.D)}));return sp(t,e)}function Yf(t){var e=ep(t).options.authDomain,n=Qf(t).then((function(){return jf(t.i,e,t.P)})).then((function(e){return e?(e.ha=t.D,t.m&&(t.m.ga||null)==(e.ga||null)?e:e.reload().then((function(){return Pf(t.i,e).then((function(){return e}))})).o((function(n){return"auth/network-request-failed"==n.code?e:Ff(t.i)}))):null})).then((function(e){Xf(t,e||null)}));return sp(t,n)}function Zf(t){return t.$.then((function(){return Kf(t)})).o((function(){})).then((function(){if(!t.l)return t.ja()})).o((function(){})).then((function(){if(!t.l){t.ba=!0;var e=t.i;e.b.addListener(Rf("local"),e.a,t.ja)}}))}function tp(t,e){var n=null,r=null;return sp(t,e.then((function(e){return n=gs(e),r=Ao(e),Jf(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=_h(e.w(),t,E(t.kc,t))),n||e})).then((function(){return Ci({user:np(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function ep(t){return t.app}function np(t){return t.currentUser}function rp(t){return np(t)&&np(t)._lat||null}function ip(t){if(t.ba){for(var e=0;e<t.s.length;e++)t.s[e]&&t.s[e](rp(t));if(t.X!==t.getUid()&&t.O.length)for(t.X=t.getUid(),e=0;e<t.O.length;e++)t.O[e]&&t.O[e](rp(t))}}function op(t,e){t.O.push(e),sp(t,t.h.then((function(){!t.l&&Z(t.O,e)&&t.X!==t.getUid()&&(t.X=t.getUid(),e(rp(t)))})))}function sp(t,e){return t.R.push(e),e.oa((function(){tt(t.R,e)})),e}function ap(){}function up(){this.a={},this.b=1e12}Nf.prototype.xb=function(t){var e=null,n=this;return rl(t),Bf(this,(function(){return t!=n.c.F?n.b.get(n.c,n.a).then((function(r){return e=r,Of(n,t)})).then((function(){if(n.c=Rf(t),e)return n.b.set(n.c,e,n.a)})):Ve()}))},S(Vf,jn),S(Uf,pn),S(qf,pn),S(Hf,pn),t=Vf.prototype,t.xb=function(t){return t=this.i.xb(t),sp(this,t)},t.wa=function(t){this.aa===t||this.l||(this.aa=t,Ua(this.a,this.aa),this.dispatchEvent(new Uf(this.la())))},t.la=function(){return this.aa},t.fd=function(){var t=l.navigator;this.wa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.gd=function(t,e){if(!this.P){if(!/^https?:\/\//.test(t))throw new A("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");e=!!e&&!!e.disableWarnings,zf(e),this.P={url:t,ec:e},this.settings.ib=!0,qa(this.a,this.P),this.dispatchEvent(new qf(this.P))}},t.Gc=function(t){this.J.push(t),za(this.a,r.Z.SDK_VERSION?Yr(r.Z.SDK_VERSION,this.J):null),this.dispatchEvent(new Hf(this.J))},t.Ga=function(){return rt(this.J)},t.yb=function(t){this.S===t||this.l||(this.S=t,this.a.b=this.S)},t.T=function(){return this.S},t.toJSON=function(){return{apiKey:ep(this).options.apiKey,authDomain:ep(this).options.authDomain,appName:ep(this).name,currentUser:np(this)&&np(this).w()}},t.Fb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.na=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?E(this.ic,this):null},t.ic=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return tp(i,fu(i.a,o))}))},t.Xc=function(t){if(!ni())return Ue(new A("operation-not-supported-in-this-environment"));var e=this,n=Io(t.providerId),i=ci(),o=null;(!oi()||Hr())&&ep(this).options.authDomain&&t.isOAuthProvider&&(o=dc(ep(this).options.authDomain,ep(this).options.apiKey,ep(this).name,"signInViaPopup",t,null,i,r.Z.SDK_VERSION||null,null,null,this.T(),this.P));var s=Pr(o,n&&n.ua,n&&n.ta);return n=Gf(this).then((function(n){return Ql(n,s,"signInViaPopup",t,i,!!o,e.T())})).then((function(){return new Me((function(t,n){e.na("signInViaPopup",null,new A("cancelled-popup-request"),e.g),e.f=t,e.C=n,e.g=i,e.c=th(e.b,e,"signInViaPopup",s,i)}))})).then((function(t){return s&&Lr(s),t?Ci(t):null})).o((function(t){throw s&&Lr(s),t})),sp(this,n)},t.Yc=function(t){if(!ni())return Ue(new A("operation-not-supported-in-this-environment"));var e=this,n=Gf(this).then((function(){return Lf(e.i)})).then((function(){return Zl(e.b,"signInViaRedirect",t,void 0,e.T())}));return sp(this,n)},t.qa=function(){var t=this;return Kf(this).then((function(e){return t.b&&sh(t.b.b),e})).o((function(e){throw t.b&&sh(t.b.b),e}))},t.dd=function(t){if(!t)return Ue(new A("null-user"));if(this.S!=t.tenantId)return Ue(new A("tenant-id-mismatch"));var e=this,n={};n.apiKey=ep(this).options.apiKey,n.authDomain=ep(this).options.authDomain,n.appName=ep(this).name;var r=Cf(t,n,e.D,e.Ga());return sp(this,this.h.then((function(){if(ep(e).options.apiKey!=t.l)return r.reload()})).then((function(){return np(e)&&t.uid==np(e).uid?(lf(np(e),t),e.da(t)):(Xf(e,r),ef(r),e.da(r))})).then((function(){ip(e)})))},t.Ab=function(){var t=this,e=this.h.then((function(){return t.b&&sh(t.b.b),np(t)?(Xf(t,null),Ff(t.i).then((function(){ip(t)}))):Ve()}));return sp(this,e)},t.Zc=function(){var t=this;return jf(this.i,ep(this).options.authDomain).then((function(e){if(!t.l){var n;if(n=np(t)&&e){n=np(t).uid;var r=e.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==r&&null!==r&&""!==r&&n==r}if(n)return lf(np(t),e),np(t).I();(np(t)||e)&&(Xf(t,e),e&&(ef(e),e.ha=t.D),t.b&&Wl(t.b,t),ip(t))}}))},t.da=function(t){return Pf(this.i,t)},t.mc=function(){ip(this),this.da(np(this))},t.wc=function(){this.Ab()},t.xc=function(){this.Ab()},t.kc=function(t){var e=this;return this.h.then((function(){return tp(e,Ve(t))}))},t.zc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(np(e))}))},t.Ac=function(t){var e=this;op(this,(function(){t.next(np(e))}))},t.Ic=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"===typeof t?t(np(r)):"function"===typeof t.next&&t.next(np(r))})),this.hb(t,e,n)},t.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.X=r.getUid(),"function"===typeof t?t(np(r)):"function"===typeof t.next&&t.next(np(r))})),this.bc(t,e,n)},t.nc=function(t){var e=this,n=this.h.then((function(){return np(e)?np(e).I(t).then((function(t){return{accessToken:t}})):null}));return sp(this,n)},t.Tc=function(t){var e=this;return this.h.then((function(){return tp(e,Ju(e.a,Hu,{token:t}))})).then((function(t){var n=t.user;return cf(n,"isAnonymous",!1),e.da(n),t}))},t.Uc=function(t,e){var n=this;return this.h.then((function(){return tp(n,Ju(n.a,zu,{email:t,password:e}))}))},t.dc=function(t,e){var n=this;return this.h.then((function(){return tp(n,Ju(n.a,yu,{email:t,password:e}))}))},t.$a=function(t){var e=this;return this.h.then((function(){return tp(e,t.ka(e.a))}))},t.Sc=function(t){return ki("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.$a(t)},t.zb=function(){var t=this;return this.h.then((function(){var e=np(t);if(e&&e.isAnonymous){var n=Ci({providerId:null,isNewUser:!1});return Ci({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return tp(t,t.a.zb()).then((function(e){var n=e.user;return cf(n,"isAnonymous",!0),t.da(n),e}))}))},t.getUid=function(){return np(this)&&np(this).uid||null},t.cc=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&np(this)&&Xh(np(this))},t.Pc=function(t){var e=this;W(this.s,(function(n){n==t&&e.u--})),0>this.u&&(this.u=0),0==this.u&&np(this)&&Qh(np(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.s.push(t),sp(this,this.h.then((function(){e.l||Z(e.s,t)&&t(rp(e))})))},t.removeAuthTokenListener=function(t){et(this.s,(function(e){return e==t}))},t.delete=function(){this.l=!0;for(var t=0;t<this.R.length;t++)this.R[t].cancel("app-deleted");return this.R=[],this.i&&(t=this.i,t.b.removeListener(Rf("local"),t.a,this.ja)),this.b&&(Kl(this.b,this),sh(this.b.b)),Promise.resolve()},t.hc=function(t){return sp(this,Za(this.a,t))},t.Bc=function(t){return!!hs(t)},t.wb=function(t,e){var n=this;return sp(this,Ve().then((function(){var t=new oo(e);if(!t.c)throw new A("argument-error",uo+" must be true when sending sign in link to email");return vo(t)})).then((function(e){return n.a.wb(t,e)})).then((function(){})))},t.jd=function(t){return this.Ra(t).then((function(t){return t.data.email}))},t.nb=function(t,e){return sp(this,this.a.nb(t,e).then((function(){})))},t.Ra=function(t){return sp(this,this.a.Ra(t).then((function(t){return new Pi(t)})))},t.jb=function(t){return sp(this,this.a.jb(t).then((function(){})))},t.vb=function(t,e){var n=this;return sp(this,Ve().then((function(){return"undefined"===typeof e||bt(e)?{}:vo(new oo(e))})).then((function(e){return n.a.vb(t,e)})).then((function(){})))},t.Wc=function(t,e){return sp(this,vh(this,t,e,E(this.$a,this)))},t.Vc=function(t,e){var n=this;return sp(this,Ve().then((function(){var r=e||Nr(),i=ls(t,r);if(r=hs(r),!r)throw new A("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new A("tenant-id-mismatch");return n.$a(i)})))},ap.prototype.render=function(){},ap.prototype.reset=function(){},ap.prototype.getResponse=function(){},ap.prototype.execute=function(){};var cp=null;function lp(t,e){return(e=hp(e))&&t.a[e]||null}function hp(t){return(t="undefined"===typeof t?1e12:t)?t.toString():null}function fp(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ye(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():Cn(this.f,"click",this.i)}function pp(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function dp(){}function mp(){}up.prototype.render=function(t,e){return this.a[this.b.toString()]=new fp(t,e),this.b++},up.prototype.reset=function(t){var e=lp(this,t);t=hp(t),e&&t&&(e.delete(),delete this.a[t])},up.prototype.getResponse=function(t){return(t=lp(this,t))?t.getResponse():null},up.prototype.execute=function(t){(t=lp(this,t))&&t.execute()},fp.prototype.getResponse=function(){return pp(this),this.b},fp.prototype.execute=function(){pp(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=Wr();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(r){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(r){}t.h&&t.execute()}),6e4)}),500))},fp.prototype.delete=function(){pp(this),this.g=!0,clearTimeout(this.a),this.a=null,An(this.f,"click",this.i)},Ti(dp,"FACTOR_ID","phone"),mp.prototype.g=function(){return cp||(cp=new up),Ve(cp)},mp.prototype.c=function(){};var vp=null;function gp(){this.b=l.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var yp=new Et(It,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),bp=new fi(3e4,6e4);gp.prototype.g=function(t){var e=this;return new Me((function(n,r){var i=setTimeout((function(){r(new A("network-request-failed"))}),bp.get());if(!l.grecaptcha||t!==e.f&&!e.b){l[e.a]=function(){if(l.grecaptcha){e.f=t;var o=l.grecaptcha.render;l.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(l.grecaptcha)}else clearTimeout(i),r(new A("internal-error"));delete l[e.a]};var o=Dt(yp,{onload:e.a,hl:t||""});Ve(xa(o)).o((function(){clearTimeout(i),r(new A("internal-error","Unable to load external reCAPTCHA dependencies!"))}))}else clearTimeout(i),n(l.grecaptcha)}))},gp.prototype.c=function(){this.b--};var wp=null;function kp(t,e,n,r,i,o,s){if(Ti(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.v=e,this.g=null,s?(vp||(vp=new mp),s=vp):(wp||(wp=new gp),s=wp),this.m=s,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Ep])throw new A("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Cp],!l.document)throw new A("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ye(e)||!this.i&&ye(e).hasChildNodes())throw new A("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Ra(t,o||null,i||null),this.u=r||function(){return null};var a=this;this.l=[];var u=this.a[_p];this.a[_p]=function(t){if(xp(a,t),"function"===typeof u)u(t);else if("string"===typeof u){var e=ti(u,l);"function"===typeof e&&e(t)}};var c=this.a[Tp];this.a[Tp]=function(){if(xp(a,null),"function"===typeof c)c();else if("string"===typeof c){var t=ti(c,l);"function"===typeof t&&t()}}}var _p="callback",Tp="expired-callback",Ep="sitekey",Cp="size";function xp(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(r){}}function Sp(t,e){et(t.l,(function(t){return t==e}))}function Ip(t,e){return t.h.push(e),e.oa((function(){tt(t.h,e)})),e}function Ap(t){if(t.D)throw new A("internal-error","RecaptchaVerifier instance has been destroyed.")}function Np(t,e,n){var i=!1;try{this.b=n||r.Z.app()}catch(a){throw new A("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new A("invalid-api-key");n=this.b.options.apiKey;var o=this,s=null;try{s=this.b.auth().Ga()}catch(a){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(a){}s=r.Z.SDK_VERSION?Yr(r.Z.SDK_VERSION,s):null,kp.call(this,n,t,e,(function(){try{var t=o.b.auth().la()}catch(e){t=null}return t}),s,L(O),i)}function Op(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,s=0;s<e.length;s++)if(e[s].optional)o=!0;else{if(o)throw new A("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].M(n[i])&&!o){if(e=e[i],0>i||i>=Dp.length)throw new A("internal-error","Argument validator received an unsupported number of arguments.");n=Dp[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}r=null}}if(r)throw new A("argument-error",t+" failed: "+r)}t=kp.prototype,t.Ia=function(){var t=this;return this.f?this.f:this.f=Ip(this,Ve().then((function(){if(ri()&&!zr())return Vr();throw new A("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.m.g(t.u())})).then((function(e){return t.g=e,Ju(t.s,Du,{})})).then((function(e){t.a[Ep]=e.recaptchaSiteKey})).o((function(e){throw t.f=null,e})))},t.render=function(){Ap(this);var t=this;return Ip(this,this.Ia().then((function(){if(null===t.c){var e=t.v;if(!t.i){var n=ye(e);e=Te("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},t.verify=function(){Ap(this);var t=this;return Ip(this,this.render().then((function(e){return new Me((function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(Sp(t,i),n(e))};t.l.push(i),t.i&&t.g.execute(t.c)}}))})))},t.reset=function(){Ap(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Ap(this),this.D=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=ye(this.v);for(var e;e=t.firstChild;)t.removeChild(e)}},S(Np,kp);var Dp="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Mp(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:function(t){return"string"===typeof t}}}function Rp(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:function(t){return"boolean"===typeof t}}}function Lp(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:y}}function Pp(t,e){return{name:t||"",K:"a function",optional:!!e,M:function(t){return"function"===typeof t}}}function Fp(t,e){return{name:t||"",K:"null",optional:!!e,M:function(t){return null===t}}}function jp(){return{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}}}function Bp(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof Vf)}}}function Vp(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof r.Z.app.App)}}}function Up(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.ka||!n)}}}function qp(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.sb}}}function Hp(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}}function zp(t,e){return y(t)&&"string"===typeof t.type&&t.type===e&&"function"===typeof t.Ha}function $p(t){return y(t)&&"string"===typeof t.uid}function Gp(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!==typeof t.type||"function"!==typeof t.verify)}}}function Wp(t,e,n,r){return{name:n||"",K:t.K+" or "+e.K,optional:!!r,M:function(n){return t.M(n)||e.M(n)}}}function Kp(t,e){for(var n in e){var r=e[n].name;t[r]=Qp(r,t[n],e[n].j)}}function Jp(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:C((function(t){return this[t]}),n),set:C((function(t,e,n,r){Op(t,[n],[r],!0),this[e]=r}),r,n,e[n].kb),enumerable:!0})}}function Xp(t,e,n,r){t[e]=Qp(e,n,r)}function Qp(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Op(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=Yp(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}function Yp(t){return t=t.split("."),t[t.length-1]}Kp(Vf.prototype,{jb:{name:"applyActionCode",j:[Mp("code")]},Ra:{name:"checkActionCode",j:[Mp("code")]},nb:{name:"confirmPasswordReset",j:[Mp("code"),Mp("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Mp("email"),Mp("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Mp("email")]},qa:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Mp("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Wp(Lp(),Pp(),"nextOrObserver"),Pp("opt_error",!0),Pp("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Wp(Lp(),Pp(),"nextOrObserver"),Pp("opt_error",!0),Pp("opt_completed",!0)]},vb:{name:"sendPasswordResetEmail",j:[Mp("email"),Wp(Lp("opt_actionCodeSettings",!0),Fp(null,!0),"opt_actionCodeSettings",!0)]},wb:{name:"sendSignInLinkToEmail",j:[Mp("email"),Lp("actionCodeSettings")]},xb:{name:"setPersistence",j:[Mp("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Up()]},zb:{name:"signInAnonymously",j:[]},$a:{name:"signInWithCredential",j:[Up()]},Tc:{name:"signInWithCustomToken",j:[Mp("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Mp("email"),Mp("password")]},Vc:{name:"signInWithEmailLink",j:[Mp("email"),Mp("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Mp("phoneNumber"),Gp()]},Xc:{name:"signInWithPopup",j:[Hp()]},Yc:{name:"signInWithRedirect",j:[Hp()]},dd:{name:"updateCurrentUser",j:[Wp(function(t){return{name:"user",K:"an instance of Firebase User",optional:!!t,M:function(t){return!!(t&&t instanceof Hh)}}}(),Fp(),"user")]},Ab:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Mp(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Mp("url"),Lp("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Mp("code")]}}),Jp(Vf.prototype,{lc:{name:"languageCode",kb:Wp(Mp(),Fp(),"languageCode")},ti:{name:"tenantId",kb:Wp(Mp(),Fp(),"tenantId")}}),Vf.Persistence=nl,Vf.Persistence.LOCAL="local",Vf.Persistence.SESSION="session",Vf.Persistence.NONE="none",Kp(Hh.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Rp("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Rp("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Up()]},qb:{name:"linkWithCredential",j:[Up()]},Dc:{name:"linkWithPhoneNumber",j:[Mp("phoneNumber"),Gp()]},Ec:{name:"linkWithPopup",j:[Hp()]},Fc:{name:"linkWithRedirect",j:[Hp()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Up()]},tb:{name:"reauthenticateWithCredential",j:[Up()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Mp("phoneNumber"),Gp()]},Nc:{name:"reauthenticateWithPopup",j:[Hp()]},Oc:{name:"reauthenticateWithRedirect",j:[Hp()]},reload:{name:"reload",j:[]},ub:{name:"sendEmailVerification",j:[Wp(Lp("opt_actionCodeSettings",!0),Fp(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Mp(null,!0)]},cd:{name:"unlink",j:[Mp("provider")]},Bb:{name:"updateEmail",j:[Mp("email")]},Cb:{name:"updatePassword",j:[Mp("password")]},ed:{name:"updatePhoneNumber",j:[Up("phone")]},Db:{name:"updateProfile",j:[Lp("profile")]},Eb:{name:"verifyBeforeUpdateEmail",j:[Mp("email"),Wp(Lp("opt_actionCodeSettings",!0),Fp(null,!0),"opt_actionCodeSettings",!0)]}}),Kp(up.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Kp(ap.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Kp(Me.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Jp(dh.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",kb:Rp("appVerificationDisabledForTesting")}}),Kp(mh.prototype,{confirm:{name:"confirm",j:[Mp("verificationCode")]}}),Xp(qo,"fromJSON",(function(t){t="string"===typeof t?JSON.parse(t):t;for(var e,n=[Jo,us,ps,Go],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[Wp(Mp(),Lp(),"json")]),Xp(cs,"credential",(function(t,e){return new as(t,e)}),[Mp("email"),Mp("password")]),Kp(as.prototype,{w:{name:"toJSON",j:[Mp(null,!0)]}}),Kp(Zo.prototype,{Ca:{name:"addScope",j:[Mp("scope")]},Ka:{name:"setCustomParameters",j:[Lp("customOAuthParameters")]}}),Xp(Zo,"credential",ts,[Wp(Mp(),Lp(),"token")]),Xp(cs,"credentialWithLink",ls,[Mp("email"),Mp("emailLink")]),Kp(es.prototype,{Ca:{name:"addScope",j:[Mp("scope")]},Ka:{name:"setCustomParameters",j:[Lp("customOAuthParameters")]}}),Xp(es,"credential",ns,[Wp(Mp(),Lp(),"token")]),Kp(rs.prototype,{Ca:{name:"addScope",j:[Mp("scope")]},Ka:{name:"setCustomParameters",j:[Lp("customOAuthParameters")]}}),Xp(rs,"credential",is,[Wp(Mp(),Wp(Lp(),Fp()),"idToken"),Wp(Mp(),Fp(),"accessToken",!0)]),Kp(os.prototype,{Ka:{name:"setCustomParameters",j:[Lp("customOAuthParameters")]}}),Xp(os,"credential",ss,[Wp(Mp(),Lp(),"token"),Mp("secret",!0)]),Kp(Yo.prototype,{Ca:{name:"addScope",j:[Mp("scope")]},credential:{name:"credential",j:[Wp(Mp(),Wp(Lp(),Fp()),"optionsOrIdToken"),Wp(Mp(),Fp(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Lp("customOAuthParameters")]}}),Kp(Wo.prototype,{w:{name:"toJSON",j:[Mp(null,!0)]}}),Kp(zo.prototype,{w:{name:"toJSON",j:[Mp(null,!0)]}}),Xp(ms,"credential",vs,[Mp("verificationId"),Mp("verificationCode")]),Kp(ms.prototype,{fb:{name:"verifyPhoneNumber",j:[Wp(Mp(),function(t,e){return{name:t||"phoneInfoOptions",K:"valid phone info options",optional:!!e,M:function(t){return!!t&&(t.session&&t.phoneNumber?zp(t.session,Vo)&&"string"===typeof t.phoneNumber:t.session&&t.multiFactorHint?zp(t.session,Uo)&&$p(t.multiFactorHint):t.session&&t.multiFactorUid?zp(t.session,Uo)&&"string"===typeof t.multiFactorUid:!!t.phoneNumber&&"string"===typeof t.phoneNumber)}}}(),"phoneInfoOptions"),Gp()]}}),Kp(fs.prototype,{w:{name:"toJSON",j:[Mp(null,!0)]}}),Kp(A.prototype,{toJSON:{name:"toJSON",j:[Mp(null,!0)]}}),Kp(xs.prototype,{toJSON:{name:"toJSON",j:[Mp(null,!0)]}}),Kp(Cs.prototype,{toJSON:{name:"toJSON",j:[Mp(null,!0)]}}),Kp(kh.prototype,{toJSON:{name:"toJSON",j:[Mp(null,!0)]}}),Kp(yh.prototype,{Rc:{name:"resolveSignIn",j:[qp()]}}),Kp(Ah.prototype,{Rb:{name:"getSession",j:[]},fc:{name:"enroll",j:[qp(),Mp("displayName",!0)]},bd:{name:"unenroll",j:[Wp({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:$p},Mp(),"multiFactorInfoIdentifier")]}}),Kp(Np.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Xp(Xi,"parseLink",io,[Mp("link")]),Xp(dp,"assertion",(function(t){return new Sh(t)}),[Up("phone")]),function(){if("undefined"===typeof r.Z||!r.Z.INTERNAL||!r.Z.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ji,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:Fi,VERIFY_AND_CHANGE_EMAIL:Bi,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Vf,AuthCredential:qo,Error:A};Xp(t,"EmailAuthProvider",cs,[]),Xp(t,"FacebookAuthProvider",Zo,[]),Xp(t,"GithubAuthProvider",es,[]),Xp(t,"GoogleAuthProvider",rs,[]),Xp(t,"TwitterAuthProvider",os,[]),Xp(t,"OAuthProvider",Yo,[Mp("providerId")]),Xp(t,"SAMLAuthProvider",Qo,[Mp("providerId")]),Xp(t,"PhoneAuthProvider",ms,[Bp()]),Xp(t,"RecaptchaVerifier",Np,[Wp(Mp(),jp(),"recaptchaContainer"),Lp("recaptchaParameters",!0),Vp()]),Xp(t,"ActionCodeURL",Xi,[]),Xp(t,"PhoneMultiFactorGenerator",dp,[]),r.Z.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return t=t.getProvider("app").getImmediate(),new Vf(t)},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),r.Z.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return t=t.getProvider("auth").getImmediate(),{getUid:E(t.getUid,t),getToken:E(t.nc,t),addAuthTokenListener:E(t.cc,t),removeAuthTokenListener:E(t.Pc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),r.Z.registerVersion("@firebase/auth","0.16.6"),r.Z.INTERNAL.extendNamespace({User:Hh})}()}).apply("undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},2443:function(t,e,n){"use strict";var r=n(4552),i=n(9658),o=n(7e3),s=(n(1703),n(8675),n(3462),function(t,e){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},s(t,e)});function a(t,e){function n(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function u(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var c,l="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},h=h||{},f=l||self;function p(){}function d(t){var e=typeof t;return e="object"!=e?e:t?Array.isArray(t)?"array":e:"null","array"==e||"object"==e&&"number"==typeof t.length}function m(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function v(t){return Object.prototype.hasOwnProperty.call(t,g)&&t[g]||(t[g]=++y)}var g="closure_uid_"+(1e9*Math.random()>>>0),y=0;function b(t,e,n){return t.call.apply(t.bind,arguments)}function w(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function k(t,e,n){return k=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?b:w,k.apply(null,arguments)}function _(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function T(){return Date.now()}function E(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Pb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function C(){this.j=this.j,this.i=this.i}var x=0;C.prototype.j=!1,C.prototype.ka=function(){if(!this.j&&(this.j=!0,this.H(),0!=x))v(this)},C.prototype.H=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var S=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"===typeof t)return"string"!==typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},I=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"===typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function A(t){t:{for(var e=qn,n=t.length,r="string"===typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"===typeof t?t.charAt(e):t[e]}function N(t){return Array.prototype.concat.apply([],arguments)}function O(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function D(t){return/^[\s\xa0]*$/.test(t)}var M,R=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function L(t,e){return-1!=t.indexOf(e)}function P(t,e){return t<e?-1:t>e?1:0}t:{var F=f.navigator;if(F){var j=F.userAgent;if(j){M=j;break t}}M=""}function B(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function V(t){var e={};for(var n in t)e[n]=t[n];return e}var U="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function q(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(var o=0;o<U.length;o++)n=U[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function H(t){return H[" "](t),t}function z(t,e){var n=rt;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}H[" "]=p;var $,G=L(M,"Opera"),W=L(M,"Trident")||L(M,"MSIE"),K=L(M,"Edge"),J=K||W,X=L(M,"Gecko")&&!(L(M.toLowerCase(),"webkit")&&!L(M,"Edge"))&&!(L(M,"Trident")||L(M,"MSIE"))&&!L(M,"Edge"),Q=L(M.toLowerCase(),"webkit")&&!L(M,"Edge");function Y(){var t=f.document;return t?t.documentMode:void 0}t:{var Z="",tt=function(){var t=M;return X?/rv:([^\);]+)(\)|;)/.exec(t):K?/Edge\/([\d\.]+)/.exec(t):W?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Q?/WebKit\/(\S+)/.exec(t):G?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(tt&&(Z=tt?tt[1]:""),W){var et=Y();if(null!=et&&et>parseFloat(Z)){$=String(et);break t}}$=Z}var nt,rt={};function it(t){return z(t,(function(){for(var e=0,n=R(String($)).split("."),r=R(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=P(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||P(0==s[2].length,0==a[2].length)||P(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}if(f.document&&W){var ot=Y();nt=ot||(parseInt($,10)||void 0)}else nt=void 0;var st=nt,at=!W||9<=Number(st),ut=W&&!it("9"),ct=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{f.addEventListener("test",p,e),f.removeEventListener("test",p,e)}catch(n){}return t}();function lt(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function ht(t,e){if(lt.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(X){t:{try{H(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"===typeof t.pointerType?t.pointerType:ft[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}lt.prototype.b=function(){this.defaultPrevented=!0},E(ht,lt);var ft={2:"touch",3:"pen",4:"mouse"};ht.prototype.b=function(){ht.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,ut)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var pt="closure_listenable_"+(1e6*Math.random()|0),dt=0;function mt(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.da=i,this.key=++dt,this.Y=this.Z=!1}function vt(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.da=null}function gt(t){this.src=t,this.a={},this.b=0}function yt(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=S(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(vt(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function bt(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.da==r)return i}return-1}gt.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.a[o],t||(t=this.a[o]=[],this.b++);var s=bt(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):(e=new mt(e,this.src,o,!!r,i),e.Z=n,t.push(e)),e};var wt="closure_lm_"+(1e6*Math.random()|0),kt={};function _t(t,e,n,r,i){if(r&&r.once)return Ct(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)_t(t,e[o],n,r,i);return null}return n=Mt(n),t&&t[pt]?t.wa(e,n,m(r)?!!r.capture:!!r,i):Tt(t,e,n,!1,r,i)}function Tt(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=m(i)?!!i.capture:!!i;if(s&&!at)return null;var a=Ot(t);if(a||(t[wt]=a=new gt(t)),n=a.add(e,n,r,s,o),n.proxy)return n;if(r=Et(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)ct||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(It(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Et(){var t=Nt,e=at?function(n){return t.call(e.src,e.listener,n)}:function(n){if(n=t.call(e.src,e.listener,n),!n)return n};return e}function Ct(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)Ct(t,e[o],n,r,i);return null}return n=Mt(n),t&&t[pt]?t.xa(e,n,m(r)?!!r.capture:!!r,i):Tt(t,e,n,!0,r,i)}function xt(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)xt(t,e[o],n,r,i);else r=m(r)?!!r.capture:!!r,n=Mt(n),t&&t[pt]?(t=t.c,e=String(e).toString(),e in t.a&&(o=t.a[e],n=bt(o,n,r,i),-1<n&&(vt(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=Ot(t))&&(e=t.a[e.toString()],t=-1,e&&(t=bt(e,n,r,i)),(n=-1<t?e[t]:null)&&St(n))}function St(t){if("number"!==typeof t&&t&&!t.Y){var e=t.src;if(e&&e[pt])yt(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(It(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Ot(e))?(yt(n,t),0==n.b&&(n.src=null,e[wt]=null)):vt(t)}}}function It(t){return t in kt?kt[t]:kt[t]="on"+t}function At(t,e){var n=t.listener,r=t.da||t.src;return t.Z&&St(t),n.call(r,e)}function Nt(t,e){if(t.Y)return!0;if(!at){if(!e)t:{e=["window","event"];for(var n=f,r=0;r<e.length;r++)if(n=n[e[r]],null==n){e=null;break t}e=n}return e=new ht(e,this),At(t,e)}return At(t,new ht(e,this))}function Ot(t){return t=t[wt],t instanceof gt?t:null}var Dt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Mt(t){return"function"===typeof t?t:(t[Dt]||(t[Dt]=function(e){return t.handleEvent(e)}),t[Dt])}function Rt(){C.call(this),this.c=new gt(this),this.J=this,this.D=null}function Lt(t,e){var n,r=t.D;if(r)for(n=[];r;r=r.D)n.push(r);if(t=t.J,r=e.type||e,"string"===typeof e)e=new lt(e,t);else if(e instanceof lt)e.target=e.target||t;else{var i=e;e=new lt(r,t),q(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=Pt(s,r,!0,e)&&i}if(s=e.a=t,i=Pt(s,r,!0,e)&&i,i=Pt(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)s=e.a=n[o],i=Pt(s,r,!1,e)&&i}function Pt(t,e,n,r){if(e=t.c.a[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,u=s.da||s.src;s.Z&&yt(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}E(Rt,C),Rt.prototype[pt]=!0,c=Rt.prototype,c.addEventListener=function(t,e,n,r){_t(this,t,e,n,r)},c.removeEventListener=function(t,e,n,r){xt(this,t,e,n,r)},c.H=function(){if(Rt.X.H.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)vt(n[r]);delete e.a[t],e.b--}}this.D=null},c.wa=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},c.xa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Ft=f.JSON.stringify;function jt(){this.b=this.a=null}var Bt,Vt=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t},t}())((function(){return new qt}),(function(t){t.reset()}));function Ut(){var t=Wt,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function qt(){this.next=this.b=this.a=null}function Ht(t){f.setTimeout((function(){throw t}),0)}function zt(t,e){Bt||$t(),Gt||(Bt(),Gt=!0),Wt.add(t,e)}function $t(){var t=f.Promise.resolve(void 0);Bt=function(){t.then(Kt)}}jt.prototype.add=function(t,e){var n=Vt.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},qt.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},qt.prototype.reset=function(){this.next=this.b=this.a=null};var Gt=!1,Wt=new jt;function Kt(){for(var t;t=Ut();){try{t.a.call(t.b)}catch(n){Ht(n)}var e=Vt;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Gt=!1}function Jt(t,e){Rt.call(this),this.b=t||1,this.a=e||f,this.f=k(this.eb,this),this.g=T()}function Xt(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Qt(t,e,n){if("function"===typeof t)n&&(t=k(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=k(t.handleEvent,t)}return 2147483647<Number(e)?-1:f.setTimeout(t,e||0)}function Yt(t){t.a=Qt((function(){t.a=null,t.c&&(t.c=!1,Yt(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}E(Jt,Rt),c=Jt.prototype,c.aa=!1,c.M=null,c.eb=function(){if(this.aa){var t=T()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Lt(this,"tick"),this.aa&&(Xt(this),this.start()))}},c.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=T())},c.H=function(){Jt.X.H.call(this),Xt(this),delete this.a};var Zt=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return a(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Yt(this)},e.prototype.H=function(){t.prototype.H.call(this),this.a&&(f.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(C);function te(t){C.call(this),this.b=t,this.a={}}E(te,C);var ee=[];function ne(t,e,n,r){Array.isArray(n)||(n&&(ee[0]=n.toString()),n=ee);for(var i=0;i<n.length;i++){var o=_t(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function re(t){B(t.a,(function(t,e){this.a.hasOwnProperty(e)&&St(t)}),t),t.a={}}function ie(){this.a=!0}function oe(t,e,n,r,i,o){t.info((function(){if(t.a)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s}))}function se(t,e,n,r,i,o,s){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s}))}function ae(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+ce(t,n)+(r?" "+r:"")}))}function ue(t,e){t.info((function(){return"TIMEOUT: "+e}))}function ce(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Ft(n)}catch(a){return e}}te.prototype.H=function(){te.X.H.call(this),re(this)},te.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ie.prototype.info=function(){};var le={},he=null;function fe(){return he=he||new Rt}function pe(t){lt.call(this,le.Ga,t)}function de(t){var e=fe();Lt(e,new pe(e,t))}function me(t,e){lt.call(this,le.STAT_EVENT,t),this.stat=e}function ve(t){var e=fe();Lt(e,new me(e,t))}function ge(t){lt.call(this,le.Ha,t)}function ye(t,e){if("function"!==typeof t)throw Error("Fn must not be null and must be a function");return f.setTimeout((function(){t()}),e)}le.Ga="serverreachability",E(pe,lt),le.STAT_EVENT="statevent",E(me,lt),le.Ha="timingevent",E(ge,lt);var be={NO_ERROR:0,fb:1,sb:2,rb:3,mb:4,qb:5,tb:6,Ea:7,TIMEOUT:8,wb:9},we={kb:"complete",Gb:"success",Fa:"error",Ea:"abort",yb:"ready",zb:"readystatechange",TIMEOUT:"timeout",ub:"incrementaldata",xb:"progress",nb:"downloadprogress",Ob:"uploadprogress"};function ke(){}function _e(t){return t.b||(t.b=t.c())}function Te(){}ke.prototype.b=null;var Ee,Ce={OPEN:"a",jb:"b",Fa:"c",vb:"d"};function xe(){lt.call(this,"d")}function Se(){lt.call(this,"c")}function Ie(){}function Ae(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new te(this),this.P=Ne,t=J?125:void 0,this.R=new Jt(t),this.B=null,this.b=!1,this.j=this.l=this.i=this.G=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}E(xe,lt),E(Se,lt),E(Ie,ke),Ie.prototype.a=function(){return new XMLHttpRequest},Ie.prototype.c=function(){return{}},Ee=new Ie;var Ne=45e3,Oe={},De={};function Me(t,e,n){t.G=1,t.i=rn(Qe(e)),t.j=n,t.I=!0,Re(t,null)}function Re(t,e){t.u=T(),Fe(t),t.l=Qe(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),bn(n.b,"t",r),t.D=0,t.a=yr(t.g,t.g.C?e:null),0<t.O&&(t.F=new Zt(k(t.Da,t,t.a),t.O)),ne(t.J,t.a,"readystatechange",t.bb),e=t.B?V(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),de(1),oe(t.c,t.m,t.l,t.f,t.S,t.j)}function Le(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Pe(t,n);if(i==De){4==e&&(t.h=4,ve(14),r=!1),ae(t.c,t.f,null,"[Incomplete Response]");break}if(i==Oe){t.h=4,ve(15),ae(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}ae(t.c,t.f,i,null),qe(t,i)}4==e&&0==n.length&&(t.h=1,ve(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,e=t.g,e.a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),lr(e),e.F=!0,ve(11))):(ae(t.c,t.f,n,"[Invalid Chunked Response]"),Ue(t),Ve(t))}function Pe(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?De:(n=Number(e.substring(n,r)),isNaN(n)?Oe:(r+=1,r+n>e.length?De:(e=e.substr(r,n),t.D=r+n,e)))}function Fe(t){t.T=T()+t.P,je(t,t.P)}function je(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=ye(k(t.$a,t),e)}function Be(t){t.o&&(f.clearTimeout(t.o),t.o=null)}function Ve(t){0==t.g.v||t.A||pr(t.g,t)}function Ue(t){Be(t);var e=t.F;e&&"function"==typeof e.ka&&e.ka(),t.F=null,Xt(t.R),re(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ka())}function qe(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Sn(n.b,t)))if(n.I=t.N,!t.C&&Sn(n.b,t)&&3==n.v){try{var r=n.la.a.parse(e)}catch(Sp){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;fr(n),tr(n)}cr(n),ve(18)}}else n.pa=i[1],0<n.pa-n.P&&37500>i[2]&&n.G&&0==n.o&&!n.m&&(n.m=ye(k(n.Xa,n),6e3));if(1>=xn(n.b)&&n.fa){try{n.fa()}catch(Sp){}n.fa=void 0}}else mr(n,11)}else if((t.C||n.a==t)&&fr(n),!D(e))for(e=r=n.la.a.parse(e),r=0;r<e.length;r++)if(i=e[r],n.P=i[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ha=i[2];var o=i[3];null!=o&&(n.ia=o,n.c.info("VER="+n.ia));var s=i[4];null!=s&&(n.qa=s,n.c.info("SVER="+n.qa));var a=i[5];if(null!=a&&"number"===typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(L(l,"spdy")||L(l,"quic")||L(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(In(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.oa=f,nn(u.B,u.A,f))}}n.v=3,n.f&&n.f.ua(),n.U&&(n.N=T()-t.u,n.c.info("Handshake RTT: "+n.N+"ms")),u=n;var p=t;if(u.ma=gr(u,u.C?u.ha:null,u.ga),p.C){An(u.b,p);var d=p,m=u.D;m&&d.setTimeout(m),d.o&&(Be(d),Fe(d)),u.a=p}else ur(u);0<n.g.length&&rr(n)}else"stop"!=i[0]&&"close"!=i[0]||mr(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?mr(n,7):Zn(n):"noop"!=i[0]&&n.f&&n.f.ta(i),n.o=0);de(4)}catch(Sp){}}function He(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"===typeof t)return t.split("");if(d(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function ze(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(d(t)||"string"===typeof t)I(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(d(t)||"string"===typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;r=He(t),i=r.length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function $e(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof $e)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Ge(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];We(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)r=t.a[e],We(i,r)||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function We(t,e){return Object.prototype.hasOwnProperty.call(t,e)}c=Ae.prototype,c.setTimeout=function(t){this.P=t},c.bb=function(t){t=t.target;var e=this.F;e&&3==Kn(t)?e.f():this.Da(t)},c.Da=function(t){try{if(t==this.a)t:{var e=Kn(this.a),n=this.a.va(),r=this.a.W();if(!(3>e||3==e&&!J&&!this.a.$())){this.A||4!=e||7==n||de(8==n||0>=r?3:2),Be(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,se(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(s)){var u=s;break e}}u=null}if(!u){this.b=!1,this.h=3,ve(12),Ue(this),Ve(this);break t}ae(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,qe(this,u)}this.I?(Le(this,e,o),J&&this.b&&3==e&&(ne(this.J,this.R,"tick",this.ab),this.R.start())):(ae(this.c,this.f,o,null),qe(this,o)),4==e&&Ue(this),this.b&&!this.A&&(4==e?pr(this.g,this):(this.b=!1,Fe(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,ve(12)):(this.h=0,ve(13)),Ue(this),Ve(this)}}}catch(c){}},c.ab=function(){if(this.a){var t=Kn(this.a),e=this.a.$();this.D<e.length&&(Be(this),Le(this,t,e),this.b&&4!=t&&Fe(this))}},c.cancel=function(){this.A=!0,Ue(this)},c.$a=function(){this.o=null;var t=T();0<=t-this.T?(ue(this.c,this.l),2!=this.G&&(de(3),ve(17)),Ue(this),this.h=2,Ve(this)):je(this,this.T-t)},c=$e.prototype,c.K=function(){Ge(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},c.L=function(){return Ge(this),this.a.concat()},c.get=function(t,e){return We(this.b,t)?this.b[t]:e},c.set=function(t,e){We(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},c.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Ke=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Je(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Xe(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Xe){this.a=void 0!==e?e:t.a,Ye(this,t.f),this.j=t.j,Ze(this,t.c),tn(this,t.h),this.g=t.g,e=t.b;var n=new mn;n.c=e.c,e.a&&(n.a=new $e(e.a),n.b=e.b),en(this,n),this.i=t.i}else t&&(n=String(t).match(Ke))?(this.a=!!e,Ye(this,n[1]||"",!0),this.j=an(n[2]||""),Ze(this,n[3]||"",!0),tn(this,n[4]),this.g=an(n[5]||"",!0),en(this,n[6]||"",!0),this.i=an(n[7]||"")):(this.a=!!e,this.b=new mn(null,this.a))}function Qe(t){return new Xe(t)}function Ye(t,e,n){t.f=n?an(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Ze(t,e,n){t.c=n?an(e,!0):e}function tn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function en(t,e,n){e instanceof mn?(t.b=e,kn(t.b,t.a)):(n||(e=un(e,pn)),t.b=new mn(e,t.a))}function nn(t,e,n){t.b.set(e,n)}function rn(t){return nn(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^T()).toString(36)),t}function on(t){return t instanceof Xe?Qe(t):new Xe(t,void 0)}function sn(t,e,n,r){var i=new Xe(null,void 0);return t&&Ye(i,t),e&&Ze(i,e),n&&tn(i,n),r&&(i.g=r),i}function an(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function un(t,e,n){return"string"===typeof t?(t=encodeURI(t).replace(e,cn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function cn(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(15&t).toString(16)}Xe.prototype.toString=function(){var t=[],e=this.f;e&&t.push(un(e,ln,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(un(e,ln,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.h,null!=n&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(un(n,"/"==n.charAt(0)?fn:hn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",un(n,dn)),t.join("")};var ln=/[#\/\?@]/g,hn=/[#\?:]/g,fn=/[#\?]/g,pn=/[#\?@]/g,dn=/#/g;function mn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function vn(t){t.a||(t.a=new $e,t.b=0,t.c&&Je(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function gn(t,e){vn(t),e=wn(t,e),We(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,t=t.a,We(t.b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Ge(t)))}function yn(t,e){return vn(t),e=wn(t,e),We(t.a.b,e)}function bn(t,e,n){gn(t,e),0<n.length&&(t.c=null,t.a.set(wn(t,e),O(n)),t.b+=n.length)}function wn(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function kn(t,e){e&&!t.f&&(vn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(gn(this,e),bn(this,n,t))}),t)),t.f=e}c=mn.prototype,c.add=function(t,e){vn(this),this.c=null,t=wn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},c.forEach=function(t,e){vn(this),this.a.forEach((function(n,r){I(n,(function(n){t.call(e,n,r,this)}),this)}),this)},c.L=function(){vn(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},c.K=function(t){vn(this);var e=[];if("string"===typeof t)yn(this,t)&&(e=N(e,this.a.get(wn(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=N(e,t[n])}return e},c.set=function(t,e){return vn(this),this.c=null,t=wn(this,t),yn(this,t)&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},c.get=function(t,e){return t?(t=this.K(t),0<t.length?String(t[0]):e):e},c.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var _n=function(){function t(t,e){this.b=t,this.a=e}return t}();function Tn(t){this.g=t||En,f.PerformanceNavigationTiming?(t=f.performance.getEntriesByType("navigation"),t=0<t.length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol)):t=!!(f.ja&&f.ja.za&&f.ja.za()&&f.ja.za().Qb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var En=10;function Cn(t){return!!t.b||!!t.a&&t.a.size>=t.f}function xn(t){return t.b?1:t.a?t.a.size:0}function Sn(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function In(t,e){t.a?t.a.add(e):t.b=e}function An(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Nn(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=u(t.a.values()),o=i.next();!o.done;o=i.next()){var s=o.value;r=r.concat(s.s)}}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return O(t.c)}function On(){}function Dn(){this.a=new On}function Mn(t,e,n){var r=n||"";try{ze(t,(function(t,n){var i=t;m(t)&&(i=Ft(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Rn(t,e){var n=new ie;if(f.Image){var r=new Image;r.onload=_(Ln,n,r,"TestLoadImage: loaded",!0,e),r.onerror=_(Ln,n,r,"TestLoadImage: error",!1,e),r.onabort=_(Ln,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=_(Ln,n,r,"TestLoadImage: timeout",!1,e),f.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}function Ln(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}Tn.prototype.cancel=function(){var t,e;if(this.c=Nn(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=u(this.a.values()),r=n.next();!r.done;r=n.next()){var i=r.value;i.cancel()}}catch(o){t={error:o}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},On.prototype.stringify=function(t){return f.JSON.stringify(t,void 0)},On.prototype.parse=function(t){return f.JSON.parse(t,void 0)};var Pn=f.JSON.parse;function Fn(t){Rt.call(this),this.headers=new $e,this.l=t||null,this.b=!1,this.u=this.a=null,this.C="",this.h=0,this.f="",this.g=this.B=this.m=this.A=!1,this.s=0,this.o=null,this.I=jn,this.F=this.G=!1}E(Fn,Rt);var jn="",Bn=/^https?$/i,Vn=["POST","PUT"];function Un(t){return W&&it(9)&&"number"===typeof t.timeout&&void 0!==t.ontimeout}function qn(t){return"content-type"==t.toLowerCase()}function Hn(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,zn(t),Gn(t)}function zn(t){t.A||(t.A=!0,Lt(t,"complete"),Lt(t,"error"))}function $n(t){if(t.b&&"undefined"!=typeof h&&(!t.u[1]||4!=Kn(t)||2!=t.W()))if(t.m&&4==Kn(t))Qt(t.Aa,0,t);else if(Lt(t,"readystatechange"),4==Kn(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.C).match(Ke)[1]||null;if(!o&&f.self&&f.self.location){var s=f.self.location.protocol;o=s.substr(0,s.length-1)}i=!Bn.test(o?o.toLowerCase():"")}e=i}var a=e;if(a)Lt(t,"complete"),Lt(t,"success");else{t.h=6;try{var u=2<Kn(t)?t.a.statusText:""}catch(n){u=""}t.f=u+" ["+t.W()+"]",zn(t)}}finally{Gn(t)}}}function Gn(t,e){if(t.a){Wn(t);var n=t.a,r=t.u[0]?p:null;t.a=null,t.u=null,e||Lt(t,"ready");try{n.onreadystatechange=r}catch(i){}}}function Wn(t){t.a&&t.F&&(t.a.ontimeout=null),t.o&&(f.clearTimeout(t.o),t.o=null)}function Kn(t){return t.a?t.a.readyState:0}function Jn(t){var e="";return B(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}function Xn(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=Jn(n),"string"===typeof t?null!=n&&encodeURIComponent(String(n)):nn(t,e,n))}function Qn(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Yn(t){this.qa=0,this.g=[],this.c=new ie,this.ha=this.ma=this.B=this.ga=this.a=this.oa=this.A=this.V=this.i=this.O=this.l=null,this.Pa=this.R=0,this.Ma=Qn("failFast",!1,t),this.G=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.pa=this.P=-1,this.T=this.o=this.u=0,this.Ia=Qn("baseRetryDelayMs",5e3,t),this.Sa=Qn("retryDelaySeedMs",1e4,t),this.Na=Qn("forwardChannelMaxRetries",2,t),this.na=Qn("forwardChannelRequestTimeoutMs",2e4,t),this.Oa=t&&t.xmlHttpFactory||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new Tn(t&&t.concurrentRequestLimit),this.la=new Dn,this.ea=t&&t.fastHandshake||!1,this.Ja=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.ea&&this.S&&t&&t.detectBufferingProxy||!1,this.fa=void 0,this.N=0,this.F=!1,this.s=null,(this.La=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Zn(t){if(er(t),3==t.v){var e=t.R++,n=Qe(t.B);nn(n,"SID",t.J),nn(n,"RID",e),nn(n,"TYPE","terminate"),sr(t,n),e=new Ae(t,t.c,e,void 0),e.G=2,e.i=rn(Qe(n)),n=!1,f.navigator&&f.navigator.sendBeacon&&(n=f.navigator.sendBeacon(e.i.toString(),"")),!n&&f.Image&&((new Image).src=e.i,n=!0),n||(e.a=yr(e.g,null),e.a.ba(e.i)),e.u=T(),Fe(e)}vr(t)}function tr(t){t.a&&(lr(t),t.a.cancel(),t.a=null)}function er(t){tr(t),t.j&&(f.clearTimeout(t.j),t.j=null),fr(t),t.b.cancel(),t.h&&("number"===typeof t.h&&f.clearTimeout(t.h),t.h=null)}function nr(t,e){t.g.push(new _n(t.Pa++,e)),3==t.v&&rr(t)}function rr(t){Cn(t.b)||t.h||(t.h=!0,zt(t.Ca,t),t.u=0)}function ir(t,e){return!(xn(t.b)>=t.b.f-(t.h?1:0))&&(t.h?(t.g=e.s.concat(t.g),!0):!(1==t.v||2==t.v||t.u>=(t.Ma?0:t.Na))&&(t.h=ye(k(t.Ca,t,e),dr(t,t.u)),t.u++,!0))}function or(t,e){var n;n=e?e.f:t.R++;var r=Qe(t.B);nn(r,"SID",t.J),nn(r,"RID",n),nn(r,"AID",t.P),sr(t,r),t.i&&t.l&&Xn(r,t.i,t.l),n=new Ae(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=ar(t,n,1e3),n.setTimeout(Math.round(.5*t.na)+Math.round(.5*t.na*Math.random())),In(t.b,n),Me(n,r,e)}function sr(t,e){t.f&&ze({},(function(t,n){nn(e,n,t)}))}function ar(t,e,n){n=Math.min(t.g.length,n);var r=t.f?k(t.f.Ka,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?(o=i[0].b,s.push("ofs="+o)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(c-=o,0>c)o=Math.max(0,i[u].b-100),a=!1;else try{Mn(l,s,"req"+c+"_")}catch(ii){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function ur(t){t.a||t.j||(t.T=1,zt(t.Ba,t),t.o=0)}function cr(t){return!(t.a||t.j||3<=t.o)&&(t.T++,t.j=ye(k(t.Ba,t),dr(t,t.o)),t.o++,!0)}function lr(t){null!=t.s&&(f.clearTimeout(t.s),t.s=null)}function hr(t){t.a=new Ae(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Qe(t.ma);nn(e,"RID","rpc"),nn(e,"SID",t.J),nn(e,"CI",t.G?"0":"1"),nn(e,"AID",t.P),sr(t,e),nn(e,"TYPE","xmlhttp"),t.i&&t.l&&Xn(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ha,n.G=1,n.i=rn(Qe(e)),n.j=null,n.I=!0,Re(n,t)}function fr(t){null!=t.m&&(f.clearTimeout(t.m),t.m=null)}function pr(t,e){var n=null;if(t.a==e){fr(t),lr(t),t.a=null;var r=2}else{if(!Sn(t.b,e))return;n=e.s,An(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=T()-e.u;var i=t.u;r=fe(),Lt(r,new ge(r,n,e,i)),rr(t)}else ur(t);else if(i=e.h,3==i||0==i&&0<t.I||!(1==r&&ir(t,e)||2==r&&cr(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:mr(t,5);break;case 4:mr(t,10);break;case 3:mr(t,6);break;default:mr(t,2)}}function dr(t,e){var n=t.Ia+Math.floor(Math.random()*t.Sa);return t.f||(n*=2),n*e}function mr(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=k(t.cb,t);n||(n=new Xe("//www.google.com/images/cleardot.gif"),f.location&&"http"==f.location.protocol||Ye(n,"https"),rn(n)),Rn(n.toString(),r)}else ve(2);t.v=0,t.f&&t.f.sa(e),vr(t),er(t)}function vr(t){t.v=0,t.I=-1,t.f&&(0==Nn(t.b).length&&0==t.g.length||(t.b.c.length=0,O(t.g),t.g.length=0),t.f.ra())}function gr(t,e,n){var r=on(n);if(""!=r.c)e&&Ze(r,e+"."+r.c),tn(r,r.h);else{var i=f.location;r=sn(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&B(t.V,(function(t,e){nn(r,e,t)})),e=t.A,n=t.oa,e&&n&&nn(r,e,n),nn(r,"VER",t.ia),sr(t,r),r}function yr(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return e=new Fn(t.Oa),e.G=t.C,e}function br(){}function wr(){if(W&&!(10<=Number(st)))throw Error("Environmental error: no available transport.")}function kr(t,e){Rt.call(this),this.a=new Yn(e),this.g=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!D(t)&&(this.a.i=t),this.o=e&&e.supportsCrossDomainXhr||!1,this.m=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!D(e)&&(this.a.A=e,t=this.b,null!==t&&e in t&&(t=this.b,e in t&&delete t[e])),this.f=new Er(this)}function _r(t){xe.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Tr(){Se.call(this),this.status=1}function Er(t){this.a=t}function Cr(t){this.f=t}function xr(t){Rt.call(this),this.u=t,this.h=void 0,this.readyState=Sr,this.status=0,this.responseType=this.responseText=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.o="",this.a=!1,this.m=this.f=this.g=null}c=Fn.prototype,c.ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.C+"; newUri="+t);e=e?e.toUpperCase():"GET",this.C=t,this.f="",this.h=0,this.A=!1,this.b=!0,this.a=this.l?this.l.a():Ee.a(),this.u=this.l?_e(this.l):_e(Ee),this.a.onreadystatechange=k(this.Aa,this);try{this.B=!0,this.a.open(e,String(t),!0),this.B=!1}catch(o){return void Hn(this,o)}t=n||"";var i=new $e(this.headers);r&&ze(r,(function(t,e){i.set(e,t)})),r=A(i.L()),n=f.FormData&&t instanceof f.FormData,!(0<=S(Vn,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.G&&(this.a.withCredentials=this.G);try{Wn(this),0<this.s&&((this.F=Un(this.a))?(this.a.timeout=this.s,this.a.ontimeout=k(this.ya,this)):this.o=Qt(this.ya,this.s,this)),this.m=!0,this.a.send(t),this.m=!1}catch(o){Hn(this,o)}},c.ya=function(){"undefined"!=typeof h&&this.a&&(this.f="Timed out after "+this.s+"ms, aborting",this.h=8,Lt(this,"timeout"),this.abort(8))},c.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Lt(this,"complete"),Lt(this,"abort"),Gn(this))},c.H=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Gn(this,!0)),Fn.X.H.call(this)},c.Aa=function(){this.j||(this.B||this.m||this.g?$n(this):this.Za())},c.Za=function(){$n(this)},c.W=function(){try{return 2<Kn(this)?this.a.status:-1}catch(t){return-1}},c.$=function(){try{return this.a?this.a.responseText:""}catch(t){return""}},c.Qa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Pn(e)}},c.va=function(){return this.h},c.Ra=function(){return"string"===typeof this.f?this.f:String(this.f)},c=Yn.prototype,c.ia=8,c.v=1,c.Ca=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Ae(this,this.c,t,void 0),r=this.l;if(this.O&&(r?(r=V(r),q(r,this.O)):r=this.O),null===this.i&&(n.B=r),this.ea)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(o="__data__"in o.a&&(o=o.a.__data__,"string"===typeof o)?o.length:void 0,void 0===o)break;if(e+=o,4096<e){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=ar(this,n,e),i=Qe(this.B),nn(i,"RID",t),nn(i,"CVER",22),this.A&&nn(i,"X-HTTP-Session-Id",this.A),sr(this,i),this.i&&r&&Xn(i,this.i,r),In(this.b,n),this.Ja&&nn(i,"TYPE","init"),this.ea?(nn(i,"$req",e),nn(i,"SID","null"),n.U=!0,Me(n,i,null)):Me(n,i,e),this.v=2}}else 3==this.v&&(t?or(this,t):0==this.g.length||Cn(this.b)||or(this))},c.Ba=function(){if(this.j=null,hr(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=ye(k(this.Ya,this),t)}},c.Ya=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.F=!0,ve(10),tr(this),hr(this))},c.Xa=function(){null!=this.m&&(this.m=null,tr(this),cr(this),ve(19))},c.cb=function(t){t?(this.c.info("Successfully pinged google.com"),ve(2)):(this.c.info("Failed to ping google.com"),ve(1))},c=br.prototype,c.ua=function(){},c.ta=function(){},c.sa=function(){},c.ra=function(){},c.Ka=function(){},wr.prototype.a=function(t,e){return new kr(t,e)},E(kr,Rt),kr.prototype.h=function(){this.a.f=this.f,this.o&&(this.a.C=!0);var t=this.a,e=this.g,n=this.b||void 0;ve(0),t.ga=e,t.V=n||{},t.G=t.S,t.B=gr(t,null,t.ga),rr(t)},kr.prototype.close=function(){Zn(this.a)},kr.prototype.l=function(t){if("string"===typeof t){var e={};e.__data__=t,nr(this.a,e)}else this.m?(e={},e.__data__=Ft(t),nr(this.a,e)):nr(this.a,t)},kr.prototype.H=function(){this.a.f=null,delete this.f,Zn(this.a),delete this.a,kr.X.H.call(this)},E(_r,xe),E(Tr,Se),E(Er,br),Er.prototype.ua=function(){Lt(this.a,"a")},Er.prototype.ta=function(t){Lt(this.a,new _r(t))},Er.prototype.sa=function(t){Lt(this.a,new Tr(t))},Er.prototype.ra=function(){Lt(this.a,"b")},E(Cr,ke),Cr.prototype.a=function(){return new xr(this.f)},Cr.prototype.c=function(t){return function(){return t}}({}),E(xr,Rt);var Sr=0;function Ir(t){t.f.read().then(t.Ta.bind(t)).catch(t.ca.bind(t))}function Ar(t){t.readyState=4,t.g=null,t.f=null,t.m=null,Nr(t)}function Nr(t){t.onreadystatechange&&t.onreadystatechange.call(t)}c=xr.prototype,c.open=function(t,e){if(this.readyState!=Sr)throw this.abort(),Error("Error reopening a connection");this.s=t,this.o=e,this.readyState=1,Nr(this)},c.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.o,e)).then(this.Wa.bind(this),this.ca.bind(this))},c.abort=function(){this.responseText="",this.l=new Headers,this.status=0,this.f&&this.f.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,Ar(this)),this.readyState=Sr},c.Wa=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,Nr(this)),this.a&&(this.readyState=3,Nr(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.Ua.bind(this),this.ca.bind(this)):"undefined"!==typeof f.ReadableStream&&"body"in t?(this.responseText="",this.f=t.body.getReader(),this.m=new TextDecoder,Ir(this)):t.text().then(this.Va.bind(this),this.ca.bind(this)))))},c.Ta=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.responseText+=e),t.done?Ar(this):Nr(this),3==this.readyState&&Ir(this)}},c.Va=function(t){this.a&&(this.responseText=t,Ar(this))},c.Ua=function(){this.a&&Ar(this)},c.ca=function(){this.a&&Ar(this)},c.setRequestHeader=function(t,e){this.l.append(t,e)},c.getResponseHeader=function(t){return this.b&&this.b.get(t.toLowerCase())||""},c.getAllResponseHeaders=function(){if(!this.b)return"";for(var t=[],e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(xr.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),wr.prototype.createWebChannel=wr.prototype.a,kr.prototype.send=kr.prototype.l,kr.prototype.open=kr.prototype.h,kr.prototype.close=kr.prototype.close,be.NO_ERROR=0,be.TIMEOUT=8,be.HTTP_ERROR=6,we.COMPLETE="complete",Te.EventType=Ce,Ce.OPEN="a",Ce.CLOSE="b",Ce.ERROR="c",Ce.MESSAGE="d",Rt.prototype.listen=Rt.prototype.wa,Fn.prototype.listenOnce=Fn.prototype.xa,Fn.prototype.getLastError=Fn.prototype.Ra,Fn.prototype.getLastErrorCode=Fn.prototype.va,Fn.prototype.getStatus=Fn.prototype.W,Fn.prototype.getResponseJson=Fn.prototype.Qa,Fn.prototype.getResponseText=Fn.prototype.$,Fn.prototype.send=Fn.prototype.ba;var Or=function(){return new wr},Dr=function(){return fe()},Mr=be,Rr=we,Lr=le,Pr={lb:0,ob:1,pb:2,Ib:3,Nb:4,Kb:5,Lb:6,Jb:7,Hb:8,Mb:9,PROXY:10,NOPROXY:11,Fb:12,Bb:13,Cb:14,Ab:15,Db:16,Eb:17,hb:18,gb:19,ib:20},Fr=Cr,jr=Te,Br=Fn,Vr=(n(2801),n(2262),n(4506),n(2900)),Ur=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();Ur.o=-1;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var qr={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Hr=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return(0,Vr.ZT)(e,t),e}(Error),zr=new o.Yd("@firebase/firestore");function $r(){return zr.logLevel}function Gr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(zr.logLevel<=o["in"].DEBUG){var r=e.map(Jr);zr.debug.apply(zr,(0,Vr.ev)(["Firestore (8.6.5): "+t],r))}}function Wr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(zr.logLevel<=o["in"].ERROR){var r=e.map(Jr);zr.error.apply(zr,(0,Vr.ev)(["Firestore (8.6.5): "+t],r))}}function Kr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(zr.logLevel<=o["in"].WARN){var r=e.map(Jr);zr.warn.apply(zr,(0,Vr.ev)(["Firestore (8.6.5): "+t],r))}}function Jr(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}var e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xr(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.6.5) INTERNAL ASSERTION FAILED: "+t;throw Wr(e),new Error(e)}function Qr(t,e){t||Xr()}function Yr(t,e){return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ti=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Zr(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function ei(t,e){return t<e?-1:t>e?1:0}function ni(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function ri(t){return t+"\0"}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ii=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Hr(qr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Hr(qr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Hr(qr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Hr(qr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?ei(this.nanoseconds,t.nanoseconds):ei(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),oi=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new ii(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ai(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ui(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ci=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Xr(),void 0===n?n=t.length-e:n>t.length-e&&Xr(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),li=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Vr.ZT)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new Hr(qr.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.emptyPath=function(){return new e([])},e}(ci),hi=/^[_a-zA-Z][_a-zA-Z0-9]*$/,fi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Vr.ZT)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return hi.test(t)},e.prototype.canonicalString=function(){return this.toArray().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Hr(qr.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new Hr(qr.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Hr(qr.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Hr(qr.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(ci),pi=function(){function t(t){this.fields=t,t.sort(fi.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return ni(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),di=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return ei(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();di.EMPTY_BYTE_STRING=new di("");var mi=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vi(t){if(Qr(!!t),"string"==typeof t){var e=0,n=mi.exec(t);if(Qr(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:gi(t.seconds),nanos:gi(t.nanos)}}function gi(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function yi(t){return"string"==typeof t?di.fromBase64String(t):di.fromUint8Array(t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bi(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function wi(t){var e=t.mapValue.fields.__previous_value__;return bi(e)?wi(e):e}function ki(t){var e=vi(t.mapValue.fields.__local_write_time__.timestampValue);return new ii(e.seconds,e.nanos)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _i(t){return null==t}function Ti(t){return 0===t&&1/t==-1/0}function Ei(t){return"number"==typeof t&&Number.isInteger(t)&&!Ti(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ci=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(li.fromString(e))},t.fromName=function(e){return new t(li.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===li.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return li.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new li(e.slice()))},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?bi(t)?4:10:Xr()}function Si(t,e){var n=xi(t);if(n!==xi(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ki(t).isEqual(ki(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=vi(t.timestampValue),r=vi(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return yi(t.bytesValue).isEqual(yi(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return gi(t.geoPointValue.latitude)===gi(e.geoPointValue.latitude)&&gi(t.geoPointValue.longitude)===gi(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return gi(t.integerValue)===gi(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=gi(t.doubleValue),r=gi(e.doubleValue);return n===r?Ti(n)===Ti(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return ni(t.arrayValue.values||[],e.arrayValue.values||[],Si);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(si(n)!==si(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Si(n[i],r[i])))return!1;return!0}(t,e);default:return Xr()}}function Ii(t,e){return void 0!==(t.values||[]).find((function(t){return Si(t,e)}))}function Ai(t,e){var n=xi(t),r=xi(e);if(n!==r)return ei(n,r);switch(n){case 0:return 0;case 1:return ei(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=gi(t.integerValue||t.doubleValue),r=gi(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Ni(t.timestampValue,e.timestampValue);case 4:return Ni(ki(t),ki(e));case 5:return ei(t.stringValue,e.stringValue);case 6:return function(t,e){var n=yi(t),r=yi(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=ei(n[i],r[i]);if(0!==o)return o}return ei(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=ei(gi(t.latitude),gi(e.latitude));return 0!==n?n:ei(gi(t.longitude),gi(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Ai(n[i],r[i]);if(o)return o}return ei(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=ei(r[s],o[s]);if(0!==a)return a;var u=Ai(n[r[s]],i[o[s]]);if(0!==u)return u}return ei(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Xr()}}function Ni(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return ei(t,e);var n=vi(t),r=vi(e),i=ei(n.seconds,r.seconds);return 0!==i?i:ei(n.nanos,r.nanos)}function Oi(t){return Di(t)}function Di(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=vi(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?yi(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,Ci.fromName(n).toString()):"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=Di(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+Di(t.fields[o])}return e+"}"}(t.mapValue):Xr();var e,n}function Mi(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function Ri(t){return!!t&&"integerValue"in t}function Li(t){return!!t&&"arrayValue"in t}function Pi(t){return!!t&&"nullValue"in t}function Fi(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ji(t){return!!t&&"mapValue"in t}function Bi(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue)return{timestampValue:Object.assign({},vi(t.timestampValue))};if(t.mapValue){var e={mapValue:{fields:{}}};return ai(t.mapValue.fields,(function(t,n){return e.mapValue.fields[t]=Bi(n)})),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(t.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Bi(t.arrayValue.values[r]);return n}return Object.assign({},t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vi=function(){function t(t){this.value=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.value;for(var e=this.value,n=0;n<t.length-1;++n)if(!ji(e=(e.mapValue.fields||{})[t.get(n)]))return null;return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.set=function(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Bi(e)},t.prototype.setAll=function(t){var e=this,n=fi.emptyPath(),r={},i=[];t.forEach((function(t,o){if(!n.isImmediateParentOf(o)){var s=e.getFieldsMap(n);e.applyChanges(s,r,i),r={},i=[],n=o.popLast()}t?r[o.lastSegment()]=Bi(t):i.push(o.lastSegment())}));var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},t.prototype.delete=function(t){var e=this.field(t.popLast());ji(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]},t.prototype.isEqual=function(t){return Si(this.value,t.value)},t.prototype.getFieldsMap=function(t){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var n=0;n<t.length;++n){var r=e.mapValue.fields[t.get(n)];ji(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields},t.prototype.applyChanges=function(t,e,n){ai(e,(function(e,n){return t[e]=n}));for(var r=0,i=n;r<i.length;r++){var o=i[r];delete t[o]}},t.prototype.clone=function(){return new t(Bi(this.value))},t}();function Ui(t){var e=[];return ai(t.fields,(function(t,n){var r=new fi([t]);if(ji(n)){var i=Ui(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++){var a=s[o];e.push(r.child(a))}}else e.push(r)})),new pi(e)
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var qi=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,oi.min(),Vi.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,Vi.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,Vi.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Vi.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Vi.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),Hi=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.h=null};
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zi(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new Hi(t,e,n,r,i,o,s)}function $i(t){var e=Yr(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.canonicalString()+t.op.toString()+Oi(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.canonicalString()+t.dir}(t)})).join(","),_i(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=io(e.startAt)),e.endAt&&(n+="|ub:",n+=io(e.endAt)),e.h=n}return e.h}function Gi(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!so(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if(i=t.filters[r],o=e.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!Si(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!uo(t.startAt,e.startAt)&&uo(t.endAt,e.endAt)}function Wi(t){return Ci.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Ki=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return(0,Vr.ZT)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new Ji(t,n,r):"array-contains"===n?new Zi(t,r):"in"===n?new to(t,r):"not-in"===n?new eo(t,r):"array-contains-any"===n?new no(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new Xi(t,n):new Qi(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(Ai(e,this.value)):null!==e&&xi(this.value)===xi(e)&&this.m(Ai(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Xr()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),Ji=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Ci.fromName(r.referenceValue),i}return(0,Vr.ZT)(e,t),e.prototype.matches=function(t){var e=Ci.comparator(t.key,this.key);return this.m(e)},e}(Ki),Xi=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Yi("in",n),r}return(0,Vr.ZT)(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Ki),Qi=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Yi("not-in",n),r}return(0,Vr.ZT)(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Ki);function Yi(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return Ci.fromName(t.referenceValue)}))}var Zi=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return(0,Vr.ZT)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return Li(e)&&Ii(e.arrayValue,this.value)},e}(Ki),to=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return(0,Vr.ZT)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&Ii(this.value.arrayValue,e)},e}(Ki),eo=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return(0,Vr.ZT)(e,t),e.prototype.matches=function(t){if(Ii(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!Ii(this.value.arrayValue,e)},e}(Ki),no=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return(0,Vr.ZT)(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!Li(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return Ii(e.value.arrayValue,t)}))},e}(Ki),ro=function(t,e){this.position=t,this.before=e};function io(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return Oi(t)})).join(",")}var oo=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function so(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function ao(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.isKeyField()?Ci.comparator(Ci.fromName(s.referenceValue),n.key):Ai(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function uo(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Si(t.position[n],e.position[n]))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var co=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.p=null,this.T=null,this.startAt,this.endAt};function lo(t,e,n,r,i,o,s,a){return new co(t,e,n,r,i,o,s,a)}function ho(t){return new co(t)}function fo(t){return!_i(t.limit)&&"F"===t.limitType}function po(t){return!_i(t.limit)&&"L"===t.limitType}function mo(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function vo(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function go(t){return null!==t.collectionGroup}function yo(t){var e=Yr(t);if(null===e.p){e.p=[];var n=vo(e),r=mo(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new oo(n)),e.p.push(new oo(fi.keyField(),"asc"));else{for(var i=!1,o=0,s=e.explicitOrderBy;o<s.length;o++){var a=s[o];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new oo(fi.keyField(),u))}}}return e.p}function bo(t){var e=Yr(t);if(!e.T)if("F"===e.limitType)e.T=zi(e.path,e.collectionGroup,yo(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=yo(e);r<i.length;r++){var o=i[r],s="desc"===o.dir?"asc":"desc";n.push(new oo(o.field,s))}var a=e.endAt?new ro(e.endAt.position,!e.endAt.before):null,u=e.startAt?new ro(e.startAt.position,!e.startAt.before):null;e.T=zi(e.path,e.collectionGroup,n,e.filters,e.limit,a,u)}return e.T}function wo(t,e,n){return new co(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ko(t,e){return Gi(bo(t),bo(e))&&t.limitType===e.limitType}function _o(t){return $i(bo(t))+"|lt:"+t.limitType}function To(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.canonicalString()+" "+e.op+" "+Oi(e.value);var e})).join(", ")+"]"),_i(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+io(t.startAt)),t.endAt&&(e+=", endAt: "+io(t.endAt)),"Target("+e+")"}(bo(t))+"; limitType="+t.limitType+")"}function Eo(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):Ci.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!ao(t.startAt,yo(t),e))&&(!t.endAt||!ao(t.endAt,yo(t),e))}(t,e)}function Co(t){return function(e,n){for(var r=!1,i=0,o=yo(t);i<o.length;i++){var s=o[i],a=xo(s,e,n);if(0!==a)return a;r=r||s.field.isKeyField()}return 0}}function xo(t,e,n){var r=t.field.isKeyField()?Ci.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?Ai(r,i):Xr()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Xr()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function So(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ti(e)?"-0":e}}function Io(t){return{integerValue:""+t}}function Ao(t,e){return Ei(e)?Io(e):So(t,e)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var No=function(){this._=void 0};function Oo(t,e,n){return t instanceof Ro?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Lo?Po(t,e):t instanceof Fo?jo(t,e):function(t,e){var n=Mo(t,e),r=Vo(n)+Vo(t.A);return Ri(n)&&Ri(t.A)?Io(r):So(t.R,r)}(t,e)}function Do(t,e,n){return t instanceof Lo?Po(t,e):t instanceof Fo?jo(t,e):n}function Mo(t,e){return t instanceof Bo?Ri(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Ro=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Vr.ZT)(e,t),e}(No),Lo=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return(0,Vr.ZT)(e,t),e}(No);function Po(t,e){for(var n=Uo(e),r=function(t){n.some((function(e){return Si(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Fo=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return(0,Vr.ZT)(e,t),e}(No);function jo(t,e){for(var n=Uo(e),r=function(t){n=n.filter((function(e){return!Si(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Bo=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return(0,Vr.ZT)(e,t),e}(No);function Vo(t){return gi(t.integerValue||t.doubleValue)}function Uo(t){return Li(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qo=function(t,e){this.field=t,this.transform=e},Ho=function(t,e){this.version=t,this.transformResults=e},zo=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function $o(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var Go=function(){};function Wo(t,e,n){t instanceof Yo?function(t,e,n){var r=t.value.clone(),i=es(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof Zo?function(t,e,n){if($o(t.precondition,e)){var r=es(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(ts(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function Ko(t,e,n){t instanceof Yo?function(t,e,n){if($o(t.precondition,e)){var r=t.value.clone(),i=ns(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(Qo(e),r).setHasLocalMutations()}}(t,e,n):t instanceof Zo?function(t,e,n){if($o(t.precondition,e)){var r=ns(t.fieldTransforms,n,e),i=e.data;i.setAll(ts(t)),i.setAll(r),e.convertToFoundDocument(Qo(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){$o(t.precondition,e)&&e.convertToNoDocument(oi.min())}(t,e)}function Jo(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e.data.field(o.field),a=Mo(o.transform,s||null);null!=a&&(null==n&&(n=Vi.empty()),n.set(o.field,a))}return n||null}function Xo(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&ni(t,e,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Lo&&e instanceof Lo||t instanceof Fo&&e instanceof Fo?ni(t.elements,e.elements,Si):t instanceof Bo&&e instanceof Bo?Si(t.A,e.A):t instanceof Ro&&e instanceof Ro}(t.transform,e.transform)}(t,e)}))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function Qo(t){return t.isFoundDocument()?t.version:oi.min()}var Yo=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return(0,Vr.ZT)(e,t),e}(Go),Zo=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.fieldMask=r,s.precondition=i,s.fieldTransforms=o,s.type=1,s}return(0,Vr.ZT)(e,t),e}(Go);function ts(t){var e=new Map;return t.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}})),e}function es(t,e,n){var r=new Map;Qr(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,Do(s,a,n[i]))}return r}function ns(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var s=o[i],a=s.transform,u=n.data.field(s.field);r.set(s.field,Oo(a,u,e))}return r}var rs,is,os=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return(0,Vr.ZT)(e,t),e}(Go),ss=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return(0,Vr.ZT)(e,t),e}(Go),as=function(t){this.count=t};function us(t){switch(t){case qr.OK:return Xr();case qr.CANCELLED:case qr.UNKNOWN:case qr.DEADLINE_EXCEEDED:case qr.RESOURCE_EXHAUSTED:case qr.INTERNAL:case qr.UNAVAILABLE:case qr.UNAUTHENTICATED:return!1;case qr.INVALID_ARGUMENT:case qr.NOT_FOUND:case qr.ALREADY_EXISTS:case qr.PERMISSION_DENIED:case qr.FAILED_PRECONDITION:case qr.ABORTED:case qr.OUT_OF_RANGE:case qr.UNIMPLEMENTED:case qr.DATA_LOSS:return!0;default:return Xr()}}function cs(t){if(void 0===t)return Wr("GRPC error has no .code"),qr.UNKNOWN;switch(t){case rs.OK:return qr.OK;case rs.CANCELLED:return qr.CANCELLED;case rs.UNKNOWN:return qr.UNKNOWN;case rs.DEADLINE_EXCEEDED:return qr.DEADLINE_EXCEEDED;case rs.RESOURCE_EXHAUSTED:return qr.RESOURCE_EXHAUSTED;case rs.INTERNAL:return qr.INTERNAL;case rs.UNAVAILABLE:return qr.UNAVAILABLE;case rs.UNAUTHENTICATED:return qr.UNAUTHENTICATED;case rs.INVALID_ARGUMENT:return qr.INVALID_ARGUMENT;case rs.NOT_FOUND:return qr.NOT_FOUND;case rs.ALREADY_EXISTS:return qr.ALREADY_EXISTS;case rs.PERMISSION_DENIED:return qr.PERMISSION_DENIED;case rs.FAILED_PRECONDITION:return qr.FAILED_PRECONDITION;case rs.ABORTED:return qr.ABORTED;case rs.OUT_OF_RANGE:return qr.OUT_OF_RANGE;case rs.UNIMPLEMENTED:return qr.UNIMPLEMENTED;case rs.DATA_LOSS:return qr.DATA_LOSS;default:return Xr()}}(is=rs||(rs={}))[is.OK=0]="OK",is[is.CANCELLED=1]="CANCELLED",is[is.UNKNOWN=2]="UNKNOWN",is[is.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",is[is.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",is[is.NOT_FOUND=5]="NOT_FOUND",is[is.ALREADY_EXISTS=6]="ALREADY_EXISTS",is[is.PERMISSION_DENIED=7]="PERMISSION_DENIED",is[is.UNAUTHENTICATED=16]="UNAUTHENTICATED",is[is.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",is[is.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",is[is.ABORTED=10]="ABORTED",is[is.OUT_OF_RANGE=11]="OUT_OF_RANGE",is[is.UNIMPLEMENTED=12]="UNIMPLEMENTED",is[is.INTERNAL=13]="INTERNAL",is[is.UNAVAILABLE=14]="UNAVAILABLE",is[is.DATA_LOSS=15]="DATA_LOSS";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ls=function(){function t(t,e){this.comparator=t,this.root=e||fs.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,fs.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fs.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.inorderTraversal((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new hs(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new hs(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new hs(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new hs(this.root,t,this.comparator,!0)},t}(),hs=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),fs=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Xr();if(this.right.isRed())throw Xr();var t=this.left.check();if(t!==this.right.check())throw Xr();return t+(this.isRed()?0:1)},t}();fs.EMPTY=null,fs.RED=!0,fs.BLACK=!1,fs.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Xr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Xr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Xr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Xr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Xr()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new fs(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ps=function(){function t(t){this.comparator=t,this.data=new ls(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new ds(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new ds(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),ds=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),ms=new ls(Ci.comparator);function vs(){return ms}var gs=new ls(Ci.comparator);function ys(){return gs}var bs=new ls(Ci.comparator);function ws(){return bs}var ks=new ps(Ci.comparator);function _s(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=ks,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Ts=new ps(ei);function Es(){return Ts}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cs=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,xs.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(oi.min(),r,Es(),vs(),_s())},t}(),xs=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(di.EMPTY_BYTE_STRING,n,_s(),_s(),_s())},t}(),Ss=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},Is=function(t,e){this.targetId=t,this.V=e},As=function(t,e,n,r){void 0===n&&(n=di.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Ns=function(){function t(){this.S=0,this.D=Ms(),this.C=di.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.O=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},t.prototype.M=function(){var t=_s(),e=_s(),n=_s();return this.D.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Xr()}})),new xs(this.C,this.N,t,e,n)},t.prototype.L=function(){this.F=!1,this.D=Ms()},t.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),Os=function(){function t(t){this.W=t,this.G=new Map,this.H=vs(),this.J=Ds(),this.Y=new ps(ei)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)r=o[i],this.tt(r,t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,(function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.O(t.resumeToken);break;case 1:r.K(),r.k||r.L(),r.O(t.resumeToken);break;case 2:r.K(),r.k||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.O(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.O(t.resumeToken));break;default:Xr()}}))},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach((function(t,r){n.st(r)&&e(r)}))},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(Wi(i))if(0===n){var o=new Ci(i.path);this.tt(e,o,qi.newNoDocument(o,oi.min()))}else Qr(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach((function(r,i){var o=e.ot(i);if(o){if(r.current&&Wi(o.target)){var s=new Ci(o.target.path);null!==e.H.get(s)||e.at(i,s)||e.tt(i,s,qi.newNoDocument(s,t))}r.$&&(n.set(i,r.M()),r.L())}}));var r=_s();this.J.forEach((function(t,n){var i=!0;n.forEachWhile((function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new Cs(t,n,this.Y,this.H,r);return this.H=vs(),this.J=Ds(),this.Y=new ps(ei),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new Ns,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new ps(ei),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||Gr("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new Ns),this.W.getRemoteKeysForTarget(t).forEach((function(n){e.tt(t,n,null)}))},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function Ds(){return new ls(Ci.comparator)}function Ms(){return new ls(Ci.comparator)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rs={asc:"ASCENDING",desc:"DESCENDING"},Ls={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ps=function(t,e){this.databaseId=t,this.I=e};function Fs(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function js(t,e){return t.I?e.toBase64():e.toUint8Array()}function Bs(t,e){return Fs(t,e.toTimestamp())}function Vs(t){return Qr(!!t),oi.fromTimestamp(function(t){var e=vi(t);return new ii(e.seconds,e.nanos)}(t))}function Us(t,e){return function(t){return new li(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function qs(t){var e=li.fromString(t);return Qr(fa(e)),e}function Hs(t,e){return Us(t.databaseId,e.path)}function zs(t,e){var n=qs(e);if(n.get(1)!==t.databaseId.projectId)throw new Hr(qr.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Hr(qr.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ci(Ks(n))}function $s(t,e){return Us(t.databaseId,e)}function Gs(t){var e=qs(t);return 4===e.length?li.emptyPath():Ks(e)}function Ws(t){return new li(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Ks(t){return Qr(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Js(t,e,n){return{name:Hs(t,e),fields:n.value.mapValue.fields}}function Xs(t,e,n){var r=zs(t,e.name),i=Vs(e.updateTime),o=new Vi({mapValue:{fields:e.fields}}),s=qi.newFoundDocument(r,i,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function Qs(t,e){var n;if(e instanceof Yo)n={update:Js(t,e.key,e.value)};else if(e instanceof os)n={delete:Hs(t,e.key)};else if(e instanceof Zo)n={update:Js(t,e.key,e.data),updateMask:ha(e.fieldMask)};else{if(!(e instanceof ss))return Xr();n={verify:Hs(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof Ro)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Lo)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Fo)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Bo)return{fieldPath:e.field.canonicalString(),increment:n.A};throw Xr()}(0,t)}))),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Bs(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Xr()}(t,e.precondition)),n}function Ys(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?zo.updateTime(Vs(t.updateTime)):void 0!==t.exists?zo.exists(t.exists):zo.none()}(e.currentDocument):zo.none(),r=e.updateTransforms?e.updateTransforms.map((function(e){return function(t,e){var n=null;if("setToServerValue"in e)Qr("REQUEST_TIME"===e.setToServerValue),n=new Ro;else if("appendMissingElements"in e){var r=e.appendMissingElements.values||[];n=new Lo(r)}else if("removeAllFromArray"in e){var i=e.removeAllFromArray.values||[];n=new Fo(i)}else"increment"in e?n=new Bo(t,e.increment):Xr();var o=fi.fromServerFormat(e.fieldPath);return new qo(o,n)}(t,e)})):[];if(e.update){e.update.name;var i=zs(t,e.update.name),o=new Vi({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){var e=t.fieldPaths||[];return new pi(e.map((function(t){return fi.fromServerFormat(t)})))}(e.updateMask);return new Zo(i,o,s,n,r)}return new Yo(i,o,n,r)}if(e.delete){var a=zs(t,e.delete);return new os(a,n)}if(e.verify){var u=zs(t,e.verify);return new ss(u,n)}return Xr()}function Zs(t,e){return{documents:[$s(t,e.path)]}}function ta(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=$s(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=$s(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(Fi(t.value))return{unaryFilter:{field:aa(t.field),op:"IS_NAN"}};if(Pi(t.value))return{unaryFilter:{field:aa(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Fi(t.value))return{unaryFilter:{field:aa(t.field),op:"IS_NOT_NAN"}};if(Pi(t.value))return{unaryFilter:{field:aa(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:aa(t.field),op:sa(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:aa(t.field),direction:oa(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.I||_i(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=ra(e.startAt)),e.endAt&&(n.structuredQuery.endAt=ra(e.endAt)),n}function ea(t){var e=Gs(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Qr(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=na(n.where));var a=[];n.orderBy&&(a=n.orderBy.map((function(t){return function(t){return new oo(ua(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var u=null;n.limit&&(u=function(t){var e;return _i(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=ia(n.startAt));var l=null;return n.endAt&&(l=ia(n.endAt)),lo(e,i,a,s,u,"F",c,l)}function na(t){return t?void 0!==t.unaryFilter?[la(t)]:void 0!==t.fieldFilter?[ca(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return na(t)})).reduce((function(t,e){return t.concat(e)})):Xr():[]}function ra(t){return{before:t.before,values:t.position}}function ia(t){var e=!!t.before,n=t.values||[];return new ro(n,e)}function oa(t){return Rs[t]}function sa(t){return Ls[t]}function aa(t){return{fieldPath:t.canonicalString()}}function ua(t){return fi.fromServerFormat(t.fieldPath)}function ca(t){return Ki.create(ua(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Xr()}}(t.fieldFilter.op),t.fieldFilter.value)}function la(t){switch(t.unaryFilter.op){case"IS_NAN":var e=ua(t.unaryFilter.field);return Ki.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=ua(t.unaryFilter.field);return Ki.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=ua(t.unaryFilter.field);return Ki.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=ua(t.unaryFilter.field);return Ki.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Xr()}}function ha(t){var e=[];return t.fields.forEach((function(t){return e.push(t.canonicalString())})),{fieldPaths:e}}function fa(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pa(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=ma(e)),e=da(t.get(n),e);return ma(e)}function da(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function ma(t){return t+""}function va(t){var e=t.length;if(Qr(e>=2),2===e)return Qr(""===t.charAt(0)&&""===t.charAt(1)),li.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("",o);switch((s<0||s>n)&&Xr(),t.charAt(s+1)){case"":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"":i+=t.substring(o,s),i+="\0";break;case"":i+=t.substring(o,s+1);break;default:Xr()}o=s+2}return new li(r)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ga=function(t,e){this.seconds=t,this.nanoseconds=e},ya=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};ya.store="owner",ya.key="owner";var ba=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};ba.store="mutationQueues",ba.keyPath="userId";var wa=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};wa.store="mutations",wa.keyPath="batchId",wa.userMutationsIndex="userMutationsIndex",wa.userMutationsKeyPath=["userId","batchId"];var ka=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,pa(e)]},t.key=function(t,e,n){return[t,pa(e),n]},t}();ka.store="documentMutations",ka.PLACEHOLDER=new ka;var _a=function(t,e){this.path=t,this.readTime=e},Ta=function(t,e){this.path=t,this.version=e},Ea=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Ea.store="remoteDocuments",Ea.readTimeIndex="readTimeIndex",Ea.readTimeIndexPath="readTime",Ea.collectionReadTimeIndex="collectionReadTimeIndex",Ea.collectionReadTimeIndexPath=["parentPath","readTime"];var Ca=function(t){this.byteSize=t};Ca.store="remoteDocumentGlobal",Ca.key="remoteDocumentGlobalKey";var xa=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};xa.store="targets",xa.keyPath="targetId",xa.queryTargetsIndexName="queryTargetsIndex",xa.queryTargetsKeyPath=["canonicalId","targetId"];var Sa=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Sa.store="targetDocuments",Sa.keyPath=["targetId","path"],Sa.documentTargetsIndex="documentTargetsIndex",Sa.documentTargetsKeyPath=["path","targetId"];var Ia=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Ia.key="targetGlobalKey",Ia.store="targetGlobal";var Aa=function(t,e){this.collectionId=t,this.parent=e};Aa.store="collectionParents",Aa.keyPath=["collectionId","parent"];var Na=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Na.store="clientMetadata",Na.keyPath="clientId";var Oa=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Oa.store="bundles",Oa.keyPath="bundleId";var Da=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Da.store="namedQueries",Da.keyPath="name";var Ma=(0,Vr.ev)((0,Vr.ev)([],(0,Vr.ev)((0,Vr.ev)([],(0,Vr.ev)((0,Vr.ev)([],(0,Vr.ev)((0,Vr.ev)([],[ba.store,wa.store,ka.store,Ea.store,xa.store,ya.store,Ia.store,Sa.store]),[Na.store])),[Ca.store])),[Aa.store])),[Oa.store,Da.store]),Ra="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",La=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(t){return t()}))},t}(),Pa=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},Fa=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)}),(function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&Xr(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}}))},t.prototype.toPromise=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.waitFor=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.waitFor(r)},t}(),ja=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new Pa,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new Ua(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=Ga(e.target.error);n.ft.reject(new Ua(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Ua(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(Gr("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Ha(e)},t}(),Ba=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t((0,i.z$)())&&Wr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Gr("SimpleDb","Removing database:",t),za(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=(0,i.z$)(),n=t._t(e),r=0<n&&n<10,o=t.Et(e),s=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t={NODE_ENV:"production",BASE_URL:"/"})||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return(0,Vr.mG)(this,void 0,void 0,(function(){var e,n=this;return(0,Vr.Jh)(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(Gr("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Ua(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Hr(qr.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new Ua(t,n))},i.onupgradeneeded=function(t){Gr("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion);var e=t.target.result;n.wt.Rt(e,i.transaction,t.oldVersion,n.version).next((function(){Gr("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}}))}))},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return(0,Vr.mG)(this,void 0,void 0,(function(){var i,o,s,a,u;return(0,Vr.Jh)(this,(function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,u,c,l;return(0,Vr.Jh)(this,(function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.At(t)];case 2:return a.db=h.sent(),e=ja.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch((function(t){return e.abort(t),Fa.reject(t)})).toPromise(),u={},s.catch((function(){})),[4,e.dt];case 3:return[2,(u.value=(h.sent(),s),u)];case 4:return c=h.sent(),l="FirebaseError"!==c.name&&o<3,Gr("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Va=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return za(this.Pt.delete())},t}(),Ua=function(t){function e(e,n){var r=this;return(r=t.call(this,qr.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return(0,Vr.ZT)(e,t),e}(Hr);function qa(t){return"IndexedDbTransactionError"===t.name}var Ha=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Gr("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Gr("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),za(n)},t.prototype.add=function(t){return Gr("SimpleDb","ADD",this.store.name,t,t),za(this.store.add(t))},t.prototype.get=function(t){var e=this;return za(this.store.get(t)).next((function(n){return void 0===n&&(n=null),Gr("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return Gr("SimpleDb","DELETE",this.store.name,t),za(this.store.delete(t))},t.prototype.count=function(){return Gr("SimpleDb","COUNT",this.store.name),za(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.Ft=function(t,e){Gr("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.kt=!1;var r=this.cursor(n);return this.xt(r,(function(t,e,n){return n.delete()}))},t.prototype.$t=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.Ot=function(t){var e=this.cursor({});return new Fa((function(n,r){e.onerror=function(t){var e=Ga(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.xt=function(t,e){var n=[];return new Fa((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Va(i),s=e(i.primaryKey,i.value,o);if(s instanceof Fa){var a=s.catch((function(t){return o.done(),Fa.reject(t)}));n.push(a)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return Fa.waitFor(n)}))},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function za(t){return new Fa((function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){var e=Ga(t.target.error);n(e)}}))}var $a=!1;function Ga(t){var e=Ba._t((0,i.z$)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Hr("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return $a||($a=!0,setTimeout((function(){throw r}),0)),r}}return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wa=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return(0,Vr.ZT)(e,t),e}(La);function Ka(t,e){var n=Yr(t);return Ba.It(n.Mt,e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ja=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&Wo(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&Ko(o,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(t.key)&&Ko(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach((function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(oi.min())}))},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),_s())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&ni(this.mutations,t.mutations,(function(t,e){return Xo(t,e)}))&&ni(this.baseMutations,t.baseMutations,(function(t,e){return Xo(t,e)}))},t}(),Xa=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){Qr(e.mutations.length===r.length);for(var i=ws(),o=e.mutations,s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),Qa=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=oi.min()),void 0===o&&(o=oi.min()),void 0===s&&(s=di.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),Ya=function(t){this.Lt=t};function Za(t,e){if(e.document)return Xs(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Ci.fromSegments(e.noDocument.path),r=iu(e.noDocument.readTime),i=qi.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=Ci.fromSegments(e.unknownDocument.path);return r=iu(e.unknownDocument.version),qi.newUnknownDocument(o,r)}return Xr()}function tu(t,e,n){var r=eu(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(t,e){return{name:Hs(t,e.key),fields:e.data.value.mapValue.fields,updateTime:Fs(t,e.version.toTimestamp())}}(t.Lt,e),s=e.hasCommittedMutations;return new Ea(null,null,o,s,r,i)}if(e.isNoDocument()){var a=e.key.path.toArray(),u=ru(e.version);return s=e.hasCommittedMutations,new Ea(null,new _a(a,u),null,s,r,i)}if(e.isUnknownDocument()){var c=e.key.path.toArray(),l=ru(e.version);return new Ea(new Ta(c,l),null,null,!0,r,i)}return Xr()}function eu(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function nu(t){var e=new ii(t[0],t[1]);return oi.fromTimestamp(e)}function ru(t){var e=t.toTimestamp();return new ga(e.seconds,e.nanoseconds)}function iu(t){var e=new ii(t.seconds,t.nanoseconds);return oi.fromTimestamp(e)}function ou(t,e){for(var n=(e.baseMutations||[]).map((function(e){return Ys(t.Lt,e)})),r=0;r<e.mutations.length-1;++r){var i=e.mutations[r];if(r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform){var o=e.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,e.mutations.splice(r+1,1),++r}}var s=e.mutations.map((function(e){return Ys(t.Lt,e)})),a=ii.fromMillis(e.localWriteTimeMs);return new Ja(e.batchId,a,n,s)}function su(t){var e,n,r=iu(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?iu(t.lastLimboFreeSnapshotVersion):oi.min();return void 0!==t.query.documents?(Qr(1===(n=t.query).documents.length),e=bo(ho(Gs(n.documents[0])))):e=function(t){return bo(ea(t))}(t.query),new Qa(e,t.targetId,0,t.lastListenSequenceNumber,r,i,di.fromBase64String(t.resumeToken))}function au(t,e){var n,r=ru(e.snapshotVersion),i=ru(e.lastLimboFreeSnapshotVersion);n=Wi(e.target)?Zs(t.Lt,e.target):ta(t.Lt,e.target);var o=e.resumeToken.toBase64();return new xa(e.targetId,$i(e.target),r,o,e.sequenceNumber,i,n)}function uu(t){var e=ea({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?wo(e,e.limit,"L"):e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cu=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return lu(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:iu(e.createTime),version:e.version};var e}))},t.prototype.saveBundleMetadata=function(t,e){return lu(t).put({bundleId:(n=e).id,createTime:ru(Vs(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return hu(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:uu(e.bundledQuery),readTime:iu(e.readTime)};var e}))},t.prototype.saveNamedQuery=function(t,e){return hu(t).put(function(t){return{name:t.name,readTime:ru(Vs(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function lu(t){return Ka(t,Oa.store)}function hu(t){return Ka(t,Da.store)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fu=function(){function t(){this.Bt=new pu}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),Fa.resolve()},t.prototype.getCollectionParents=function(t,e){return Fa.resolve(this.Bt.getEntries(e))},t}(),pu=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new ps(li.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new ps(li.comparator)).toArray()},t}(),du=function(){function t(){this.qt=new pu}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener((function(){n.qt.add(e)}));var o={collectionId:r,parent:pa(i)};return mu(t).put(o)}return Fa.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[ri(e),""],!1,!0);return mu(t).Nt(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(va(o.parent))}return n}))},t}();function mu(t){return Ka(t,Aa.store)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vu={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},gu=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yu(t,e,n){var r=t.store(wa.store),i=t.store(ka.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.$t({range:s},(function(t,e,n){return a++,n.delete()}));o.push(u.next((function(){Qr(1===a)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],p=ka.key(e,f.key.path,n.batchId);o.push(i.delete(p)),c.push(f.key)}return Fa.waitFor(o).next((function(){return c}))}function bu(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Xr();e=t.noDocument}return JSON.stringify(e).length}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gu.DEFAULT_COLLECTION_PERCENTILE=10,gu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gu.DEFAULT=new gu(41943040,gu.DEFAULT_COLLECTION_PERCENTILE,gu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gu.DISABLED=new gu(-1,0,0);var wu=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Qt={}}return t.Kt=function(e,n,r,i){return Qr(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return _u(t).$t({index:wa.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=Tu(t),s=_u(t);return s.add({}).next((function(a){Qr("number"==typeof a);for(var u=new Ja(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return Qs(t.Lt,e)})),i=n.mutations.map((function(e){return Qs(t.Lt,e)}));return new wa(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new ps((function(t,e){return ei(t.canonicalString(),e.canonicalString())})),f=0,p=r;f<p.length;f++){var d=p[f],m=ka.key(i.userId,d.key.path,a);h=h.add(d.key.path.popLast()),l.push(s.put(c)),l.push(o.put(m,ka.PLACEHOLDER))}return h.forEach((function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))})),t.addOnCommittedListener((function(){i.Qt[a]=u.keys()})),Fa.waitFor(l).next((function(){return u}))}))},t.prototype.lookupMutationBatch=function(t,e){var n=this;return _u(t).get(e).next((function(t){return t?(Qr(t.userId===n.userId),ou(n.R,t)):null}))},t.prototype.jt=function(t,e){var n=this;return this.Qt[e]?Fa.resolve(this.Qt[e]):this.lookupMutationBatch(t,e).next((function(t){if(t){var r=t.keys();return n.Qt[e]=r,r}return null}))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return _u(t).$t({index:wa.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(Qr(e.batchId>=r),o=ou(n.R,e)),i.done()})).next((function(){return o}))},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return _u(t).$t({index:wa.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return _u(t).Nt(wa.userMutationsIndex,n).next((function(t){return t.map((function(t){return ou(e.R,t)}))}))},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=ka.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Tu(t).$t({range:i},(function(r,i,s){var a=r[0],u=r[1],c=r[2],l=va(u);if(a===n.userId&&e.path.isEqual(l))return _u(t).get(c).next((function(t){if(!t)throw Xr();Qr(t.userId===n.userId),o.push(ou(n.R,t))}));s.done()})).next((function(){return o}))},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new ps(ei),i=[];return e.forEach((function(e){var o=ka.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=Tu(t).$t({range:s},(function(t,i,o){var s=t[0],a=t[1],u=t[2],c=va(a);s===n.userId&&e.path.isEqual(c)?r=r.add(u):o.done()}));i.push(a)})),Fa.waitFor(i).next((function(){return n.Wt(t,r)}))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=ka.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new ps(ei);return Tu(t).$t({range:s},(function(t,e,o){var s=t[0],u=t[1],c=t[2],l=va(u);s===n.userId&&r.isPrefixOf(l)?l.length===i&&(a=a.add(c)):o.done()})).next((function(){return n.Wt(t,a)}))},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(_u(t).get(e).next((function(t){if(null===t)throw Xr();Qr(t.userId===n.userId),r.push(ou(n.R,t))})))})),Fa.waitFor(i).next((function(){return r}))},t.prototype.removeMutationBatch=function(t,e){var n=this;return yu(t.Mt,this.userId,e).next((function(r){return t.addOnCommittedListener((function(){n.Gt(e.batchId)})),Fa.forEach(r,(function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)}))}))},t.prototype.Gt=function(t){delete this.Qt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next((function(n){if(!n)return Fa.resolve();var r=IDBKeyRange.lowerBound(ka.prefixForUser(e.userId)),i=[];return Tu(t).$t({range:r},(function(t,n,r){if(t[0]===e.userId){var o=va(t[1]);i.push(o)}else r.done()})).next((function(){Qr(0===i.length)}))}))},t.prototype.containsKey=function(t,e){return ku(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return Eu(t).get(this.userId).next((function(t){return t||new ba(e.userId,-1,"")}))},t}();function ku(t,e,n){var r=ka.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return Tu(t).$t({range:o,kt:!0},(function(t,n,r){var o=t[0],a=t[1];t[2],o===e&&a===i&&(s=!0),r.done()})).next((function(){return s}))}function _u(t){return Ka(t,wa.store)}function Tu(t){return Ka(t,ka.store)}function Eu(t){return Ka(t,ba.store)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cu=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),xu=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next((function(n){var r=new Cu(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next((function(t){return oi.fromTimestamp(new ii(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)}))},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next((function(){return n.Xt(t).next((function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)}))}))},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next((function(){return Su(t).delete(e.targetId)})).next((function(){return n.Xt(t)})).next((function(e){return Qr(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)}))},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return Su(t).$t((function(s,a){var u=su(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))})).next((function(){return Fa.waitFor(o)})).next((function(){return i}))},t.prototype.forEachTarget=function(t,e){return Su(t).$t((function(t,n){var r=su(n);e(r)}))},t.prototype.Xt=function(t){return Iu(t).get(Ia.key).next((function(t){return Qr(null!==t),t}))},t.prototype.Zt=function(t,e){return Iu(t).put(Ia.key,e)},t.prototype.te=function(t,e){return Su(t).put(au(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next((function(t){return t.targetCount}))},t.prototype.getTargetData=function(t,e){var n=$i(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Su(t).$t({range:r,index:xa.queryTargetsIndexName},(function(t,n,r){var o=su(n);Gi(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=Au(t);return e.forEach((function(e){var s=pa(e.path);i.push(o.put(new Sa(n,s))),i.push(r.referenceDelegate.addReference(t,n,e))})),Fa.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=Au(t);return Fa.forEach(e,(function(e){var o=pa(e.path);return Fa.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])}))},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=Au(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Au(t),i=_s();return r.$t({range:n,kt:!0},(function(t,e,n){var r=va(t[1]),o=new Ci(r);i=i.add(o)})).next((function(){return i}))},t.prototype.containsKey=function(t,e){var n=pa(e.path),r=IDBKeyRange.bound([n],[ri(n)],!1,!0),i=0;return Au(t).$t({index:Sa.documentTargetsIndex,kt:!0,range:r},(function(t,e,n){var r=t[0];t[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.lt=function(t,e){return Su(t).get(e).next((function(t){return t?su(t):null}))},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Su(t){return Ka(t,xa.store)}function Iu(t){return Ka(t,Ia.store)}function Au(t){return Ka(t,Sa.store)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nu(t){return(0,Vr.mG)(this,void 0,void 0,(function(){return(0,Vr.Jh)(this,(function(e){if(t.code!==qr.FAILED_PRECONDITION||t.message!==Ra)throw t;return Gr("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ou(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],s=ei(n,i);return 0===s?ei(r,o):s}var Du=function(){function t(t){this.ne=t,this.buffer=new ps(Ou),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Ou(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Mu=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;Gr("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return(0,Vr.mG)(e,void 0,void 0,(function(){var e;return(0,Vr.Jh)(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return qa(e=n.sent())?(Gr("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Nu(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),Ru=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return Fa.resolve(Ur.o);var r=new Du(e);return this.ae.forEachTarget(t,(function(t){return r.re(t.sequenceNumber)})).next((function(){return n.ae.le(t,(function(t){return r.re(t)}))})).next((function(){return r.maxValue}))},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Gr("LruGarbageCollector","Garbage collection skipped; disabled"),Fa.resolve(vu)):this.getCacheSize(t).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Gr("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),vu):n.fe(t,e)}))},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,s,a,u,c,l=this,h=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((function(e){return e>l.params.maximumSequenceNumbersToCollect?(Gr("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.params.maximumSequenceNumbersToCollect+" from "+e),r=l.params.maximumSequenceNumbersToCollect):r=e,s=Date.now(),l.nthSequenceNumber(t,r)})).next((function(r){return n=r,a=Date.now(),l.removeTargets(t,n,e)})).next((function(e){return i=e,u=Date.now(),l.removeOrphanedDocuments(t,n)})).next((function(t){return c=Date.now(),$r()<=o["in"].DEBUG&&Gr("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-h)+"ms\n\tDetermined least recently used "+r+" in "+(a-s)+"ms\n\tRemoved "+i+" targets in "+(u-a)+"ms\n\tRemoved "+t+" documents in "+(c-u)+"ms\nTotal Duration: "+(c-h)+"ms"),Fa.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})}))},t}(),Lu=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new Ru(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.de=function(t){var e=0;return this.le(t,(function(t){e++})).next((function(){return e}))},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,(function(t,n){return e(n)}))},t.prototype.addReference=function(t,e,n){return Pu(t,n)},t.prototype.removeReference=function(t,e,n){return Pu(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return Pu(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return Eu(t).Ot((function(r){return ku(t,r,e).next((function(t){return t&&(n=!0),Fa.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,(function(s,a){if(a<=e){var u=n._e(t,s).next((function(e){if(!e)return o++,r.getEntry(t,s).next((function(){return r.removeEntry(s),Au(t).delete([0,pa(s.path)])}))}));i.push(u)}})).next((function(){return Fa.waitFor(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return Pu(t,e)},t.prototype.we=function(t,e){var n,r=Au(t),i=Ur.o;return r.$t({index:Sa.documentTargetsIndex},(function(t,r){var o=t[0],s=(t[1],r.path),a=r.sequenceNumber;0===o?(i!==Ur.o&&e(new Ci(va(n)),i),i=a,n=s):i=Ur.o})).next((function(){i!==Ur.o&&e(new Ci(va(n)),i)}))},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function Pu(t,e){return Au(t).put(function(t,e){return new Sa(0,pa(t.path),e)}(e,t.currentSequenceNumber))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fu=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[0],a=o[1];if(this.equalsFn(s,t))return a}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){ai(this.inner,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[0],a=o[1];t(s,a)}}))},t.prototype.isEmpty=function(){return ui(this.inner)},t}(),ju=function(){function t(){this.changes=new Fu((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:oi.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:qi.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?Fa.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),Bu=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return qu(t).put(Hu(e),n)},t.prototype.removeEntry=function(t,e){var n=qu(t),r=Hu(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.me(t,r)}))},t.prototype.getEntry=function(t,e){var n=this;return qu(t).get(Hu(e)).next((function(t){return n.ye(e,t)}))},t.prototype.ge=function(t,e){var n=this;return qu(t).get(Hu(e)).next((function(t){return{document:n.ye(e,t),size:bu(t)}}))},t.prototype.getEntries=function(t,e){var n=this,r=vs();return this.pe(t,e,(function(t,e){var i=n.ye(t,e);r=r.insert(t,i)})).next((function(){return r}))},t.prototype.Ee=function(t,e){var n=this,r=vs(),i=new ls(Ci.comparator);return this.pe(t,e,(function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,bu(e))})).next((function(){return{documents:r,Te:i}}))},t.prototype.pe=function(t,e,n){if(e.isEmpty())return Fa.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return qu(t).$t({range:r},(function(t,e,r){for(var s=Ci.fromSegments(t);o&&Ci.comparator(o,s)<0;)n(o,null),o=i.getNext();o&&o.isEqual(s)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=vs(),o=e.path.length+1,s={};if(n.isEqual(oi.min())){var a=e.path.toArray();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.toArray(),c=eu(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=Ea.collectionReadTimeIndex}return qu(t).$t(s,(function(t,n,s){if(t.length===o){var a=Za(r.R,n);e.path.isPrefixOf(a.key.path)?Eo(e,a)&&(i=i.insert(a.key,a)):s.done()}})).next((function(){return i}))},t.prototype.newChangeBuffer=function(t){return new Vu(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return Uu(t).get(Ca.key).next((function(t){return Qr(!!t),t}))},t.prototype.me=function(t,e){return Uu(t).put(Ca.key,e)},t.prototype.ye=function(t,e){if(e){var n=Za(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(oi.min()))return n}return qi.newInvalidDocument(t)},t}(),Vu=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new Fu((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return(0,Vr.ZT)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new ps((function(t,e){return ei(t.canonicalString(),e.canonicalString())}));return this.changes.forEach((function(o,s){var a=e.Ae.get(o);if(s.document.isValidDocument()){var u=tu(e.Ie.R,s.document,e.getReadTime(o));i=i.add(o.path.popLast());var c=bu(u);r+=c-a,n.push(e.Ie.addEntry(t,o,u))}else if(r-=a,e.trackRemovals){var l=tu(e.Ie.R,qi.newNoDocument(o,oi.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,l))}else n.push(e.Ie.removeEntry(t,o))})),i.forEach((function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))})),n.push(this.Ie.updateMetadata(t,r)),Fa.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next((function(t){return n.Ae.set(e,t.size),t.document}))},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next((function(t){var e=t.documents;return t.Te.forEach((function(t,e){n.Ae.set(t,e)})),e}))},e}(ju);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uu(t){return Ka(t,Ca.store)}function qu(t){return Ka(t,Ea.store)}function Hu(t){return t.path.toArray()}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zu=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;Qr(n<r&&n>=0&&r<=11);var o=new ja("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(ya.store)}(t),function(t){t.createObjectStore(ba.store,{keyPath:ba.keyPath}),t.createObjectStore(wa.store,{keyPath:wa.keyPath,autoIncrement:!0}).createIndex(wa.userMutationsIndex,wa.userMutationsKeyPath,{unique:!0}),t.createObjectStore(ka.store)}(t),$u(t),function(t){t.createObjectStore(Ea.store)}(t));var s=Fa.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Sa.store),t.deleteObjectStore(xa.store),t.deleteObjectStore(Ia.store)}(t),$u(t)),s=s.next((function(){return function(t){var e=t.store(Ia.store),n=new Ia(0,0,oi.min().toTimestamp(),0);return e.put(Ia.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(s=s.next((function(){return function(t,e){return e.store(wa.store).Nt().next((function(n){t.deleteObjectStore(wa.store),t.createObjectStore(wa.store,{keyPath:wa.keyPath,autoIncrement:!0}).createIndex(wa.userMutationsIndex,wa.userMutationsKeyPath,{unique:!0});var r=e.store(wa.store),i=n.map((function(t){return r.put(t)}));return Fa.waitFor(i)}))}(t,o)}))),s=s.next((function(){!function(t){t.createObjectStore(Na.store,{keyPath:Na.keyPath})}(t)}))),n<5&&r>=5&&(s=s.next((function(){return i.Re(o)}))),n<6&&r>=6&&(s=s.next((function(){return function(t){t.createObjectStore(Ca.store)}(t),i.be(o)}))),n<7&&r>=7&&(s=s.next((function(){return i.ve(o)}))),n<8&&r>=8&&(s=s.next((function(){return i.Pe(t,o)}))),n<9&&r>=9&&(s=s.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Ea.store);e.createIndex(Ea.readTimeIndex,Ea.readTimeIndexPath,{unique:!1}),e.createIndex(Ea.collectionReadTimeIndex,Ea.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(s=s.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(s=s.next((function(){!function(t){t.createObjectStore(Oa.store,{keyPath:Oa.keyPath})}(t),function(t){t.createObjectStore(Da.store,{keyPath:Da.keyPath})}(t)}))),s},t.prototype.be=function(t){var e=0;return t.store(Ea.store).$t((function(t,n){e+=bu(n)})).next((function(){var n=new Ca(e);return t.store(Ca.store).put(Ca.key,n)}))},t.prototype.Re=function(t){var e=this,n=t.store(ba.store),r=t.store(wa.store);return n.Nt().next((function(n){return Fa.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(wa.userMutationsIndex,i).next((function(r){return Fa.forEach(r,(function(r){Qr(r.userId===n.userId);var i=ou(e.R,r);return yu(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ve=function(t){var e=t.store(Sa.store),n=t.store(Ea.store);return t.store(Ia.store).get(Ia.key).next((function(t){var r=[];return n.$t((function(n,i){var o=new li(n),s=function(t){return[0,pa(t)]}(o);r.push(e.get(s).next((function(n){return n?Fa.resolve():function(n){return e.put(new Sa(0,pa(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return Fa.waitFor(r)}))}))},t.prototype.Pe=function(t,e){t.createObjectStore(Aa.store,{keyPath:Aa.keyPath});var n=e.store(Aa.store),r=new pu,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:pa(i)})}};return e.store(Ea.store).$t({kt:!0},(function(t,e){var n=new li(t);return i(n.popLast())})).next((function(){return e.store(ka.store).$t({kt:!0},(function(t,e){t[0];var n=t[1],r=(t[2],va(n));return i(r.popLast())}))}))},t.prototype.Ve=function(t){var e=this,n=t.store(xa.store);return n.$t((function(t,r){var i=su(r),o=au(e.R,i);return n.put(o)}))},t}();function $u(t){t.createObjectStore(Sa.store,{keyPath:Sa.keyPath}).createIndex(Sa.documentTargetsIndex,Sa.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(xa.store,{keyPath:xa.keyPath}).createIndex(xa.queryTargetsIndexName,xa.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Ia.store)}var Gu="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Wu=function(){function t(e,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=s,this.document=a,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new Hr(qr.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Lu(this,i),this.Le=n+"main",this.R=new Ya(u),this.Be=new Ba(this.Le,11,new zu(this.R)),this.qe=new xu(this.referenceDelegate,this.R),this.Ut=new du,this.Ue=function(t,e){return new Bu(t,e)}(this.R,this.Ut),this.Qe=new cu,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===l&&Wr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Hr(qr.FAILED_PRECONDITION,Gu);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.qe.getHighestSequenceNumber(e)}))})).then((function(e){t.Ne=new Ur(e,t.De)})).then((function(){t.xe=!0})).catch((function(e){return t.Be&&t.Be.close(),Promise.reject(e)}))},t.prototype.He=function(t){var e=this;return this.Me=function(n){return(0,Vr.mG)(e,void 0,void 0,(function(){return(0,Vr.Jh)(this,(function(e){return this.started?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt((function(n){return(0,Vr.mG)(e,void 0,void 0,(function(){return(0,Vr.Jh)(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget((function(){return(0,Vr.mG)(e,void 0,void 0,(function(){return(0,Vr.Jh)(this,(function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return Ju(e).put(new Na(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.Je(e).next((function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable((function(){return t.Me(!1)})))}))})).next((function(){return t.Ye(e)})).next((function(n){return t.isPrimary&&!n?t.Xe(e).next((function(){return!1})):!!n&&t.Ze(e).next((function(){return!0}))}))})).catch((function(e){if(qa(e))return Gr("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Gr("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Se.enqueueRetryable((function(){return t.Me(e)})),t.isPrimary=e}))},t.prototype.Je=function(t){var e=this;return Ku(t).get(ya.key).next((function(t){return Fa.resolve(e.tn(t))}))},t.prototype.en=function(t){return Ju(t).delete(this.clientId)},t.prototype.nn=function(){return(0,Vr.mG)(this,void 0,void 0,(function(){var t,e,n,r,i=this;return(0,Vr.Jh)(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=Ka(t,Na.store);return e.Nt().next((function(t){var n=i.rn(t,18e5),r=t.filter((function(t){return-1===n.indexOf(t)}));return Fa.forEach(r,(function(t){return e.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(t=o.sent(),this.Ke)for(e=0,n=t;e<n.length;e++)r=n[e],this.Ke.removeItem(this.on(r.clientId));o.label=2;case 2:return[2]}}))}))},t.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return t.je().then((function(){return t.nn()})).then((function(){return t.ze()}))}))},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?Fa.resolve(!0):Ku(t).get(ya.key).next((function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new Hr(qr.FAILED_PRECONDITION,Gu);return!1}}return!(!e.networkEnabled||!e.inForeground)||Ju(t).Nt().next((function(t){return void 0===e.rn(t,5e3).find((function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,i=e.networkEnabled===t.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(t){return e.isPrimary!==t&&Gr("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.shutdown=function(){return(0,Vr.mG)(this,void 0,void 0,(function(){var t=this;return(0,Vr.Jh)(this,(function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[ya.store,Na.store],(function(e){var n=new Wa(e,Ur.o);return t.Xe(n).next((function(){return t.en(n)}))}))];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}}))}))},t.prototype.rn=function(t,e){var n=this;return t.filter((function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)}))},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return Ju(e).Nt().next((function(e){return t.rn(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return wu.Kt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r=this;Gr("IndexedDbPersistence","Starting transaction:",t);var i,o="readonly"===e?"readonly":"readwrite";return this.Be.runTransaction(t,o,Ma,(function(o){return i=new Wa(o,r.Ne?r.Ne.next():Ur.o),"readwrite-primary"===e?r.Je(i).next((function(t){return!!t||r.Ye(i)})).next((function(e){if(!e)throw Wr("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.Se.enqueueRetryable((function(){return r.Me(!1)})),new Hr(qr.FAILED_PRECONDITION,Ra);return n(i)})).next((function(t){return r.Ze(i).next((function(){return t}))})):r.dn(i).next((function(){return n(i)}))})).then((function(t){return i.raiseOnCommittedEvent(),t}))},t.prototype.dn=function(t){var e=this;return Ku(t).get(ya.key).next((function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Hr(qr.FAILED_PRECONDITION,Gu)}))},t.prototype.Ze=function(t){var e=new ya(this.clientId,this.allowTabSynchronization,Date.now());return Ku(t).put(ya.key,e)},t.yt=function(){return Ba.yt()},t.prototype.Xe=function(t){var e=this,n=Ku(t);return n.get(ya.key).next((function(t){return e.tn(t)?(Gr("IndexedDbPersistence","Releasing primary lease."),n.delete(ya.key)):Fa.resolve()}))},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Wr("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget((function(){return t.inForeground="visible"===t.document.visibilityState,t.je()}))},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.un(),e.Se.enqueueAndForget((function(){return e.shutdown()}))},this.window.addEventListener("pagehide",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("pagehide",this.Fe),this.Fe=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Ke)||void 0===e?void 0:e.getItem(this.on(t)));return Gr("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Wr("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Wr("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Ku(t){return Ka(t,ya.store)}function Ju(t){return Ka(t,Na.store)}function Xu(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var Qu=function(t,e){this.progress=t,this.wn=e},Yu=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next((function(r){return n.yn(t,e,r)}))},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next((function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t}))},t.prototype.gn=function(t,e){t.forEach((function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)}))},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next((function(e){return n.En(t,e).next((function(){return e}))}))},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next((function(t){return n.gn(e,t)}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return Ci.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):go(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new Ci(e)).next((function(t){var e=ys();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e}))},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=ys();return this.Ut.getCollectionParents(t,i).next((function(s){return Fa.forEach(s,(function(s){var a=function(t,e){return new co(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.An(t,a,n).next((function(t){t.forEach((function(t,e){o=o.insert(t,e)}))}))})).next((function(){return o}))}))},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)})).next((function(e){return i=e,o.Rn(t,i,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=r.get(c);null==l&&(l=qi.newInvalidDocument(c),r=r.insert(c,l)),Ko(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}))})).next((function(){return r.forEach((function(t,n){Eo(e,n)||(r=r.remove(t))})),r}))},t.prototype.Rn=function(t,e,n){for(var r=_s(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof Zo&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next((function(t){return t.forEach((function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))})),c}))},t}(),Zu=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=_s(),i=_s(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),tc=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(oi.min())?this.Dn(t,e):this.Sn.pn(t,r).next((function(s){var a=i.Cn(e,s);return(fo(e)||po(e))&&i.Nn(e.limitType,a,r,n)?i.Dn(t,e):($r()<=o["in"].DEBUG&&Gr("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),To(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next((function(t){return a.forEach((function(e){t=t.insert(e.key,e)})),t})))}))},t.prototype.Cn=function(t,e){var n=new ps(Co(t));return e.forEach((function(e,r){Eo(t,r)&&(n=n.add(r))})),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return $r()<=o["in"].DEBUG&&Gr("QueryEngine","Using full collection scan to execute query:",To(e)),this.Sn.getDocumentsMatchingQuery(t,e,oi.min())},t}(),ec=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new ls(ei),this.kn=new Fu((function(t){return $i(t)}),Gi),this.$n=oi.min(),this._n=t.getMutationQueue(n),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new Yu(this.On,this._n,this.persistence.getIndexManager()),this.Qe=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.collect(n,e.Fn)}))},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nc(t,e,n,r){return new ec(t,e,n,r)}function rc(t,e){return(0,Vr.mG)(this,void 0,void 0,(function(){var n,r,i,o;return(0,Vr.Jh)(this,(function(s){switch(s.label){case 0:return n=Yr(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var o;return n._n.getAllMutationBatches(t).next((function(s){return o=s,r=n.persistence.getMutationQueue(e),i=new Yu(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)})).next((function(e){for(var n=[],r=[],s=_s(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++){var f=h[l];s=s.add(f.key)}}for(var p=0,d=e;p<d.length;p++){var m=d[p];r.push(m.batchId);for(var v=0,g=m.mutations;v<g.length;v++){var y=g[v];s=s.add(y.key)}}return i.pn(t,s).next((function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=s.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}}))}))}function ic(t,e){var n=Yr(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=Fa.resolve();return o.forEach((function(t){s=s.next((function(){return r.getEntry(e,t)})).next((function(e){var o=n.docVersions.get(t);Qr(null!==o),e.version.compareTo(o)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))}))})),s.next((function(){return t._n.removeMutationBatch(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n._n.performConsistencyCheck(t)})).next((function(){return n.Mn.pn(t,r)}))}))}function oc(t){var e=Yr(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.qe.getLastRemoteSnapshotVersion(t)}))}function sc(t,e){var n=Yr(t),r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.Fn;var s=[];e.targetChanges.forEach((function(e,o){var a=i.get(o);if(a){s.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)})));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=a.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,c),function(t,e,n){return Qr(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,c,e)&&s.push(n.qe.updateTargetData(t,c))}}}));var a=vs();if(e.documentUpdates.forEach((function(r,i){e.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))})),s.push(ac(t,o,e.documentUpdates,r,void 0).next((function(t){a=t}))),!r.isEqual(oi.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next((function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)}));s.push(u)}return Fa.waitFor(s).next((function(){return o.apply(t)})).next((function(){return n.Mn.En(t,a)})).next((function(){return a}))})).then((function(t){return n.Fn=i,t}))}function ac(t,e,n,r,i){var o=_s();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var o=vs();return n.forEach((function(n,s){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;s.isNoDocument()&&s.version.isEqual(oi.min())?(e.removeEntry(n,u),o=o.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(s,u),o=o.insert(n,s)):Gr("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)})),o}))}function uc(t,e){var n=Yr(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)}))}function cc(t,e){var n=Yr(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.qe.getTargetData(t,e).next((function(i){return i?(r=i,Fa.resolve(r)):n.qe.allocateTargetId(t).next((function(i){return r=new Qa(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.Fn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(t.targetId,t),n.kn.set(e,t.targetId)),t}))}function lc(t,e,n){return(0,Vr.mG)(this,void 0,void 0,(function(){var r,i,o,s;return(0,Vr.Jh)(this,(function(a){switch(a.label){case 0:r=Yr(t),i=r.Fn.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(t){return r.persistence.referenceDelegate.removeTarget(t,i)}))];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!qa(s=a.sent()))throw s;return Gr("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}}))}))}function hc(t,e,n){var r=Yr(t),i=oi.min(),o=_s();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=Yr(t),i=r.kn.get(n);return void 0!==i?Fa.resolve(r.Fn.get(i)):r.qe.getTargetData(e,n)}(r,t,bo(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:oi.min(),n?o:_s())})).next((function(t){return{documents:t,Bn:o}}))}))}function fc(t,e){var n=Yr(t),r=Yr(n.qe),i=n.Fn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.lt(t,e).next((function(t){return t?t.target:null}))}))}function pc(t){var e=Yr(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=Yr(t),i=vs(),o=eu(n),s=qu(e),a=IDBKeyRange.lowerBound(o,!0);return s.$t({index:Ea.readTimeIndex,range:a},(function(t,e){var n=Za(r.R,e);i=i.insert(n.key,n),o=e.readTime})).next((function(){return{wn:i,readTime:nu(o)}}))}(e.On,t,e.$n)})).then((function(t){var n=t.wn,r=t.readTime;return e.$n=r,n}))}function dc(t){return(0,Vr.mG)(this,void 0,void 0,(function(){var e;return(0,Vr.Jh)(this,(function(n){return[2,(e=Yr(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=qu(t),n=oi.min();return e.$t({index:Ea.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=nu(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.$n=t}))]}))}))}function mc(t,e,n,r){return(0,Vr.mG)(this,void 0,void 0,(function(){var i,o,s,a,u,c,l,h,f,p;return(0,Vr.Jh)(this,(function(d){switch(d.label){case 0:for(i=Yr(t),o=_s(),s=vs(),a=ws(),u=0,c=n;u<c.length;u++)l=c[u],h=e.qn(l.metadata.name),l.document&&(o=o.add(h)),s=s.insert(h,e.Un(l)),a=a.insert(h,e.Qn(l.metadata.readTime));return f=i.On.newChangeBuffer({trackRemovals:!0}),[4,cc(i,function(t){return bo(ho(li.fromString("__bundle__/docs/"+t)))}(r))];case 1:return p=d.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(t){return ac(t,f,s,oi.min(),a).next((function(e){return f.apply(t),e})).next((function(e){return i.qe.removeMatchingKeysForTargetId(t,p.targetId).next((function(){return i.qe.addMatchingKeys(t,o,p.targetId)})).next((function(){return i.Mn.En(t,e)})).next((function(){return e}))}))}))]}}))}))}function vc(t,e,n){return void 0===n&&(n=_s()),(0,Vr.mG)(this,void 0,void 0,(function(){var r,i;return(0,Vr.Jh)(this,(function(o){switch(o.label){case 0:return[4,cc(t,bo(uu(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Yr(t)).persistence.runTransaction("Save named query","readwrite",(function(t){var o=Vs(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Qe.saveNamedQuery(t,e);var s=r.withResumeToken(di.EMPTY_BYTE_STRING,o);return i.Fn=i.Fn.insert(s.targetId,s),i.qe.updateTargetData(t,s).next((function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)})).next((function(){return i.qe.addMatchingKeys(t,n,r.targetId)})).next((function(){return i.Qe.saveNamedQuery(t,e)}))}))]}}))}))
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var gc=function(){function t(t){this.R=t,this.Kn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return Fa.resolve(this.Kn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Kn.set(e.id,{id:(n=e).id,version:n.version,createTime:Vs(n.createTime)}),Fa.resolve()},t.prototype.getNamedQuery=function(t,e){return Fa.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:uu(t.bundledQuery),readTime:Vs(t.readTime)}}(e)),Fa.resolve()},t}(),yc=function(){function t(){this.Wn=new ps(bc.Gn),this.zn=new ps(bc.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new bc(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach((function(t){return n.addReference(t,e)}))},t.prototype.removeReference=function(t,e){this.Yn(new bc(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach((function(t){return n.removeReference(t,e)}))},t.prototype.Zn=function(t){var e=this,n=new Ci(new li([])),r=new bc(n,t),i=new bc(n,t+1),o=[];return this.zn.forEachInRange([r,i],(function(t){e.Yn(t),o.push(t.key)})),o},t.prototype.ts=function(){var t=this;this.Wn.forEach((function(e){return t.Yn(e)}))},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new Ci(new li([])),n=new bc(e,t),r=new bc(e,t+1),i=_s();return this.zn.forEachInRange([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.containsKey=function(t){var e=new bc(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),bc=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return Ci.comparator(t.key,e.key)||ei(t.ns,e.ns)},t.Hn=function(t,e){return ei(t.ns,e.ns)||Ci.comparator(t.key,e.key)},t}(),wc=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new ps(bc.Gn)}return t.prototype.checkEmpty=function(t){return Fa.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var o=new Ja(i,e,n,r);this._n.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.rs=this.rs.add(new bc(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return Fa.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return Fa.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=e+1,r=this.cs(n),i=r<0?0:r;return Fa.resolve(this._n.length>i?this._n[i]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return Fa.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return Fa.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new bc(e,0),i=new bc(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(t){var e=n.os(t.ns);o.push(e)})),Fa.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new ps(ei);return e.forEach((function(t){var e=new bc(t,0),i=new bc(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],(function(t){r=r.add(t.ns)}))})),Fa.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;Ci.isDocumentKey(i)||(i=i.child(""));var o=new bc(new Ci(i),0),s=new ps(ei);return this.rs.forEachWhile((function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(s=s.add(t.ns)),!0)}),o),Fa.resolve(this.us(s))},t.prototype.us=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.os(t);null!==r&&n.push(r)})),n},t.prototype.removeMutationBatch=function(t,e){var n=this;Qr(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return Fa.forEach(e.mutations,(function(i){var o=new bc(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)})).next((function(){n.rs=r}))},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new bc(e,0),r=this.rs.firstAfterOrEqual(n);return Fa.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return this._n.length,Fa.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),kc=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new ls(Ci.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:s,readTime:n}),this.size+=s-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return Fa.resolve(n?n.document.clone():qi.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=vs();return e.forEach((function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():qi.newInvalidDocument(t))})),Fa.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=vs(),i=new Ci(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var s=o.getNext(),a=s.key,u=s.value,c=u.document,l=u.readTime;if(!e.path.isPrefixOf(a.path))break;l.compareTo(n)<=0||Eo(e,c)&&(r=r.insert(c.key,c.clone()))}return Fa.resolve(r)},t.prototype.fs=function(t,e){return Fa.forEach(this.docs,(function(t){return e(t)}))},t.prototype.newChangeBuffer=function(t){return new _c(this)},t.prototype.getSize=function(t){return Fa.resolve(this.size)},t}(),_c=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return(0,Vr.ZT)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)})),Fa.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(ju),Tc=function(){function t(t){this.persistence=t,this.ds=new Fu((function(t){return $i(t)}),Gi),this.lastRemoteSnapshotVersion=oi.min(),this.highestTargetId=0,this.ws=0,this._s=new yc,this.targetCount=0,this.ys=Cu.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach((function(t,n){return e(n)})),Fa.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return Fa.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return Fa.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),Fa.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),Fa.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new Cu(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,Fa.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),Fa.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,Fa.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach((function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.ds.delete(s),o.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)})),Fa.waitFor(o).next((function(){return i}))},t.prototype.getTargetCount=function(t){return Fa.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return Fa.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),Fa.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach((function(e){i.push(r.markPotentiallyOrphaned(t,e))})),Fa.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),Fa.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return Fa.resolve(n)},t.prototype.containsKey=function(t,e){return Fa.resolve(this._s.containsKey(e))},t}(),Ec=function(){function t(t,e){var n=this;this.gs={},this.Ne=new Ur(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new Tc(this),this.Ut=new fu,this.Ue=function(t,e){return new kc(t,(function(t){return n.referenceDelegate.ps(t)}))}(this.Ut),this.R=new Ya(e),this.Qe=new gc(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new wc(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r=this;Gr("MemoryPersistence","Starting transaction:",t);var i=new Cc(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(t){return r.referenceDelegate.Ts(i).next((function(){return t}))})).toPromise().then((function(t){return i.raiseOnCommittedEvent(),t}))},t.prototype.Is=function(t,e){return Fa.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(t,e)}})))},t}(),Cc=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return(0,Vr.ZT)(e,t),e}(La),xc=function(){function t(t){this.persistence=t,this.As=new yc,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Xr()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),Fa.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),Fa.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),Fa.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach((function(t){return n.vs.add(t.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((function(t){t.forEach((function(t){return n.vs.add(t.toString())}))})).next((function(){return r.removeTargetData(t,e)}))},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Fa.forEach(this.vs,(function(r){var i=Ci.fromPath(r);return e.Ps(t,i).next((function(t){t||n.removeEntry(i)}))})).next((function(){return e.Rs=null,n.apply(t)}))},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next((function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())}))},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return Fa.or([function(){return Fa.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),Sc=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ic(t,e){return"firestore_clients_"+t+"_"+e}function Ac(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function Nc(t,e){return"firestore_targets_"+t+"_"+e}Sc.UNAUTHENTICATED=new Sc(null),Sc.GOOGLE_CREDENTIALS=new Sc("google-credentials-uid"),Sc.FIRST_PARTY=new Sc("first-party-uid");var Oc=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new Hr(o.error.code,o.error.message)),s?new t(e,n,o.state,i):(Wr("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Dc=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Hr(i.error.code,i.error.message)),o?new t(e,i.state,r):(Wr("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Mc=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Es(),s=0;i&&s<r.activeTargetIds.length;++s)i=Ei(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(Wr("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Rc=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Wr("SharedClientState","Failed to parse online state: "+e),null)},t}(),Lc=function(){function t(){this.activeTargetIds=Es()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Pc=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new ls(ei),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=Ic(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new Lc),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Qs=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return(0,Vr.mG)(this,void 0,void 0,(function(){var t,e,n,r,i,o,s,a,u,c,l,h=this;return(0,Vr.Jh)(this,(function(f){switch(f.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=f.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(Ic(this.persistenceKey,r)))&&(o=Mc.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Ks(),(s=this.storage.getItem(this.Us))&&(a=this.js(s))&&this.Ws(a),u=0,c=this.$s;u<c.length;u++)l=c[u],this.Fs(l);return this.$s=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0,[2]}}))}))},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(Nc(this.persistenceKey,t));if(n){var r=Dc.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Ks(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Ks()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(Nc(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach((function(t){r.Hs(t)})),this.currentUser=t,n.forEach((function(t){r.addPendingMutation(t)}))},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Gr("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Gr("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Gr("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Gr("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void Wr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return(0,Vr.mG)(e,void 0,void 0,(function(){var t,e,r,i,o,s;return(0,Vr.Jh)(this,(function(a){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(s=function(t){var e=Ur.o;if(null!=t)try{var n=JSON.parse(t);Qr("number"==typeof n),e=n}catch(t){Wr("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Ur.o&&this.sequenceNumberHandler(s);else if(n.key===this.Qs)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Ks=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new Oc(this.currentUser,t,e,n),i=Ac(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=Ac(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){var e={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(e))},t.prototype.Ys=function(t,e,n){var r=Nc(this.persistenceKey,t),i=new Dc(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return Mc.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Oc.Vs(new Sc(i),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return Dc.Vs(r,e)},t.prototype.js=function(t){return Rc.Vs(t)},t.prototype.ii=function(t){return(0,Vr.mG)(this,void 0,void 0,(function(){return(0,Vr.Jh)(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(Gr("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),o=this.Gs(r),s=[],a=[];return o.forEach((function(t){i.has(t)||s.push(t)})),i.forEach((function(t){o.has(t)||a.push(t)})),this.syncEngine.hi(s,a).then((function(){n.ks=r}))},t.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=Es();return t.forEach((function(t,n){e=e.unionWith(n.activeTargetIds)})),e},t}(),Fc=function(){function t(){this.li=new Lc,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new Lc,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),jc=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),Bc=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){Gr("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){Gr("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Vc={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Uc=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),qc=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n.useFetchStreams=e.useFetchStreams,n}return(0,Vr.ZT)(e,t),e.prototype.ki=function(t,e,n,r){return new Promise((function(i,o){var s=new Br;s.listenOnce(Rr.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case Mr.NO_ERROR:var e=s.getResponseJson();Gr("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Mr.TIMEOUT:Gr("Connection",'RPC "'+t+'" timed out'),o(new Hr(qr.DEADLINE_EXCEEDED,"Request time out"));break;case Mr.HTTP_ERROR:var n=s.getStatus();if(Gr("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(qr).indexOf(e)>=0?e:qr.UNKNOWN}(r.status);o(new Hr(a,r.message))}else o(new Hr(qr.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Hr(qr.UNAVAILABLE,"Connection failed."));break;default:Xr()}}finally{Gr("Connection",'RPC "'+t+'" completed.')}}));var a=JSON.stringify(r);s.send(e,"POST",a,n,15)}))},e.prototype.Oi=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=Or(),o=Dr(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(s.xmlHttpFactory=new Fr({})),this.Fi(s.initMessageHeaders,e),(0,i.uI)()||(0,i.b$)()||(0,i.d)()||(0,i.w1)()||(0,i.Mn)()||(0,i.ru)()||(s.httpHeadersOverwriteParam="$httpHeaders");var a=n.join("");Gr("Connection","Creating WebChannel: "+a,s);var u=r.createWebChannel(a,s),c=!1,l=!1,h=new Uc({Ei:function(t){l?Gr("Connection","Not sending because WebChannel is closed:",t):(c||(Gr("Connection","Opening WebChannel transport."),u.open(),c=!0),Gr("Connection","WebChannel sending:",t),u.send(t))},Ti:function(){return u.close()}}),f=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return f(u,jr.EventType.OPEN,(function(){l||Gr("Connection","WebChannel transport opened.")})),f(u,jr.EventType.CLOSE,(function(){l||(l=!0,Gr("Connection","WebChannel transport closed"),h.Vi())})),f(u,jr.EventType.ERROR,(function(t){l||(l=!0,Kr("Connection","WebChannel transport errored:",t),h.Vi(new Hr(qr.UNAVAILABLE,"The operation could not be completed")))})),f(u,jr.EventType.MESSAGE,(function(t){var e;if(!l){var n=t.data[0];Qr(!!n);var r=n,i=r.error||(null===(e=r[0])||void 0===e?void 0:e.error);if(i){Gr("Connection","WebChannel received error:",i);var o=i.status,s=function(t){var e=rs[t];if(void 0!==e)return cs(e)}(o),a=i.message;void 0===s&&(s=qr.INTERNAL,a="Unknown error status: "+o+" with message "+i.message),l=!0,h.Vi(new Hr(s,a)),u.close()}else Gr("Connection","WebChannel received:",n),h.Si(n)}})),f(o,Lr.STAT_EVENT,(function(t){t.stat===Pr.PROXY?Gr("Connection","Detected buffering proxy"):t.stat===Pr.NOPROXY&&Gr("Connection","Detected no buffering proxy")})),setTimeout((function(){h.Pi()}),0),h},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId;var e=t.ssl?"https":"http";this.Di=e+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);Gr("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(t,i,o,n).then((function(t){return Gr("RestConnection","Received: ",t),t}),(function(e){throw Kr("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.$i=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.6.5",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){var n=Vc[t];return this.Di+"/v1/"+e+":"+n},t}());
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hc(){return"undefined"!=typeof window?window:null}function zc(){return"undefined"!=typeof document?document:null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $c(t){return new Ps(t,!0)}var Gc=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Ki=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Qi),i=Math.max(0,n-r);i>0&&Gr("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return e.Qi=Date.now(),t()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),Wc=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Gc(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return(0,Vr.mG)(this,void 0,void 0,(function(){return(0,Vr.Jh)(this,(function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return t.rr()})))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return(0,Vr.mG)(this,void 0,void 0,(function(){return(0,Vr.Jh)(this,(function(t){return this.er()?[2,this.close(0)]:[2]}))}))},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return(0,Vr.mG)(this,void 0,void 0,(function(){return(0,Vr.Jh)(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===qr.RESOURCE_EXHAUSTED?(Wr(e.toString()),Wr("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):e&&e.code===qr.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(e){t.Yi===n&&t.lr(e)}),(function(n){e((function(){var e=new Hr(qr.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)}))}))},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii((function(){n((function(){return e.state=2,e.listener.Ii()}))})),this.stream.Ri((function(t){n((function(){return e.dr(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji((function(){return(0,Vr.mG)(t,void 0,void 0,(function(){return(0,Vr.Jh)(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.dr=function(t){return Gr("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget((function(){return e.Yi===t?n():(Gr("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),Kc=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,s}return(0,Vr.ZT)(e,t),e.prototype.wr=function(t){return this.Hi.Oi("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){e.targetChange;var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Xr()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.I?(Qr(void 0===e||"string"==typeof e),di.fromBase64String(e||"")):(Qr(void 0===e||e instanceof Uint8Array),di.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?qr.UNKNOWN:cs(t.code);return new Hr(e,t.message||"")}(a);n=new As(r,i,o,s||null)}else if("documentChange"in e){e.documentChange,(r=e.documentChange).document,r.document.name,r.document.updateTime,i=zs(t,r.document.name),o=Vs(r.document.updateTime);var a=new Vi({mapValue:{fields:r.document.fields}}),u=(s=qi.newFoundDocument(i,o,a),r.targetIds||[]),c=r.removedTargetIds||[];n=new Ss(u,c,s.key,s)}else if("documentDelete"in e)e.documentDelete,(r=e.documentDelete).document,i=zs(t,r.document),o=r.readTime?Vs(r.readTime):oi.min(),a=qi.newNoDocument(i,o),s=r.removedTargetIds||[],n=new Ss([],s,a.key,a);else if("documentRemove"in e)e.documentRemove,(r=e.documentRemove).document,i=zs(t,r.document),o=r.removedTargetIds||[],n=new Ss([],o,i,null);else{if(!("filter"in e))return Xr();e.filter;var l=e.filter;l.targetId,r=l.count||0,i=new as(r),o=l.targetId,n=new Is(o,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return oi.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?oi.min():e.readTime?Vs(e.readTime):oi.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=Ws(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=Wi(r)?{documents:Zs(t,r)}:{query:ta(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=js(t,e.resumeToken):e.snapshotVersion.compareTo(oi.min())>0&&(n.readTime=Fs(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Xr()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(this.R,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=Ws(this.R),e.removeTarget=t,this.cr(e)},e}(Wc),Jc=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,s.gr=!1,s}return(0,Vr.ZT)(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.Oi("Write",t)},e.prototype.onMessage=function(t){if(Qr(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(Qr(void 0!==e),t.map((function(t){return function(t,e){var n=t.updateTime?Vs(t.updateTime):Vs(e);return n.isEqual(oi.min())&&(n=Vs(e)),new Ho(n,t.transformResults||[])}(t,e)}))):[]}(t.writeResults,t.commitTime),n=Vs(t.commitTime);return this.listener.Tr(n,e)}return Qr(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=Ws(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return Qs(e.R,t)}))};this.cr(n)},e}(Wc),Xc=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return(0,Vr.ZT)(e,t),e.prototype.br=function(){if(this.Rr)throw new Hr(qr.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(t,e,n,i)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===qr.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Hr(qr.UNKNOWN,t.toString())}))},e.prototype.$i=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.$i(t,e,n,i)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===qr.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Hr(qr.UNKNOWN,t.toString())}))},e.prototype.terminate=function(){this.Rr=!0},e}((function(){})),Qc=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()})))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Wr(e),this.Vr=!1):Gr("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),Yc=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(t){n.enqueueAndForget((function(){return(0,Vr.mG)(o,void 0,void 0,(function(){return(0,Vr.Jh)(this,(function(t){switch(t.label){case 0:return al(this)?(Gr("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return(0,Vr.mG)(this,void 0,void 0,(function(){var e;return(0,Vr.Jh)(this,(function(n){switch(n.label){case 0:return(e=Yr(t)).Or.add(4),[4,tl(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.Or.delete(4),[4,Zc(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Br=new Qc(n,r)};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zc(t){return(0,Vr.mG)(this,void 0,void 0,(function(){var e,n;return(0,Vr.Jh)(this,(function(r){switch(r.label){case 0:if(!al(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function tl(t){return(0,Vr.mG)(this,void 0,void 0,(function(){var e,n;return(0,Vr.Jh)(this,(function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function el(t,e){var n=Yr(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),sl(n)?ol(n):_l(n).er()&&rl(n,e))}function nl(t,e){var n=Yr(t),r=_l(n);n.$r.delete(e),r.er()&&il(n,e),0===n.$r.size&&(r.er()?r.ir():al(n)&&n.Br.set("Unknown"))}function rl(t,e){t.qr.U(e.targetId),_l(t).mr(e)}function il(t,e){t.qr.U(e),_l(t).yr(e)}function ol(t){t.qr=new Os({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),_l(t).start(),t.Br.Sr()}function sl(t){return al(t)&&!_l(t).tr()&&t.$r.size>0}function al(t){return 0===Yr(t).Or.size}function ul(t){t.qr=void 0}function cl(t){return(0,Vr.mG)(this,void 0,void 0,(function(){return(0,Vr.Jh)(this,(function(e){return t.$r.forEach((function(e,n){rl(t,e)})),[2]}))}))}function ll(t,e){return(0,Vr.mG)(this,void 0,void 0,(function(){return(0,Vr.Jh)(this,(function(n){return ul(t),sl(t)?(t.Br.Nr(e),ol(t)):t.Br.set("Unknown"),[2]}))}))}function hl(t,e,n){return(0,Vr.mG)(this,void 0,void 0,(function(){var r,i,o;return(0,Vr.Jh)(this,(function(s){switch(s.label){case 0:if(t.Br.set("Online"),!(e instanceof As&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return(0,Vr.mG)(this,void 0,void 0,(function(){var n,r,i,o;return(0,Vr.Jh)(this,(function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?(o=i[r],t.$r.has(o)?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]):[3,5];case 2:s.sent(),t.$r.delete(o),t.qr.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),Gr("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,fl(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Ss?t.qr.X(e):e instanceof Is?t.qr.rt(e):t.qr.et(e),n.isEqual(oi.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,oc(t.localStore)];case 8:return i=s.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.$r.get(r);i&&t.$r.set(r,i.withResumeToken(n.resumeToken,e))}})),n.targetMismatches.forEach((function(e){var n=t.$r.get(e);if(n){t.$r.set(e,n.withResumeToken(di.EMPTY_BYTE_STRING,n.snapshotVersion)),il(t,e);var r=new Qa(n.target,e,1,n.sequenceNumber);rl(t,r)}})),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return Gr("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,fl(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}}))}))}function fl(t,e,n){return(0,Vr.mG)(this,void 0,void 0,(function(){var r=this;return(0,Vr.Jh)(this,(function(i){switch(i.label){case 0:if(!qa(e))throw e;return t.Or.add(1),[4,tl(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return oc(t.localStore)}),t.asyncQueue.enqueueRetryable((function(){return(0,Vr.mG)(r,void 0,void 0,(function(){return(0,Vr.Jh)(this,(function(e){switch(e.label){case 0:return Gr("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Or.delete(1),[4,Zc(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function pl(t,e){return e().catch((function(n){return fl(t,n,e)}))}function dl(t){return(0,Vr.mG)(this,void 0,void 0,(function(){var e,n,r,i,o;return(0,Vr.Jh)(this,(function(s){switch(s.label){case 0:e=Yr(t),n=Tl(e),r=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return al(t)&&t.kr.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,uc(e.localStore,r)];case 3:return null===(i=s.sent())?(0===e.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.kr.push(e);var n=Tl(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,fl(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return ml(e)&&vl(e),[2]}}))}))}function ml(t){return al(t)&&!Tl(t).tr()&&t.kr.length>0}function vl(t){Tl(t).start()}function gl(t){return(0,Vr.mG)(this,void 0,void 0,(function(){return(0,Vr.Jh)(this,(function(e){return Tl(t).Ar(),[2]}))}))}function yl(t){return(0,Vr.mG)(this,void 0,void 0,(function(){var e,n,r,i;return(0,Vr.Jh)(this,(function(o){for(e=Tl(t),n=0,r=t.kr;n<r.length;n++)i=r[n],e.Er(i.mutations);return[2]}))}))}function bl(t,e,n){return(0,Vr.mG)(this,void 0,void 0,(function(){var r,i;return(0,Vr.Jh)(this,(function(o){switch(o.label){case 0:return r=t.kr.shift(),i=Xa.from(r,e,n),[4,pl(t,(function(){return t.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,dl(t)];case 2:return o.sent(),[2]}}))}))}function wl(t,e){return(0,Vr.mG)(this,void 0,void 0,(function(){return(0,Vr.Jh)(this,(function(n){switch(n.label){case 0:return e&&Tl(t).pr?[4,function(t,e){return(0,Vr.mG)(this,void 0,void 0,(function(){var n,r;return(0,Vr.Jh)(this,(function(i){switch(i.label){case 0:return us(r=e.code)&&r!==qr.ABORTED?(n=t.kr.shift(),Tl(t).sr(),[4,pl(t,(function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,dl(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return ml(t)&&vl(t),[2]}}))}))}function kl(t,e){return(0,Vr.mG)(this,void 0,void 0,(function(){var n;return(0,Vr.Jh)(this,(function(r){switch(r.label){case 0:return n=Yr(t),e?(n.Or.delete(2),[4,Zc(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,tl(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function _l(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=Yr(t);return r.br(),new Kc(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:cl.bind(null,t),Ri:ll.bind(null,t),_r:hl.bind(null,t)}),t.Mr.push((function(n){return(0,Vr.mG)(e,void 0,void 0,(function(){return(0,Vr.Jh)(this,(function(e){switch(e.label){case 0:return n?(t.Ur.sr(),sl(t)?ol(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),ul(t),e.label=3;case 3:return[2]}}))}))}))),t.Ur}function Tl(t){var e=this;return t.Qr||(t.Qr=function(t,e,n){var r=Yr(t);return r.br(),new Jc(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:gl.bind(null,t),Ri:wl.bind(null,t),Ir:yl.bind(null,t),Tr:bl.bind(null,t)}),t.Mr.push((function(n){return(0,Vr.mG)(e,void 0,void 0,(function(){return(0,Vr.Jh)(this,(function(e){switch(e.label){case 0:return n?(t.Qr.sr(),[4,dl(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Qr.stop()];case 3:e.sent(),t.kr.length>0&&(Gr("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),e.label=4;case 4:return[2]}}))}))}))),t.Qr
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var El=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Pa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(t){}))}return t.createAndSchedule=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout((function(){return e.handleDelayElapsed()}),t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Hr(qr.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget((function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then((function(e){return t.deferred.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function Cl(t,e){if(Wr("AsyncQueue",e+": "+t),qa(t))return new Hr(qr.UNAVAILABLE,e+": "+t);throw t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xl=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||Ci.comparator(e.key,n.key)}:function(t,e){return Ci.comparator(t.key,e.key)},this.keyedMap=ys(),this.sortedSet=new ls(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),Sl=function(){function t(){this.Kr=new ls(Ci.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Kr.get(e);n?0!==t.type&&3===n.type?this.Kr=this.Kr.insert(e,t):3===t.type&&1!==n.type?this.Kr=this.Kr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Kr=this.Kr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Kr=this.Kr.remove(e):1===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):Xr():this.Kr=this.Kr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Kr.inorderTraversal((function(e,n){t.push(n)})),t},t}(),Il=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,xl.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ko(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Al=function(){this.Wr=void 0,this.listeners=[]},Nl=function(){this.queries=new Fu((function(t){return _o(t)}),ko),this.onlineState="Unknown",this.Gr=new Set};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ol(t,e){return(0,Vr.mG)(this,void 0,void 0,(function(){var n,r,i,o,s,a,u;return(0,Vr.Jh)(this,(function(c){switch(c.label){case 0:if(n=Yr(t),r=e.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new Al),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.onListen(r)];case 2:return s.Wr=c.sent(),[3,4];case 3:return a=c.sent(),u=Cl(a,"Initialization of query '"+To(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&Ll(n),[2]}}))}))}function Dl(t,e){return(0,Vr.mG)(this,void 0,void 0,(function(){var n,r,i,o,s;return(0,Vr.Jh)(this,(function(a){return n=Yr(t),r=e.query,i=!1,(o=n.queries.get(r))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function Ml(t,e){for(var n=Yr(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=s.query,u=n.queries.get(a);if(u){for(var c=0,l=u.listeners;c<l.length;c++)l[c].Hr(s)&&(r=!0);u.Wr=s}}r&&Ll(n)}function Rl(t,e,n){var r=Yr(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function Ll(t){t.Gr.forEach((function(t){t.next()}))}var Pl=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Il(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return!(this.options.so&&n||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var e=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=Il.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),Fl=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),jl=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return zs(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?Xs(this.R,t.document,!1):qi.newNoDocument(this.qn(t.metadata.name),this.Qn(t.metadata.readTime))},t.prototype.Qn=function(t){return Vs(t)},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=Bl(t)}t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new jl(this.R),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.qn(o.metadata.name),a=0,u=o.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||_s()).add(s);e.set(c,l)}}return e},t.prototype.complete=function(){return(0,Vr.mG)(this,void 0,void 0,(function(){var t,e,n,r,i;return(0,Vr.Jh)(this,(function(o){switch(o.label){case 0:return[4,mc(this.localStore,new jl(this.R),this.documents,this.ro.id)];case 1:t=o.sent(),e=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?(i=r[n],[4,vc(this.localStore,i,e.get(i.name))]):[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Qu(Object.assign({},this.progress),t))]}}))}))}})();function Bl(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vl=function(t){this.key=t},Ul=function(t){this.key=t},ql=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=_s(),this.mutatedKeys=_s(),this.lo=Co(t),this.fo=new xl(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new Sl,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=fo(this.query)&&i.size===this.query.limit?i.last():null,c=po(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((function(t,e){var l=i.get(t),h=Eo(n.query,e)?e:null,f=!!l&&n.mutatedKeys.has(l.key),p=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),d=!1;l&&h?l.data.isEqual(h.data)?f!==p&&(r.track({type:3,doc:h}),d=!0):n.yo(l,h)||(r.track({type:2,doc:h}),d=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),d=!0):l&&!h&&(r.track({type:1,doc:l}),d=!0,(u||c)&&(a=!0)),d&&(h?(s=s.add(h),o=p?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))})),fo(this.query)||po(this.query))for(;s.size>this.query.limit;){var l=fo(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:s,mo:r,Nn:a,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Xr()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)})),this.po(n);var s=e?this.Eo():[],a=0===this.ho.size&&this.current?1:0,u=a!==this.ao;return this.ao=a,0!==o.length||u?{snapshot:new Il(this.query,t.fo,i,o,t.mutatedKeys,0===a,u,!1),To:s}:{To:s}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Sl,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach((function(t){return e.uo=e.uo.add(t)})),t.modifiedDocuments.forEach((function(t){})),t.removedDocuments.forEach((function(t){return e.uo=e.uo.delete(t)})),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=_s(),this.fo.forEach((function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))}));var n=[];return e.forEach((function(e){t.ho.has(e)||n.push(new Ul(e))})),this.ho.forEach((function(t){e.has(t)||n.push(new Vl(t))})),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=_s();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return Il.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),Hl=function(t,e,n){this.query=t,this.targetId=e,this.view=n},zl=function(t){this.key=t,this.bo=!1},$l=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new Fu((function(t){return _o(t)}),ko),this.Vo=new Map,this.So=new Set,this.Do=new ls(Ci.comparator),this.Co=new Map,this.No=new yc,this.xo={},this.Fo=new Map,this.ko=Cu.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),t}();function Gl(t,e){return(0,Vr.mG)(this,void 0,void 0,(function(){var n,r,i,o,s,a;return(0,Vr.Jh)(this,(function(u){switch(u.label){case 0:return n=kh(t),(o=n.Po.get(e))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Ro(),[3,4]):[3,1];case 1:return[4,cc(n.localStore,bo(e))];case 2:return s=u.sent(),a=n.sharedClientState.addLocalQueryTarget(s.targetId),r=s.targetId,[4,Wl(n,e,r,"current"===a)];case 3:i=u.sent(),n.isPrimaryClient&&el(n.remoteStore,s),u.label=4;case 4:return[2,i]}}))}))}function Wl(t,e,n,r){return(0,Vr.mG)(this,void 0,void 0,(function(){var i,o,s,a,u,c;return(0,Vr.Jh)(this,(function(l){switch(l.label){case 0:return t.Oo=function(e,n,r){return function(t,e,n,r){return(0,Vr.mG)(this,void 0,void 0,(function(){var i,o,s;return(0,Vr.Jh)(this,(function(a){switch(a.label){case 0:return i=e.view._o(n),i.Nn?[4,hc(t.localStore,e.query,!1).then((function(t){var n=t.documents;return e.view._o(n,i)}))]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),s=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(sh(t,e.targetId,s.To),s.snapshot)]}}))}))}(t,e,n,r)},[4,hc(t.localStore,e,!0)];case 1:return i=l.sent(),o=new ql(e,i.Bn),s=o._o(i.documents),a=xs.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=o.applyChanges(s,t.isPrimaryClient,a),sh(t,n,u.To),c=new Hl(e,n,o),[2,(t.Po.set(e,c),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}}))}))}function Kl(t,e){return(0,Vr.mG)(this,void 0,void 0,(function(){var n,r,i;return(0,Vr.Jh)(this,(function(o){switch(o.label){case 0:return n=Yr(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter((function(t){return!ko(t,e)}))),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,lc(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),nl(n.remoteStore,r.targetId),ih(n,r.targetId)})).catch(Nu)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return ih(n,r.targetId),[4,lc(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function Jl(t,e,n){return(0,Vr.mG)(this,void 0,void 0,(function(){var r,i,o,s;return(0,Vr.Jh)(this,(function(a){switch(a.label){case 0:r=_h(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=Yr(t),i=ii.now(),o=e.reduce((function(t,e){return t.add(e.key)}),_s());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Mn.pn(t,o).next((function(o){n=o;for(var s=[],a=0,u=e;a<u.length;a++){var c=u[a],l=Jo(c,n.get(c.key));null!=l&&s.push(new Zo(c.key,l,Ui(l.value.mapValue),zo.exists(!0)))}return r._n.addMutationBatch(t,i,s,e)}))})).then((function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}}))}(r.localStore,e)];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new ls(ei)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,ch(r,i.changes)];case 3:return a.sent(),[4,dl(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=Cl(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}}))}))}function Xl(t,e){return(0,Vr.mG)(this,void 0,void 0,(function(){var n,r;return(0,Vr.Jh)(this,(function(i){switch(i.label){case 0:n=Yr(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,sc(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach((function(t,e){var r=n.Co.get(e);r&&(Qr(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?Qr(r.bo):t.removedDocuments.size>0&&(Qr(r.bo),r.bo=!1))})),[4,ch(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Nu(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function Ql(t,e,n){var r=Yr(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=Yr(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(e)&&(r=!0)})),r&&Ll(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Yl(t,e,n){return(0,Vr.mG)(this,void 0,void 0,(function(){var r,i,o,s,a,u;return(0,Vr.Jh)(this,(function(c){switch(c.label){case 0:return(r=Yr(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(o=i&&i.key)?(s=(s=new ls(Ci.comparator)).insert(o,qi.newNoDocument(o,oi.min())),a=_s().add(o),u=new Cs(oi.min(),new Map,new ps(ei),s,a),[4,Xl(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),uh(r),[3,4];case 2:return[4,lc(r.localStore,e,!1).then((function(){return ih(r,e,n)})).catch(Nu)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function Zl(t,e){return(0,Vr.mG)(this,void 0,void 0,(function(){var n,r,i;return(0,Vr.Jh)(this,(function(o){switch(o.label){case 0:n=Yr(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,ic(n.localStore,e)];case 2:return i=o.sent(),rh(n,r,null),nh(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,ch(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Nu(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function th(t,e,n){return(0,Vr.mG)(this,void 0,void 0,(function(){var r,i;return(0,Vr.Jh)(this,(function(o){switch(o.label){case 0:r=Yr(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=Yr(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n._n.lookupMutationBatch(t,e).next((function(e){return Qr(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)})).next((function(){return n._n.performConsistencyCheck(t)})).next((function(){return n.Mn.pn(t,r)}))}))}(r.localStore,e)];case 2:return i=o.sent(),rh(r,e,n),nh(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,ch(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Nu(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function eh(t,e){return(0,Vr.mG)(this,void 0,void 0,(function(){var n,r,i,o,s;return(0,Vr.Jh)(this,(function(a){switch(a.label){case 0:al((n=Yr(t)).remoteStore)||Gr("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=Yr(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e._n.getHighestUnacknowledgedBatchId(t)}))}(n.localStore)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return o=a.sent(),s=Cl(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}}))}))}function nh(t,e){(t.Fo.get(e)||[]).forEach((function(t){t.resolve()})),t.Fo.delete(e)}function rh(t,e,n){var r=Yr(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function ih(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach((function(e){t.No.containsKey(e)||oh(t,e)}))}function oh(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(nl(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),uh(t))}function sh(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Vl?(t.No.addReference(o.key,e),ah(t,o)):o instanceof Ul?(Gr("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||oh(t,o.key)):Xr()}}function ah(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(Gr("SyncEngine","New document in limbo: "+n),t.So.add(r),uh(t))}function uh(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new Ci(li.fromString(e)),r=t.ko.next();t.Co.set(r,new zl(n)),t.Do=t.Do.insert(n,r),el(t.remoteStore,new Qa(bo(ho(n.path)),r,2,Ur.o))}}function ch(t,e,n){return(0,Vr.mG)(this,void 0,void 0,(function(){var r,i,o,s;return(0,Vr.Jh)(this,(function(a){switch(a.label){case 0:return r=Yr(t),i=[],o=[],s=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach((function(t,a){s.push(r.Oo(a,e,n).then((function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Zu.Pn(a.targetId,t);o.push(e)}})))})),[4,Promise.all(s)]);case 1:return a.sent(),r.vo._r(i),[4,function(t,e){return(0,Vr.mG)(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l;return(0,Vr.Jh)(this,(function(h){switch(h.label){case 0:n=Yr(t),h.label=1;case 1:return h.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return Fa.forEach(e,(function(e){return Fa.forEach(e.bn,(function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)})).next((function(){return Fa.forEach(e.vn,(function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)}))}))}))}))];case 2:return h.sent(),[3,4];case 3:if(!qa(r=h.sent()))throw r;return Gr("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)s=o[i],a=s.targetId,s.fromCache||(u=n.Fn.get(a),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),n.Fn=n.Fn.insert(a,l));return[2]}}))}))}(r.localStore,o)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function lh(t,e){return(0,Vr.mG)(this,void 0,void 0,(function(){var n,r;return(0,Vr.Jh)(this,(function(i){switch(i.label){case 0:return(n=Yr(t)).currentUser.isEqual(e)?[3,3]:(Gr("SyncEngine","User change. New user:",e.toKey()),[4,rc(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fo.forEach((function(t){t.forEach((function(t){t.reject(new Hr(qr.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.Fo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,ch(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function hh(t,e){var n=Yr(t),r=n.Co.get(e);if(r&&r.bo)return _s().add(r.key);var i=_s(),o=n.Vo.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=a[s],c=n.Po.get(u);i=i.unionWith(c.view.wo)}return i}function fh(t,e){return(0,Vr.mG)(this,void 0,void 0,(function(){var n,r,i;return(0,Vr.Jh)(this,(function(o){switch(o.label){case 0:return[4,hc((n=Yr(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&sh(n,e.targetId,i.To),i)]}}))}))}function ph(t){return(0,Vr.mG)(this,void 0,void 0,(function(){var e;return(0,Vr.Jh)(this,(function(n){return[2,pc((e=Yr(t)).localStore).then((function(t){return ch(e,t)}))]}))}))}function dh(t,e,n,r){return(0,Vr.mG)(this,void 0,void 0,(function(){var i,o;return(0,Vr.Jh)(this,(function(s){switch(s.label){case 0:return[4,function(t,e){var n=Yr(t),r=Yr(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.jt(t,e).next((function(e){return e?n.Mn.pn(t,e):Fa.resolve(null)}))}))}((i=Yr(t)).localStore,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,dl(i.remoteStore)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(rh(i,e,r||null),nh(i,e),function(t,e){Yr(Yr(t)._n).Gt(e)}(i.localStore,e)):Xr(),s.label=4;case 4:return[4,ch(i,o)];case 5:return s.sent(),[3,7];case 6:Gr("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}}))}))}function mh(t,e){return(0,Vr.mG)(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c;return(0,Vr.Jh)(this,(function(l){switch(l.label){case 0:return kh(n=Yr(t)),_h(n),!0!==e||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,vh(n,r.toArray())]);case 1:return i=l.sent(),n.$o=!0,[4,kl(n.remoteStore,!0)];case 2:for(l.sent(),o=0,s=i;o<s.length;o++)a=s[o],el(n.remoteStore,a);return[3,7];case 3:return!1!==e||!1===n.$o?[3,7]:(u=[],c=Promise.resolve(),n.Vo.forEach((function(t,e){n.sharedClientState.isLocalQueryTarget(e)?u.push(e):c=c.then((function(){return ih(n,e),lc(n.localStore,e,!0)})),nl(n.remoteStore,e)})),[4,c]);case 4:return l.sent(),[4,vh(n,u)];case 5:return l.sent(),function(t){var e=Yr(t);e.Co.forEach((function(t,n){nl(e.remoteStore,n)})),e.No.ts(),e.Co=new Map,e.Do=new ls(Ci.comparator)}(n),n.$o=!1,[4,kl(n.remoteStore,!1)];case 6:l.sent(),l.label=7;case 7:return[2]}}))}))}function vh(t,e,n){return(0,Vr.mG)(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l,h,f,p,d,m;return(0,Vr.Jh)(this,(function(v){switch(v.label){case 0:n=Yr(t),r=[],i=[],o=0,s=e,v.label=1;case 1:return o<s.length?(a=s[o],u=void 0,(c=n.Vo.get(a))&&0!==c.length?[4,cc(n.localStore,bo(c[0]))]:[3,7]):[3,13];case 2:u=v.sent(),l=0,h=c,v.label=3;case 3:return l<h.length?(f=h[l],p=n.Po.get(f),[4,fh(n,p)]):[3,6];case 4:(d=v.sent()).snapshot&&i.push(d.snapshot),v.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,fc(n.localStore,a)];case 8:return m=v.sent(),[4,cc(n.localStore,m)];case 9:return u=v.sent(),[4,Wl(n,gh(m),a,!1)];case 10:v.sent(),v.label=11;case 11:r.push(u),v.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}}))}))}function gh(t){return lo(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function yh(t){var e=Yr(t);return Yr(Yr(e.localStore).persistence).fn()}function bh(t,e,n,r){return(0,Vr.mG)(this,void 0,void 0,(function(){var i,o,s;return(0,Vr.Jh)(this,(function(a){switch(a.label){case 0:return(i=Yr(t)).$o?(Gr("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,pc(i.localStore)];case 3:return o=a.sent(),s=Cs.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,ch(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,lc(i.localStore,e,!0)];case 6:return a.sent(),ih(i,e,r),[3,8];case 7:Xr(),a.label=8;case 8:return[2]}}))}))}function wh(t,e,n){return(0,Vr.mG)(this,void 0,void 0,(function(){var r,i,o,s,a,u,c,l,h,f;return(0,Vr.Jh)(this,(function(p){switch(p.label){case 0:if(!(r=kh(t)).$o)return[3,10];i=0,o=e,p.label=1;case 1:return i<o.length?(s=o[i],r.Vo.has(s)?(Gr("SyncEngine","Adding an already active target "+s),[3,5]):[4,fc(r.localStore,s)]):[3,6];case 2:return a=p.sent(),[4,cc(r.localStore,a)];case 3:return u=p.sent(),[4,Wl(r,gh(a),u.targetId,!1)];case 4:p.sent(),el(r.remoteStore,u),p.label=5;case 5:return i++,[3,1];case 6:c=function(t){return(0,Vr.Jh)(this,(function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,lc(r.localStore,t,!1).then((function(){nl(r.remoteStore,t),ih(r,t)})).catch(Nu)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},l=0,h=n,p.label=7;case 7:return l<h.length?(f=h[l],[5,c(f)]):[3,10];case 8:p.sent(),p.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function kh(t){var e=Yr(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Xl.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=hh.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Yl.bind(null,e),e.vo._r=Ml.bind(null,e.eventManager),e.vo.Mo=Rl.bind(null,e.eventManager),e}function _h(t){var e=Yr(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Zl.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=th.bind(null,e),e}var Th=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return(0,Vr.mG)(this,void 0,void 0,(function(){return(0,Vr.Jh)(this,(function(e){switch(e.label){case 0:return this.R=$c(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Qo(t),[2]}}))}))},t.prototype.Uo=function(t){return null},t.prototype.Qo=function(t){return nc(this.persistence,new tc,t.initialUser,this.R)},t.prototype.qo=function(t){return new Ec(xc.bs,this.R)},t.prototype.Bo=function(t){return new Fc},t.prototype.terminate=function(){return(0,Vr.mG)(this,void 0,void 0,(function(){return(0,Vr.Jh)(this,(function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}}))}))},t}(),Eh=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Ko=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return(0,Vr.ZT)(e,t),e.prototype.initialize=function(e){return(0,Vr.mG)(this,void 0,void 0,(function(){return(0,Vr.Jh)(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,dc(this.localStore)];case 2:return n.sent(),[4,this.Ko.initialize(this,e)];case 3:return n.sent(),[4,_h(this.Ko.syncEngine)];case 4:return n.sent(),[4,dl(this.Ko.remoteStore)];case 5:return n.sent(),[2]}}))}))},e.prototype.Qo=function(t){return nc(this.persistence,new tc,t.initialUser,this.R)},e.prototype.Uo=function(t){var e=this.persistence.referenceDelegate.garbageCollector;return new Mu(e,t.asyncQueue)},e.prototype.qo=function(t){var e=Xu(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?gu.withCacheSize(this.cacheSizeBytes):gu.DEFAULT;return new Wu(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,Hc(),zc(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new Fc},e}(Th),Ch=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Ko=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return(0,Vr.ZT)(e,t),e.prototype.initialize=function(e){return(0,Vr.mG)(this,void 0,void 0,(function(){var n,r=this;return(0,Vr.Jh)(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Ko.syncEngine,this.sharedClientState instanceof Pc?(this.sharedClientState.syncEngine={ui:dh.bind(null,n),ai:bh.bind(null,n),hi:wh.bind(null,n),fn:yh.bind(null,n),ci:ph.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He((function(t){return(0,Vr.mG)(r,void 0,void 0,(function(){return(0,Vr.Jh)(this,(function(e){switch(e.label){case 0:return[4,mh(this.Ko.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.Bo=function(t){var e=Hc();if(!Pc.yt(e))throw new Hr(qr.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Xu(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Pc(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(Eh),xh=function(){function t(){}return t.prototype.initialize=function(t,e){return(0,Vr.mG)(this,void 0,void 0,(function(){var n=this;return(0,Vr.Jh)(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return Ql(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=lh.bind(null,this.syncEngine),[4,kl(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.createEventManager=function(t){return new Nl},t.prototype.createDatastore=function(t){var e,n=$c(t.databaseInfo.databaseId),r=(e=t.databaseInfo,new qc(e));return function(t,e,n){return new Xc(t,e,n)}(t.credentials,r,n)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,s=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return Ql(s.syncEngine,t,0)},o=Bc.yt()?new Bc:new jc,new Yc(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,s){var a=new $l(t,e,n,r,i,o);return s&&(a.$o=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return(0,Vr.mG)(this,void 0,void 0,(function(){var e;return(0,Vr.Jh)(this,(function(n){switch(n.label){case 0:return e=Yr(t),Gr("RemoteStore","RemoteStore shutting down."),e.Or.add(5),[4,tl(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Sh=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),Ih=(function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new Pa,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then((function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))}),(function(t){return n.metadata.reject(t)}))}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return(0,Vr.mG)(this,void 0,void 0,(function(){return(0,Vr.Jh)(this,(function(t){return[2,this.metadata.promise]}))}))},t.prototype.Lo=function(){return(0,Vr.mG)(this,void 0,void 0,(function(){return(0,Vr.Jh)(this,(function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}}))}))},t.prototype.Ho=function(){return(0,Vr.mG)(this,void 0,void 0,(function(){var t,e,n,r;return(0,Vr.Jh)(this,(function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new Fl(JSON.parse(r),t.length+n)]}}))}))},t.prototype.Zo=function(){return this.buffer.findIndex((function(t){return t==="{".charCodeAt(0)}))},t.prototype.Jo=function(){return(0,Vr.mG)(this,void 0,void 0,(function(){var t,e;return(0,Vr.Jh)(this,(function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}}))}))},t.prototype.Xo=function(t){return(0,Vr.mG)(this,void 0,void 0,(function(){var e;return(0,Vr.Jh)(this,(function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}}))}))},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return(0,Vr.mG)(this,void 0,void 0,(function(){var t,e;return(0,Vr.Jh)(this,(function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}}))}))}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return(0,Vr.mG)(this,void 0,void 0,(function(){var e,n=this;return(0,Vr.Jh)(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Hr(qr.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return(0,Vr.mG)(this,void 0,void 0,(function(){var n,r,i,o,s,a;return(0,Vr.Jh)(this,(function(u){switch(u.label){case 0:return n=Yr(t),r=Ws(n.R)+"/documents",i={documents:e.map((function(t){return Hs(n.R,t)}))},[4,n.$i("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){Qr(!!e.found),e.found.name,e.found.updateTime;var n=zs(t,e.found.name),r=Vs(e.found.updateTime),i=new Vi({mapValue:{fields:e.found.fields}});return qi.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){Qr(!!e.missing),Qr(!!e.readTime);var n=zs(t,e.missing),r=Vs(e.readTime);return qi.newNoDocument(n,r)}(t,e):Xr()}(n.R,t);s.set(e.key.toString(),e)})),a=[],[2,(e.forEach((function(t){var e=s.get(t.toString());Qr(!!e),a.push(e)})),a)]}}))}))}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach((function(t){return n.recordVersion(t)})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new os(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return(0,Vr.mG)(this,void 0,void 0,(function(){var t,e=this;return(0,Vr.Jh)(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=Ci.fromPath(n);e.mutations.push(new ss(r,e.precondition(r)))})),[4,function(t,e){return(0,Vr.mG)(this,void 0,void 0,(function(){var n,r,i;return(0,Vr.Jh)(this,(function(o){switch(o.label){case 0:return n=Yr(t),r=Ws(n.R)+"/documents",i={writes:e.map((function(t){return Qs(n.R,t)}))},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Xr();e=oi.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Hr(qr.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?zo.updateTime(e):zo.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(oi.min()))throw new Hr(qr.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return zo.updateTime(e)}return zo.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),Ah=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new Gc(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji((function(){return(0,Vr.mG)(t,void 0,void 0,(function(){var t,e,n=this;return(0,Vr.Jh)(this,(function(r){return t=new Ih(this.datastore),(e=this.sc(t))&&e.then((function(e){n.asyncQueue.enqueueAndForget((function(){return t.commit().then((function(){n.deferred.resolve(e)})).catch((function(t){n.ic(t)}))}))})).catch((function(t){n.ic(t)})),[2]}))}))}))},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!_i(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return e.nc(),Promise.resolve()}))):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!us(e)}return!1},t}(),Nh=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=Sc.UNAUTHENTICATED,this.clientId=ti.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,(function(t){return(0,Vr.mG)(r,void 0,void 0,(function(){return(0,Vr.Jh)(this,(function(e){switch(e.label){case 0:return Gr("FirestoreClient","Received user=",t.uid),[4,this.credentialListener(t)];case 1:return e.sent(),this.user=t,[2]}}))}))}))}return t.prototype.getConfiguration=function(){return(0,Vr.mG)(this,void 0,void 0,(function(){return(0,Vr.Jh)(this,(function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]}))}))},t.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Hr(qr.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new Pa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return(0,Vr.mG)(t,void 0,void 0,(function(){var t,n;return(0,Vr.Jh)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Cl(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oh(t,e){return(0,Vr.mG)(this,void 0,void 0,(function(){var n,r,i=this;return(0,Vr.Jh)(this,(function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),Gr("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener((function(t){return(0,Vr.mG)(i,void 0,void 0,(function(){return(0,Vr.Jh)(this,(function(n){switch(n.label){case 0:return r.isEqual(t)?[3,2]:[4,rc(e.localStore,t)];case 1:n.sent(),r=t,n.label=2;case 2:return[2]}}))}))})),e.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=e,[2]}}))}))}function Dh(t,e){return(0,Vr.mG)(this,void 0,void 0,(function(){var n,r;return(0,Vr.Jh)(this,(function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,Mh(t)];case 1:return n=i.sent(),Gr("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener((function(t){return function(t,e){return(0,Vr.mG)(this,void 0,void 0,(function(){var n,r;return(0,Vr.Jh)(this,(function(i){switch(i.label){case 0:return(n=Yr(t)).asyncQueue.verifyOperationInProgress(),Gr("RemoteStore","RemoteStore received new credentials"),r=al(n),n.Or.add(3),[4,tl(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.Or.delete(3),[4,Zc(n)];case 3:return i.sent(),[2]}}))}))}(e.remoteStore,t)})),t.onlineComponents=e,[2]}}))}))}function Mh(t){return(0,Vr.mG)(this,void 0,void 0,(function(){return(0,Vr.Jh)(this,(function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(Gr("FirestoreClient","Using default OfflineComponentProvider"),[4,Oh(t,new Th)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}}))}))}function Rh(t){return(0,Vr.mG)(this,void 0,void 0,(function(){return(0,Vr.Jh)(this,(function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(Gr("FirestoreClient","Using default OnlineComponentProvider"),[4,Dh(t,new xh)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}}))}))}function Lh(t){return Mh(t).then((function(t){return t.persistence}))}function Ph(t){return Mh(t).then((function(t){return t.localStore}))}function Fh(t){return Rh(t).then((function(t){return t.remoteStore}))}function jh(t){return Rh(t).then((function(t){return t.syncEngine}))}function Bh(t){return(0,Vr.mG)(this,void 0,void 0,(function(){var e,n;return(0,Vr.Jh)(this,(function(r){switch(r.label){case 0:return[4,Rh(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=Gl.bind(null,e.syncEngine),n.onUnlisten=Kl.bind(null,e.syncEngine),n)]}}))}))}function Vh(t,e,n){var r=this;void 0===n&&(n={});var i=new Pa;return t.asyncQueue.enqueueAndForget((function(){return(0,Vr.mG)(r,void 0,void 0,(function(){var r;return(0,Vr.Jh)(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Sh({next:function(o){e.enqueueAndForget((function(){return Dl(t,s)}));var a=o.docs.has(n);!a&&o.fromCache?i.reject(new Hr(qr.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new Hr(qr.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new Pl(ho(n.path),o,{includeMetadataChanges:!0,so:!0});return Ol(t,s)},[4,Bh(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}}))}))})),i.promise}function Uh(t,e,n){var r=this;void 0===n&&(n={});var i=new Pa;return t.asyncQueue.enqueueAndForget((function(){return(0,Vr.mG)(r,void 0,void 0,(function(){var r;return(0,Vr.Jh)(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Sh({next:function(n){e.enqueueAndForget((function(){return Dl(t,s)})),n.fromCache&&"server"===r.source?i.reject(new Hr(qr.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new Pl(n,o,{includeMetadataChanges:!0,so:!0});return Ol(t,s)},[4,Bh(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}}))}))})),i.promise}var qh=function(t,e,n,r,i,o,s,a){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=a},Hh=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),zh=new Map,$h=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},Gh=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){this.changeListener=e,t.enqueueRetryable((function(){return e(Sc.UNAUTHENTICATED)}))},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Wh=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){var n=this;this.changeListener=e,t.enqueueRetryable((function(){return e(n.token.user)}))},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Kh=function(){function t(t){var e=this;this.currentUser=Sc.UNAUTHENTICATED,this.oc=new Pa,this.cc=0,this.changeListener=function(){return Promise.resolve()},this.uc=!1,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.ac=function(){e.cc++,e.currentUser=e.hc(),e.oc.resolve(),e.uc&&e.asyncQueue.enqueueRetryable((function(){return e.changeListener(e.currentUser)}))};var n=function(t){Gr("FirebaseCredentialsProvider","Auth detected"),e.auth=t,e.lc(),e.auth.addAuthTokenListener(e.ac)};t.onInit((function(t){return n(t)})),setTimeout((function(){if(!e.auth){var r=t.getImmediate({optional:!0});r?n(r):e.uc&&(Gr("FirebaseCredentialsProvider","Auth not yet detected"),e.asyncQueue.enqueueRetryable((function(){return e.changeListener(e.currentUser)})))}}),0)}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.cc!==e?(Gr("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Qr("string"==typeof n.accessToken),new $h(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t,e){this.uc=!0,this.asyncQueue=t,this.changeListener=e},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.ac),this.changeListener=function(){return Promise.resolve()}},t.prototype.hc=function(){var t=this.auth&&this.auth.getUid();return Qr(null===t||"string"==typeof t),new Sc(t)},t.prototype.lc=function(){var t=this;this.uc&&(this.uc=!1,this.asyncQueue.enqueueRetryable((function(){return(0,Vr.mG)(t,void 0,void 0,(function(){return(0,Vr.Jh)(this,(function(t){switch(t.label){case 0:return[4,this.oc.promise];case 1:return t.sent(),[4,this.changeListener(this.currentUser)];case 2:return t.sent(),this.uc=!0,[2]}}))}))})))},t}(),Jh=function(){function t(t,e,n){this.fc=t,this.dc=e,this.wc=n,this.type="FirstParty",this.user=Sc.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.dc},e=this.fc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.wc&&(t["X-Goog-Iam-Authorization-Token"]=this.wc),t},enumerable:!1,configurable:!0}),t}(),Xh=function(){function t(t,e,n){this.fc=t,this.dc=e,this.wc=n}return t.prototype.getToken=function(){return Promise.resolve(new Jh(this.fc,this.dc,this.wc))},t.prototype.setChangeListener=function(t,e){t.enqueueRetryable((function(){return e(Sc.FIRST_PARTY)}))},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qh(t,e,n){if(!n)throw new Hr(qr.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Yh(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Hr(qr.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Zh(t,e,n,r){if(!0===e&&!0===r)throw new Hr(qr.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function tf(t){if(!Ci.isDocumentKey(t))throw new Hr(qr.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function ef(t){if(Ci.isDocumentKey(t))throw new Hr(qr.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function nf(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Xr()}function rf(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Hr(qr.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=nf(t);throw new Hr(qr.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function of(t,e){if(e<=0)throw new Hr(qr.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sf=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Hr(qr.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Hr(qr.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Zh("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},t}(),af=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sf({}),this._settingsFrozen=!1,t instanceof Hh?(this._databaseId=t,this._credentials=new Gh):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Hr(qr.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hh(t.options.projectId)}(t),this._credentials=new Kh(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new Hr(qr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new Hr(qr.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sf(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new Gh;switch(t.type){case"gapi":var e=t.client;return Qr(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Xh(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Hr(qr.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return t=this,(e=zh.get(t))&&(Gr("ComponentProvider","Removing Datastore"),zh.delete(t),e.terminate()),Promise.resolve();var t,e},t}(),uf=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new lf(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),cf=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),lf=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,ho(r))||this)._path=r,i.type="collection",i}return(0,Vr.ZT)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new uf(this.firestore,null,new Ci(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(cf);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hf(t,e){for(var n,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];if(t=(0,i.m9)(t),Qh("collection","path",e),t instanceof af)return ef(n=li.fromString.apply(li,(0,Vr.ev)([e],r))),new lf(t,null,n);if(!(t instanceof uf||t instanceof lf))throw new Hr(qr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return ef(n=li.fromString.apply(li,(0,Vr.ev)([t.path],r)).child(li.fromString(e))),new lf(t.firestore,null,n)}function ff(t,e){for(var n,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];if(t=(0,i.m9)(t),1===arguments.length&&(e=ti.u()),Qh("doc","path",e),t instanceof af)return tf(n=li.fromString.apply(li,(0,Vr.ev)([e],r))),new uf(t,null,new Ci(n));if(!(t instanceof uf||t instanceof lf))throw new Hr(qr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return tf(n=t._path.child(li.fromString.apply(li,(0,Vr.ev)([e],r)))),new uf(t.firestore,t instanceof lf?t.converter:null,new Ci(n))}function pf(t,e){return t=(0,i.m9)(t),e=(0,i.m9)(e),(t instanceof uf||t instanceof lf)&&(e instanceof uf||e instanceof lf)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function df(t,e){return t=(0,i.m9)(t),e=(0,i.m9)(e),t instanceof cf&&e instanceof cf&&t.firestore===e.firestore&&ko(t._query,e._query)&&t.converter===e.converter
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var mf=function(){function t(){var t=this;this._c=Promise.resolve(),this.mc=[],this.yc=!1,this.gc=[],this.Ec=null,this.Tc=!1,this.Ic=[],this.Zi=new Gc(this,"async_queue_retry"),this.Ac=function(){var e=zc();e&&Gr("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=zc();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ac)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this.yc},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Rc(),this.bc(t)},t.prototype.enterRestrictedMode=function(){if(!this.yc){this.yc=!0;var t=zc();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ac)}},t.prototype.enqueue=function(t){return this.Rc(),this.yc?new Promise((function(t){})):this.bc(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget((function(){return e.mc.push(t),e.vc()}))},t.prototype.vc=function(){return(0,Vr.mG)(this,void 0,void 0,(function(){var t,e=this;return(0,Vr.Jh)(this,(function(n){switch(n.label){case 0:if(0===this.mc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.mc[0]()];case 2:return n.sent(),this.mc.shift(),this.Zi.reset(),[3,4];case 3:if(!qa(t=n.sent()))throw t;return Gr("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.mc.length>0&&this.Zi.ji((function(){return e.vc()})),n.label=5;case 5:return[2]}}))}))},t.prototype.bc=function(t){var e=this,n=this._c.then((function(){return e.Tc=!0,t().catch((function(t){throw e.Ec=t,e.Tc=!1,Wr("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.Tc=!1,t}))}));return this._c=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Rc(),this.Ic.indexOf(t)>-1&&(e=0);var i=El.createAndSchedule(this,t,e,n,(function(t){return r.Pc(t)}));return this.gc.push(i),i},t.prototype.Rc=function(){this.Ec&&Xr()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Vc=function(){return(0,Vr.mG)(this,void 0,void 0,(function(){var t;return(0,Vr.Jh)(this,(function(e){switch(e.label){case 0:return[4,t=this._c];case 1:e.sent(),e.label=2;case 2:if(t!==this._c)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.Sc=function(t){for(var e=0,n=this.gc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Dc=function(t){var e=this;return this.Vc().then((function(){e.gc.sort((function(t,e){return t.targetTimeMs-e.targetTimeMs}));for(var n=0,r=e.gc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.Vc()}))},t.prototype.Cc=function(t){this.Ic.push(t)},t.prototype.Pc=function(t){var e=this.gc.indexOf(t);this.gc.splice(e,1)},t}();function vf(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}(function(){function t(){this._progressObserver={},this._taskCompletionResolver=new Pa,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}})();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gf=-1,yf=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new mf,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return(0,Vr.ZT)(e,t),e.prototype._terminate=function(){return this._firestoreClient||wf(this),this._firestoreClient.terminate()},e}(af);function bf(t){return t._firestoreClient||wf(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function wf(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new qh(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new Nh(t._credentials,t._queue,r)}function kf(t,e,n){var r=this,i=new Pa;return t.asyncQueue.enqueue((function(){return(0,Vr.mG)(r,void 0,void 0,(function(){var r;return(0,Vr.Jh)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,Oh(t,n)];case 1:return o.sent(),[4,Dh(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===qr.FAILED_PRECONDITION||t.code===qr.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function _f(t){if(t._initialized||t._terminated)throw new Hr(qr.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tf=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Hr(qr.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fi(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),Ef=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(di.fromBase64String(e))}catch(e){throw new Hr(qr.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(di.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),Cf=function(t){this._methodName=t},xf=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Hr(qr.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Hr(qr.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return ei(this._lat,t._lat)||ei(this._long,t._long)},t}(),Sf=/^__.*__$/,If=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new Zo(t,this.data,this.fieldMask,e,this.fieldTransforms):new Yo(t,this.data,e,this.fieldTransforms)},t}(),Af=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new Zo(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nf(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Xr()}}var Of=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Nc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"xc",{get:function(){return this.settings.xc},enumerable:!1,configurable:!0}),t.prototype.Fc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Fc({path:n,$c:!1});return r.Oc(t),r},t.prototype.Mc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Fc({path:n,$c:!1});return r.Nc(),r},t.prototype.Lc=function(t){return this.Fc({path:void 0,$c:!0})},t.prototype.Bc=function(t){return Qf(t,this.settings.methodName,this.settings.qc||!1,this.path,this.settings.Uc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find((function(e){return t.isPrefixOf(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.isPrefixOf(e.field)}))},t.prototype.Nc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Oc(this.path.get(t))},t.prototype.Oc=function(t){if(0===t.length)throw this.Bc("Document fields must not be empty");if(Nf(this.xc)&&Sf.test(t))throw this.Bc('Document fields cannot begin and end with "__"')},t}(),Df=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||$c(t)}return t.prototype.Qc=function(t,e,n,r){return void 0===r&&(r=!1),new Of({xc:t,methodName:e,Uc:n,path:fi.emptyPath(),$c:!1,qc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function Mf(t){var e=t._freezeSettings(),n=$c(t._databaseId);return new Df(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Rf(t,e,n,r,i,o){void 0===o&&(o={});var s=t.Qc(o.merge||o.mergeFields?2:0,e,n,i);Wf("Data must be an object, but it was:",s,r);var a,u,c=$f(r,s);if(o.merge)a=new pi(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var p=Kf(e,f[h],n);if(!s.contains(p))throw new Hr(qr.INVALID_ARGUMENT,"Field '"+p+"' is specified in your field mask but missing from your input data.");Yf(l,p)||l.push(p)}a=new pi(l),u=s.fieldTransforms.filter((function(t){return a.covers(t.field)}))}else a=null,u=s.fieldTransforms;return new If(new Vi(c),a,u)}var Lf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Vr.ZT)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.xc)throw 1===t.xc?t.Bc(this._methodName+"() can only appear at the top level of your update data"):t.Bc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Cf);function Pf(t,e,n){return new Of({xc:3,Uc:e.settings.Uc,methodName:t._methodName,$c:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var Ff=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Vr.ZT)(e,t),e.prototype._toFieldTransform=function(t){return new qo(t.path,new Ro)},e.prototype.isEqual=function(t){return t instanceof e},e}(Cf),jf=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return(0,Vr.ZT)(e,t),e.prototype._toFieldTransform=function(t){var e=Pf(this,t,!0),n=this.Kc.map((function(t){return zf(t,e)})),r=new Lo(n);return new qo(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Cf),Bf=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return(0,Vr.ZT)(e,t),e.prototype._toFieldTransform=function(t){var e=Pf(this,t,!0),n=this.Kc.map((function(t){return zf(t,e)})),r=new Fo(n);return new qo(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Cf),Vf=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).jc=n,r}return(0,Vr.ZT)(e,t),e.prototype._toFieldTransform=function(t){var e=new Bo(t.R,Ao(t.R,this.jc));return new qo(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Cf);function Uf(t,e,n,r){var o=t.Qc(1,e,n);Wf("Data must be an object, but it was:",o,r);var s=[],a=Vi.empty();ai(r,(function(t,r){var u=Xf(e,t,n);r=(0,i.m9)(r);var c=o.Mc(u);if(r instanceof Lf)s.push(u);else{var l=zf(r,c);null!=l&&(s.push(u),a.set(u,l))}}));var u=new pi(s);return new Af(a,u,o.fieldTransforms)}function qf(t,e,n,r,o,s){var a=t.Qc(1,e,n),u=[Kf(e,r,n)],c=[o];if(s.length%2!=0)throw new Hr(qr.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var l=0;l<s.length;l+=2)u.push(Kf(e,s[l])),c.push(s[l+1]);for(var h=[],f=Vi.empty(),p=u.length-1;p>=0;--p)if(!Yf(h,u[p])){var d=u[p],m=c[p];m=(0,i.m9)(m);var v=a.Mc(d);if(m instanceof Lf)h.push(d);else{var g=zf(m,v);null!=g&&(h.push(d),f.set(d,g))}}var y=new pi(h);return new Af(f,y,a.fieldTransforms)}function Hf(t,e,n,r){return void 0===r&&(r=!1),zf(n,t.Qc(r?4:3,e))}function zf(t,e){if(Gf(t=(0,i.m9)(t)))return Wf("Unsupported field value:",e,t),$f(t,e);if(t instanceof Cf)return function(t,e){if(!Nf(e.xc))throw e.Bc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Bc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.$c&&4!==e.xc)throw e.Bc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=zf(o[i],e.Lc(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=(0,i.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Ao(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=ii.fromDate(t);return{timestampValue:Fs(e.R,n)}}if(t instanceof ii)return n=new ii(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Fs(e.R,n)};if(t instanceof xf)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ef)return{bytesValue:js(e.R,t._byteString)};if(t instanceof uf){n=e.databaseId;var r=t.firestore._databaseId;if(!r.isEqual(n))throw e.Bc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Us(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Bc("Unsupported field value: "+nf(t))}(t,e)}function $f(t,e){var n={};return ui(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ai(t,(function(t,r){var i=zf(r,e.kc(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function Gf(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof ii||t instanceof xf||t instanceof Ef||t instanceof uf||t instanceof Cf)}function Wf(t,e,n){if(!Gf(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=nf(n);throw"an object"===r?e.Bc(t+" a custom object"):e.Bc(t+" "+r)}}function Kf(t,e,n){if((e=(0,i.m9)(e))instanceof Tf)return e._internalPath;if("string"==typeof e)return Xf(t,e);throw Qf("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Jf=new RegExp("[~\\*/\\[\\]]");function Xf(t,e,n){if(e.search(Jf)>=0)throw Qf("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Tf.bind.apply(Tf,(0,Vr.ev)([void 0],e.split(".")))))._internalPath}catch(E){throw Qf("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Qf(t,e,n,r,i){var o=r&&!r.isEmpty(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new Hr(qr.INVALID_ARGUMENT,(a+=". ")+t+u)}function Yf(t,e){return t.some((function(t){return t.isEqual(e)}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zf=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new uf(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new tp(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(ep("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),tp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Vr.ZT)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Zf);function ep(t,e){return"string"==typeof e?Xf(t,e):e instanceof Tf?e._internalPath:e._delegate._internalPath}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var np=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),rp=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this)._firestore=e,a._firestoreImpl=e,a.metadata=o,a}return(0,Vr.ZT)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new ip(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(ep("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(Zf),ip=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Vr.ZT)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(rp),op=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new np(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach((function(r){t.call(e,new ip(n._firestore,n._userDataWriter,r.key,r,new np(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Hr(qr.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map((function(e){var r=new ip(t._firestore,t._userDataWriter,e.doc.key,e.doc,new np(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter);return e.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new ip(t._firestore,t._userDataWriter,e.doc.key,e.doc,new np(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:sp(e.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function sp(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Xr()}}function ap(t,e){return t instanceof rp&&e instanceof rp?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof op&&e instanceof op&&t._firestore===e._firestore&&df(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function up(t){if(po(t)&&0===t.explicitOrderBy.length)throw new Hr(qr.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var cp=function(){};function lp(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var hp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Wc=e,i.Gc=n,i.zc=r,i.type="where",i}return(0,Vr.ZT)(e,t),e.prototype._apply=function(t){var e=Mf(t.firestore),n=function(t,e,n,r,i,o,s){var a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Hr(qr.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){yp(s,o);for(var u=[],c=0,l=s;c<l.length;c++){var h=l[c];u.push(gp(r,t,h))}a={arrayValue:{values:u}}}else a=gp(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||yp(s,o),a=Hf(n,"where",s,"in"===o||"not-in"===o);var f=Ki.create(i,o,a);return function(t,e){if(e.g()){var n=vo(t);if(null!==n&&!n.isEqual(e.field))throw new Hr(qr.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=mo(t);null!==r&&bp(t,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw i===e.op?new Hr(qr.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new Hr(qr.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,f),f}(t._query,0,e,t.firestore._databaseId,this.Wc,this.Gc,this.zc);return new cf(t.firestore,t.converter,function(t,e){var n=t.filters.concat([e]);return new co(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(cp),fp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Wc=e,r.Hc=n,r.type="orderBy",r}return(0,Vr.ZT)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Hr(qr.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Hr(qr.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new oo(e,n);return function(t,e){if(null===mo(t)){var n=vo(t);null!==n&&bp(t,n,e.field)}}(t,r),r}(t._query,this.Wc,this.Hc);return new cf(t.firestore,t.converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new co(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(cp),pp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Jc=n,i.Yc=r,i}return(0,Vr.ZT)(e,t),e.prototype._apply=function(t){return new cf(t.firestore,t.converter,wo(t._query,this.Jc,this.Yc))},e}(cp),dp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Xc=n,i.Zc=r,i}return(0,Vr.ZT)(e,t),e.prototype._apply=function(t){var e=vp(t,this.type,this.Xc,this.Zc);return new cf(t.firestore,t.converter,function(t,e){return new co(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(cp),mp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Xc=n,i.Zc=r,i}return(0,Vr.ZT)(e,t),e.prototype._apply=function(t){var e=vp(t,this.type,this.Xc,this.Zc);return new cf(t.firestore,t.converter,function(t,e){return new co(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(cp);function vp(t,e,n,r){if(n[0]=(0,i.m9)(n[0]),n[0]instanceof Zf)return function(t,e,n,r,i){if(!r)throw new Hr(qr.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=yo(t);s<a.length;s++){var u=a[s];if(u.field.isKeyField())o.push(Mi(e,r.key));else{var c=r.data.field(u.field);if(bi(c))throw new Hr(qr.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Hr(qr.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new ro(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var o=Mf(t.firestore);return function(t,e,n,r,i,o){var s=t.explicitOrderBy;if(i.length>s.length)throw new Hr(qr.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.isKeyField()){if("string"!=typeof c)throw new Hr(qr.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!go(t)&&-1!==c.indexOf("/"))throw new Hr(qr.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(li.fromString(c));if(!Ci.isDocumentKey(l))throw new Hr(qr.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Ci(l);a.push(Mi(e,h))}else{var f=Hf(n,r,c);a.push(f)}}return new ro(a,o)}(t._query,t.firestore._databaseId,o,e,n,r)}function gp(t,e,n){if("string"==typeof(n=(0,i.m9)(n))){if(""===n)throw new Hr(qr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!go(e)&&-1!==n.indexOf("/"))throw new Hr(qr.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(li.fromString(n));if(!Ci.isDocumentKey(r))throw new Hr(qr.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Mi(t,new Ci(r))}if(n instanceof uf)return Mi(t,n._key);throw new Hr(qr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+nf(n)+".")}function yp(t,e){if(!Array.isArray(t)||0===t.length)throw new Hr(qr.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Hr(qr.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function bp(t,e,n){if(!n.isEqual(e))throw new Hr(qr.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wp=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),xi(t)){case 0:return null;case 1:return t.booleanValue;case 2:return gi(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(yi(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Xr()}},t.prototype.convertObject=function(t,e){var n=this,r={};return ai(t.fields,(function(t,i){r[t]=n.convertValue(i,e)})),r},t.prototype.convertGeoPoint=function(t){return new xf(gi(t.latitude),gi(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.convertValue(t,e)}))},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=wi(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(ki(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=vi(t);return new ii(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=li.fromString(t);Qr(fa(n));var r=new Hh(n.get(1),n.get(3)),i=new Ci(n.popFirst(5));return r.isEqual(e)||Wr("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kp(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var _p=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,Vr.ZT)(e,t),e.prototype.convertBytes=function(t){return new Ef(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new uf(this.firestore,null,e)},e}(wp),Tp=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Mf(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=Ep(t,this._firestore),i=kp(r.converter,e,n),o=Rf(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,zo.none())),this},t.prototype.update=function(t,e,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];this._verifyNotCommitted();var s,a=Ep(t,this._firestore);return s="string"==typeof(e=(0,i.m9)(e))||e instanceof Tf?qf(this._dataReader,"WriteBatch.update",a._key,e,n,r):Uf(this._dataReader,"WriteBatch.update",a._key,e),this._mutations.push(s.toMutation(a._key,zo.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=Ep(t,this._firestore);return this._mutations=this._mutations.concat(new os(e._key,zo.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new Hr(qr.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ep(t,e){if((t=(0,i.m9)(t)).firestore!==e)throw new Hr(qr.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cp=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,Vr.ZT)(e,t),e.prototype.convertBytes=function(t){return new Ef(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new uf(this.firestore,null,e)},e}(wp);function xp(t,e,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];t=rf(t,uf);var s=rf(t.firestore,yf),a=Mf(s);return Ip(s,[("string"==typeof(e=(0,i.m9)(e))||e instanceof Tf?qf(a,"updateDoc",t._key,e,n,r):Uf(a,"updateDoc",t._key,e)).toMutation(t._key,zo.exists(!0))])}function Sp(t){for(var e,n,r,o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];t=(0,i.m9)(t);var a={includeMetadataChanges:!1},u=0;"object"!=typeof o[u]||vf(o[u])||(a=o[u],u++);var c,l,h,f={includeMetadataChanges:a.includeMetadataChanges};if(vf(o[u])){var p=o[u];o[u]=null===(e=p.next)||void 0===e?void 0:e.bind(p),o[u+1]=null===(n=p.error)||void 0===n?void 0:n.bind(p),o[u+2]=null===(r=p.complete)||void 0===r?void 0:r.bind(p)}if(t instanceof uf)l=rf(t.firestore,yf),h=ho(t._key.path),c={next:function(e){o[u]&&o[u](Ap(l,t,e))},error:o[u+1],complete:o[u+2]};else{var d=rf(t,cf);l=rf(d.firestore,yf),h=d._query;var m=new Cp(l);c={next:function(t){o[u]&&o[u](new op(l,m,d,t))},error:o[u+1],complete:o[u+2]},up(t._query)}return function(t,e,n,r){var i=this,o=new Sh(r),s=new Pl(e,o,n);return t.asyncQueue.enqueueAndForget((function(){return(0,Vr.mG)(i,void 0,void 0,(function(){var e;return(0,Vr.Jh)(this,(function(n){switch(n.label){case 0:return e=Ol,[4,Bh(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))})),function(){o.Wo(),t.asyncQueue.enqueueAndForget((function(){return(0,Vr.mG)(i,void 0,void 0,(function(){var e;return(0,Vr.Jh)(this,(function(n){switch(n.label){case 0:return e=Dl,[4,Bh(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))}))}}(bf(l),h,f,c)}function Ip(t,e){return function(t,e){var n=this,r=new Pa;return t.asyncQueue.enqueueAndForget((function(){return(0,Vr.mG)(n,void 0,void 0,(function(){var n;return(0,Vr.Jh)(this,(function(i){switch(i.label){case 0:return n=Jl,[4,jh(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(bf(t),e)}function Ap(t,e,n){var r=n.docs.get(e._key),i=new Cp(t);return new rp(t,i,e._key,r,new np(n.hasPendingWrites,n.fromCache),e.converter)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Np=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return(0,Vr.ZT)(e,t),e.prototype.get=function(e){var n=this,r=Ep(e,this._firestore),i=new Cp(this._firestore);return t.prototype.get.call(this,e).then((function(t){return new rp(n._firestore,i,r._key,t._document,new np(!1,!1),r.converter)}))},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=Mf(t)}return t.prototype.get=function(t){var e=this,n=Ep(t,this._firestore),r=new _p(this._firestore);return this._transaction.lookup([n._key]).then((function(t){if(!t||1!==t.length)return Xr();var i=t[0];if(i.isFoundDocument())return new Zf(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Zf(e._firestore,r,n._key,null,n.converter);throw Xr()}))},t.prototype.set=function(t,e,n){var r=Ep(t,this._firestore),i=kp(r.converter,e,n),o=Rf(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];var s,a=Ep(t,this._firestore);return s="string"==typeof(e=(0,i.m9)(e))||e instanceof Tf?qf(this._dataReader,"Transaction.update",a._key,e,n,r):Uf(this._dataReader,"Transaction.update",a._key,e),this._transaction.update(a._key,s),this},t.prototype.delete=function(t){var e=Ep(t,this._firestore);return this._transaction.delete(e._key),this},t}());
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Op(){if("undefined"==typeof Uint8Array)throw new Hr(qr.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Dp(){if("undefined"==typeof atob)throw new Hr(qr.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Mp=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return Dp(),new t(Ef.fromBase64String(e))},t.fromUint8Array=function(e){return Op(),new t(Ef.fromUint8Array(e))},t.prototype.toBase64=function(){return Dp(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return Op(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),Rp=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){_f(t=rf(t,yf));var n=bf(t),r=t._freezeSettings(),i=new xh;return kf(n,i,new Eh(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){_f(t=rf(t,yf));var e=bf(t),n=t._freezeSettings(),r=new xh;return kf(e,r,new Ch(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new Hr(qr.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Pa;return t._queue.enqueueAndForgetEvenWhileRestricted((function(){return(0,Vr.mG)(e,void 0,void 0,(function(){var e;return(0,Vr.Jh)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return(0,Vr.mG)(this,void 0,void 0,(function(){var e;return(0,Vr.Jh)(this,(function(n){switch(n.label){case 0:return Ba.yt()?(e=t+"main",[4,Ba.delete(e)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(Xu(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t._delegate)},t}(),Lp=function(){function t(t,e,n){var r=this;this._delegate=e,this.tu=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof Hh||(this.eu=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){var e=this._delegate._getSettings();t.merge||e.host===t.host||Kr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={});var o=(t=rf(t,af))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==e&&Kr("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},o),{host:e+":"+n,ssl:!1})),r.mockUserToken){var s=(0,i.Sg)(r.mockUserToken),a=r.mockUserToken.sub||r.mockUserToken.user_id;if(!a)throw new Hr(qr.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");t._credentials=new Wh(new $h(s,new Sc(a)))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return(0,Vr.mG)(e,void 0,void 0,(function(){var e,n;return(0,Vr.Jh)(this,(function(r){switch(r.label){case 0:return[4,Lh(t)];case 1:return e=r.sent(),[4,Fh(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=Yr(t);return e.Or.delete(0),Zc(e)}(n))]}}))}))}))}(bf(rf(this._delegate,yf)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return(0,Vr.mG)(e,void 0,void 0,(function(){var e,n;return(0,Vr.Jh)(this,(function(r){switch(r.label){case 0:return[4,Lh(t)];case 1:return e=r.sent(),[4,Fh(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return(0,Vr.mG)(this,void 0,void 0,(function(){var e;return(0,Vr.Jh)(this,(function(n){switch(n.label){case 0:return(e=Yr(t)).Or.add(0),[4,tl(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(bf(rf(this._delegate,yf)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Zh("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.tu.enableMultiTabIndexedDbPersistence(this):this.tu.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.tu.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.eu&&(this.eu._removeServiceInstance("firestore"),this.eu._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Pa;return t.asyncQueue.enqueueAndForget((function(){return(0,Vr.mG)(e,void 0,void 0,(function(){var e;return(0,Vr.Jh)(this,(function(r){switch(r.label){case 0:return e=eh,[4,jh(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(bf(rf(this._delegate,yf)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new Sh(e);return t.asyncQueue.enqueueAndForget((function(){return(0,Vr.mG)(n,void 0,void 0,(function(){var e;return(0,Vr.Jh)(this,(function(n){switch(n.label){case 0:return e=function(t,e){Yr(t).Gr.add(e),e.next()},[4,Bh(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),t.asyncQueue.enqueueAndForget((function(){return(0,Vr.mG)(n,void 0,void 0,(function(){var e;return(0,Vr.Jh)(this,(function(n){switch(n.label){case 0:return e=function(t,e){Yr(t).Gr.delete(e)},[4,Bh(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}(bf(t=rf(t,yf)),vf(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.eu)throw new Hr(qr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.eu},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new Xp(this,hf(this._delegate,t))}catch(t){throw qp(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new Up(this,ff(this._delegate,t))}catch(t){throw qp(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new Wp(this,function(t,e){if(t=rf(t,af),Qh("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Hr(qr.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new cf(t,null,function(t){return new co(li.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw qp(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Pa;return t.asyncQueue.enqueueAndForget((function(){return(0,Vr.mG)(n,void 0,void 0,(function(){var n;return(0,Vr.Jh)(this,(function(i){switch(i.label){case 0:return[4,function(t){return Rh(t).then((function(t){return t.datastore}))}(t)];case 1:return n=i.sent(),new Ah(t.asyncQueue,n,e,r).run(),[2]}}))}))})),r.promise}(bf(t),(function(n){return e(new Np(t,n))}))}(this._delegate,(function(n){return t(new jp(e,n))}))},t.prototype.batch=function(){var t=this;return bf(this._delegate),new Bp(new Tp(this._delegate,(function(e){return Ip(t._delegate,e)})))},t.prototype.loadBundle=function(t){throw new Hr(qr.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new Hr(qr.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),Pp=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,Vr.ZT)(e,t),e.prototype.convertBytes=function(t){return new Mp(new Ef(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return Up.nu(e,this.firestore,null)},e}(wp);function Fp(t){var e;e=t,zr.setLogLevel(e)}var jp=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new Pp(t)}return t.prototype.get=function(t){var e=this,n=Qp(t);return this._delegate.get(n).then((function(t){return new $p(e._firestore,new rp(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))}))},t.prototype.set=function(t,e,n){var r=Qp(t);return n?(Yh("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Qp(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,(0,Vr.ev)([s,e,n],i)),this},t.prototype.delete=function(t){var e=Qp(t);return this._delegate.delete(e),this},t}(),Bp=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=Qp(t);return n?(Yh("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Qp(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,(0,Vr.ev)([s,e,n],i)),this},t.prototype.delete=function(t){var e=Qp(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),Vp=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new ip(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Gp(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.su=function(e,n){var r=t.iu,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new Pp(e),n),i.set(n,o)),o},t}();Vp.iu=new WeakMap;var Up=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Pp(t)}return t.ru=function(e,n,r){if(e.length%2!=0)throw new Hr(qr.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new uf(n._delegate,r,new Ci(e)))},t.nu=function(e,n,r){return new t(n,new uf(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Xp(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new Xp(this.firestore,hf(this._delegate,t))}catch(t){throw qp(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=(0,i.m9)(t))instanceof uf&&pf(this._delegate,t)},t.prototype.set=function(t,e){e=Yh("DocumentReference.set",e);try{return function(t,e,n){t=rf(t,uf);var r=rf(t.firestore,yf),i=kp(t.converter,e,n);return Ip(r,[Rf(Mf(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,zo.none())])}(this._delegate,t,e)}catch(t){throw qp(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?xp(this._delegate,t):xp.apply(void 0,(0,Vr.ev)([this._delegate,t,e],n))}catch(t){throw qp(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return Ip(rf((t=this._delegate).firestore,yf),[new os(t._key,zo.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Hp(e),i=zp(e,(function(e){return new $p(t.firestore,new rp(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}));return Sp(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=rf(t,uf);var e=rf(t.firestore,yf),n=bf(e),r=new Cp(e);return function(t,e){var n=this,r=new Pa;return t.asyncQueue.enqueueAndForget((function(){return(0,Vr.mG)(n,void 0,void 0,(function(){var n;return(0,Vr.Jh)(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return(0,Vr.mG)(this,void 0,void 0,(function(){var r,i;return(0,Vr.Jh)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=Yr(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Mn.mn(t,e)}))}(t,e)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new Hr(qr.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Cl(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,Ph(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t._key).then((function(n){return new rp(e,r,t._key,n,new np(null!==n&&n.hasLocalMutations,!0),t.converter)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=rf(t,uf);var e=rf(t.firestore,yf);return Vh(bf(e),t._key,{source:"server"}).then((function(n){return Ap(e,t,n)}))}(this._delegate):function(t){t=rf(t,uf);var e=rf(t.firestore,yf);return Vh(bf(e),t._key).then((function(n){return Ap(e,t,n)}))}(this._delegate)).then((function(t){return new $p(e.firestore,new rp(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}))},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(Vp.su(this.firestore,e)):this._delegate.withConverter(null))},t}();function qp(t,e,n){return t.message=t.message.replace(e,n),t}function Hp(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!vf(r))return r}return{}}function zp(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=vf(t[0])?t[0]:vf(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var $p=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new Up(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return ap(this._delegate,t._delegate)},t}(),Gp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Vr.ZT)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}($p),Wp=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Pp(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,lp(this._delegate,function(t,e,n){var r=e,i=ep("where",t);return new hp(i,r,n)}(e,n,r)))}catch(e){throw qp(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,lp(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=ep("orderBy",t);return new fp(r,n)}(e,n)))}catch(e){throw qp(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,lp(this._delegate,function(t){return of("limit",t),new pp("limit",t,"F")}(e)))}catch(e){throw qp(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,lp(this._delegate,function(t){return of("limitToLast",t),new pp("limitToLast",t,"L")}(e)))}catch(e){throw qp(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,lp(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new dp("startAt",t,!0)}.apply(void 0,e)))}catch(e){throw qp(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,lp(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new dp("startAfter",t,!1)}.apply(void 0,e)))}catch(e){throw qp(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,lp(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new mp("endBefore",t,!0)}.apply(void 0,e)))}catch(e){throw qp(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,lp(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new mp("endAt",t,!1)}.apply(void 0,e)))}catch(e){throw qp(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return df(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=rf(t,cf);var e=rf(t.firestore,yf),n=bf(e),r=new Cp(e);return function(t,e){var n=this,r=new Pa;return t.asyncQueue.enqueueAndForget((function(){return(0,Vr.mG)(n,void 0,void 0,(function(){var n;return(0,Vr.Jh)(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return(0,Vr.mG)(this,void 0,void 0,(function(){var r,i,o,s,a;return(0,Vr.Jh)(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,hc(t,e,!0)];case 1:return a=u.sent(),r=new ql(e,a.Bn),i=r._o(a.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=u.sent(),a=Cl(s,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}}))}))},[4,Ph(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t._query).then((function(n){return new op(e,r,t,n)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=rf(t,cf);var e=rf(t.firestore,yf),n=bf(e),r=new Cp(e);return Uh(n,t._query,{source:"server"}).then((function(n){return new op(e,r,t,n)}))}(this._delegate):function(t){t=rf(t,cf);var e=rf(t.firestore,yf),n=bf(e),r=new Cp(e);return up(t._query),Uh(n,t._query).then((function(n){return new op(e,r,t,n)}))}(this._delegate)).then((function(t){return new Jp(e.firestore,new op(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}))},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Hp(e),i=zp(e,(function(e){return new Jp(t.firestore,new op(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}));return Sp(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(Vp.su(this.firestore,e)):this._delegate.withConverter(null))},t}(),Kp=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new Gp(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),Jp=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new Wp(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map((function(e){return new Gp(t._firestore,e)}))},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map((function(t){return new Kp(e._firestore,t)}))},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach((function(r){t.call(e,new Gp(n._firestore,r))}))},t.prototype.isEqual=function(t){return ap(this._delegate,t._delegate)},t}(),Xp=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return(0,Vr.ZT)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new Up(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new Up(this.firestore,void 0===t?ff(this._delegate):ff(this._delegate,t))}catch(t){throw qp(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=rf(t.firestore,yf),r=ff(t),i=kp(t.converter,e);return Ip(n,[Rf(Mf(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,zo.exists(!1))]).then((function(){return r}))}(this._delegate,t).then((function(t){return new Up(e.firestore,t)}))},e.prototype.isEqual=function(t){return pf(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Vp.su(this.firestore,t)):this._delegate.withConverter(null))},e}(Wp);function Qp(t){return rf(t,uf)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yp=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(Tf.bind.apply(Tf,(0,Vr.ev)([void 0],t)))}return t.documentId=function(){return new t(fi.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=(0,i.m9)(t))instanceof Tf&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),Zp=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new Ff("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new Lf("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new jf("arrayUnion",t)}.apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Bf("arrayRemove",t)}.apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new Vf("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var td=n(8914),ed={Firestore:Lp,GeoPoint:xf,Timestamp:ii,Blob:Mp,Transaction:jp,WriteBatch:Bp,DocumentReference:Up,DocumentSnapshot:$p,Query:Wp,QueryDocumentSnapshot:Gp,QuerySnapshot:Jp,CollectionReference:Xp,FieldPath:Yp,FieldValue:Zp,setLogLevel:Fp,CACHE_SIZE_UNLIMITED:gf};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function nd(t){!function(t,e){t.INTERNAL.registerComponent(new td.wA("firestore",(function(t){var n=t.getProvider("app").getImmediate();return e(n,t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},ed)))}(t,(function(t,e){return new Lp(t,new yf(t,e),new Rp)})),t.registerVersion("@firebase/firestore","2.3.4")}nd(r.Z)},4036:function(t,e,n){"use strict";n(8675),n(3462),n(2801);var r=n(4552),i=n(2900),o=n(9658),s=n(8914),a="firebasestorage.googleapis.com",u="storageBucket",c=12e4,l=6e5,h=function(t){function e(n,r){var i=t.call(this,f(n),"Firebase Storage: "+r+" ("+f(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,e.prototype),i}return(0,i.ZT)(e,t),e.prototype._codeEquals=function(t){return f(t)===this.code},Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=this._baseMessage+"\n"+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),e}(o.ZR);function f(t){return"storage/"+t}function p(){var t="An unknown error occurred, please check the error payload for server response.";return new h("unknown",t)}function d(t){return new h("object-not-found","Object '"+t+"' does not exist.")}function m(t){return new h("quota-exceeded","Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function v(){var t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new h("unauthenticated",t)}function g(){return new h("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function y(t){return new h("unauthorized","User does not have permission to access '"+t+"'.")}function b(){return new h("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function w(){return new h("canceled","User canceled the upload/download.")}function k(t){return new h("invalid-url","Invalid URL '"+t+"'.")}function _(t){return new h("invalid-default-bucket","Invalid default bucket '"+t+"'.")}function T(){return new h("no-default-bucket","No default bucket found. Did you set the '"+u+"' property when initializing the app?")}function E(){return new h("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function C(){return new h("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function x(){return new h("no-download-url","The given file does not have any download URLs.")}function S(t){return new h("invalid-argument",t)}function I(){return new h("app-deleted","The Firebase app was deleted.")}function A(t){return new h("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function N(t,e){return new h("invalid-format","String does not match format '"+t+"': "+e)}function O(t){throw new h("internal-error","Internal error: "+t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var D={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},M=function(){function t(t,e){this.data=t,this.contentType=e||null}return t}();function R(t,e){switch(t){case D.RAW:return new M(L(e));case D.BASE64:case D.BASE64URL:return new M(F(t,e));case D.DATA_URL:return new M(B(e),V(e))}throw p()}function L(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296===(64512&r)){var i=n<t.length-1&&56320===(64512&t.charCodeAt(n+1));if(i){var o=r,s=t.charCodeAt(++n);r=65536|(1023&o)<<10|1023&s,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189)}else 56320===(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function P(t){var e;try{e=decodeURIComponent(t)}catch(n){throw N(D.DATA_URL,"Malformed data URL.")}return L(e)}function F(t,e){switch(t){case D.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r){var i=n?"-":"_";throw N(t,"Invalid character '"+i+"' found: is it base64url encoded?")}break;case D.BASE64URL:var o=-1!==e.indexOf("+"),s=-1!==e.indexOf("/");if(o||s){i=o?"+":"/";throw N(t,"Invalid character '"+i+"' found: is it base64 encoded?")}e=e.replace(/-/g,"+").replace(/_/g,"/");break}var a;try{a=atob(e)}catch(l){throw N(t,"Invalid character found")}for(var u=new Uint8Array(a.length),c=0;c<a.length;c++)u[c]=a.charCodeAt(c);return u}var j=function(){function t(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw N(D.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=e[1]||null;null!=n&&(this.base64=U(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=t.substring(t.indexOf(",")+1)}return t}();function B(t){var e=new j(t);return e.base64?F(D.BASE64,e.rest):P(e.rest)}function V(t){var e=new j(t);return e.contentType}function U(t,e){var n=t.length>=e.length;return!!n&&t.substring(t.length-e.length)===e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var q,H={STATE_CHANGED:"state_changed"},z={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function $(t){switch(t){case"running":case"pausing":case"canceling":return z.RUNNING;case"paused":return z.PAUSED;case"success":return z.SUCCESS;case"canceled":return z.CANCELED;case"error":return z.ERROR;default:return z.ERROR}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(t){t[t["NO_ERROR"]=0]="NO_ERROR",t[t["NETWORK_ERROR"]=1]="NETWORK_ERROR",t[t["ABORT"]=2]="ABORT"})(q||(q={}));
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var G=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=q.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=q.ABORT,e(t)})),t.xhr_.addEventListener("error",(function(){t.errorCode_=q.NETWORK_ERROR,e(t)})),t.xhr_.addEventListener("load",(function(){e(t)}))}))}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw O("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw O("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw O("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw O("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},t}(),W=function(){function t(){}return t.prototype.createXhrIo=function(){return new G},t}(),K=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o"},t.makeFromBucketSpec=function(e,n){var r;try{r=t.makeFromUrl(e,n)}catch(i){return new t(e,"")}if(""===r.path)return r;throw _(e)},t.makeFromUrl=function(e,n){var r=null,i="([A-Za-z0-9.\\-_]+)";function o(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}var s="(/(.*))?$",u=new RegExp("^gs://"+i+s,"i"),c={bucket:1,path:3};function l(t){t.path_=decodeURIComponent(t.path)}for(var h="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",d=new RegExp("^https?://"+f+"/"+h+"/b/"+i+"/o"+p,"i"),m={bucket:1,path:3},v=n===a?"(?:storage.googleapis.com|storage.cloud.google.com)":n,g="([^?#]*)",y=new RegExp("^https?://"+v+"/"+i+"/"+g,"i"),b={bucket:1,path:2},w=[{regex:u,indices:c,postModify:o},{regex:d,indices:m,postModify:l},{regex:y,indices:b,postModify:l}],_=0;_<w.length;_++){var T=w[_],E=T.regex.exec(e);if(E){var C=E[T.indices.bucket],x=E[T.indices.path];x||(x=""),r=new t(C,x),T.postModify(r);break}}if(null==r)throw k(e);return r},t}(),J=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function X(t,e,n){var r=1,o=null,s=!1,a=0;function u(){return 2===a}var c=!1;function l(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];c||(c=!0,e.apply(null,t))}function h(e){o=setTimeout((function(){o=null,t(f,u())}),e)}function f(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!c)if(t)l.call.apply(l,(0,i.ev)([null,t],e));else{var o,f=u()||s;if(f)l.call.apply(l,(0,i.ev)([null,t],e));else r<64&&(r*=2),1===a?(a=2,o=0):o=1e3*(r+Math.random()),h(o)}}var p=!1;function d(t){p||(p=!0,c||(null!==o?(t||(a=2),clearTimeout(o),h(0)):t||(a=1)))}return h(0),setTimeout((function(){s=!0,d(!0)}),n),d}function Q(t){t(!1)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y(t){return void 0!==t}function Z(t){return"function"===typeof t}function tt(t){return"object"===typeof t&&!Array.isArray(t)}function et(t){return"string"===typeof t||t instanceof String}function nt(t){return rt()&&t instanceof Blob}function rt(){return"undefined"!==typeof Blob}function it(t,e,n,r){if(r<e)throw S("Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw S("Invalid value for '"+t+"'. Expected "+n+" or less.")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ot(t,e){var n=e.match(/^(\w+):\/\/.+/),r=null===n||void 0===n?void 0:n[1],i=e;return null==r&&(i="https://"+e),i+"/v0"+t}function st(t){var e=encodeURIComponent,n="?";for(var r in t)if(t.hasOwnProperty(r)){var i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at=function(){function t(t,e,n,r,i,o,s,a,u,c,l){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=s,this.errorCallback_=a,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise((function(t,e){h.resolve_=t,h.reject_=e,h.start_()}))}return t.prototype.start_=function(){var t=this;function e(e,n){if(n)e(!1,new ut(!1,null,!0));else{var r=t.pool_.createXhrIo();t.pendingXhr_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then((function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(i),t.pendingXhr_=null,n=n;var r=n.getErrorCode()===q.NO_ERROR,o=n.getStatus();if(r&&!t.isRetryStatusCode_(o)){var s=-1!==t.successCodes_.indexOf(o);e(!0,new ut(s,n))}else{var a=n.getErrorCode()===q.ABORT;e(!1,new ut(!1,null,a))}}))}function i(e){var n=e.loaded,r=e.lengthComputable?e.total:-1;null!==t.progressCallback_&&t.progressCallback_(n,r)}}function n(e,n){var r=t.resolve_,i=t.reject_,o=n.xhr;if(n.wasSuccessCode)try{var s=t.callback_(o,o.getResponseText());Y(s)?r(s):r()}catch(u){i(u)}else if(null!==o){var a=p();a.serverResponse=o.getResponseText(),t.errorCallback_?i(t.errorCallback_(o,a)):i(a)}else if(n.canceled){a=t.appDelete_?I():w();i(a)}else{a=b();i(a)}}this.canceled_?n(!1,new ut(!1,null,!0)):this.backoffId_=X(e,n,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&Q(this.backoffId_),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=[408,429],r=-1!==n.indexOf(t),i=-1!==this.additionalRetryCodes_.indexOf(t);return e||r||i},t}(),ut=function(){function t(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n}return t}();function ct(t,e){null!==e&&e.length>0&&(t["Authorization"]="Firebase "+e)}function lt(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(null!==e&&void 0!==e?e:"AppManager")}function ht(t,e){e&&(t["X-Firebase-GMPID"]=e)}function ft(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}function pt(t,e,n,r,i,o){var s=st(t.urlParams),a=t.url+s,u=Object.assign({},t.headers);return ht(u,e),ct(u,n),lt(u,o),ft(u,r),new at(a,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function mt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=dt();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(rt())return new Blob(t);throw new h("unsupported-environment","This browser doesn't seem to support creating Blobs")}function vt(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gt=function(){function t(t,e){var n=0,r="";nt(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(nt(this.data_)){var r=this.data_,i=vt(r,e,n);return null===i?null:new t(i)}var o=new Uint8Array(this.data_.buffer,e,n-e);return new t(o,!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(rt()){var r=e.map((function(e){return e instanceof t?e.data_:e}));return new t(mt.apply(null,r))}var i=e.map((function(t){return et(t)?R(D.RAW,t).data:t.data_})),o=0;i.forEach((function(t){o+=t.byteLength}));var s=new Uint8Array(o),a=0;return i.forEach((function(t){for(var e=0;e<t.length;e++)s[a++]=t[e]})),new t(s,!0)},t.prototype.uploadData=function(){return this.data_},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(t){var e;try{e=JSON.parse(t)}catch(n){return null}return tt(e)?e:null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(t){if(0===t.length)return null;var e=t.lastIndexOf("/");if(-1===e)return"";var n=t.slice(0,e);return n}function wt(t,e){var n=e.split("/").filter((function(t){return t.length>0})).join("/");return 0===t.length?n:t+"/"+n}function kt(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(t,e){return e}var Tt=function(){function t(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||_t}return t}(),Et=null;function Ct(t){return!et(t)||t.length<2?t:kt(t)}function xt(){if(Et)return Et;var t=[];function e(t,e){return Ct(e)}t.push(new Tt("bucket")),t.push(new Tt("generation")),t.push(new Tt("metageneration")),t.push(new Tt("name","fullPath",!0));var n=new Tt("name");function r(t,e){return void 0!==e?Number(e):e}n.xform=e,t.push(n);var i=new Tt("size");return i.xform=r,t.push(i),t.push(new Tt("timeCreated")),t.push(new Tt("updated")),t.push(new Tt("md5Hash",null,!0)),t.push(new Tt("cacheControl",null,!0)),t.push(new Tt("contentDisposition",null,!0)),t.push(new Tt("contentEncoding",null,!0)),t.push(new Tt("contentLanguage",null,!0)),t.push(new Tt("contentType",null,!0)),t.push(new Tt("metadata","customMetadata",!0)),Et=t,Et}function St(t,e){function n(){var n=t["bucket"],r=t["fullPath"],i=new K(n,r);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function It(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var s=n[o];r[s.local]=s.xform(r,e[s.server])}return St(r,t),r}function At(t,e,n){var r=yt(e);if(null===r)return null;var i=r;return It(t,i,n)}function Nt(t,e,n){var r=yt(e);if(null===r)return null;if(!et(r["downloadTokens"]))return null;var i=r["downloadTokens"];if(0===i.length)return null;var o=encodeURIComponent,s=i.split(","),a=s.map((function(e){var r=t["bucket"],i=t["fullPath"],s="/b/"+o(r)+"/o/"+o(i),a=ot(s,n),u=st({alt:"media",token:e});return a+u}));return a[0]}function Ot(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dt="prefixes",Mt="items";function Rt(t,e,n){var r={prefixes:[],items:[],nextPageToken:n["nextPageToken"]};if(n[Dt])for(var i=0,o=n[Dt];i<o.length;i++){var s=o[i],a=s.replace(/\/$/,""),u=t._makeStorageReference(new K(e,a));r.prefixes.push(u)}if(n[Mt])for(var c=0,l=n[Mt];c<l.length;c++){var h=l[c];u=t._makeStorageReference(new K(e,h["name"]));r.items.push(u)}return r}function Lt(t,e,n){var r=yt(n);if(null===r)return null;var i=r;return Rt(t,e,i)}var Pt=function(){function t(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(t){if(!t)throw p()}function jt(t,e){function n(n,r){var i=At(t,r,e);return Ft(null!==i),i}return n}function Bt(t,e){function n(n,r){var i=Lt(t,e,r);return Ft(null!==i),i}return n}function Vt(t,e){function n(n,r){var i=At(t,r,e);return Ft(null!==i),Nt(i,r,t.host)}return n}function Ut(t){function e(e,n){var r;return r=401===e.getStatus()?e.getResponseText().includes("Firebase App Check token is invalid")?g():v():402===e.getStatus()?m(t.bucket):403===e.getStatus()?y(t.path):n,r.serverResponse=n.serverResponse,r}return e}function qt(t){var e=Ut(t);function n(n,r){var i=e(n,r);return 404===n.getStatus()&&(i=d(t.path)),i.serverResponse=r.serverResponse,i}return n}function Ht(t,e,n){var r=e.fullServerUrl(),i=ot(r,t.host),o="GET",s=t.maxOperationRetryTime,a=new Pt(i,o,jt(t,n),s);return a.errorHandler=qt(e),a}function zt(t,e,n,r,i){var o={};e.isRoot?o["prefix"]="":o["prefix"]=e.path+"/",n&&n.length>0&&(o["delimiter"]=n),r&&(o["pageToken"]=r),i&&(o["maxResults"]=i);var s=e.bucketOnlyServerUrl(),a=ot(s,t.host),u="GET",c=t.maxOperationRetryTime,l=new Pt(a,u,Bt(t,e.bucket),c);return l.urlParams=o,l.errorHandler=Ut(e),l}function $t(t,e,n){var r=e.fullServerUrl(),i=ot(r,t.host),o="GET",s=t.maxOperationRetryTime,a=new Pt(i,o,Vt(t,n),s);return a.errorHandler=qt(e),a}function Gt(t,e,n,r){var i=e.fullServerUrl(),o=ot(i,t.host),s="PATCH",a=Ot(n,r),u={"Content-Type":"application/json; charset=utf-8"},c=t.maxOperationRetryTime,l=new Pt(o,s,jt(t,r),c);return l.headers=u,l.body=a,l.errorHandler=qt(e),l}function Wt(t,e){var n=e.fullServerUrl(),r=ot(n,t.host),i="DELETE",o=t.maxOperationRetryTime;function s(t,e){}var a=new Pt(r,i,s,o);return a.successCodes=[200,204],a.errorHandler=qt(e),a}function Kt(t,e){return t&&t["contentType"]||e&&e.type()||"application/octet-stream"}function Jt(t,e,n){var r=Object.assign({},n);return r["fullPath"]=t.path,r["size"]=e.size(),r["contentType"]||(r["contentType"]=Kt(null,e)),r}function Xt(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}var u=a();s["Content-Type"]="multipart/related; boundary="+u;var c=Jt(e,r,i),l=Ot(c,n),h="--"+u+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+l+"\r\n--"+u+"\r\nContent-Type: "+c["contentType"]+"\r\n\r\n",f="\r\n--"+u+"--",p=gt.getBlob(h,r,f);if(null===p)throw E();var d={name:c["fullPath"]},m=ot(o,t.host),v="POST",g=t.maxUploadRetryTime,y=new Pt(m,v,jt(t,n),g);return y.urlParams=d,y.headers=s,y.body=p.uploadData(),y.errorHandler=Ut(e),y}var Qt=function(){function t(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null}return t}();function Yt(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(i){Ft(!1)}var r=e||["active"];return Ft(!!n&&-1!==r.indexOf(n)),n}function Zt(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s=Jt(e,r,i),a={name:s["fullPath"]},u=ot(o,t.host),c="POST",l={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":s["contentType"],"Content-Type":"application/json; charset=utf-8"},h=Ot(s,n),f=t.maxUploadRetryTime;function p(t){var e;Yt(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(n){Ft(!1)}return Ft(et(e)),e}var d=new Pt(u,c,p,f);return d.urlParams=a,d.headers=l,d.body=h,d.errorHandler=Ut(e),d}function te(t,e,n,r){var i={"X-Goog-Upload-Command":"query"};function o(t){var e=Yt(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(o){Ft(!1)}n||Ft(!1);var i=Number(n);return Ft(!isNaN(i)),new Qt(i,r.size(),"final"===e)}var s="POST",a=t.maxUploadRetryTime,u=new Pt(n,s,o,a);return u.headers=i,u.errorHandler=Ut(e),u}var ee=262144;function ne(t,e,n,r,i,o,s,a){var u=new Qt(0,0);if(s?(u.current=s.current,u.total=s.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw C();var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var h=u.current,f=h+l,p=l===c?"upload, finalize":"upload",d={"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":u.current},m=r.slice(h,f);if(null===m)throw E();function v(t,n){var i,s=Yt(t,["active","final"]),a=u.current+l,c=r.size();return i="final"===s?jt(e,o)(t,n):null,new Qt(a,c,"final"===s,i)}var g="POST",y=e.maxUploadRetryTime,b=new Pt(n,g,v,y);return b.headers=d,b.body=m.uploadData(),b.progressCallback=a||null,b.errorHandler=Ut(t),b}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var re=function(){function t(t,e,n){var r=Z(t)||null!=e||null!=n;if(r)this.next=t,this.error=e,this.complete=n;else{var i=t;this.next=i.next,this.error=i.error,this.complete=i.complete}}return t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ie(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then((function(){return t.apply(void 0,e)}))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oe=function(){function t(t,e,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=xt(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(t){r._request=void 0,r._chunkMultiplier=1,t._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=t,r._transition("error"))},this._metadataErrorHandler=function(t){r._request=void 0,t._codeEquals("canceled")?r.completeTransitions_():(r._error=t,r._transition("error"))},this._promise=new Promise((function(t,e){r._resolve=t,r._reject=e,r._start()})),this._promise.then(null,(function(){}))}return t.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(n){return t._updateProgress(e+n)}},t.prototype._shouldDoResumable=function(t){return t.size()>262144},t.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(t){var e=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=n[0],i=n[1];switch(e._state){case"running":t(r,i);break;case"canceling":e._transition("canceled");break;case"pausing":e._transition("paused");break}}))},t.prototype._createResumable=function(){var t=this;this._resolveToken((function(e,n){var r=Zt(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then((function(e){t._request=void 0,t._uploadUrl=e,t._needToFetchStatus=!1,t.completeTransitions_()}),t._errorHandler)}))},t.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken((function(n,r){var i=te(t._ref.storage,t._ref._location,e,t._blob),o=t._ref.storage._makeRequest(i,n,r);t._request=o,o.getPromise().then((function(e){e=e,t._request=void 0,t._updateProgress(e.current),t._needToFetchStatus=!1,e.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()}),t._errorHandler)}))},t.prototype._continueUpload=function(){var t=this,e=ee*this._chunkMultiplier,n=new Qt(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,o){var s;try{s=ne(t._ref._location,t._ref.storage,r,t._blob,e,t._mappings,n,t._makeProgressCallback())}catch(u){return t._error=u,void t._transition("error")}var a=t._ref.storage._makeRequest(s,i,o);t._request=a,a.getPromise().then((function(e){t._increaseMultiplier(),t._request=void 0,t._updateProgress(e.current),e.finalized?(t._metadata=e.metadata,t._transition("success")):t.completeTransitions_()}),t._errorHandler)}))},t.prototype._increaseMultiplier=function(){var t=ee*this._chunkMultiplier;t<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var t=this;this._resolveToken((function(e,n){var r=Ht(t._ref.storage,t._ref._location,t._mappings),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then((function(e){t._request=void 0,t._metadata=e,t._transition("success")}),t._metadataErrorHandler)}))},t.prototype._oneShotUpload=function(){var t=this;this._resolveToken((function(e,n){var r=Xt(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then((function(e){t._request=void 0,t._metadata=e,t._updateProgress(t._blob.size()),t._transition("success")}),t._errorHandler)}))},t.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},t.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":this._state=t,void 0!==this._request&&this._request.cancel();break;case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":var e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=w(),this._state=t,this._notifyObservers();break;case"error":this._state=t,this._notifyObservers();break;case"success":this._state=t,this._notifyObservers();break}},t.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=$(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){var i=this,o=new re(e,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},t.prototype.then=function(t,e){return this._promise.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},t.prototype._removeObserver=function(t){var e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)},t.prototype._notifyObservers=function(){var t=this;this._finishPromise();var e=this._observers.slice();e.forEach((function(e){t._notifyObserver(e)}))},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch($(this._state)){case z.SUCCESS:ie(this._resolve.bind(null,this.snapshot))();break;case z.CANCELED:case z.ERROR:var e=this._reject;ie(e.bind(null,this._error))();break;default:t=!1;break}t&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(t){var e=$(this._state);switch(e){case z.RUNNING:case z.PAUSED:t.next&&ie(t.next.bind(t,this.snapshot))();break;case z.SUCCESS:t.complete&&ie(t.complete.bind(t))();break;case z.CANCELED:case z.ERROR:t.error&&ie(t.error.bind(t,this._error))();break;default:t.error&&ie(t.error.bind(t,this._error))()}},t.prototype.resume=function(){var t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t},t.prototype.pause=function(){var t="running"===this._state;return t&&this._transition("pausing"),t},t.prototype.cancel=function(){var t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t},t}(),se=function(){function t(t,e){this._service=t,this._location=e instanceof K?e:K.makeFromUrl(e,t.host)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype._newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var t=new K(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return kt(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=bt(this._location.path);if(null===e)return null;var n=new K(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(t){if(""===this._location.path)throw A(t)},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ae(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new oe(t,new gt(e),n)}function ue(t){var e={prefixes:[],items:[]};return ce(t,e).then((function(){return e}))}function ce(t,e,n){return(0,i.mG)(this,void 0,void 0,(function(){var r,o,s,a;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return r={pageToken:n},[4,le(t,r)];case 1:return o=i.sent(),(s=e.prefixes).push.apply(s,o.prefixes),(a=e.items).push.apply(a,o.items),null==o.nextPageToken?[3,3]:[4,ce(t,e,o.nextPageToken)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function le(t,e){return(0,i.mG)(this,void 0,void 0,(function(){var n,r;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return null!=e&&"number"===typeof e.maxResults&&it("options.maxResults",1,1e3,e.maxResults),n=e||{},r=zt(t.storage,t._location,"/",n.pageToken,n.maxResults),[4,t.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}}))}))}function he(t){return(0,i.mG)(this,void 0,void 0,(function(){var e;return(0,i.Jh)(this,(function(n){switch(n.label){case 0:return t._throwIfRoot("getMetadata"),e=Ht(t.storage,t._location,xt()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}}))}))}function fe(t,e){return(0,i.mG)(this,void 0,void 0,(function(){var n;return(0,i.Jh)(this,(function(r){switch(r.label){case 0:return t._throwIfRoot("updateMetadata"),n=Gt(t.storage,t._location,e,xt()),[4,t.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}}))}))}function pe(t){return(0,i.mG)(this,void 0,void 0,(function(){var e;return(0,i.Jh)(this,(function(n){switch(n.label){case 0:return t._throwIfRoot("getDownloadURL"),e=$t(t.storage,t._location,xt()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise().then((function(t){if(null===t)throw x();return t}))]}}))}))}function de(t){return(0,i.mG)(this,void 0,void 0,(function(){var e;return(0,i.Jh)(this,(function(n){switch(n.label){case 0:return t._throwIfRoot("deleteObject"),e=Wt(t.storage,t._location),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}}))}))}function me(t,e){var n=wt(t._location.path,e),r=new K(t._location.bucket,n);return new se(t.storage,r)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(t){return/^[A-Za-z]+:\/\//.test(t)}function ge(t,e){return new se(t,e)}function ye(t,e){if(t instanceof _e){var n=t;if(null==n._bucket)throw T();var r=new se(n,n._bucket);return null!=e?ye(r,e):r}if(void 0!==e){if(e.includes(".."))throw S('`path` param cannot contain ".."');return me(t,e)}return t}function be(t,e){if(e&&ve(e)){if(t instanceof _e)return ge(t,e);throw S("To use ref(service, url), the first argument must be a Storage instance.")}return ye(t,e)}function we(t,e){var n=null===e||void 0===e?void 0:e[u];return null==n?null:K.makeFromBucketSpec(n,t)}function ke(t,e,n){t.host="http://"+e+":"+n}var _e=function(){function t(t,e,n,r,i,o){this.app=t,this._authProvider=e,this._appCheckProvider=n,this._pool=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=a,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=c,this._maxUploadRetryTime=l,this._requests=new Set,this._bucket=null!=i?K.makeFromBucketSpec(i,this._host):we(this._host,this.app.options)}return Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,null!=this._url?this._bucket=K.makeFromBucketSpec(this._url,t):this._bucket=we(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){it("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){it("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),t.prototype._getAuthToken=function(){return(0,i.mG)(this,void 0,void 0,(function(){var t,e;return(0,i.Jh)(this,(function(n){switch(n.label){case 0:return t=this._authProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2];case 1:if(e=n.sent(),null!==e)return[2,e.accessToken];n.label=2;case 2:return[2,null]}}))}))},t.prototype._getAppCheckToken=function(){return(0,i.mG)(this,void 0,void 0,(function(){var t,e;return(0,i.Jh)(this,(function(n){switch(n.label){case 0:return t=this._appCheckProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2];case 1:return e=n.sent(),[2,e.token];case 2:return[2,null]}}))}))},t.prototype._delete=function(){return this._deleted=!0,this._requests.forEach((function(t){return t.cancel()})),this._requests.clear(),Promise.resolve()},t.prototype._makeStorageReference=function(t){return new se(this,t)},t.prototype._makeRequest=function(t,e,n){var r=this;if(this._deleted)return new J(I());var i=pt(t,this._appId,e,n,this._pool,this._firebaseVersion);return this._requests.add(i),i.getPromise().then((function(){return r._requests.delete(i)}),(function(){return r._requests.delete(i)})),i},t.prototype.makeRequestWithTokens=function(t){return(0,i.mG)(this,void 0,void 0,(function(){var e,n,r;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return e=i.sent(),n=e[0],r=e[1],[2,this._makeRequest(t,n,r)]}}))}))},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(t,e,n){return t=(0,o.m9)(t),ae(t,e,n)}function Ee(t){return t=(0,o.m9)(t),he(t)}function Ce(t,e){return t=(0,o.m9)(t),fe(t,e)}function xe(t,e){return t=(0,o.m9)(t),le(t,e)}function Se(t){return t=(0,o.m9)(t),ue(t)}function Ie(t){return t=(0,o.m9)(t),pe(t)}function Ae(t){return t=(0,o.m9)(t),de(t)}function Ne(t,e){return t=(0,o.m9)(t),be(t,e)}function Oe(t,e){return me(t,e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De=function(){function t(t,e,n){this._delegate=t,this.task=e,this.ref=n}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),Me=function(){function t(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return new De(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.then=function(t,e){var n=this;return this._delegate.then((function(e){if(t)return t(new De(e,n,n._ref))}),e)},t.prototype.on=function(t,e,n,r){var i=this,o=void 0;return e&&(o="function"===typeof e?function(t){return e(new De(t,i,i._ref))}:{next:e.next?function(t){return e.next(new De(t,i,i._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,n||void 0,r||void 0)},t}(),Re=function(){function t(t,e){this._delegate=t,this._service=e}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map((function(e){return new Le(e,t._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var t=this;return this._delegate.items.map((function(e){return new Le(e,t._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),Le=function(){function t(t,e){this._delegate=t,this.storage=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){var n=Oe(this._delegate,e);return new t(n,this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return this._throwIfRoot("put"),new Me(Te(this._delegate,t,e),this)},t.prototype.putString=function(t,e,n){void 0===e&&(e=D.RAW),this._throwIfRoot("putString");var r=R(e,t),o=(0,i.pi)({},n);return null==o["contentType"]&&null!=r.contentType&&(o["contentType"]=r.contentType),new Me(new oe(this._delegate,new gt(r.data,!0),o),this)},t.prototype.listAll=function(){var t=this;return Se(this._delegate).then((function(e){return new Re(e,t.storage)}))},t.prototype.list=function(t){var e=this;return xe(this._delegate,t||void 0).then((function(t){return new Re(t,e.storage)}))},t.prototype.getMetadata=function(){return Ee(this._delegate)},t.prototype.updateMetadata=function(t){return Ce(this._delegate,t)},t.prototype.getDownloadURL=function(){return Ie(this._delegate)},t.prototype.delete=function(){return this._throwIfRoot("delete"),Ae(this._delegate)},t.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw A(t)},t}(),Pe=function(){function t(t,e){var n=this;this.app=t,this._delegate=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){if(ve(t))throw S("ref() expected a child path but got a URL, use refFromURL instead.");return new Le(Ne(this._delegate,t),this)},t.prototype.refFromURL=function(t){if(!ve(t))throw S("refFromURL() expected a full URL but got a child path, use ref() instead.");try{K.makeFromUrl(t,this._delegate.host)}catch(e){throw S("refFromUrl() expected a valid full URL but got an invalid one.")}return new Le(Ne(this._delegate,t),this)},t.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},t.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},t.prototype.useEmulator=function(t,e){ke(this._delegate,t,e)},t}(),Fe="@firebase/storage",je="0.5.3",Be="storage";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ve(t,e){var n=e.instanceIdentifier,i=t.getProvider("app").getImmediate(),o=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal"),a=new Pe(i,new _e(i,o,s,new W,n,r.Z.SDK_VERSION));return a}function Ue(t){var e={TaskState:z,TaskEvent:H,StringFormat:D,Storage:_e,Reference:Le};t.INTERNAL.registerComponent(new s.wA(Be,Ve,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion(Fe,je)}Ue(r.Z)},2900:function(t,e,n){"use strict";n.d(e,{CR:function(){return c},Jh:function(){return a},XA:function(){return u},ZT:function(){return i},ev:function(){return l},mG:function(){return s},pi:function(){return o}});n(1703);var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)};function i(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},o.apply(this,arguments)};function s(t,e,n,r){function i(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r["throw"](t))}catch(e){o(e)}}function u(t){t.done?n(t.value):i(t.value).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function a(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(t){return function(e){return u([t,e])}}function u(o){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}Object.create;function u(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{while((void 0===e||e-- >0)&&!(r=o.next()).done)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o["return"])&&n.call(o)}finally{if(i)throw i.error}}return s}function l(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}Object.create},89:function(t,e){"use strict";e.Z=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n}},678:function(t,e,n){"use strict";n.d(e,{PO:function(){return $},p7:function(){return ee}});n(1703);var r=n(3396),i=n(4870);
/*!
  * vue-router v4.0.13
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */
const o="function"===typeof Symbol&&"symbol"===typeof Symbol.toStringTag,s=t=>o?Symbol(t):"_vr_"+t,a=s("rvlm"),u=s("rvd"),c=s("r"),l=s("rl"),h=s("rvl"),f="undefined"!==typeof window;function p(t){return t.__esModule||o&&"Module"===t[Symbol.toStringTag]}const d=Object.assign;function m(t,e){const n={};for(const r in e){const i=e[r];n[r]=Array.isArray(i)?i.map(t):t(i)}return n}const v=()=>{};const g=/\/$/,y=t=>t.replace(g,"");function b(t,e,n="/"){let r,i={},o="",s="";const a=e.indexOf("?"),u=e.indexOf("#",a>-1?a:0);return a>-1&&(r=e.slice(0,a),o=e.slice(a+1,u>-1?u:e.length),i=t(o)),u>-1&&(r=r||e.slice(0,u),s=e.slice(u,e.length)),r=S(null!=r?r:e,n),{fullPath:r+(o&&"?")+o+s,path:r,query:i,hash:s}}function w(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function k(t,e){return e&&t.toLowerCase().startsWith(e.toLowerCase())?t.slice(e.length)||"/":t}function _(t,e,n){const r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&T(e.matched[r],n.matched[i])&&E(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function T(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function E(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!C(t[n],e[n]))return!1;return!0}function C(t,e){return Array.isArray(t)?x(t,e):Array.isArray(e)?x(e,t):t===e}function x(t,e){return Array.isArray(e)?t.length===e.length&&t.every(((t,n)=>t===e[n])):1===t.length&&t[0]===e}function S(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/");let i,o,s=n.length-1;for(i=0;i<r.length;i++)if(o=r[i],1!==s&&"."!==o){if(".."!==o)break;s--}return n.slice(0,s).join("/")+"/"+r.slice(i-(i===r.length?1:0)).join("/")}var I,A;(function(t){t["pop"]="pop",t["push"]="push"})(I||(I={})),function(t){t["back"]="back",t["forward"]="forward",t["unknown"]=""}(A||(A={}));function N(t){if(!t)if(f){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return"/"!==t[0]&&"#"!==t[0]&&(t="/"+t),y(t)}const O=/^[^#]+#/;function D(t,e){return t.replace(O,"#")+e}function M(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const R=()=>({left:window.pageXOffset,top:window.pageYOffset});function L(t){let e;if("el"in t){const n=t.el,r="string"===typeof n&&n.startsWith("#");0;const i="string"===typeof n?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=M(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(null!=e.left?e.left:window.pageXOffset,null!=e.top?e.top:window.pageYOffset)}function P(t,e){const n=history.state?history.state.position-e:-1;return n+t}const F=new Map;function j(t,e){F.set(t,e)}function B(t){const e=F.get(t);return F.delete(t),e}let V=()=>location.protocol+"//"+location.host;function U(t,e){const{pathname:n,search:r,hash:i}=e,o=t.indexOf("#");if(o>-1){let e=i.includes(t.slice(o))?t.slice(o).length:1,n=i.slice(e);return"/"!==n[0]&&(n="/"+n),k(n,"")}const s=k(n,t);return s+r+i}function q(t,e,n,r){let i=[],o=[],s=null;const a=({state:o})=>{const a=U(t,location),u=n.value,c=e.value;let l=0;if(o){if(n.value=a,e.value=o,s&&s===u)return void(s=null);l=c?o.position-c.position:0}else r(a);i.forEach((t=>{t(n.value,u,{delta:l,type:I.pop,direction:l?l>0?A.forward:A.back:A.unknown})}))};function u(){s=n.value}function c(t){i.push(t);const e=()=>{const e=i.indexOf(t);e>-1&&i.splice(e,1)};return o.push(e),e}function l(){const{history:t}=window;t.state&&t.replaceState(d({},t.state,{scroll:R()}),"")}function h(){for(const t of o)t();o=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",l)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",l),{pauseListeners:u,listen:c,destroy:h}}function H(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?R():null}}function z(t){const{history:e,location:n}=window,r={value:U(t,n)},i={value:e.state};function o(r,o,s){const a=t.indexOf("#"),u=a>-1?(n.host&&document.querySelector("base")?t:t.slice(a))+r:V()+t+r;try{e[s?"replaceState":"pushState"](o,"",u),i.value=o}catch(c){console.error(c),n[s?"replace":"assign"](u)}}function s(t,n){const s=d({},e.state,H(i.value.back,t,i.value.forward,!0),n,{position:i.value.position});o(t,s,!0),r.value=t}function a(t,n){const s=d({},i.value,e.state,{forward:t,scroll:R()});o(s.current,s,!0);const a=d({},H(r.value,t,null),{position:s.position+1},n);o(t,a,!1),r.value=t}return i.value||o(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0),{location:r,state:i,push:a,replace:s}}function $(t){t=N(t);const e=z(t),n=q(t,e.state,e.location,e.replace);function r(t,e=!0){e||n.pauseListeners(),history.go(t)}const i=d({location:"",base:t,go:r,createHref:D.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function G(t){return"string"===typeof t||t&&"object"===typeof t}function W(t){return"string"===typeof t||"symbol"===typeof t}const K={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},J=s("nf");var X;(function(t){t[t["aborted"]=4]="aborted",t[t["cancelled"]=8]="cancelled",t[t["duplicated"]=16]="duplicated"})(X||(X={}));function Q(t,e){return d(new Error,{type:t,[J]:!0},e)}function Y(t,e){return t instanceof Error&&J in t&&(null==e||!!(t.type&e))}const Z="[^/]+?",tt={sensitive:!1,strict:!1,start:!0,end:!0},et=/[.+*?^${}()[\]/\\]/g;function nt(t,e){const n=d({},tt,e),r=[];let i=n.start?"^":"";const o=[];for(const l of t){const t=l.length?[]:[90];n.strict&&!l.length&&(i+="/");for(let e=0;e<l.length;e++){const r=l[e];let s=40+(n.sensitive?.25:0);if(0===r.type)e||(i+="/"),i+=r.value.replace(et,"\\$&"),s+=40;else if(1===r.type){const{value:t,repeatable:n,optional:a,regexp:u}=r;o.push({name:t,repeatable:n,optional:a});const h=u||Z;if(h!==Z){s+=10;try{new RegExp(`(${h})`)}catch(c){throw new Error(`Invalid custom RegExp for param "${t}" (${h}): `+c.message)}}let f=n?`((?:${h})(?:/(?:${h}))*)`:`(${h})`;e||(f=a&&l.length<2?`(?:/${f})`:"/"+f),a&&(f+="?"),i+=f,s+=20,a&&(s+=-8),n&&(s+=-20),".*"===h&&(s+=-50)}t.push(s)}r.push(t)}if(n.strict&&n.end){const t=r.length-1;r[t][r[t].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const s=new RegExp(i,n.sensitive?"":"i");function a(t){const e=t.match(s),n={};if(!e)return null;for(let r=1;r<e.length;r++){const t=e[r]||"",i=o[r-1];n[i.name]=t&&i.repeatable?t.split("/"):t}return n}function u(e){let n="",r=!1;for(const i of t){r&&n.endsWith("/")||(n+="/"),r=!1;for(const t of i)if(0===t.type)n+=t.value;else if(1===t.type){const{value:o,repeatable:s,optional:a}=t,u=o in e?e[o]:"";if(Array.isArray(u)&&!s)throw new Error(`Provided param "${o}" is an array but it is not repeatable (* or + modifiers)`);const c=Array.isArray(u)?u.join("/"):u;if(!c){if(!a)throw new Error(`Missing required param "${o}"`);i.length<2&&(n.endsWith("/")?n=n.slice(0,-1):r=!0)}n+=c}}return n}return{re:s,score:r,keys:o,parse:a,stringify:u}}function rt(t,e){let n=0;while(n<t.length&&n<e.length){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?1===t.length&&80===t[0]?-1:1:t.length>e.length?1===e.length&&80===e[0]?1:-1:0}function it(t,e){let n=0;const r=t.score,i=e.score;while(n<r.length&&n<i.length){const t=rt(r[n],i[n]);if(t)return t;n++}return i.length-r.length}const ot={type:0,value:""},st=/[a-zA-Z0-9_]/;function at(t){if(!t)return[[]];if("/"===t)return[[ot]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(t){throw new Error(`ERR (${n})/"${c}": ${t}`)}let n=0,r=n;const i=[];let o;function s(){o&&i.push(o),o=[]}let a,u=0,c="",l="";function h(){c&&(0===n?o.push({type:0,value:c}):1===n||2===n||3===n?(o.length>1&&("*"===a||"+"===a)&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:c,regexp:l,repeatable:"*"===a||"+"===a,optional:"*"===a||"?"===a})):e("Invalid state to consume buffer"),c="")}function f(){c+=a}while(u<t.length)if(a=t[u++],"\\"!==a||2===n)switch(n){case 0:"/"===a?(c&&h(),s()):":"===a?(h(),n=1):f();break;case 4:f(),n=r;break;case 1:"("===a?n=2:st.test(a)?f():(h(),n=0,"*"!==a&&"?"!==a&&"+"!==a&&u--);break;case 2:")"===a?"\\"==l[l.length-1]?l=l.slice(0,-1)+a:n=3:l+=a;break;case 3:h(),n=0,"*"!==a&&"?"!==a&&"+"!==a&&u--,l="";break;default:e("Unknown state");break}else r=n,n=4;return 2===n&&e(`Unfinished custom RegExp for param "${c}"`),h(),s(),i}function ut(t,e,n){const r=nt(at(t.path),n);const i=d(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf===!e.record.aliasOf&&e.children.push(i),i}function ct(t,e){const n=[],r=new Map;function i(t){return r.get(t)}function o(t,n,r){const i=!r,a=ht(t);a.aliasOf=r&&r.record;const c=mt(e,t),l=[a];if("alias"in t){const e="string"===typeof t.alias?[t.alias]:t.alias;for(const t of e)l.push(d({},a,{components:r?r.record.components:a.components,path:t,aliasOf:r?r.record:a}))}let h,f;for(const e of l){const{path:l}=e;if(n&&"/"!==l[0]){const t=n.record.path,r="/"===t[t.length-1]?"":"/";e.path=n.record.path+(l&&r+l)}if(h=ut(e,n,c),r?r.alias.push(h):(f=f||h,f!==h&&f.alias.push(h),i&&t.name&&!pt(h)&&s(t.name)),"children"in a){const t=a.children;for(let e=0;e<t.length;e++)o(t[e],h,r&&r.children[e])}r=r||h,u(h)}return f?()=>{s(f)}:v}function s(t){if(W(t)){const e=r.get(t);e&&(r.delete(t),n.splice(n.indexOf(e),1),e.children.forEach(s),e.alias.forEach(s))}else{const e=n.indexOf(t);e>-1&&(n.splice(e,1),t.record.name&&r.delete(t.record.name),t.children.forEach(s),t.alias.forEach(s))}}function a(){return n}function u(t){let e=0;while(e<n.length&&it(t,n[e])>=0&&(t.record.path!==n[e].record.path||!vt(t,n[e])))e++;n.splice(e,0,t),t.record.name&&!pt(t)&&r.set(t.record.name,t)}function c(t,e){let i,o,s,a={};if("name"in t&&t.name){if(i=r.get(t.name),!i)throw Q(1,{location:t});s=i.record.name,a=d(lt(e.params,i.keys.filter((t=>!t.optional)).map((t=>t.name))),t.params),o=i.stringify(a)}else if("path"in t)o=t.path,i=n.find((t=>t.re.test(o))),i&&(a=i.parse(o),s=i.record.name);else{if(i=e.name?r.get(e.name):n.find((t=>t.re.test(e.path))),!i)throw Q(1,{location:t,currentLocation:e});s=i.record.name,a=d({},e.params,t.params),o=i.stringify(a)}const u=[];let c=i;while(c)u.unshift(c.record),c=c.parent;return{name:s,path:o,params:a,matched:u,meta:dt(u)}}return e=mt({strict:!1,end:!0,sensitive:!1},e),t.forEach((t=>o(t))),{addRoute:o,resolve:c,removeRoute:s,getRoutes:a,getRecordMatcher:i}}function lt(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function ht(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:ft(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||{}:{default:t.component}}}function ft(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]="boolean"===typeof n?n:n[r];return e}function pt(t){while(t){if(t.record.aliasOf)return!0;t=t.parent}return!1}function dt(t){return t.reduce(((t,e)=>d(t,e.meta)),{})}function mt(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function vt(t,e){return e.children.some((e=>e===t||vt(t,e)))}const gt=/#/g,yt=/&/g,bt=/\//g,wt=/=/g,kt=/\?/g,_t=/\+/g,Tt=/%5B/g,Et=/%5D/g,Ct=/%5E/g,xt=/%60/g,St=/%7B/g,It=/%7C/g,At=/%7D/g,Nt=/%20/g;function Ot(t){return encodeURI(""+t).replace(It,"|").replace(Tt,"[").replace(Et,"]")}function Dt(t){return Ot(t).replace(St,"{").replace(At,"}").replace(Ct,"^")}function Mt(t){return Ot(t).replace(_t,"%2B").replace(Nt,"+").replace(gt,"%23").replace(yt,"%26").replace(xt,"`").replace(St,"{").replace(At,"}").replace(Ct,"^")}function Rt(t){return Mt(t).replace(wt,"%3D")}function Lt(t){return Ot(t).replace(gt,"%23").replace(kt,"%3F")}function Pt(t){return null==t?"":Lt(t).replace(bt,"%2F")}function Ft(t){try{return decodeURIComponent(""+t)}catch(e){}return""+t}function jt(t){const e={};if(""===t||"?"===t)return e;const n="?"===t[0],r=(n?t.slice(1):t).split("&");for(let i=0;i<r.length;++i){const t=r[i].replace(_t," "),n=t.indexOf("="),o=Ft(n<0?t:t.slice(0,n)),s=n<0?null:Ft(t.slice(n+1));if(o in e){let t=e[o];Array.isArray(t)||(t=e[o]=[t]),t.push(s)}else e[o]=s}return e}function Bt(t){let e="";for(let n in t){const r=t[n];if(n=Rt(n),null==r){void 0!==r&&(e+=(e.length?"&":"")+n);continue}const i=Array.isArray(r)?r.map((t=>t&&Mt(t))):[r&&Mt(r)];i.forEach((t=>{void 0!==t&&(e+=(e.length?"&":"")+n,null!=t&&(e+="="+t))}))}return e}function Vt(t){const e={};for(const n in t){const r=t[n];void 0!==r&&(e[n]=Array.isArray(r)?r.map((t=>null==t?null:""+t)):null==r?r:""+r)}return e}function Ut(){let t=[];function e(e){return t.push(e),()=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)}}function n(){t=[]}return{add:e,list:()=>t,reset:n}}function qt(t,e,n,r,i){const o=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise(((s,a)=>{const u=t=>{!1===t?a(Q(4,{from:n,to:e})):t instanceof Error?a(t):G(t)?a(Q(2,{from:e,to:t})):(o&&r.enterCallbacks[i]===o&&"function"===typeof t&&o.push(t),s())},c=t.call(r&&r.instances[i],e,n,u);let l=Promise.resolve(c);t.length<3&&(l=l.then(u)),l.catch((t=>a(t)))}))}function Ht(t,e,n,r){const i=[];for(const o of t)for(const t in o.components){let s=o.components[t];if("beforeRouteEnter"===e||o.instances[t])if(zt(s)){const a=s.__vccOpts||s,u=a[e];u&&i.push(qt(u,n,r,o,t))}else{let a=s();0,i.push((()=>a.then((i=>{if(!i)return Promise.reject(new Error(`Couldn't resolve component "${t}" at "${o.path}"`));const s=p(i)?i.default:i;o.components[t]=s;const a=s.__vccOpts||s,u=a[e];return u&&qt(u,n,r,o,t)()}))))}}return i}function zt(t){return"object"===typeof t||"displayName"in t||"props"in t||"__vccOpts"in t}function $t(t){const e=(0,r.f3)(c),n=(0,r.f3)(l),o=(0,r.Fl)((()=>e.resolve((0,i.SU)(t.to)))),s=(0,r.Fl)((()=>{const{matched:t}=o.value,{length:e}=t,r=t[e-1],i=n.matched;if(!r||!i.length)return-1;const s=i.findIndex(T.bind(null,r));if(s>-1)return s;const a=Xt(t[e-2]);return e>1&&Xt(r)===a&&i[i.length-1].path!==a?i.findIndex(T.bind(null,t[e-2])):s})),a=(0,r.Fl)((()=>s.value>-1&&Jt(n.params,o.value.params))),u=(0,r.Fl)((()=>s.value>-1&&s.value===n.matched.length-1&&E(n.params,o.value.params)));function h(n={}){return Kt(n)?e[(0,i.SU)(t.replace)?"replace":"push"]((0,i.SU)(t.to)).catch(v):Promise.resolve()}return{route:o,href:(0,r.Fl)((()=>o.value.href)),isActive:a,isExactActive:u,navigate:h}}const Gt=(0,r.aZ)({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:$t,setup(t,{slots:e}){const n=(0,i.qj)($t(t)),{options:o}=(0,r.f3)(c),s=(0,r.Fl)((()=>({[Qt(t.activeClass,o.linkActiveClass,"router-link-active")]:n.isActive,[Qt(t.exactActiveClass,o.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive})));return()=>{const i=e.default&&e.default(n);return t.custom?i:(0,r.h)("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},i)}}}),Wt=Gt;function Kt(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&(void 0===t.button||0===t.button)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Jt(t,e){for(const n in e){const r=e[n],i=t[n];if("string"===typeof r){if(r!==i)return!1}else if(!Array.isArray(i)||i.length!==r.length||r.some(((t,e)=>t!==i[e])))return!1}return!0}function Xt(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Qt=(t,e,n)=>null!=t?t:null!=e?e:n,Yt=(0,r.aZ)({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},setup(t,{attrs:e,slots:n}){const o=(0,r.f3)(h),s=(0,r.Fl)((()=>t.route||o.value)),c=(0,r.f3)(u,0),l=(0,r.Fl)((()=>s.value.matched[c]));(0,r.JJ)(u,c+1),(0,r.JJ)(a,l),(0,r.JJ)(h,s);const f=(0,i.iH)();return(0,r.YP)((()=>[f.value,l.value,t.name]),(([t,e,n],[r,i,o])=>{e&&(e.instances[n]=t,i&&i!==e&&t&&t===r&&(e.leaveGuards.size||(e.leaveGuards=i.leaveGuards),e.updateGuards.size||(e.updateGuards=i.updateGuards))),!t||!e||i&&T(e,i)&&r||(e.enterCallbacks[n]||[]).forEach((e=>e(t)))}),{flush:"post"}),()=>{const i=s.value,o=l.value,a=o&&o.components[t.name],u=t.name;if(!a)return Zt(n.default,{Component:a,route:i});const c=o.props[t.name],h=c?!0===c?i.params:"function"===typeof c?c(i):c:null,p=t=>{t.component.isUnmounted&&(o.instances[u]=null)},m=(0,r.h)(a,d({},h,e,{onVnodeUnmounted:p,ref:f}));return Zt(n.default,{Component:m,route:i})||m}}});function Zt(t,e){if(!t)return null;const n=t(e);return 1===n.length?n[0]:n}const te=Yt;function ee(t){const e=ct(t.routes,t),n=t.parseQuery||jt,o=t.stringifyQuery||Bt,s=t.history;const a=Ut(),u=Ut(),p=Ut(),g=(0,i.XI)(K);let y=K;f&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const k=m.bind(null,(t=>""+t)),T=m.bind(null,Pt),E=m.bind(null,Ft);function C(t,n){let r,i;return W(t)?(r=e.getRecordMatcher(t),i=n):i=t,e.addRoute(i,r)}function x(t){const n=e.getRecordMatcher(t);n&&e.removeRoute(n)}function S(){return e.getRoutes().map((t=>t.record))}function A(t){return!!e.getRecordMatcher(t)}function N(t,r){if(r=d({},r||g.value),"string"===typeof t){const i=b(n,t,r.path),o=e.resolve({path:i.path},r),a=s.createHref(i.fullPath);return d(i,o,{params:E(o.params),hash:Ft(i.hash),redirectedFrom:void 0,href:a})}let i;if("path"in t)i=d({},t,{path:b(n,t.path,r.path).path});else{const e=d({},t.params);for(const t in e)null==e[t]&&delete e[t];i=d({},t,{params:T(t.params)}),r.params=T(r.params)}const a=e.resolve(i,r),u=t.hash||"";a.params=k(E(a.params));const c=w(o,d({},t,{hash:Dt(u),path:a.path})),l=s.createHref(c);return d({fullPath:c,hash:u,query:o===Bt?Vt(t.query):t.query||{}},a,{redirectedFrom:void 0,href:l})}function O(t){return"string"===typeof t?b(n,t,g.value.path):d({},t)}function D(t,e){if(y!==t)return Q(8,{from:e,to:t})}function M(t){return U(t)}function F(t){return M(d(O(t),{replace:!0}))}function V(t){const e=t.matched[t.matched.length-1];if(e&&e.redirect){const{redirect:n}=e;let r="function"===typeof n?n(t):n;return"string"===typeof r&&(r=r.includes("?")||r.includes("#")?r=O(r):{path:r},r.params={}),d({query:t.query,hash:t.hash,params:t.params},r)}}function U(t,e){const n=y=N(t),r=g.value,i=t.state,s=t.force,a=!0===t.replace,u=V(n);if(u)return U(d(O(u),{state:i,force:s,replace:a}),e||n);const c=n;let l;return c.redirectedFrom=e,!s&&_(o,r,n)&&(l=Q(16,{to:c,from:r}),it(r,r,!0,!1)),(l?Promise.resolve(l):H(c,r)).catch((t=>Y(t)?Y(t,2)?t:rt(t):et(t,c,r))).then((t=>{if(t){if(Y(t,2))return U(d(O(t.to),{state:i,force:s,replace:a}),e||c)}else t=$(c,r,!0,a,i);return z(c,r,t),t}))}function q(t,e){const n=D(t,e);return n?Promise.reject(n):Promise.resolve()}function H(t,e){let n;const[r,i,o]=re(t,e);n=Ht(r.reverse(),"beforeRouteLeave",t,e);for(const a of r)a.leaveGuards.forEach((r=>{n.push(qt(r,t,e))}));const s=q.bind(null,t,e);return n.push(s),ne(n).then((()=>{n=[];for(const r of a.list())n.push(qt(r,t,e));return n.push(s),ne(n)})).then((()=>{n=Ht(i,"beforeRouteUpdate",t,e);for(const r of i)r.updateGuards.forEach((r=>{n.push(qt(r,t,e))}));return n.push(s),ne(n)})).then((()=>{n=[];for(const r of t.matched)if(r.beforeEnter&&!e.matched.includes(r))if(Array.isArray(r.beforeEnter))for(const i of r.beforeEnter)n.push(qt(i,t,e));else n.push(qt(r.beforeEnter,t,e));return n.push(s),ne(n)})).then((()=>(t.matched.forEach((t=>t.enterCallbacks={})),n=Ht(o,"beforeRouteEnter",t,e),n.push(s),ne(n)))).then((()=>{n=[];for(const r of u.list())n.push(qt(r,t,e));return n.push(s),ne(n)})).catch((t=>Y(t,8)?t:Promise.reject(t)))}function z(t,e,n){for(const r of p.list())r(t,e,n)}function $(t,e,n,r,i){const o=D(t,e);if(o)return o;const a=e===K,u=f?history.state:{};n&&(r||a?s.replace(t.fullPath,d({scroll:a&&u&&u.scroll},i)):s.push(t.fullPath,i)),g.value=t,it(t,e,n,a),rt()}let G;function J(){G=s.listen(((t,e,n)=>{const r=N(t),i=V(r);if(i)return void U(d(i,{replace:!0}),r).catch(v);y=r;const o=g.value;f&&j(P(o.fullPath,n.delta),R()),H(r,o).catch((t=>Y(t,12)?t:Y(t,2)?(U(t.to,r).then((t=>{Y(t,20)&&!n.delta&&n.type===I.pop&&s.go(-1,!1)})).catch(v),Promise.reject()):(n.delta&&s.go(-n.delta,!1),et(t,r,o)))).then((t=>{t=t||$(r,o,!1),t&&(n.delta?s.go(-n.delta,!1):n.type===I.pop&&Y(t,20)&&s.go(-1,!1)),z(r,o,t)})).catch(v)}))}let X,Z=Ut(),tt=Ut();function et(t,e,n){rt(t);const r=tt.list();return r.length?r.forEach((r=>r(t,e,n))):console.error(t),Promise.reject(t)}function nt(){return X&&g.value!==K?Promise.resolve():new Promise(((t,e)=>{Z.add([t,e])}))}function rt(t){return X||(X=!t,J(),Z.list().forEach((([e,n])=>t?n(t):e())),Z.reset()),t}function it(e,n,i,o){const{scrollBehavior:s}=t;if(!f||!s)return Promise.resolve();const a=!i&&B(P(e.fullPath,0))||(o||!i)&&history.state&&history.state.scroll||null;return(0,r.Y3)().then((()=>s(e,n,a))).then((t=>t&&L(t))).catch((t=>et(t,e,n)))}const ot=t=>s.go(t);let st;const at=new Set,ut={currentRoute:g,addRoute:C,removeRoute:x,hasRoute:A,getRoutes:S,resolve:N,options:t,push:M,replace:F,go:ot,back:()=>ot(-1),forward:()=>ot(1),beforeEach:a.add,beforeResolve:u.add,afterEach:p.add,onError:tt.add,isReady:nt,install(t){const e=this;t.component("RouterLink",Wt),t.component("RouterView",te),t.config.globalProperties.$router=e,Object.defineProperty(t.config.globalProperties,"$route",{enumerable:!0,get:()=>(0,i.SU)(g)}),f&&!st&&g.value===K&&(st=!0,M(s.location).catch((t=>{0})));const n={};for(const i in K)n[i]=(0,r.Fl)((()=>g.value[i]));t.provide(c,e),t.provide(l,(0,i.qj)(n)),t.provide(h,g);const o=t.unmount;at.add(t),t.unmount=function(){at.delete(t),at.size<1&&(y=K,G&&G(),g.value=K,st=!1,X=!1),o()}}};return ut}function ne(t){return t.reduce(((t,e)=>t.then((()=>e()))),Promise.resolve())}function re(t,e){const n=[],r=[],i=[],o=Math.max(e.matched.length,t.matched.length);for(let s=0;s<o;s++){const o=e.matched[s];o&&(t.matched.find((t=>T(t,o)))?r.push(o):n.push(o));const a=t.matched[s];a&&(e.matched.find((t=>T(t,a)))||i.push(a))}return[n,r,i]}},9749:function(t,e,n){"use strict";n.d(e,{MT:function(){return X}});n(1703);var r=n(3396),i=n(4870);function o(){return s().__VUE_DEVTOOLS_GLOBAL_HOOK__}function s(){return"undefined"!==typeof navigator&&"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{}}const a="function"===typeof Proxy,u="devtools-plugin:setup",c="plugin:settings:set";class l{constructor(t,e){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=t,this.hook=e;const n={};if(t.settings)for(const s in t.settings){const e=t.settings[s];n[s]=e.defaultValue}const r=`__vue-devtools-plugin-settings__${t.id}`;let i=Object.assign({},n);try{const t=localStorage.getItem(r),e=JSON.parse(t);Object.assign(i,e)}catch(o){}this.fallbacks={getSettings(){return i},setSettings(t){try{localStorage.setItem(r,JSON.stringify(t))}catch(o){}i=t}},e&&e.on(c,((t,e)=>{t===this.plugin.id&&this.fallbacks.setSettings(e)})),this.proxiedOn=new Proxy({},{get:(t,e)=>this.target?this.target.on[e]:(...t)=>{this.onQueue.push({method:e,args:t})}}),this.proxiedTarget=new Proxy({},{get:(t,e)=>this.target?this.target[e]:"on"===e?this.proxiedOn:Object.keys(this.fallbacks).includes(e)?(...t)=>(this.targetQueue.push({method:e,args:t,resolve:()=>{}}),this.fallbacks[e](...t)):(...t)=>new Promise((n=>{this.targetQueue.push({method:e,args:t,resolve:n})}))})}async setRealTarget(t){this.target=t;for(const e of this.onQueue)this.target.on[e.method](...e.args);for(const e of this.targetQueue)e.resolve(await this.target[e.method](...e.args))}}function h(t,e){const n=t,r=s(),i=o(),c=a&&n.enableEarlyProxy;if(!i||!r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__&&c){const t=c?new l(n,i):null,o=r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[];o.push({pluginDescriptor:n,setupFn:e,proxy:t}),t&&e(t.proxiedTarget)}else i.emit(u,t,e)}
/*!
 * vuex v4.0.2
 * (c) 2021 Evan You
 * @license MIT
 */
var f="store";function p(t,e){Object.keys(t).forEach((function(n){return e(t[n],n)}))}function d(t){return null!==t&&"object"===typeof t}function m(t){return t&&"function"===typeof t.then}function v(t,e){return function(){return t(e)}}function g(t,e,n){return e.indexOf(t)<0&&(n&&n.prepend?e.unshift(t):e.push(t)),function(){var n=e.indexOf(t);n>-1&&e.splice(n,1)}}function y(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var n=t.state;w(t,n,[],t._modules.root,!0),b(t,n,e)}function b(t,e,n){var r=t._state;t.getters={},t._makeLocalGettersCache=Object.create(null);var o=t._wrappedGetters,s={};p(o,(function(e,n){s[n]=v(e,t),Object.defineProperty(t.getters,n,{get:function(){return s[n]()},enumerable:!0})})),t._state=(0,i.qj)({data:e}),t.strict&&x(t),r&&n&&t._withCommit((function(){r.data=null}))}function w(t,e,n,r,i){var o=!n.length,s=t._modules.getNamespace(n);if(r.namespaced&&(t._modulesNamespaceMap[s],t._modulesNamespaceMap[s]=r),!o&&!i){var a=S(e,n.slice(0,-1)),u=n[n.length-1];t._withCommit((function(){a[u]=r.state}))}var c=r.context=k(t,s,n);r.forEachMutation((function(e,n){var r=s+n;T(t,r,e,c)})),r.forEachAction((function(e,n){var r=e.root?n:s+n,i=e.handler||e;E(t,r,i,c)})),r.forEachGetter((function(e,n){var r=s+n;C(t,r,e,c)})),r.forEachChild((function(r,o){w(t,e,n.concat(o),r,i)}))}function k(t,e,n){var r=""===e,i={dispatch:r?t.dispatch:function(n,r,i){var o=I(n,r,i),s=o.payload,a=o.options,u=o.type;return a&&a.root||(u=e+u),t.dispatch(u,s)},commit:r?t.commit:function(n,r,i){var o=I(n,r,i),s=o.payload,a=o.options,u=o.type;a&&a.root||(u=e+u),t.commit(u,s,a)}};return Object.defineProperties(i,{getters:{get:r?function(){return t.getters}:function(){return _(t,e)}},state:{get:function(){return S(t.state,n)}}}),i}function _(t,e){if(!t._makeLocalGettersCache[e]){var n={},r=e.length;Object.keys(t.getters).forEach((function(i){if(i.slice(0,r)===e){var o=i.slice(r);Object.defineProperty(n,o,{get:function(){return t.getters[i]},enumerable:!0})}})),t._makeLocalGettersCache[e]=n}return t._makeLocalGettersCache[e]}function T(t,e,n,r){var i=t._mutations[e]||(t._mutations[e]=[]);i.push((function(e){n.call(t,r.state,e)}))}function E(t,e,n,r){var i=t._actions[e]||(t._actions[e]=[]);i.push((function(e){var i=n.call(t,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:t.getters,rootState:t.state},e);return m(i)||(i=Promise.resolve(i)),t._devtoolHook?i.catch((function(e){throw t._devtoolHook.emit("vuex:error",e),e})):i}))}function C(t,e,n,r){t._wrappedGetters[e]||(t._wrappedGetters[e]=function(t){return n(r.state,r.getters,t.state,t.getters)})}function x(t){(0,r.YP)((function(){return t._state.data}),(function(){0}),{deep:!0,flush:"sync"})}function S(t,e){return e.reduce((function(t,e){return t[e]}),t)}function I(t,e,n){return d(t)&&t.type&&(n=e,e=t,t=t.type),{type:t,payload:e,options:n}}var A="vuex bindings",N="vuex:mutations",O="vuex:actions",D="vuex",M=0;function R(t,e){h({id:"org.vuejs.vuex",app:t,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[A]},(function(n){n.addTimelineLayer({id:N,label:"Vuex Mutations",color:L}),n.addTimelineLayer({id:O,label:"Vuex Actions",color:L}),n.addInspector({id:D,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree((function(n){if(n.app===t&&n.inspectorId===D)if(n.filter){var r=[];U(r,e._modules.root,n.filter,""),n.rootNodes=r}else n.rootNodes=[V(e._modules.root,"")]})),n.on.getInspectorState((function(n){if(n.app===t&&n.inspectorId===D){var r=n.nodeId;_(e,r),n.state=q(z(e._modules,r),"root"===r?e.getters:e._makeLocalGettersCache,r)}})),n.on.editInspectorState((function(n){if(n.app===t&&n.inspectorId===D){var r=n.nodeId,i=n.path;"root"!==r&&(i=r.split("/").filter(Boolean).concat(i)),e._withCommit((function(){n.set(e._state.data,i,n.state.value)}))}})),e.subscribe((function(t,e){var r={};t.payload&&(r.payload=t.payload),r.state=e,n.notifyComponentUpdate(),n.sendInspectorTree(D),n.sendInspectorState(D),n.addTimelineEvent({layerId:N,event:{time:Date.now(),title:t.type,data:r}})})),e.subscribeAction({before:function(t,e){var r={};t.payload&&(r.payload=t.payload),t._id=M++,t._time=Date.now(),r.state=e,n.addTimelineEvent({layerId:O,event:{time:t._time,title:t.type,groupId:t._id,subtitle:"start",data:r}})},after:function(t,e){var r={},i=Date.now()-t._time;r.duration={_custom:{type:"duration",display:i+"ms",tooltip:"Action duration",value:i}},t.payload&&(r.payload=t.payload),r.state=e,n.addTimelineEvent({layerId:O,event:{time:Date.now(),title:t.type,groupId:t._id,subtitle:"end",data:r}})}})}))}var L=8702998,P=6710886,F=16777215,j={label:"namespaced",textColor:F,backgroundColor:P};function B(t){return t&&"root"!==t?t.split("/").slice(-2,-1)[0]:"Root"}function V(t,e){return{id:e||"root",label:B(e),tags:t.namespaced?[j]:[],children:Object.keys(t._children).map((function(n){return V(t._children[n],e+n+"/")}))}}function U(t,e,n,r){r.includes(n)&&t.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:e.namespaced?[j]:[]}),Object.keys(e._children).forEach((function(i){U(t,e._children[i],n,r+i+"/")}))}function q(t,e,n){e="root"===n?e:e[n];var r=Object.keys(e),i={state:Object.keys(t.state).map((function(e){return{key:e,editable:!0,value:t.state[e]}}))};if(r.length){var o=H(e);i.getters=Object.keys(o).map((function(t){return{key:t.endsWith("/")?B(t):t,editable:!1,value:$((function(){return o[t]}))}}))}return i}function H(t){var e={};return Object.keys(t).forEach((function(n){var r=n.split("/");if(r.length>1){var i=e,o=r.pop();r.forEach((function(t){i[t]||(i[t]={_custom:{value:{},display:t,tooltip:"Module",abstract:!0}}),i=i[t]._custom.value})),i[o]=$((function(){return t[n]}))}else e[n]=$((function(){return t[n]}))})),e}function z(t,e){var n=e.split("/").filter((function(t){return t}));return n.reduce((function(t,r,i){var o=t[r];if(!o)throw new Error('Missing module "'+r+'" for path "'+e+'".');return i===n.length-1?o:o._children}),"root"===e?t:t.root._children)}function $(t){try{return t()}catch(e){return e}}var G=function(t,e){this.runtime=e,this._children=Object.create(null),this._rawModule=t;var n=t.state;this.state=("function"===typeof n?n():n)||{}},W={namespaced:{configurable:!0}};W.namespaced.get=function(){return!!this._rawModule.namespaced},G.prototype.addChild=function(t,e){this._children[t]=e},G.prototype.removeChild=function(t){delete this._children[t]},G.prototype.getChild=function(t){return this._children[t]},G.prototype.hasChild=function(t){return t in this._children},G.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)},G.prototype.forEachChild=function(t){p(this._children,t)},G.prototype.forEachGetter=function(t){this._rawModule.getters&&p(this._rawModule.getters,t)},G.prototype.forEachAction=function(t){this._rawModule.actions&&p(this._rawModule.actions,t)},G.prototype.forEachMutation=function(t){this._rawModule.mutations&&p(this._rawModule.mutations,t)},Object.defineProperties(G.prototype,W);var K=function(t){this.register([],t,!1)};function J(t,e,n){if(e.update(n),n.modules)for(var r in n.modules){if(!e.getChild(r))return void 0;J(t.concat(r),e.getChild(r),n.modules[r])}}K.prototype.get=function(t){return t.reduce((function(t,e){return t.getChild(e)}),this.root)},K.prototype.getNamespace=function(t){var e=this.root;return t.reduce((function(t,n){return e=e.getChild(n),t+(e.namespaced?n+"/":"")}),"")},K.prototype.update=function(t){J([],this.root,t)},K.prototype.register=function(t,e,n){var r=this;void 0===n&&(n=!0);var i=new G(e,n);if(0===t.length)this.root=i;else{var o=this.get(t.slice(0,-1));o.addChild(t[t.length-1],i)}e.modules&&p(e.modules,(function(e,i){r.register(t.concat(i),e,n)}))},K.prototype.unregister=function(t){var e=this.get(t.slice(0,-1)),n=t[t.length-1],r=e.getChild(n);r&&r.runtime&&e.removeChild(n)},K.prototype.isRegistered=function(t){var e=this.get(t.slice(0,-1)),n=t[t.length-1];return!!e&&e.hasChild(n)};function X(t){return new Q(t)}var Q=function(t){var e=this;void 0===t&&(t={});var n=t.plugins;void 0===n&&(n=[]);var r=t.strict;void 0===r&&(r=!1);var i=t.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new K(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._devtools=i;var o=this,s=this,a=s.dispatch,u=s.commit;this.dispatch=function(t,e){return a.call(o,t,e)},this.commit=function(t,e,n){return u.call(o,t,e,n)},this.strict=r;var c=this._modules.root.state;w(this,c,[],this._modules.root),b(this,c),n.forEach((function(t){return t(e)}))},Y={state:{configurable:!0}};Q.prototype.install=function(t,e){t.provide(e||f,this),t.config.globalProperties.$store=this;var n=void 0!==this._devtools&&this._devtools;n&&R(t,this)},Y.state.get=function(){return this._state.data},Y.state.set=function(t){0},Q.prototype.commit=function(t,e,n){var r=this,i=I(t,e,n),o=i.type,s=i.payload,a=(i.options,{type:o,payload:s}),u=this._mutations[o];u&&(this._withCommit((function(){u.forEach((function(t){t(s)}))})),this._subscribers.slice().forEach((function(t){return t(a,r.state)})))},Q.prototype.dispatch=function(t,e){var n=this,r=I(t,e),i=r.type,o=r.payload,s={type:i,payload:o},a=this._actions[i];if(a){try{this._actionSubscribers.slice().filter((function(t){return t.before})).forEach((function(t){return t.before(s,n.state)}))}catch(c){0}var u=a.length>1?Promise.all(a.map((function(t){return t(o)}))):a[0](o);return new Promise((function(t,e){u.then((function(e){try{n._actionSubscribers.filter((function(t){return t.after})).forEach((function(t){return t.after(s,n.state)}))}catch(c){0}t(e)}),(function(t){try{n._actionSubscribers.filter((function(t){return t.error})).forEach((function(e){return e.error(s,n.state,t)}))}catch(c){0}e(t)}))}))}},Q.prototype.subscribe=function(t,e){return g(t,this._subscribers,e)},Q.prototype.subscribeAction=function(t,e){var n="function"===typeof t?{before:t}:t;return g(n,this._actionSubscribers,e)},Q.prototype.watch=function(t,e,n){var i=this;return(0,r.YP)((function(){return t(i.state,i.getters)}),e,Object.assign({},n))},Q.prototype.replaceState=function(t){var e=this;this._withCommit((function(){e._state.data=t}))},Q.prototype.registerModule=function(t,e,n){void 0===n&&(n={}),"string"===typeof t&&(t=[t]),this._modules.register(t,e),w(this,this.state,t,this._modules.get(t),n.preserveState),b(this,this.state)},Q.prototype.unregisterModule=function(t){var e=this;"string"===typeof t&&(t=[t]),this._modules.unregister(t),this._withCommit((function(){var n=S(e.state,t.slice(0,-1));delete n[t[t.length-1]]})),y(this)},Q.prototype.hasModule=function(t){return"string"===typeof t&&(t=[t]),this._modules.isRegistered(t)},Q.prototype.hotUpdate=function(t){this._modules.update(t),y(this,!0)},Q.prototype._withCommit=function(t){var e=this._committing;this._committing=!0,t(),this._committing=e},Object.defineProperties(Q.prototype,Y);et((function(t,e){var n={};return Z(e).forEach((function(e){var r=e.key,i=e.val;n[r]=function(){var e=this.$store.state,n=this.$store.getters;if(t){var r=nt(this.$store,"mapState",t);if(!r)return;e=r.context.state,n=r.context.getters}return"function"===typeof i?i.call(this,e,n):e[i]},n[r].vuex=!0})),n})),et((function(t,e){var n={};return Z(e).forEach((function(e){var r=e.key,i=e.val;n[r]=function(){var e=[],n=arguments.length;while(n--)e[n]=arguments[n];var r=this.$store.commit;if(t){var o=nt(this.$store,"mapMutations",t);if(!o)return;r=o.context.commit}return"function"===typeof i?i.apply(this,[r].concat(e)):r.apply(this.$store,[i].concat(e))}})),n})),et((function(t,e){var n={};return Z(e).forEach((function(e){var r=e.key,i=e.val;i=t+i,n[r]=function(){if(!t||nt(this.$store,"mapGetters",t))return this.$store.getters[i]},n[r].vuex=!0})),n})),et((function(t,e){var n={};return Z(e).forEach((function(e){var r=e.key,i=e.val;n[r]=function(){var e=[],n=arguments.length;while(n--)e[n]=arguments[n];var r=this.$store.dispatch;if(t){var o=nt(this.$store,"mapActions",t);if(!o)return;r=o.context.dispatch}return"function"===typeof i?i.apply(this,[r].concat(e)):r.apply(this.$store,[i].concat(e))}})),n}));function Z(t){return tt(t)?Array.isArray(t)?t.map((function(t){return{key:t,val:t}})):Object.keys(t).map((function(e){return{key:e,val:t[e]}})):[]}function tt(t){return Array.isArray(t)||d(t)}function et(t){return function(e,n){return"string"!==typeof e?(n=e,e=""):"/"!==e.charAt(e.length-1)&&(e+="/"),t(e,n)}}function nt(t,e,n){var r=t._modulesNamespaceMap[n];return r}}}]);
//# sourceMappingURL=chunk-vendors.38a1e0b9.js.map